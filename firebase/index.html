<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Firebase</h2><aside><nav class="toc"><ol><li><a href="#pricing">Pricing</a></li><li><a href="#creating-a-new-database">Creating a New Database</a></li><li><a href="#firestore-database">Firestore Database</a></li><li><a href="#realtime-database">Realtime Database</a></li><li><a href="#using-in-a-web-app">Using in a Web App</a></li><li><a href="#swift-details">Swift Details</a></li><li><a href="#svelte-demo">Svelte Demo</a></li></ol></nav></aside><article><p><a href="https://firebase.google.com?v=1.0.19" rel="noopener" target="_blank">Firebase</a> is a suite of products from Google, primarily known for providing a cloud-based database.</p><p>Services provided include (alphabetical):</p><ul><li>A/B Testing</li><li>App Distribution</li><li>Authentication</li><li>Cloud Firestore (newest type of database)</li><li>Cloud Functions</li><li>Cloud Messaging</li><li>Cloud Storage</li><li>Crashlytics</li><li>Dynamic Links</li><li>Google Analytics</li><li>Hosting</li><li>In-App Messaging</li><li>Machine Learning</li><li>Performance Monitoring</li><li>Realtime Database (original type of database)</li><li>Remote Config</li><li>Test Lab</li></ul><p>Features that the Realtime Database and Cloud Firestore have in common include:</p><ul><li>NoSQL database that stores JSON</li><li>hosted by Google in the cloud</li><li>data syncs across multiple clients in near realtime</li><li>data remains available when clients go offline</li></ul><p>For details on the differences and cost of each option, see <a href="https://firebase.google.com/docs/firestore/rtdb-vs-firestore?v=1.0.19" rel="noopener" target="_blank">Choose a databsase</a>.</p><p>TODO: Can data be modified when offline and re-synced when back online?</p><h2 id="pricing">Pricing</h2><p>For details, see the <a href="https://firebase.google.com/pricing?v=1.0.19" rel="noopener" target="_blank">Pricing</a> page. There are two pricing plans, &quot;Spark&quot; and &quot;Blaze&quot;.</p><p>The Realtime Database only charges for bandwidth and storage and does so at a higher rate thatn Cloud Firestore. Is there are minimum cost of $5/month?</p><p>The Cloud Firestore database charges for read, write, and delete operations performed. It is free for small usages. Daily spending limits can be enforced.</p><h2 id="creating-a-new-database">Creating a New Database</h2><ol><li>browse <a href="http://firebase.google.com">firebase.google.com</a></li><li>click the &quot;Get Started&quot; button</li><li>login with your Google account</li><li>click &quot;Add project&quot;</li><li>enter a project name</li><li>check &quot;I accept the Firebase terms&quot;</li><li>click &quot;Continue&quot;</li><li>optionally disable &quot;Enable Google Analytics for this project&quot;</li><li>if enabled, click &quot;Continue&quot;</li><li>if enabled, check &quot;I accept the Google Analytics terms&quot;</li><li>click &quot;Create project&quot;</li><li>wait about 30 seconds for the project to be created</li><li>click &quot;Continue&quot;</li></ol><p>There are two types of databases to choose between, &quot;Cloud Firestore&quot; (new) and &quot;Realtime Database&quot; (original).</p><h2 id="firestore-database">Firestore Database</h2><ol><li>in the left nav, click &quot;Firestore Database&quot;</li><li>click &quot;Create Database&quot;</li><li>select a mode radio button (production or test)</li><li>click &quot;Next&quot;</li><li>select a location (ex. &quot;us-central&quot;) and click &quot;Enable&quot;</li><li>wait for provisioning to complete</li></ol><h2 id="realtime-database">Realtime Database</h2><ol><li>in the left nav, click &quot;Realtime Database&quot;</li><li>click &quot;Create Database&quot;</li><li>select a location (ex. &quot;United States&quot;) and click &quot;Next&quot;</li><li>select the &quot;Start in locked mode&quot; radio button for secured data access</li><li>click &quot;Enable&quot;</li><li>optionally add data to the database tree in the web UI, up to 32 levels deep</li></ol><p>Retrieving a node also retrieves all the nodes below it. Read/write restrictions on a node also apply to all nodes below it.</p><h2 id="using-in-a-web-app">Using in a Web App</h2><ol><li>Open a terminal</li><li>cd to the top project directory</li><li>Enter <code>npm install firebase</code></li><li>In a web browser, navigate to the Firebase project.</li><li>In the left nav., click the gear icon after &quot;Project Overview&quot;.</li><li>Click &quot;Project settings&quot;.</li><li>Click the &quot;General&quot; tab.</li><li>Scroll down to the &quot;Your apps&quot; section</li><li>Click an app type: iOS, Android, web, or Unity.</li><li>If web is selected<ul><li>Enter an &quot;App nickname&quot;.</li><li>Click the &quot;Register app&quot; button.</li><li>Select the &quot;Use npm&quot; radio button.</li><li>Follow the instructions that are displayed.</li><li>Move the line that sets <code>firebaseConfig</code> to <code>src/secrets.js</code> and add <code>export</code> in front of it.</li><li>Add <code>src/secrets.js</code> to <code>.gitignore</code></li><li>Import <code>firebaseConfig</code> from <code>secrets.js</code> in the file where <code>initializeApp</code> is called.</li><li>Back in the web browser, click &quot;Continue to console&quot;.</li></ul></li></ol><ul><li>enter an app nickname</li><li>check the &quot;Also set up Firebase Hosting for this app&quot; checkbox</li><li>click &quot;Register app&quot;</li><li>copy the JavaScript code needed to configure the use of Firebase and paste it into the web app</li><li>import {initializeApp} from ‘firebase/app’;</li><li>import {getDatabase, onValue, ref, set} from ‘firebase/database’;</li><li><code>const firebaseConfig = {…}</code>;</li><li><code>const app = initializeApp(firebaseConfig);</code></li><li><code>const db = getDatabase();</code> // can call multiple times; returns same object</li><li><code>const userRef = ref(db, '/users/' + userId);</code></li><li><code>set(userRef, userObject);</code> // replaces node if one already exists at the path</li><li><code>const emailRef = ref(db, '/users/${userId}/email')</code>;</li><li>// The onValue callback is called initially and again every time the value changes.</li><li>// Does this use a WebSocket?</li><li><code>onValue(emailRef, snapshot =&gt; {</code></li><li><code>const email = snapshot.val();</code></li><li>// Display the email.</li><li><code>});</code></li></ul><p>How can you delete a node and all its descendants?</p><p>To watch a list of nodes with a common parent node …</p><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> parentRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> parentPath<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">onValue</span><span class="token punctuation">(</span><br>  parentRef<span class="token punctuation">,</span><br>  <span class="token parameter">snapshot</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    snapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">childSnapshot</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> childKey <span class="token operator">=</span> childSnapshot<span class="token punctuation">.</span>key<span class="token punctuation">;</span><br>      <span class="token keyword">const</span> childValue <span class="token operator">=</span> childSnapshot<span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token comment">// Do something with child value.</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span>onlyOnce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">// Does this mean we aren’t watching for changes?</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Rather than watching for any changes to the children of a parent node, we can listen for specific events.</p><p><code>onChildAdded(parentRef, data =&gt; { … });</code></p><ul><li>triggered once for each existing child and again every time a new child is added</li></ul><p><code>onChildChanged(parentRef, data =&gt; { … });</code></p><p><code>onChildRemoved(parentRef, data =&gt; { … });</code></p><p>There are web framework specific libraries for Firebase including AngularFire, ReactFire, SvelteFire, and VueFire.</p><h2 id="swift-details">Swift Details</h2><ul><li>create a Swift project in Xcode</li><li>when creating a Firebase project, paste in the bundle id from the Xcode project</li><li>download the Firebase configuration GoogleService-Info.plist</li><li>to install the Firebase SDK in the Swift project<ul><li>cd to the top project directory</li><li>if not already installed, install Cocoapods - sudo gem install cocoapods</li><li>enter &quot;pod init&quot; to create the file &quot;Podfile&quot; (similar to the Node.js package.json file)</li><li>see available pods at <a href="https://firebase.google.com/docs/ios/setup#available-pods">https://firebase.google.com/docs/ios/setup#available-pods</a></li><li>edit &quot;Podfile&quot; and add &quot;‘pod ‘Firebase/Database’&quot; or &quot;pod ‘Firebase/‘&quot;</li><li>if running on an M1 Mac</li><li>… in Finder, locate Terminal under Applications/Utilities</li><li>… right-click and select &quot;Get Info&quot;</li><li>… check the checkbox for &quot;Open using Rosetta&quot;</li><li>… if Terminal is running, quit out of it</li><li>… open Terminal</li><li>… enter &quot;sudo gem install ffi&quot;</li><li>… enter &quot;sudo gem install cocoapods&quot;</li><li>… quit out of Terminal</li><li>… undo the change to open using Rosetta</li><li>enter &quot;pod install&quot; which creates a &quot;{project-name}.xcworkspace&quot; file</li><li>open the project in Xcode by double-clicking the .xcworkspace file instead of the .xcodeproj file in order to have access to all the installed pods</li><li>edit {project-name}App.swift</li><li>add &quot;import Firebase&quot;</li><li>inside the App class, add &quot;init() { Firebase.configure() }&quot;</li></ul></li></ul><p>Firestore Database</p><p>two main record types, collections and documents</p><h2 id="svelte-demo">Svelte Demo</h2><p>The following code is from a Svelte component. It listens for documents in a collection named &quot;Residents&quot;. It supports adding, updating, and deleting the documents in this collection.</p><p><img alt="Firestore in Svelte" style="width: 50%" src="/blog/assets/firestore-svelte.png?v=1.0.19" title="Firestore in Svelte"></p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>  <span class="token keyword">import</span> <span class="token punctuation">{</span>initializeApp<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'firebase/app'</span><span class="token punctuation">;</span><br>  <span class="token keyword">import</span> <span class="token punctuation">{</span><br>    addDoc<span class="token punctuation">,</span><br>    collection<span class="token punctuation">,</span><br>    deleteDoc<span class="token punctuation">,</span><br>    doc<span class="token punctuation">,</span><br>    getDocs<span class="token punctuation">,</span><br>    getFirestore<span class="token punctuation">,</span><br>    onSnapshot<span class="token punctuation">,</span><br>    query<span class="token punctuation">,</span><br>    updateDoc<span class="token punctuation">,</span><br>    where<br>  <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'firebase/firestore'</span><span class="token punctuation">;</span><br>  <span class="token keyword">import</span> <span class="token punctuation">{</span>onDestroy<span class="token punctuation">,</span> onMount<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span><br>  <span class="token keyword">import</span> <span class="token punctuation">{</span>firebaseConfig<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../secrets'</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> editing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> residents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">initializeApp</span><span class="token punctuation">(</span>firebaseConfig<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token function">getFirestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">let</span> firstName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> lastName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> residentId<span class="token punctuation">;</span><br>  <span class="token keyword">let</span> unsubscribeOne<span class="token punctuation">;</span><br>  <span class="token keyword">let</span> unsubscribeAll<span class="token punctuation">;</span><br><br>  $<span class="token operator">:</span> canAdd <span class="token operator">=</span> firstName <span class="token operator">&amp;&amp;</span> lastName<span class="token punctuation">;</span><br><br>  <span class="token function">onMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// Listen for changes to a specific document.</span><br>    <span class="token keyword">const</span> markId <span class="token operator">=</span> <span class="token string">'b9uoh8LOTN5wPFiPuth9'</span><span class="token punctuation">;</span><br>    unsubscribeOne <span class="token operator">=</span> <span class="token function">onSnapshot</span><span class="token punctuation">(</span><span class="token function">doc</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">,</span> markId<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">doc</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'resident data: '</span><span class="token punctuation">,</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Listen for changes to any documents in a collection.</span><br>    <span class="token keyword">const</span> q <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//, where('state', '==', 'CA'));</span><br>    unsubscribeAll <span class="token operator">=</span> <span class="token function">onSnapshot</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token parameter">snapshot</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      residents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      snapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        residents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> doc<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token operator">...</span>doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>unsubscribeOne<span class="token punctuation">)</span> <span class="token function">unsubscribeOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>unsubscribeAll<span class="token punctuation">)</span> <span class="token function">unsubscribeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">deleteResident</span><span class="token punctuation">(</span><span class="token parameter">resident</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> docRef <span class="token operator">=</span> <span class="token function">doc</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">,</span> resident<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">deleteDoc</span><span class="token punctuation">(</span>docRef<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">function</span> <span class="token function">editResident</span><span class="token punctuation">(</span><span class="token parameter">resident</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    residentId <span class="token operator">=</span> resident<span class="token punctuation">.</span>id<span class="token punctuation">;</span><br>    firstName <span class="token operator">=</span> resident<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span><br>    lastName <span class="token operator">=</span> resident<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span><br>    editing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">saveResident</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>editing<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> docRef <span class="token operator">=</span> <span class="token function">doc</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">,</span> residentId<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> <span class="token function">updateDoc</span><span class="token punctuation">(</span>docRef<span class="token punctuation">,</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> colRef <span class="token operator">=</span> <span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> <span class="token function">addDoc</span><span class="token punctuation">(</span>colRef<span class="token punctuation">,</span> <span class="token punctuation">{</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    firstName <span class="token operator">=</span> lastName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>    editing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// One-time fetch instead of listening.</span><br>  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getResidents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> snapshot <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDocs</span><span class="token punctuation">(</span><span class="token function">collection</span><span class="token punctuation">(</span>db<span class="token punctuation">,</span> <span class="token string">'residents'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    snapshot<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=></span> residents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    residents <span class="token operator">=</span> residents<span class="token punctuation">;</span> <span class="token comment">// trigger reactivity</span><br>  <span class="token punctuation">}</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Health Web App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">on:</span>submit|preventDefault</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{saveResident}</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><br>    First Name <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{firstName}</span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span><br>    Last Name <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{lastName}</span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{!canAdd}</span><span class="token punctuation">></span></span><br>    {editing ? 'Update' : 'Add'} Resident<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>First Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Last Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Actions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span><br>    {#each residents as resident}<br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{resident.firstName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>{resident.lastName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><br>          &lt;button on:click={() => editResident(resident)} title="Edit"><br>            ✎<br>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>          &lt;button on:click={() => deleteResident(resident)} title="Delete"><br>            🗑<br>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><br>    {/each}<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br>  <span class="token selector">form > *</span> <span class="token punctuation">{</span><br>    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">input</span> <span class="token punctuation">{</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid lightgray<span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">label</span> <span class="token punctuation">{</span><br>    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">table</span> <span class="token punctuation">{</span><br>    <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">td,<br>  th</span> <span class="token punctuation">{</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid lightgray<span class="token punctuation">;</span><br>    <span class="token property">padding</span><span class="token punctuation">:</span> 0.5rem<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">td > button</span> <span class="token punctuation">{</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre></article>