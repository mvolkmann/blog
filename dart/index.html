<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Dart</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#editors">Editors</a></li><li><a href="#pub.dev">pub.dev</a></li><li><a href="#creating-and-running-programs">Creating and Running Programs</a></li><li><a href="#dart-sdk">Dart SDK</a></li><li><a href="#keywords">Keywords</a></li><li><a href="#comments">Comments</a></li><li><a href="#variables">Variables</a></li><li><a href="#immutability-with-const-and-final">Immutability with const and final</a></li><li><a href="#importing-packages">Importing packages</a></li><li><a href="#types">Types</a><ol><li><a href="#bool-type">bool type</a></li><li><a href="#number-types">Number types</a><ol><li><a href="#num-class">num Class</a></li><li><a href="#int-class">int Class</a></li><li><a href="#double-class">double Class</a></li><li><a href="#math-package">math Package</a></li></ol></li><li><a href="#string-class">String Class</a></li><li><a href="#enumerations">Enumerations</a></li><li><a href="#type-aliases">Type Aliases</a></li></ol></li><li><a href="#type-casts">Type Casts</a></li><li><a href="#generic-types">Generic Types</a></li><li><a href="#collection-types">Collection Types</a><ol><li><a href="#iterable">Iterable</a></li><li><a href="#list-class">List Class</a></li><li><a href="#set-class">Set Class</a></li><li><a href="#map-class">Map Class</a></li></ol></li><li><a href="#print">Print</a></li><li><a href="#additional-core-classes">Additional Core Classes</a><ol><li><a href="#datetime-class">DateTime class</a></li><li><a href="#duration-class">Duration class</a></li><li><a href="#regular-expressions">Regular Expressions</a></li><li><a href="#stopwatch-class">Stopwatch Class</a></li><li><a href="#stringbuffer-class">StringBuffer Class</a></li><li><a href="#timer-class">Timer class</a></li><li><a href="#uri-class">Uri Class</a></li></ol></li><li><a href="#spread-operators">Spread Operators</a></li><li><a href="#nullable-values">Nullable Values</a></li><li><a href="#functions">Functions</a></li><li><a href="#generator-functions">Generator Functions</a></li><li><a href="#conditional-logic">Conditional Logic</a></li><li><a href="#iteration">Iteration</a></li><li><a href="#exception-handling">Exception Handling</a></li><li><a href="#access-specifiers">Access Specifiers</a></li><li><a href="#classes">Classes</a><ol><li><a href="#constructors">Constructors</a></li><li><a href="#getters-and-setters">Getters and Setters</a></li><li><a href="#initializer-lists">Initializer Lists</a></li><li><a href="#named-constructors">Named Constructors</a></li><li><a href="#instance-methods">Instance Methods</a></li><li><a href="#class-methods">Class Methods</a></li><li><a href="#operators">Operators</a></li><li><a href="#factory-constructors">Factory Constructors</a></li><li><a href="#inheritance">Inheritance</a></li><li><a href="#abstract-classes-(interfaces)">Abstract Classes (Interfaces)</a></li><li><a href="#mixins">Mixins</a></li><li><a href="#extensions">Extensions</a></li></ol></li><li><a href="#object-class">Object Class</a></li><li><a href="#invocation-class">Invocation Class</a></li><li><a href="#nosuchmethod-method">noSuchMethod Method</a></li><li><a href="#cascade-operator">Cascade Operator</a></li><li><a href="#libraries">Libraries</a><ol><li><a href="#import-statement">import Statement</a></li><li><a href="#libraries-defined-by-multiple-files">Libraries Defined By Multiple Files</a><ol><li><a href="#export-statement">export Statement</a></li><li><a href="#part-and-part-of-statements">part and part of Statements</a></li></ol></li></ol></li><li><a href="#file-i%2Fo">File I/O</a></li><li><a href="#asynchronous-programming">Asynchronous Programming</a><ol><li><a href="#futures">Futures</a></li><li><a href="#event-loop">Event Loop</a></li><li><a href="#streams">Streams</a></li><li><a href="#isolates">Isolates</a></li></ol></li><li><a href="#tooling">Tooling</a><ol><li><a href="#code-formatting">Code Formatting</a></li><li><a href="#compiling">Compiling</a></li><li><a href="#testing">Testing</a></li></ol></li><li><a href="#annoyances">Annoyances</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><img alt="Dart logo" style="width: 40%" src="/blog/assets/Dart-logo.png?v=1.0.18" title="Dart logo"></p><p><a href="https://dart.dev?v=1.0.18" rel="noopener" target="_blank">Dart</a> is a general purpose, strongly typed, programming language from Google. It has a &quot;sound type system&quot; which means it can never be in an unknown state. Dart was first announced in October, 2012.</p><p>The original goal of Dart was to be an alternative to JavaScript for running code in web browsers. The Chrome browser planned to include a Dart VM for this purpose, but that plan has been abandoned in favor of compiling to JavaScript.</p><p>Currently Dart is primarily used by the <a href="https://flutter.dev?v=1.0.18" rel="noopener" target="_blank">Flutter</a> framework for building mobile, web, and desktop applications.</p><p>The syntax of Dart is somewhat similar to Java. Statements are terminated by semi-colons. Parentheses surround conditions. Curly braces surround blocks of code. Indentation is typically two spaces.</p><p>Dart supports operator overloading to define the meaning of operators when applied to instances of custom classes.</p><h2 id="resources">Resources</h2><ul><li><a href="https://dart.dev?v=1.0.18" rel="noopener" target="_blank">Dart home page</a></li><li><a href="https://dart.dev/guides/language/spec?v=1.0.18" rel="noopener" target="_blank">Dart Language Specification</a></li><li><a href="https://dart.dev/guides/language/effective-dart?v=1.0.18" rel="noopener" target="_blank">Effective Dart</a> - tips to &quot;write consistent, robust, and fast code&quot;</li><li><a href="https://www.youtube.com/watch?v=F3JuuYuOUK4?v=1.0.18" rel="noopener" target="_blank">Dart Complete Course</a> - on Youtube by Flutterly/WCKD</li><li><a href="https://dartpad.dev/?v=1.0.18" rel="noopener" target="_blank">DartPad</a> - web-based editor for experimenting with Dart</li></ul><h2 id="editors">Editors</h2><p>Many code editors can be used for writing Dart programs. Popular options include VS Code, Intellij IDEA, and Android Studio. <a href="https://dartpad.dev?v=1.0.18" rel="noopener" target="_blank">DartPad</a> is an online editor for experimenting with Dart features.</p><p>Recommended VS Code extensions for Dart include:</p><ul><li><p><a href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code?v=1.0.18" rel="noopener" target="_blank">Dart</a></p><p>&quot;Provides tools for effectively editing, refactoring, running, and reloading Flutter mobile apps.&quot;</p></li><li><p><a href="https://marketplace.visualstudio.com/items?itemName=BendixMa.dart-data-class-generator?v=1.0.18" rel="noopener" target="_blank">Dart Data Class Generator</a></p><p>&quot;Create dart data classes easily, fast and without writing boilerplate or running code generation.&quot;</p><p>To generate a constructor for a class definition that has <code>final</code> properties and no constructor, place the cursor over one of the properties, press cmd-period, and select &quot;Create constructor for final fields&quot; from the context menu.</p><p>To generate many methods for a class definition that has <code>final</code> properties and no constructor, open the Command Palette and select &quot;Dart Data Class Generator: Generate from class properties&quot;. This generates a constructor that takes named parameters, and the following methods: <code>copyWith</code>, <code>fromJson</code>, <code>fromMap</code>, <code>hashCode</code>, <code>toMap</code>, <code>toString</code>, and <code>operator ==</code>.</p></li><li><p><a href="https://marketplace.visualstudio.com/items?itemName=jeroen-meijer.pubspec-assist?v=1.0.18" rel="noopener" target="_blank">Pubspec Assist</a></p><p>&quot;To easily add dependencies to your Dart and Flutter project's pubspec.yaml.&quot;</p></li></ul><h2 id="pub.dev">pub.dev</h2><p><a href="https://pub.dev?v=1.0.18" rel="noopener" target="_blank">pub.dev</a> is the official package repository for Dart and Flutter apps. Packages here are listed in five catagories: &quot;Flutter Favorites&quot;, &quot;Most popular packages&quot;, &quot;Top Flutter packages&quot;, &quot;Top Dart packages&quot;, and &quot;Package of the Week&quot;.</p><p>There are two kinds of packages. &quot;Library packages&quot; are used as dependencies of other packages. &quot;Application packages&quot; are meant to be run and can depend on library packages.</p><p>Some notable packages to consider using include:</p><ul><li><p>http</p><p>&quot;A composable, multi-platform, Future-based API for HTTP requests.&quot;</p></li><li><p>json_serializable</p><p>&quot;Automatically generate code for converting to and from JSON by annotating Dart classes.&quot;</p></li><li><p>hive</p><p>&quot;Lightweight and blazing fast key-value database&quot;</p></li><li><p>lints</p><p>&quot;Official Dart lint rules. Defines the 'core' and 'recommended' set of lints suggested by the Dart team.&quot;<br>Use of these lint rules is enabled by the following line found in the <code>analysis_options.yaml</code> file:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">include</span><span class="token punctuation">:</span> package<span class="token punctuation">:</span>lints/recommended.yaml</code></pre><p>Edit the <code>analysis_options.yaml</code> file to configure the use of specific rules. An older set of lint rules called <code>pedantic</code> is deprecated. Another set of lint rules to consider using is <a href="https://pub.dev/packages/very_good_analysis?v=1.0.18" rel="noopener" target="_blank">Very Good Analysis</a>.</p><p>Here are some recommended rule configurations that include suppressing warnings about use of the <code>const</code> keyword:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">avoid_print</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token key atrule">prefer_const_constructors</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token key atrule">prefer_const_constructors_in_immutables</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token key atrule">prefer_const_literals_to_create_immutables</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br><span class="token key atrule">prefer_single_quotes</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></li></ul><p>The official Dart package manager is <code>pub</code>. This is similar to <code>npm</code> for Node.js. In the same way that <code>npm</code> relies on the files <code>package.json</code> and <code>package-lock.json</code> to manage dependencies, <code>pub</code> relies on the files <code>pubspec.yaml</code> and <code>pubspec.lock</code> (also a YAML file).</p><h2 id="creating-and-running-programs">Creating and Running Programs</h2><p>Dart source files have a <code>.dart</code> file extension. It is recommended that their names be all lowercase with multiple words separated by underscores.</p><p>The <code>main</code> function defines the starting point of a program. It is passed a <code>List</code> of command-line arguments. The type can be omitted, specified as just <code>List</code>, or specified as <code>List&lt;String&gt;</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token function">main</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'arg = $arg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>To run a <code>.dart</code> file that defines a <code>main</code> function, enter <code>dart {name}.dart [arguments]</code>.</p><p>It is not necessary to create a Dart &quot;project&quot; in order to write and run Dart code, but doing so provides many benefits. It gives a project a standard directory structure, makes it easy to add dependencies, enables writing tests, makes it easy to publish packages to <a href="https://pub.dev?v=1.0.18" rel="noopener" target="_blank">pub.dev</a>, and much more.</p><p>To create a new Dart project, enter <code>dart create {project-name}</code>. Dart prefers underscores over hyphens in both project names and source file names. For example:</p><pre class="language-bash"><code class="language-bash">dart create hello_world</code></pre><p>To run a Dart project, cd to the project directory and enter <code>dart run</code>. For example:</p><pre class="language-dart"><code class="language-dart">cd hello_world`<br>dart run # outputs <span class="token string">"Hello world!"</span></code></pre><p>To analyze a Dart project for syntax errors and lint rule violations, enter <code>dart analyze</code>. TODO: Why does this always output &quot;No issues found!&quot; even when TODO: there are syntax errors and lint rule violations?</p><p>The <code>dart create</code> command creates the following files and directories:</p><ul><li><p><code>.dart_tool/package_config.json</code></p><p>This file is used to resolve Dart package names to <code>.dart</code> files.</p></li><li><p><code>bin</code></p><p>This directory contains <code>.dart</code> source files that are meant to be executed.</p></li><li><p><code>bin/hello_world.dart</code></p><p>This Dart source file is the project starting point.</p></li><li><p><code>.gitignore</code></p><p>This file lists directories and files that should not be added to a Git repository.</p></li><li><p><code>lib</code></p><p>This directory is not provided, but should be created to hold <code>.dart</code> files that define libraries of functions and classes used by other <code>.dart</code> files in the project.</p><p>Files in the <code>bin</code> directory import files from here using the syntax <code>import 'package:{project-name}/{file-name}.dart';</code> For files in subdirectories of the <code>lib</code> directory, add subdirectories after the project name. For example, <code>import 'package:{project-name}/{subdir-name}/{file-name}.dart';</code></p></li><li><p><code>.packages</code></p><p>This file is deprecated.</p></li><li><p><code>analysis_options.yaml</code></p><p>This file configures Dart linting rules.</p></li><li><p><code>CHANGELOG.md</code></p><p>This file describes versions of the project.</p></li><li><p><code>pubspec.yaml</code></p><p>This file describes project dependencies and more. It is similar to <code>package.json</code> in Node.js projects. The properties that are optional are indicated in the list below.</p><ul><li><p><code>name</code>: package name (can use underscores, but not hyphens)</p></li><li><p><code>description</code>: package description</p></li><li><p><code>version</code>: using semver major.minor.patch convention</p></li><li><p><code>homepage</code>: optional URL</p></li><li><p><code>repository</code>: optional URL</p></li><li><p><code>issue_tracker</code>: optional URL</p></li><li><p><code>documentation</code>: optional URL</p></li><li><p><code>publish_to</code>: information for publishing to pub.dev</p></li><li><p><code>environment</code>: describes supported Dart versions</p></li><li><p><code>dependencies</code>: list of packages needed at runtime; can omit if none</p></li><li><p><code>dev_dependencies</code>: list of packages only needed for development; can omit if none</p></li></ul><p>There are three supported syntaxes for specifying acceptable versions of a dependency.</p><ol><li>specific semver; ex. <code>1.2.3</code></li><li>semver range; ex. <code>&gt;=1.2.3 &lt;2.0.0</code></li><li>caret semver; ex. <code>^1.2.3</code> (means same as above)</li></ol><p>The caret semver syntax is preferred. It has a slightly different meaning when the major version is zero. For example, <code>^0.1.2</code> is the same as <code>&gt;=0.1.2 &lt;0.2.0</code>.</p><p>Most dependencies come from pub.dev, but it is also possible to install dependencies from other sources such a Git repositories and packages in the <code>packages</code> directory of the current project.</p></li><li><p><code>pubspec.lock</code></p><p>This file records the exact versions of each installed dependency. It is similar to <code>package-lock.json</code> in Node.js projects.</p><p>When this file doesn't exist, running the <code>pub get</code> command installs the versions of the dependencies specified in <code>pubspec.yaml</code> and creates this file to record the installed versions.</p><p>When this file exists, running the <code>pub get</code> command installs the versions of the dependencies specified here.</p></li><li><p><code>README.md</code></p><p>This MarkDown file describes the project.</p></li></ul><p>A Dart project is actually a Dart package. This means it is possible for it to be deployed to pub.dev and its public API can be shared with other Dart packages.</p><h2 id="dart-sdk">Dart SDK</h2><p>The Dart SDK includes all the tools needed to create, build, and run Dart applications. It can be downloaded from <a href="https://dart.dev/get-dart?v=1.0.18" rel="noopener" target="_blank">get-dart</a> which provides instructions for installing in Windows, Linux, and macOS.</p><p>The Flutter SDK includes the Dart SDK.</p><p>After installing the Dart SDK, enter &quot;dart&quot; in a terminal to see all the subcommand options.</p><p>To create a new Dart project, enter <code>dart create -t {type} {project-name}</code> where <code>type</code> is <code>console-simple</code>, <code>console-full</code>, <code>package-simple</code>, <code>server-shelf</code>, or <code>web-simple</code>.</p><p>The Dart SDK contains three compilers.</p><ol><li><p>Just In Time (JIT) compiler<br>This compiles Dart code to an intermediate format and runs it in a virtual machine, which is ideal during development.</p></li><li><p>Ahead Of Time (AOT) compiler<br>This compiles and builds an executable for a Dart program, which is ideal for releasing a finished application. It performs type flow analysis and removes unused code in order to produce a smaller executable. It also performs optimizations such as inlining code in order to produce a faster executable.</p></li><li><p>JavaScript (JS) compiler<br>This compiles a Dart program to JavaScript, which allows it to be run in a web browser. The ability to do this is an important goal of the Dart language and influenced many of its syntax decisions. Some Dart libraries only run on the server or in Flutter and cannot be compiled to JavaScript.</p></li></ol><h2 id="keywords">Keywords</h2><p>For a list of keywords in the Dart language with links to their descriptions, see <a href="https://dart.dev/guides/language/language-tour#keywords?v=1.0.18" rel="noopener" target="_blank">Language Tour - Keywords</a>.</p><h2 id="comments">Comments</h2><p>Comments in Dart are written like in many other programming languages.</p><ul><li>Single-line comments begin with <code>//</code>.</li><li>Multi-line comments are delimited by <code>/*</code> and <code>*/</code>.</li><li>Documentation comments begin with <code>///</code> or are delimited by <code>/**</code> and <code>*/</code>. These are used to generate documentation from source files.</li></ul><h2 id="variables">Variables</h2><p>There are four kinds of variables in Dart.</p><ol><li>top-level, global variables declared outside any function or class</li><li>local variables in a function or method of a class, including parameters</li><li>static properties in a class</li><li>instance properties in a class</li></ol><p>There are three ways to declare variables.</p><ol><li><p>With a type</p><p>For example, <code>int score;</code></p></li><li><p>With the <code>var</code> keyword</p><p>The type is obtained through type inference. For example, these are equivalent:</p><pre class="language-dart"><code class="language-dart">int n <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span></code></pre><p>When a <code>var</code> declaration is not initialized, it is treated like <code>dynamic</code> which is described next.</p></li><li><p>With the <code>dynamic</code> keyword</p><p>The type can change throughout the lifetime of the variable based on the value currently assigned. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">dynamic</span> n <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><br>n <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span><br>n <span class="token operator">=</span> <span class="token string">"changed"</span><span class="token punctuation">;</span></code></pre></li></ol><p>By default variables do not have a default value and cannot be set to <code>null</code>. To allow setting a variable to <code>null</code> its type must be followed by <code>?</code>. When this is done, the variable is initialized to <code>null</code> by default.</p><p>Non-nullable top-level variables (not declared inside a function or class) and non-nullable static class properties must be initialized. Non-nullable local variables in functions do not need to be given a value until their first use.</p><p>The <code>late</code> keyword has two primary uses.</p><p>First, it can be applied to a variable declaration with a non-null type that is not initialized. This states that the variable will be initialized before its first use. It allows a nested function to refer to the variable as long as the function is not called until after the variable is initialized. See an example of this in the &quot;Streams&quot; section. If a <code>late</code> variable is used before it is initialized, a <code>LateInitializationError</code> is thrown.</p><p>Second, it causes a value used for initialization to be lazily evaluated, regardless of whether it is a function call, method call, or computed property. The means the initialization function is not called until the first time the property is accessed. The following code demonstrates this:</p><pre class="language-dart"><code class="language-dart">int <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'in myFunction'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Instance properties like computedProperty cannot be used to initialize</span><br>  <span class="token comment">// another instance property unless the "late" keyword is used.</span><br>  late int a <span class="token operator">=</span> computedProperty<span class="token punctuation">;</span><br><br>  late int b <span class="token operator">=</span> <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Instance methods like myMethod cannot be used to initialize</span><br>  <span class="token comment">// another instance property unless the "late" keyword is used.</span><br>  late int c <span class="token operator">=</span> <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> computedProperty <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'in computedProperty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  int <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'in myMethod'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> demo <span class="token operator">=</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'created object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// triggers initialization of the "a" property</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'retrieved a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// triggers initialization of the "b" property</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'retrieved b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// triggers initialization of the "c" property</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'retrieved c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The code above produces the following output:</p><pre class="language-dart"><code class="language-dart">created object<br><span class="token keyword">in</span> computedProperty<br><span class="token number">1</span><br>retrieved a<br><span class="token keyword">in</span> myFunction<br><span class="token number">2</span><br>retrieved b<br><span class="token keyword">in</span> myMethod<br><span class="token number">3</span><br>retrieved c</code></pre><p>To get the runtime type of any object, access its <code>runtimeType</code> property. This has a type of <code>Type</code> which has a <code>toString</code> method.</p><h2 id="immutability-with-const-and-final">Immutability with const and final</h2><p>Variables whose values are known at compile-time should be declared with the keyword <code>const</code>. Class properties whose values are <strong>known at compile-time</strong> should be declared with the keywords <code>static const</code>. This prevents assigning a new value, and also prevents modifying the value (for example, adding elements to a <code>List</code>).</p><p>The <code>const</code> keyword can be applied to top-level variables, local variables in functions, and class static properties. It cannot be applied to class instance properties.</p><p>Variables and class properties whose values should be set once at run-time and never changed should be declared with the keyword <code>final</code>. This prevents assigning a new value, but does not prevent modifying the value.</p><p>The meaning of the <code>const</code> and <code>final</code> keywords depends on whether they are applied to a variable or its initial value. There are two aspects to consider, whether a new value can be assigned to the variable and whether its value can be modified (ex. adding elements to a list).</p><p>The following code demonstrates using the <code>const</code> and <code>final</code> keywords in conjunction with declaring and creating <code>List</code> collection objects. The same principles apply to other kinds of collections.</p><pre class="language-dart"><code class="language-dart">List<span class="token operator">&lt;</span>int<span class="token operator">></span> l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">//var l1 = &lt;int>[1, 2]; // alternate way to write previous line</span><br>l1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// can modify current value</span><br>l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// can assign a new value</span><br><span class="token function">print</span><span class="token punctuation">(</span>l1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 4]</span><br><br><span class="token comment">// const here makes the variable AND its value immutable.</span><br><span class="token comment">// Adding const after "=" and before the value is redundant.</span><br><span class="token keyword">const</span> List<span class="token operator">&lt;</span>int<span class="token operator">></span> l2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">//l2.add(3); // throws UnsupportedError at runtime</span><br><span class="token comment">//l2 = [3, 4]; // cannot assign a new value</span><br><span class="token function">print</span><span class="token punctuation">(</span>l2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2]</span><br><br><span class="token comment">// Adding const only before the value makes the value immutable,</span><br><span class="token comment">// but a new value can be assigned to the variable.</span><br>List<span class="token operator">&lt;</span>int<span class="token operator">></span> l3 <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">//l3.add(3); // throws UnsupportedError at runtime</span><br>l3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// can assign a new value</span><br><span class="token function">print</span><span class="token punctuation">(</span>l3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [3, 4]</span><br><br><span class="token comment">// final here means the variable can only be assigned a value once,</span><br><span class="token comment">// but its value can be modified.</span><br><span class="token keyword">final</span> List<span class="token operator">&lt;</span>int<span class="token operator">></span> l4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>l4<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// can modify current value</span><br><span class="token comment">//l4 = [3, 4]; // cannot assign a new value</span><br><span class="token function">print</span><span class="token punctuation">(</span>l4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span><br><br><span class="token comment">// This is the same as the l2 declaration</span><br><span class="token comment">// which is preferred because it is shorter.</span><br><span class="token keyword">final</span> List<span class="token operator">&lt;</span>int<span class="token operator">></span> l5 <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token comment">//l5.add(3); // throws UnsupportedError at runtime</span><br><span class="token comment">//l5 = [3, 4]; // cannot assign a new value</span><br><span class="token function">print</span><span class="token punctuation">(</span>l5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2]</span></code></pre><p>In order to create instances of a class that are compile-time constants, all fields must be final and the constructor must be marked const. When this is done, constructor calls with same argument values return references to the same object. The following code demonstrates this:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> double x<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> double y<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// compile-time constant</span><br>  <span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// alternate way to create a compile-time constant</span><br>  <span class="token keyword">var</span> p3 <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// not a constant</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p1 <span class="token operator">==</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - same object</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">identical</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true - same object</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">identical</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false - not same object</span><br><span class="token punctuation">}</span></code></pre><p>The <code>identical</code> function tests whether two values refer to the same object. By default the <code>==</code> operator performs the same test, but classes can override this to have a different meaning such as comparing object properties. The collection classes <code>List</code>, <code>Set</code>, and <code>Map</code> do not override the <code>==</code> operator.</p><h2 id="importing-packages">Importing packages</h2><p>A <code>.dart</code> file can import packages using the <code>import</code> statement. The following imports the <code>dart:math</code> package and places all its top-level public names (such as <code>pi</code> and <code>sin</code>) in the current namespace:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span></code></pre><p>To avoid conflicting with names already in the current namespace, use the <code>as</code> keyword.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span> <span class="token operator">as</span> math<span class="token punctuation">;</span></code></pre><p>Now names like <code>pi</code> can be referred to with <code>math.pi</code> and functions like <code>sqrt</code> can be referred to with <code>math.sqrt</code>.</p><h2 id="types">Types</h2><p>All values in Dart are objects from some class. This is even true for basic types like <code>bool</code>, <code>int</code>, <code>double</code>, and <code>String</code>. For example, the literal values <code>true</code>, <code>7</code>, <code>3.14</code>, and <code>'test'</code> are all objects.</p><p>These and many other classes are defined in the <code>dart:core</code> package. Classes defined here do not need to be imported.</p><p>All types except <code>Null</code> are subclasses of the <code>Object</code> class.</p><p>Dart supports the following built-in basic types:</p><ul><li><code>void</code>: means a value is never used</li><li><code>Null</code>: represents not having a value</li><li><code>bool</code>: boolean value with literal values <code>true</code> and <code>false</code></li><li><code>int</code>: 64-bit integer</li><li><code>double</code>: 64-bit floating point number</li><li><code>String</code>: sequence of UTF-16 characters delimited by single or double quotes</li><li><code>Symbol</code>: represents an operator or identifier with literal syntax <code>#name</code></li><li><code>Never</code>: has no values</li></ul><p>The <code>void</code> type is used at the return type of functions that do not return anything.</p><p>The keyword <code>null</code> refers to the only instance of the <code>Null</code> type.</p><p>The <code>Never</code> type is the type of <code>throw</code> expressions, and is the return type of functions that always throw.</p><p>Note that there is no <code>float</code> type. The <code>double</code> type is used for all floating point numbers.</p><p>Dart supports the following built-in collection types:</p><ul><li><code>List</code>: ordered collection of values (see the <code>List</code> section)</li><li><code>Set</code>: unordered collection of unique values (see the <code>Set</code> section)</li><li><code>Map</code>: unordered collection of key/value pairs (see the <code>Map</code> section)</li></ul><p>Dart supports type inference, so types do not need to specified if they can be inferred from values.</p><p>By default no type allows the value <code>null</code>. To allow this prepend <code>?</code> to the type name. For example, a variable of type <code>String</code> cannot be set to <code>null</code>, but a variable of type <code>String?</code> can. The compiler requires handling cases where a nullable value might be <code>null</code>. This results in detecting errors involving <code>null</code> values at compile-time rather than runtime.</p><p>The <code>is</code> operator tests whether a variable currently holds a value of a given type and evaluates to a <code>bool</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">evaluate</span><span class="token punctuation">(</span>num n<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">is</span> int<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// n is cast to int inside this block.</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$n is ${n.isOdd ? '</span>odd<span class="token string">' : '</span>even<span class="token string">'}.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  num n <span class="token operator">=</span> <span class="token number">3.1</span><span class="token punctuation">;</span><br>  <span class="token function">evaluate</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// outputs nothing</span><br>  n <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span><br>  <span class="token function">evaluate</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// outputs "7 is odd."</span><br><span class="token punctuation">}</span></code></pre><p>The <code>is!</code> operator performs the opposite test.</p><h3 id="bool-type">bool type</h3><p>Instances of the <code>bool</code> class represent a boolean value. The only values are the literal values <code>true</code> and <code>false</code>.</p><p>The <code>bool</code> class doesn't add any interesting properties or methods, but it defines the following bitwise operators: <code>&amp;</code> (and), <code>|</code> (or), and <code>^</code> (xor).</p><p>In addition, the logical operators <code>&amp;&amp;</code> (and), <code>||</code> (or), and <code>!</code> (not) can be applied to <code>bool</code> values. TODO: Where are these defined? Why aren't they defined by the <code>bool</code> class? These have lower precedence than bitwise operators.</p><h3 id="number-types">Number types</h3><p>The <code>int</code> and <code>double</code> classes are the only number types supported by Dart. Both inherit from the <code>num</code> class and both represent 64-bit values. Custom classes are not allowed to inherit from the <code>num</code> class.</p><h4 id="num-class">num Class</h4><p>Variables declared with the <code>num</code> type can be assigned both <code>int</code> and <code>double</code> values.</p><p>The <code>num</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>isFinite</code></td><td><code>bool</code> indicating whether the number is finite</td></tr><tr><td><code>isInfinite</code></td><td><code>bool</code> indicating whether the number is infinite</td></tr><tr><td><code>inNaN</code></td><td><code>bool</code> indicating whether this is the Not-a-Number value</td></tr><tr><td><code>isNegative</code></td><td><code>bool</code> indicating whether the number is negative</td></tr><tr><td><code>sign</code></td><td>-1, 0, or 1</td></tr></tbody></table><p>The <code>num</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>abs()</code></td><td>returns absolute value</td></tr><tr><td><code>ceil()</code></td><td>returns least integer not smaller</td></tr><tr><td><code>ceilToDouble()</code></td><td>same as <code>ceil</code>, but returns a <code>double</code></td></tr><tr><td><code>clamp(num lower, num upper)</code></td><td>returns n &lt; lower ? lower : n &gt; upper ? upper : n</td></tr><tr><td><code>compareTo(num other)</code></td><td>returns comparator <code>int</code> value</td></tr><tr><td><code>floor()</code></td><td>returns greatest integer not greater</td></tr><tr><td><code>floorToDouble()</code></td><td>same as <code>floor</code>, but returns a <code>double</code></td></tr><tr><td><code>remainder()</code></td><td>returns remainder of truncating division (modulo)</td></tr><tr><td><code>round()</code></td><td>returns closest integer</td></tr><tr><td><code>roundToDouble()</code></td><td>same as <code>round</code>, but returns a <code>double</code></td></tr><tr><td><code>toDouble()</code></td><td>returns number as a <code>double</code></td></tr><tr><td><code>toInt()</code></td><td>returns number as an <code>int</code></td></tr><tr><td><code>toString()</code></td><td>returns number as a <code>String</code></td></tr><tr><td><code>toStringAsExponential(int? fractionDigits)</code></td><td>returns <code>String</code> representation in exponential form</td></tr><tr><td><code>toStringAsFixed(int fractionDigits)</code></td><td>returns <code>String</code> representation with fixed number of fraction digits</td></tr><tr><td><code>toStringAsPrecision(int precision)</code></td><td>returns <code>String</code> representation with <code>precision</code> significant digits</td></tr><tr><td><code>truncate()</code></td><td>returns <code>int</code> result of truncating fractional digits</td></tr><tr><td><code>truncateToDouble()</code></td><td>same as <code>truncate</code>, but returns a <code>double</code></td></tr></tbody></table><p>The <code>num</code> class defines the following static methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>parse(String input, [num onError(String input)?])</code></td><td>returns <code>num</code> obtained by parsing a <code>String</code></td></tr><tr><td><code>tryParse(String input)</code></td><td>same as <code>parse</code>, but returns <code>null</code> if parsing fails</td></tr></tbody></table><p>The <code>parse</code> method throws if parsing fails or calls <code>onError</code> if supplied.</p><p>The <code>num</code> class defines the following operators:</p><table><thead><tr><th>Category</th><th>Operators</th></tr></thead><tbody><tr><td>unary arithmetic</td><td><code>-</code>, <code>++</code> (increment by 1), <code>--</code> (decrement by 1)</td></tr><tr><td>binary arithmetic</td><td><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>~/</code> (truncating division), <code>%</code> (modulo)</td></tr><tr><td>relational</td><td><code>&lt;</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code></td></tr><tr><td>shorthand arithmetic assignment</td><td><code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>~/=</code> (truncating division), <code>%=</code> (modulo)</td></tr></tbody></table><p>The <code>++</code> and <code>--</code> operators can be placed on either side of a <code>num</code> value. When on the left, a new value is computed before it is used. When on the right, the value is used before a new value is computed.</p><p>Note that there is no <code>^</code> or <code>**</code> for exponentiation like in many other programming languages. Instead, import the <code>dart:math</code> package and use the <code>pow(number, exponent)</code> function.</p><p>The fact that these operators take operands of type <code>num</code> means that they can be applied to mixed operands where one is an <code>int</code> and the other is a <code>double</code>.</p><p>Even though operator definitions look like methods, they cannot be called like methods. For example, the documentation for <code>+</code> operator in the <code>num</code> class shows <code>num operator +(num other);</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><br>n<span class="token punctuation">.</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This does not work!</span><br>n <span class="token operator">+=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// This works.</span><br><span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Dividing by zero with the <code>/</code> operator results in the <code>double.infinity</code> constant rather than throwing an exception. When the integer division operator <code>~/</code> is used instead, an <code>UnsupportedError</code> is thrown. Note that <code>IntegerDivisionByZeroException</code> is deprecated.</p><h4 id="int-class">int Class</h4><p>The <code>int</code> class adds the following properties to those defined in the <code>num</code> class:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>bitLength</code></td><td>minimum number of bits required to store</td></tr><tr><td><code>isEven</code></td><td><code>bool</code> indicating if even</td></tr><tr><td><code>isOdd</code></td><td><code>bool</code> indicating if odd</td></tr></tbody></table><p>The <code>int</code> class adds the following methods to those defined in the <code>num</code> class (some omitted):</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>gcd(int other)</code></td><td>returns greatest common divisor</td></tr><tr><td><code>toRadixString(int radix)</code></td><td>returns <code>String</code> representation of number with a given base</td></tr><tr><td><code>toSigned(int width)</code></td><td>returns least significant bits, retaining sign bit</td></tr><tr><td><code>toUnsigned(int width)</code></td><td>returns least significant bits, not retaining sign bit</td></tr></tbody></table><p>The <code>toRadixString</code> method can be used to convert decimal values to hexadecimal. For example, <code>255.toRadixString(16)</code> returns the <code>String</code> <code>ff</code>.</p><p>The <code>int</code> class adds the following operators to those defined in the <code>num</code> class:</p><table><thead><tr><th>Category</th><th>Operators</th></tr></thead><tbody><tr><td>bitwise</td><td><code>&amp;</code> (and), <code>|</code>(or), <code>^</code>(xor), <code>~</code> (complement)</td></tr><tr><td>bit shift</td><td><code>&lt;&lt;</code> (signed shift left), <code>&gt;&gt;</code> (signed shift right), and <code>&gt;&gt;&gt;</code> (unsigned shift right)</td></tr><tr><td>shorthand bitwise assignment</td><td><code>&amp;=</code> (and), <code>|=</code>(or),<code>^=</code> (xor)</td></tr><tr><td>shorthand bit shift assignment</td><td><code>&lt;&lt;=</code>, <code>&gt;&gt;-</code>, and <code>&gt;&gt;&gt;==</code></td></tr></tbody></table><p>Note that there is no operator for unsigned bit shift left.</p><h4 id="double-class">double Class</h4><p>The <code>double</code> class adds no properties, instance methods, static methods, or operators beyond those defined in the <code>num</code> class.</p><p>The <code>double</code> class defines the following constants that must be prefixed with <code>double.</code>:</p><table><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><code>infinity</code></td><td>represents an infinite positive number</td></tr><tr><td><code>maxFinite</code></td><td>largest positive floating point number in 64 bits</td></tr><tr><td><code>minPositive</code></td><td>smallest positive floating point number in 64 bits</td></tr><tr><td><code>nan</code></td><td>represents a value that is not a valid number</td></tr><tr><td><code>negativeInfinity</code></td><td>represents an infinite negative number</td></tr></tbody></table><h4 id="math-package"><code>math</code> Package</h4><p>The Dart <code>math</code> package does not need to be installed, but it must be imported in order to use the items it defines.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span></code></pre><p>The Dart <code>math</code> package class defines the following classes:</p><table><thead><tr><th>Class</th><th>Description</th></tr></thead><tbody><tr><td><code>MutableRectangle&lt;T extends num&gt;</code></td><td>represents a mutable rectangle that is axis-aligned (not rotated)</td></tr><tr><td><code>Point&lt;T extends num&gt;</code></td><td>represents an immutable 2D point</td></tr><tr><td><code>Random</code></td><td>provides methods that generate random <code>bool</code>, <code>int</code>, and <code>double</code> values</td></tr><tr><td><code>Rectangle&lt;T extends num&gt;</code></td><td>represents an immutable rectangle that is axis-aligned (not rotated)</td></tr></tbody></table><p>The Dart <code>math</code> package class defines the following constants:</p><table><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><code>e</code></td><td>base of natural logarithms; 2.718...</td></tr><tr><td><code>ln2</code></td><td>natural log of 2; 0.693...</td></tr><tr><td><code>ln10</code></td><td>natural log of 10; 2.30...</td></tr><tr><td><code>log2e</code></td><td>base 2 log of e; 1.44...</td></tr><tr><td><code>log10e</code></td><td>base 10 log of e; 0.434...</td></tr><tr><td><code>pi</code></td><td>PI; 3.14...</td></tr><tr><td><code>sqrt1_2</code></td><td>square root of 1/2; 0.707...</td></tr><tr><td><code>sqrt2</code></td><td>square root of 2; 1.41...</td></tr></tbody></table><p>The Dart <code>math</code> package defines the following functions:</p><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>acos(num x)</code></td><td>returns arc cosine of x</td></tr><tr><td><code>asin(num x)</code></td><td>returns arc sine of x</td></tr><tr><td><code>atan(num x)</code></td><td>returns arc tangent of x</td></tr><tr><td><code>atan2(num x, num y)</code></td><td>returns arc tangent of y/x</td></tr><tr><td><code>cos(num radians)</code></td><td>returns cosine of radians</td></tr><tr><td><code>exp(num x)</code></td><td>returns e to the power x</td></tr><tr><td><code>log(num x)</code></td><td>returns log base e of x</td></tr><tr><td><code>max&lt;T extends num&gt;(num T, num T)</code></td><td>returns larger of two numbers</td></tr><tr><td><code>min&lt;T extends num&gt;(num T, num T)</code></td><td>returns smaller of two numbers</td></tr><tr><td><code>pow(num x, num exponent)</code></td><td>returns x to the power exponent</td></tr><tr><td><code>sin(num radians)</code></td><td>returns sine of radians</td></tr><tr><td><code>sqrt(num x)</code></td><td>returns square root of x</td></tr><tr><td><code>tan(num radians)</code></td><td>returns tangent of radians</td></tr></tbody></table><h3 id="string-class">String Class</h3><p>Instances of the <code>String</code> class hold an immutable sequence of UTF-16 characters.</p><p>TODO: Why does the name of this type start uppercase, TODO: but the <code>bool</code>, <code>int</code>, and <code>double</code> types start lowercase?</p><p>Literal single line strings are delimited by single or double quotes. Literal multi-line strings are delimited by a pair of three single or double quotes.</p><p>Literal strings can use interpolations. To include the value of a variable, include <code>$variableName</code>. To include the value of an expression, include <code>${expression}</code>.</p><p>Strings can be concatenated with the <code>+</code> operator. The <code>+</code> operator is not needed to concatenate literal strings. Literal strings can be written next to each other, separated only by a space, to concatenate them.</p><p>An individual character (code point) can be accessed with square brackets and an index. For example, the first character of a string <code>s</code> is obtained with <code>s[0]</code>.</p><p>There are two ways to embed newline characters in a string. The following code demonstrates these:</p><pre class="language-dart"><code class="language-dart">  <span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">'first\nsecond'</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> s2 <span class="token operator">=</span> <span class="token string">'''first<br>second'''</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Unicode character codes can be embedded in a <code>String</code> with <code>\u{hex-code}</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Do you prefer a \u{1F436} or \u{1F431}?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Do you prefer a 🐶 or 🐱?</span></code></pre><p>Raw strings are strings where backslash character is not treated specially. They are indicated by preceding the opening delimiter with &quot;r&quot;. For example, <code>r'first\nsecond'</code> does not treat <code>\n</code> as a newline character. Raw strings useful when defining regular expressions.</p><p>Defining custom classes that extend the <code>String</code> class is not allowed.</p><p>The <code>String</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>codeUnits</code></td><td>a <code>List&lt;int&gt;</code> of the characters (code points)</td></tr><tr><td><code>isEmpty</code></td><td><code>bool</code> indicating if empty</td></tr><tr><td><code>isNotEmpty</code></td><td><code>bool</code> indicating if not empty</td></tr><tr><td><code>length</code></td><td>number of characters (code points)</td></tr><tr><td><code>runes</code></td><td><code>Iterable</code> over the characters (code points)</td></tr></tbody></table><p>The <code>String</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>allMatches(String s, [int start = 0])</code></td><td>returns <code>Iterable&lt;Match&gt;</code> over matching substrings</td></tr><tr><td><code>codeUnitAt(int index)</code></td><td>returns code point at a given index; same as <code>[index]</code></td></tr><tr><td><code>compareTo(String other)</code></td><td>returns comparator value typically used for sorting</td></tr><tr><td><code>contains(Pattern other, [int start = 0])</code></td><td>returns <code>bool</code> indicating if a pattern is contained</td></tr><tr><td><code>endsWith(String other)</code></td><td>returns <code>bool</code> indicating if ends with another <code>String</code></td></tr><tr><td><code>indexOf(Pattern other, [int start = 0])</code></td><td>returns <code>int</code> index where a <code>Pattern</code> is first found</td></tr><tr><td><code>lastIndexOf(Pattern other, [int start = 0])</code></td><td>returns <code>int</code> index where a <code>Pattern</code> is last found</td></tr><tr><td><code>matchAsPrefix(String other, [int start = 0])</code></td><td>returns first <code>Match</code> or null of a <code>String</code></td></tr><tr><td><code>padLeft(int width, [String padding = ' '])</code></td><td>returns new <code>String</code> padded on left to a given width</td></tr><tr><td><code>padRight(int width, [String padding = ' '])</code></td><td>returns new <code>String</code> padded on right to a given width</td></tr><tr><td><code>replaceAll(Pattern from, String replace)</code></td><td>returns new <code>String</code> where all <code>Pattern</code> matches are replaced by a <code>String</code></td></tr><tr><td><code>replaceAllMapped(Pattern from, String replace(Match match), [int start = 0])</code></td><td>returns new <code>String</code> where all <code>Pattern</code> matches are replaced by a computed value</td></tr><tr><td><code>replaceFirst(Pattern from, String to, [int start = 0])</code></td><td>returns new <code>String</code> where first <code>Pattern</code> match is replaced by a <code>String</code></td></tr><tr><td><code>replaceFirstMapped(Pattern from, String replace(Match match), [int start = 0])</code></td><td>returns new <code>String</code> where first <code>Pattern</code> match is replaced by a computed value</td></tr><tr><td><code>replaceRange(int start, int? end, String replacement)</code></td><td>returns new <code>String</code> where a substring range is replaced by a <code>String</code></td></tr><tr><td><code>split(Pattern pattern)</code></td><td>returns a <code>List&lt;String&gt;</code> of substrings obtained by splitting on a <code>Pattern</code></td></tr><tr><td><code>splitMapJoin(Pattern pattern, {String onMatch(Match)?, String onNonMatch(String)?})</code></td><td>returns new <code>String</code> formed by splitting on a <code>Pattern</code>, converting parts, and concatenating results</td></tr><tr><td><code>startsWith(Pattern pattern, [int index = 0])</code></td><td>returns <code>bool</code> indicating if starts with another <code>String</code></td></tr><tr><td><code>substring(int start, [int? end])</code></td><td>returns new <code>String</code> that is a substring defined by indexes</td></tr><tr><td><code>toLowerCase()</code></td><td>returns new <code>String</code> where all characters are converted to lowercase</td></tr><tr><td><code>toUpperCase()</code></td><td>returns new <code>String</code> where all characters are convert to uppercase</td></tr><tr><td><code>trim()</code></td><td>returns new <code>String</code> formed by removing leading and trailing whitespace</td></tr><tr><td><code>trimLeft()</code></td><td>returns new <code>String</code> formed by removing leading whitespace</td></tr><tr><td><code>trimRight()</code></td><td>returns new <code>String</code> formed by removing trailing whitespace</td></tr></tbody></table><p>The <code>String</code> class defines the following binary operators: <code>+</code> (concatenation), <code>*</code> (repeated n times), <code>==</code> (same code points), <code>[index]</code> (gets code point at index). For example <code>'ho ' * 3</code> creates the <code>String</code> <code>'ho ho ho '</code>.</p><p>The table below summarized converting between numbers and strings.</p><table><thead><tr><th>Conversion</th><th>Code</th></tr></thead><tbody><tr><td><code>int</code> to <code>String</code></td><td><code>i.toString()</code></td></tr><tr><td><code>double</code> to <code>String</code></td><td><code>d.toString()</code></td></tr><tr><td><code>String</code> to <code>int</code></td><td><code>int.parse(s)</code></td></tr><tr><td><code>String</code> to <code>double</code></td><td><code>double.parse(s)</code></td></tr></tbody></table><h3 id="enumerations">Enumerations</h3><p>Enumerations are a special kind of class defined with the <code>enum</code> keyword. The are often used in <code>switch</code> statements.</p><p>Each value in an <code>enum</code> is assigned an index starting from zero. They cannot be assigned different numeric values.</p><p>Enumerations cannot be defined inside a function.</p><p>For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue <span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">printColor</span><span class="token punctuation">(</span>Color c<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$c, index=${c.index}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">printColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Color.blue, index=1</span><br><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> color <span class="token keyword">in</span> Color<span class="token punctuation">.</span>values<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">printColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>toString</code> method on <code>enum</code> values returns a <code>String</code> that contains the <code>enum</code> name followed by a period and the <code>enum</code> value. For example, <code>Color.blue.toString()</code> returns <code>'Color.blue'</code>. To get a <code>String</code> with the <code>enum</code> name and period in Flutter, add <code>import 'package:flutter/foundation.dart';</code> and pass an <code>enum</code> value to the <code>describeEnum</code> function. For example: <code>describeEnum(Color.blue)</code> returns the <code>String</code> <code>'blue'</code>.</p><h3 id="type-aliases">Type Aliases</h3><p>To define a name for a type, use a <code>typedef</code> statement. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">typedef</span> StringToAnyMap <span class="token operator">=</span> Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">></span><span class="token punctuation">;</span><br><br><span class="token keyword">typedef</span> Callback <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="type-casts">Type Casts</h2><p>The <code>as</code> keyword casts a value of one type to another. For example, if a variable of type <code>Object</code> currently holds a <code>String</code> value, it can be cast to a <code>String</code> so that methods from that class can be called on the value.</p><pre class="language-dart"><code class="language-dart">Object obj <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj <span class="token operator">as</span> String<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This throws if the cast is not valid. For example:</p><pre class="language-dart"><code class="language-dart">Object obj <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">(</span>obj <span class="token operator">as</span> String<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throws "Script error."</span></code></pre><h2 id="generic-types">Generic Types</h2><p>Generics, a.k.a parameterized types, allow writing functions, classes, and methods that accept values of multiple types. Their functionality can differ based on the types of values provided. Using generics often reduces code duplication in cases where multiple blocks of code only differ in the types on which they operate.</p><p>Generics are often used to implement new kinds of collections. The core collection classes, described in the next section, do exactly this. For example, when creating a <code>List</code>, the type of the elements it can hold are specific using generics. The following are equivalent:</p><pre class="language-dart"><code class="language-dart">List<span class="token operator">&lt;</span>int<span class="token operator">></span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// type is specified on the variable</span><br><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// type is specified on the value</span><br><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// type is inferred</span></code></pre><p>To create a collection that can hold values of any type, use <code>dynamic</code>. For example:</p><pre class="language-dart"><code class="language-dart">List<span class="token operator">&lt;</span><span class="token keyword">dynamic</span><span class="token operator">></span> anyList <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">}</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> value <span class="token keyword">in</span> anyList<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span>runtimeType<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Typically parameterized types have single-letter, uppercase names like <code>T</code>. Common names for type parameters include:</p><ul><li><code>E</code> for Element</li><li><code>K</code> for Key</li><li><code>R</code> for Return type</li><li><code>T</code> for Type</li><li><code>V</code> for Value</li></ul><p>Longer, more descriptive names, like <code>Event</code> and <code>State</code> can also be used.</p><p>Any number of type parameters can be specified inside angle brackets. They can be constrained to only types that extend a given class using the <code>extends</code> keyword, or left unconstrained in which case values of any type can be used.</p><p>The following example demonstrates implementing a generic function. It takes any <code>Iterable</code> containing <code>num</code> values and returns its sum. This means it works with both <code>int</code> and <code>double</code> values since their superclass is <code>num</code>.</p><pre class="language-dart"><code class="language-dart">N sum<span class="token operator">&lt;</span>N <span class="token keyword">extends</span> <span class="token class-name">num</span><span class="token operator">></span><span class="token punctuation">(</span>Iterable<span class="token operator">&lt;</span>N<span class="token operator">></span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>acc <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">as</span> N<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// List; 6</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set; 6</span><br><span class="token punctuation">}</span></code></pre><h2 id="collection-types">Collection Types</h2><p>Dart provides many generic collection classes. Built-in collection classes that can be used without importing include <code>List</code>, <code>Set</code>, and <code>Map</code>. Other collection classes are defined in the package <code>dart:collection</code> and must be imported. These include <code>DoubleLinkedQueue</code>, <code>HashMap</code>, <code>HashSet</code>, <code>LinkedHashMap</code>, <code>LinkedHashSet</code>, <code>LinkedList</code>, <code>ListQueue</code>, <code>Queue</code>, and <code>SplayTreeMap</code>, <code>SplayTreeSet</code>.</p><h3 id="iterable">Iterable</h3><p>The <code>Iterable</code> generic class represents a collection of values that are accessed sequentially. The values can be lazily computed when requested and an infinite number of values can be generated.</p><p>The following generic collection classes all have <code>Iterable</code> as a superclass: <code>DoubleLinkedQueue</code>, <code>IterableBase</code>, <code>IterableMixin</code>, <code>LinkedList</code>, <code>List</code>, <code>ListQueue</code>, <code>Queue</code>, <code>Runes</code>, and <code>Set</code>.</p><p>Any <code>Iterable</code> collection can be used in a <code>for-in</code> loop to iterate over its elements.</p><p>The <code>Iterable</code> class provides the following constructors:</p><table><thead><tr><th>Constructor</th><th>Description</th></tr></thead><tbody><tr><td><code>Iterable()</code></td><td>used as superclass of classes that are iterable</td></tr><tr><td><code>Iterable.empty()</code></td><td>contains no values</td></tr><tr><td><code>Iterable.generate(int count, E generator(int index)?)</code></td><td>generates values on request</td></tr></tbody></table><p>The <code>Iterable</code> class provides the following read-only properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>first</code></td><td>first element</td></tr><tr><td><code>hashCode</code></td><td>hash code</td></tr><tr><td><code>isEmpty</code></td><td><code>bool</code> indicating if there are no elements</td></tr><tr><td><code>isNotEmpty</code></td><td><code>bool</code> indicating if there is at least one element</td></tr><tr><td><code>iterator</code></td><td><code>Iterator</code> object used to iterate over elements</td></tr><tr><td><code>last</code></td><td>last element</td></tr><tr><td><code>length</code></td><td>number of elements</td></tr><tr><td><code>single</code></td><td>if only one element, that element; otherwise throws</td></tr></tbody></table><p>The <code>Iterable</code> class provides the following methods (some omitted):</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>any(bool test(E element))</code></td><td>returns a <code>bool</code> indicating if any element passes the test</td></tr><tr><td><code>contains(Object? element)</code></td><td>returns a <code>bool</code> indicating if a given element is present</td></tr><tr><td><code>elementAt(int index)</code></td><td>returns the element at a given index or throws <code>RangeError</code> if not found</td></tr><tr><td><code>expand&lt;T&gt;(Iterable&lt;T&gt; toElements(E element))</code></td><td>returns an <code>Iterable</code> over the flatten elements</td></tr><tr><td><code>every(bool test(E element))</code></td><td>returns a <code>bool</code> indicating if every element passes the test</td></tr><tr><td><code>firstWhere(bool test(E element), {E orElse()?})</code></td><td>returns the first element that passes the test or the <code>orElse</code> value</td></tr><tr><td><code>fold&lt;T&gt;(T initialValue, T combine(T previousValue, E element))</code></td><td>reduces a collection to a single value</td></tr><tr><td><code>forEach(void action(E element))</code></td><td>invokes <code>action</code> on each element</td></tr><tr><td><code>join([String separator = &quot;&quot;])</code></td><td>returns a string formed by concatenating the string representation of each element</td></tr><tr><td><code>lastWhere(bool test(E element), {E orElse()?})</code></td><td>returns the last element that passes the test or the <code>orElse</code> value</td></tr><tr><td><code>map&lt;T&gt;(T toElement(E e))</code></td><td>returns a new collection of the results of calling a function on each element</td></tr><tr><td><code>reduce(E combine(E value, E element))</code></td><td>same as <code>fold</code> but uses the first element as the initial value</td></tr><tr><td><code>singleWhere(bool test(E element), {E orElse()?})</code></td><td>similar to <code>firstWhere</code>, but throws if more than one element passes the test</td></tr><tr><td><code>skip(int count)</code></td><td>returns an <code>Iterable</code> that begins after <code>count</code> elements</td></tr><tr><td><code>skipWhile(bool test(E value))</code></td><td>returns an <code>Iterable</code> that begins after the initial elements that pass the test</td></tr><tr><td><code>take(int count)</code></td><td>returns an <code>Iterable</code> over the first <code>count</code> elements (opposite of <code>skip</code>)</td></tr><tr><td><code>takeWhile(bool test(E value))</code></td><td>returns an <code>Iterable</code> that ends after the initial elements that pass the test</td></tr><tr><td><code>toList(bool growable = true)</code></td><td>creates and returns a <code>List</code> containing the same elements</td></tr><tr><td><code>toSet()</code></td><td>creates and returns a <code>Set</code> containing the same elements</td></tr><tr><td><code>toString()</code></td><td>returns the <code>String</code> representation</td></tr><tr><td><code>where(bool test(E element))</code></td><td>returns an <code>Iterable</code> over all the elements that pass the test</td></tr><tr><td><code>whereType&lt;T&gt;()</code></td><td>returns a new collection of elements with a given type</td></tr></tbody></table><p>The differences between the <code>List</code> methods <code>fold</code> and <code>map</code> is that <code>fold</code> takes an initial value and <code>map</code> does not. In the first iteration of the <code>fold</code> method, the combine function is called with <code>initialValue</code> and the first element. In the first iteration of the <code>reduce</code> method, the combine function is called with the first and second elements.</p><p>The <code>Iterator</code> generic class provides the read-only instance property <code>current</code> which holds the current element and the instance method <code>moveNext()</code> which sets <code>current</code> to the next element and returns a <code>bool</code> indicating if there is another element. Instances of this class are not typically used directly. Instead, syntax like the <code>for-in</code> loop are used to iterate over an <code>Iterable</code>.</p><h3 id="list-class">List Class</h3><p>Arrays in Dart are represented by <code>List</code> objects. A literal array is written as a comma-separated list of values surrounded by square brackets. For example, <code>var numbers = [3, 7, 19];</code></p><p>There are three ways to declare and initialize a variable that holds a <code>List</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// type List&lt;int> is inferred</span><br><span class="token keyword">var</span> l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token comment">// type List&lt;int> is specified on the value</span><br><span class="token keyword">var</span> l1 <span class="token operator">=</span> <span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token comment">// type List&lt;int> is specified on the variable</span><br>List<span class="token operator">&lt;</span>int<span class="token operator">></span> l1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>To iterate over the elements of a <code>List</code>, use a <code>for/in</code> loop or the <code>forEach</code> method. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">const</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Maisey'</span><span class="token punctuation">,</span> <span class="token string">'Ramsay'</span><span class="token punctuation">,</span> <span class="token string">'Oscar'</span><span class="token punctuation">,</span> <span class="token string">'Comet'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> dog <span class="token keyword">in</span> dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Same as above.</span><br>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Same as above.</span><br>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Two lists can be concatenated to create a new <code>List</code> with the <code>+</code> operator. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> list3 <span class="token operator">=</span> list1 <span class="token operator">+</span> list2<span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span></code></pre><p>Literal lists can include logic to determine the elements to include. This is referred to as &quot;list comprehension&quot;. The following examples demonstrate this:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Creates a List of int values from start to end - 1</span><br><span class="token comment">// using the List.generate constructor.</span><br>Iterable<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">range</span><span class="token punctuation">(</span>int start<span class="token punctuation">,</span> int end<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>    List<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">,</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> start <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Get the squares of a odd numbers in the range [0, 10).</span><br>  <span class="token keyword">var</span> squares <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">pow</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Same using a different approach.</span><br>  <span class="token comment">// Get the squares of a odd numbers in the range [0, 10).</span><br>  squares <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">pow</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>squares<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 9, 25, 49, 81]</span><br><br>  <span class="token comment">// Find all the [x, y, z] values where</span><br>  <span class="token comment">// x^2 + y^2 = z^2 up to a maximum value of 20.</span><br>  <span class="token keyword">var</span> pythagorean <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> x <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> y <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// start at x</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> z <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// start at y</span><br>          <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> y <span class="token operator">*</span> y <span class="token operator">==</span> z <span class="token operator">*</span> z<span class="token punctuation">)</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">]</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pythagorean<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [[3, 4, 5], [5, 12, 13], [6, 8, 10], [8, 15, 17], [9, 12, 15]]</span><br><span class="token punctuation">}</span></code></pre><p>The <code>List</code> class is generic and implements extends from the <code>Iterable</code> class. It provides many constructors that support creating lists that are empty, filled to a given length with the same value, filled from another <code>Iterable</code> (either modifiable or unmodifiable), filled by a generator function,</p><p>In addition to the properties provided by the <code>Iterable</code> class, <code>List</code> objects support the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>reversed</code></td><td>an <code>Iterable</code> over the elements in reverse order</td></tr></tbody></table><p>In addition to the methods provided by the <code>Iterable</code> class, <code>List</code> objects support the following methods (some omitted):</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>add(E value)</code></td><td>adds an element</td></tr><tr><td><code>addAll(Iterable&lt;E&gt; iterable)</code></td><td>adds all the elements in another collection</td></tr><tr><td><code>clear()</code></td><td>removes all the elements</td></tr><tr><td><code>fillRange(int start, int end, [E? fillValue])</code></td><td>sets the elements in a range to a given value or null</td></tr><tr><td><code>getRange(int start, int end)</code></td><td>returns an <code>Iterable</code> over a range of elements</td></tr><tr><td><code>indexOf(E element, [int start = 0])</code></td><td>return the first index of a given element</td></tr><tr><td><code>indexWhere(bool test(E element), [int start = 0])</code></td><td>returns the index of the first element that passes the test</td></tr><tr><td><code>insert(int index, E element)</code></td><td>inserts an element at a given index</td></tr><tr><td><code>insertAll(int index, Iterable&lt;E&gt; iterable)</code></td><td>inserts all the elements in an <code>Iterable</code> at a given index</td></tr><tr><td><code>lastIndexOf(E element, [int? start])</code></td><td>returns the last index of a given element</td></tr><tr><td><code>lastIndexWhere(bool test(E element), [int? start])</code></td><td>returns the index of the last element that passes the test</td></tr><tr><td><code>remove(Object? value)</code></td><td>removes the first occurrence of an element</td></tr><tr><td><code>removeAt(int index)</code></td><td>removes the element at a given index</td></tr><tr><td><code>removeLast()</code></td><td>removes the last element; use <code>removeAt(0)</code> to remove first</td></tr><tr><td><code>removeRange(int start, int end)</code></td><td>removes the elements in a given range</td></tr><tr><td><code>removeWhere(bool test(E element))</code></td><td>removes all elements that pass a test</td></tr><tr><td><code>replaceRange(int start, int end, Iterable&lt;E&gt; replacements)</code></td><td>replaces elements in a given range with those in an <code>Iterable</code></td></tr><tr><td><code>retainWhere(bool test(E element))</code></td><td>removes all elements that do not pass a test</td></tr><tr><td><code>shuffle([Random? random])</code></td><td>randomly reorders the elements in place</td></tr><tr><td><code>sort([int compare(E a, E b)?])</code></td><td>sorts the elements in place using a <code>Comparator</code> function</td></tr><tr><td><code>sublist(int start, [int? end])</code></td><td>returns a new <code>List</code> that is a subset</td></tr></tbody></table><p>The <code>List</code> class supports the following operators:</p><table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code>+</code></td><td>returns a new <code>List</code> formed by concatenating two</td></tr><tr><td><code>==</code></td><td>returns <code>bool</code> indicating if operands are the same <code>List</code> in memory, not just contain same elements</td></tr><tr><td><code>[index]</code></td><td>returns the element at a given index</td></tr><tr><td><code>[index]=</code></td><td>sets the element at a given index</td></tr></tbody></table><h3 id="set-class">Set Class</h3><p>A <code>Set</code> is an unordered collection of unique values. A literal set is written as a comma-separated list of values surrounded by curly braces.</p><p>There are several ways to declare and initialize a variable that holds a <code>Set</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// type Set&lt;String> is inferred</span><br><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// type Set&lt;String> is specified on the value</span><br><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// type Set&lt;String> is specified on the variable</span><br>Set<span class="token operator">&lt;</span>String<span class="token operator">></span> colors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> colors <span class="token operator">=</span> Set<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// The following creates an empty Map, not an empty Set.</span><br><span class="token comment">// var colors = {};</span></code></pre><p>The literal syntax <code>&lt;value-type&gt;{}</code> creates an empty <code>Set</code>. The literal syntax <code>&lt;key-type, value-type&gt;{}</code> creates an empty <code>Map</code>. The literal syntax <code>{}</code> creates an empty <code>Map</code> with unspecified key and value types whose types must be inferred from the variable type. It does not create an empty <code>Set</code>.</p><p>No properties are added beyond those provided by the <code>Iterable</code> class.</p><p>In addition to the methods provided by the <code>Iterable</code> class, <code>Set</code> objects support the following methods (some omitted):</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>add(E value)</code></td><td>adds an element</td></tr><tr><td><code>addAll(Iterable&lt;E&gt; iterable)</code></td><td>adds all the elements in another collection</td></tr><tr><td><code>clear()</code></td><td>removes all the elements</td></tr><tr><td><code>contains(Object? value)</code></td><td>returns a <code>bool</code> indicating if an element is present</td></tr><tr><td><code>containsAll(Iterable&lt;Object&gt;? other)</code></td><td>returns a <code>bool</code> indicating if all the elements in an <code>Iterable</code> are present</td></tr><tr><td><code>difference(Set&lt;Object?&gt; other)</code></td><td>returns a new <code>Set</code> containing all elements in this one not found in <code>other</code></td></tr><tr><td><code>lookup(Object? object)</code></td><td>returns <code>object</code> if found in the <code>Set</code> or <code>null</code></td></tr><tr><td><code>remove(Object? value)</code></td><td>removes the first occurrence of an element</td></tr><tr><td><code>removeAll(Iterable&lt;Object?&gt; elements)</code></td><td>removes all the elements in an <code>Iterable</code></td></tr><tr><td><code>removeWhere(bool test(E element))</code></td><td>removes all elements that pass a test</td></tr><tr><td><code>retainAll(Iterable&lt;Object?&gt; elements)</code></td><td>removes all the elements not in an <code>Iterable</code></td></tr><tr><td><code>retainWhere(bool test(E element))</code></td><td>removes all elements that do not pass a test</td></tr><tr><td><code>union(Set&lt;E&gt; other)</code></td><td>returns a new <code>Set</code> containing all elements in this one and <code>other</code></td></tr></tbody></table><h3 id="map-class">Map Class</h3><p>A <code>Map</code> is a collection of key/value pairs. The keys and values can have any type. Unlike <code>List</code> and <code>Set</code>, this class is not a subclass of <code>Iterable</code>.</p><p>A literal map is written as a comma-separated list of pairs surrounded by curly braces. Each pair is written as a key followed by a colon and a value. When a key is a string, it must be delimited by single or double quotes.</p><p>There are several ways to declare and initialize a variable that holds a <code>Map</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// type Map&lt;String, int> is inferred</span><br><span class="token keyword">var</span> colorMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// type Map&lt;String, int> is specified on the value</span><br><span class="token keyword">var</span> colorMap <span class="token operator">=</span> <span class="token operator">&lt;</span>String<span class="token punctuation">,</span> int<span class="token operator">></span><span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// type Map&lt;String, int> is specified on the variable</span><br>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> int<span class="token operator">></span> colorMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// This map has String keys and values of any type.</span><br>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">></span> dog <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Comet'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'isFast'</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// The following creates an empty map where</span><br><span class="token comment">// keys and values both have the type dynamic.</span><br><span class="token keyword">var</span> myMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// same as Map()</span></code></pre><p>Values of <code>Map</code> keys can be retrieved with the <code>[]</code> operator. This returns a nullable value. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> colorMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'red'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>int<span class="token operator">?</span> number <span class="token operator">=</span> colorMap<span class="token punctuation">[</span><span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>number <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">'not found'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>number <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br><span class="token punctuation">}</span></code></pre><p>The spread operator <code>...</code> can be used to spread <code>Map</code> objects into others. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> map1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'apple'</span><span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">:</span> <span class="token string">'yellow'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> map2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'cherry'</span><span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">:</span> <span class="token string">'green'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> map3 <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token string">'lemon'</span><span class="token punctuation">:</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>map1<span class="token punctuation">,</span><br>  <span class="token string">'blueberry'</span><span class="token punctuation">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>map2<span class="token punctuation">,</span><br>  <span class="token string">'watermelon'</span><span class="token punctuation">:</span> <span class="token string">'pink'</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>map3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// all the key/value pairs</span></code></pre><p>The <code>Map</code> class provides the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>entries</code></td><td><code>Iterable</code> over <code>MapEntry</code> objects (have <code>key</code> and <code>value</code> properties)</td></tr><tr><td><code>isEmpty</code></td><td><code>bool</code> indicating if there are no key/value pairs</td></tr><tr><td><code>isNotEmpty</code></td><td><code>bool</code> indicating if there is at least one key/value pair</td></tr><tr><td><code>keys</code></td><td><code>Iterable</code> over keys</td></tr><tr><td><code>length</code></td><td>number of key/value pairs</td></tr><tr><td><code>values</code></td><td><code>Iterable</code> over values</td></tr></tbody></table><p>The <code>Map</code> class provides the following methods (some omitted):</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>addAll(Map&lt;K, V&gt; other)</code></td><td>adds all key/value pairs in another <code>Map</code> to this one</td></tr><tr><td><code>addEntries(Iterable&lt;MapEntry&lt;K, V&gt;&gt; newEntries)</code></td><td>adds all <code>MapEntry</code> objects in an <code>Iterable</code></td></tr><tr><td><code>clear()</code></td><td>removes all key/value pairs</td></tr><tr><td><code>containsKey(Object? key)</code></td><td>returns a <code>bool</code> indicating if a given key is present</td></tr><tr><td><code>containsValue(Object? value)</code></td><td>returns a <code>bool</code> indicating if a given value is present</td></tr><tr><td><code>forEach(void action(K key, V value)</code></td><td>executes a function on each key/value pair</td></tr><tr><td><code>map&lt;K2, V2&gt;(MapEntry&lt;K2, V2&gt; convert(K key, V value))</code></td><td>returns a new <code>Map</code> created by calling a function on each key/value pair</td></tr><tr><td><code>putIfAbsent(K key, V ifAbsent()</code></td><td>returns the value for a given key and adds a value if not present</td></tr><tr><td><code>remove(Object? key)</code></td><td>removes a key/value pair if present</td></tr><tr><td><code>removeWhere(bool test(K key, V value)</code></td><td>removes all key/value pairs that pass a test</td></tr><tr><td><code>update(K key, V update(V value)</code></td><td>updates the value for a given key to the value returned by a function</td></tr><tr><td><code>updateAll(V update(K key, V value)</code></td><td>updates all values to the value returned by a function</td></tr></tbody></table><p>The <code>MapEntry</code> class represents a single key/value pair from a <code>Map</code>. To create one, call the <code>MapEntry</code> constructor passing it a key and a value. These objects have <code>key</code> and <code>value</code> properties and a <code>toString</code> method.</p><h2 id="print">Print</h2><p>The <code>print</code> function takes a single argument and writes it to stdout.</p><p>If the argument is not a <code>String</code>, it will be converted to a <code>String</code> by calling the <code>toString</code> method of the value. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><br>  String name<span class="token punctuation">;</span><br>  String breed<span class="token punctuation">;</span><br><br>  <span class="token comment">// Shorthand constructor - see Class section</span><br>  <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>breed<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Methods that override a superclass method should</span><br>  <span class="token comment">// be annotated with @override.  In this case we are</span><br>  <span class="token comment">// overriding the toString method in the Object class.</span><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'$name is a $breed.'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token string">'Comet'</span><span class="token punctuation">,</span> <span class="token string">'Whippet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Comet is a Whippet.</span><br><span class="token punctuation">}</span></code></pre><h2 id="additional-core-classes">Additional Core Classes</h2><p>The <code>dart:core</code> package defines all the basic types like <code>bool</code>, <code>int</code>, <code>double</code>, and <code>String</code>. It also defines collection types like <code>List</code>, <code>Set</code>, and <code>Map</code>. Highlights of other classes defined in <code>dart:core</code> are described below.</p><h3 id="datetime-class">DateTime class</h3><p>The <code>DateTime</code> class is used to create objects that represent an instant in time. The constructor requires and <code>int</code> value for the year and optionally accepts <code>int</code> values for the month, day, hour, minute, second, and milliseconds. The month and day default to one. The minute, second, and milliseconds default to zero. Other ways to create <code>DateTime</code> objects include the static <code>parse</code> method and the constructors <code>DateTime.fromMillisecondsSinceEpoch</code>, <code>DateTime.now</code>, and <code>DateTime.utc</code>.</p><p>The following code demonstrates various ways to create <code>DateTime</code> objects.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> birthday <span class="token operator">=</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// in local time</span><br><span class="token keyword">var</span> birthdayUtc <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">utc</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// in UTC</span><br><span class="token keyword">var</span> nowLocal <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// in local time</span><br><br><span class="token comment">// Defaults to local time, but can request UTC.</span><br><span class="token keyword">var</span> epoch <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">fromMillisecondsSinceEpoch</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> isUtc<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>epoch<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1970-01-01 00:00:00.000Z</span></code></pre><p>There isn't an easy way to create <code>DateTime</code> objects for timezones other than the local one and UTC.</p><p>The <code>DateTime.parse</code> constructor takes a string that matches a subset of ISO 8601 of the standard. Examples include <code>'1961-04-16 10:19:00'</code> (local time zone), <code>'19610416T101900'</code> (same with T separating date from time), and <code>'1961-04-16 10:19:00Z'</code> (UTC).</p><p>The <code>DateTime</code> class defines the following constants:</p><ul><li><p><code>daysPerWeek</code> (7)</p></li><li><p><code>monthsPerYear</code> (12)</p></li><li><p><code>january</code> (1)</p></li><li><p><code>february</code> (2)</p></li><li><p><code>march</code> (2)</p></li><li><p><code>april</code> (4)</p></li><li><p><code>may</code> (5)</p></li><li><p><code>june</code> (6)</p></li><li><p><code>july</code> (7)</p></li><li><p><code>august</code> (8)</p></li><li><p><code>september</code> (9)</p></li><li><p><code>october</code> (10)</p></li><li><p><code>november</code> (11)</p></li><li><p><code>december</code> (12)</p></li><li><p><code>monday</code> (1)</p></li><li><p><code>tuesday</code> (2)</p></li><li><p><code>wednesday</code> (3)</p></li><li><p><code>thursday</code> (4)</p></li><li><p><code>friday</code> (5)</p></li><li><p><code>saturday</code> (6)</p></li><li><p><code>sunday</code> (7)</p></li></ul><p>The <code>DateTime</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>day</code></td><td>day of month; 1 to 31</td></tr><tr><td><code>hour</code></td><td>0 to 23</td></tr><tr><td><code>isUtc</code></td><td><code>bool</code></td></tr><tr><td><code>millisecond</code></td><td>0 to 999</td></tr><tr><td><code>millisecondsSinceEpoch</code></td><td>milliseconds since 1970-01-01T00:00:00Z</td></tr><tr><td><code>minute</code></td><td>0 to 59</td></tr><tr><td><code>month</code></td><td>1 to 12</td></tr><tr><td><code>second</code></td><td>0 to 59</td></tr><tr><td><code>timeZoneName</code></td><td>timezone abbreviation such as CST</td></tr><tr><td><code>timeZoneOffset</code></td><td>difference from UTC (ex. -6:00:00.00-0.0)</td></tr><tr><td><code>weekday</code></td><td>MONDAY (1) to SUNDAY (7)</td></tr><tr><td><code>year</code></td><td>includes all digits (4 for current year)</td></tr></tbody></table><p>The <code>DateTime</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>add(Duration duration)</code></td><td>returns new <code>DateTime</code> with duration added</td></tr><tr><td><code>compareTo(DateTime other)</code></td><td>returns comparator value, often used for sorting</td></tr><tr><td><code>difference(DateTime other)</code></td><td>returns <code>Duration</code> between receiver and other</td></tr><tr><td><code>isAfter(DateTime other)</code></td><td>returns <code>bool</code> indicating if receiver is after other</td></tr><tr><td><code>isAtSameMomentAs(DateTime other)</code></td><td>returns <code>bool</code> indicating if receiver is at same moment as other, regardless of time zone</td></tr><tr><td><code>isBefore()</code></td><td>returns <code>bool</code> indicating if receiver is before other</td></tr><tr><td><code>subtract()</code></td><td>returns new <code>DateTime</code> with duration subtracted</td></tr><tr><td><code>toIso8601String()</code></td><td>returns <code>String</code> in format 'yyyy-MM-ddTHH:mm:ss.sssZ, omitting Z if not UTC</td></tr><tr><td><code>toLocal()</code></td><td>returns <code>DateTime</code> converted to local</td></tr><tr><td><code>toString()</code></td><td>returns <code>String</code> in human-readable format</td></tr><tr><td><code>toUtc()</code></td><td>returns <code>DateTime</code> converted to UTC</td></tr></tbody></table><h3 id="duration-class">Duration class</h3><p>The <code>Duration</code> class is used to create objects that represent a span to time. The constructor takes the following named parameters that are all optional and default to zero: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, and <code>microseconds</code>.</p><p>The <code>Duration</code> class defines the following constants:</p><ul><li><code>hoursPerDay</code></li><li><code>microsecondsPerDay</code></li><li><code>microsecondsPerHour</code></li><li><code>microsecondsPerMillisecond</code></li><li><code>microsecondsPerMinute</code></li><li><code>microsecondsPerSecond</code></li><li><code>millisecondsPerDay</code></li><li><code>millisecondsPerHour</code></li><li><code>millisecondsPerMinute</code></li><li><code>millisecondsPerSecond</code></li><li><code>minutesPerDay</code></li><li><code>minutesPerHour</code></li><li><code>secondsPerDay</code></li><li><code>secondsPerHour</code></li><li><code>secondsPerMinute</code></li><li><code>zero</code></li></ul><p>The <code>Duration</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>inDays</code></td><td><code>int</code> number of whole days</td></tr><tr><td><code>inHours</code></td><td><code>int</code> number of whole hours</td></tr><tr><td><code>inMicroseconds</code></td><td><code>int</code> number of whole microseconds</td></tr><tr><td><code>inMilliseconds</code></td><td><code>int</code> number of whole milliseconds</td></tr><tr><td><code>inMinutes</code></td><td><code>int</code> number of whole minutes</td></tr><tr><td><code>inSeconds</code></td><td><code>int</code> number of whole seconds</td></tr><tr><td><code>isNegative</code></td><td><code>bool</code> indicating if negative</td></tr></tbody></table><p>The <code>Duration</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>abs()</code></td><td>returns new <code>Duration</code> that is the absolute value of the receiver</td></tr><tr><td><code>compareTo(Duration other)</code></td><td>returns comparator value, often used for sorting</td></tr><tr><td><code>toString()</code></td><td>returns <code>String</code> representation</td></tr></tbody></table><h3 id="regular-expressions">Regular Expressions</h3><p>A <code>Pattern</code> is a <code>RegExp</code> or <code>String</code> object.</p><p>Dart regular expressions use the same syntax as JavaScript regular expressions.</p><p>A <code>RegExp</code> object is created with <code>RegExp(r'reg-ex-here');</code>. Recall that placing &quot;r&quot; before a literal string creates a &quot;raw string&quot; that doesn't treat the <code>\</code> character specially.</p><p>The <code>RegExp</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>isCaseSensitive</code></td><td><code>bool</code> indicating if matches are case-sensitive (defaults to <code>true</code>)</td></tr><tr><td><code>isDotAll</code></td><td><code>bool</code> indicating if periods should match line terminators (defaults to <code>false</code>)</td></tr><tr><td><code>isMultiline</code></td><td><code>bool</code> indicating if multiline matching will be performed (defaults to <code>false</code>)</td></tr><tr><td><code>isUnicode</code></td><td><code>bool</code> indicating if whether Unicode matching will be performed (defaults to <code>false</code>)</td></tr><tr><td><code>pattern</code></td><td>regular expression as a <code>String</code></td></tr></tbody></table><p>The <code>RegExp</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>allMatches(String input, [int start = 0])</code></td><td>returns <code>Iterable&lt;RegExpMatch&gt;</code> for iterating over matches</td></tr><tr><td><code>firstMatch(String input)</code></td><td>returns <code>RegExpMatch?</code> for first match found or null</td></tr><tr><td><code>hasMatch(String input)</code></td><td>returns <code>bool</code> indicating if a match was found</td></tr><tr><td><code>matchAsPrefix(String input, [int start = 0])</code></td><td>returns a <code>Match?</code> that is null unless a match is found at the start</td></tr><tr><td><code>stringMatch(String input)</code></td><td>returns a <code>String?</code> substring of first match in input or null (ignores capture groups)</td></tr></tbody></table><p>The following example creates a regular expression that matches strings starting with &quot;The &quot; and ending with &quot; win.&quot;. It captures all the characters in between.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">r'^The (.+) win\.$'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'The St. Louis Blues win.'</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> match <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token function">firstMatch</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>match <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// St. Louis Blues</span><br><span class="token punctuation">}</span></code></pre><p>The optional named constructor parameter <code>multiLine</code> has a <code>bool</code> value that indicates whether it should match at the beginning and end of every line. This defaults to <code>false</code>.</p><p>The optional named constructor parameter <code>caseSensitive</code> has a <code>bool</code> value that indicates whether matching should be case-sensitive. This defaults to <code>true</code>.</p><p>The <code>RegExpMatch</code> class extends the <code>Match</code> class. Instances of this class describe a regular expression matching result.</p><p>The <code>RegExpMatch</code> class defines the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>end</code></td><td>index where the match ends plus 1</td></tr><tr><td><code>groupCount</code></td><td>number of captured groups</td></tr><tr><td><code>input</code></td><td>entire string from which the match was found</td></tr><tr><td><code>pattern</code></td><td>a <code>Pattern</code> object describing the matching pattern</td></tr><tr><td><code>start</code></td><td>index where the match begins</td></tr></tbody></table><p>The <code>RegExpMatch</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>group(int groupIndex)</code></td><td><code>String</code> matched at a given group index</td></tr><tr><td><code>groups(List&lt;int&gt; groupIndices)</code></td><td>List of <code>String</code> values matched at specified group indices</td></tr></tbody></table><p>The <code>[index]</code> operator can be used in place of the <code>group</code> method retrieve the same value.</p><h3 id="stopwatch-class">Stopwatch Class</h3><p>The <code>Stopwatch</code> class is used to measure elapsed time in a section of code.</p><p>The <code>Stopwatch</code> class defines the following properties.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>elapsed</code></td><td><code>elapsedTicks</code> converted to a <code>Duration</code></td></tr><tr><td><code>elapsedMicroseconds</code></td><td><code>int</code> microseconds (1e-6 second)</td></tr><tr><td><code>elapsedMilliseconds</code></td><td><code>int</code> milliseconds (1e-3 second)</td></tr><tr><td><code>elapsedTicks</code></td><td>number clock ticks</td></tr><tr><td><code>frequency</code></td><td>number of ticks in a second</td></tr><tr><td><code>isRunning</code></td><td><code>bool</code> indicating if the stopwatch is running</td></tr></tbody></table><p>The number of clock &quot;ticks&quot; in a second is equal to the <code>frequency</code> property. A common value is 1,000,000.</p><p>The <code>elapsedTicks</code> property has the same value as <code>elapsedMicroseconds</code> if <code>frequency</code> is 1e6.</p><p>The <code>Stopwatch</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>reset()</code></td><td>resets all the <code>elapsed*</code> properties to zero</td></tr><tr><td><code>start()</code></td><td>starts the stopwatch</td></tr><tr><td><code>stop()</code></td><td>stops the stopwatch</td></tr></tbody></table><p>The following code demonstrates using the <code>Stopwatch</code> class:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> sw <span class="token operator">=</span> <span class="token function">Stopwatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  sw<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    sum <span class="token operator">+=</span> <span class="token function">pow</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">as</span> int<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  sw<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'elapsed = ${sw.elapsed.inMilliseconds} ms'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h3 id="stringbuffer-class">StringBuffer Class</h3><p>The <code>StringBuffer</code> class supports efficient, incremental building of strings. It defines the following properties.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>isEmpty</code></td><td><code>bool</code> indicating whether <code>length</code> == 0</td></tr><tr><td><code>isNotEmpty</code></td><td><code>bool</code> indicating whether <code>length</code> &gt;= 0</td></tr><tr><td><code>length</code></td><td>number of code points</td></tr></tbody></table><p>The <code>StringBuffer</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>clear()</code></td><td>clears all code points</td></tr><tr><td><code>toString()</code></td><td><code>String</code> equivalent</td></tr><tr><td><code>write(Object? object)</code></td><td>writes <code>String</code> representation of <code>object</code></td></tr><tr><td><code>writeAll(Iterable objects, [String separator = ''])</code></td><td>writes <code>String</code> representation of all objects in an <code>Iterable</code> with an optional separator</td></tr><tr><td><code>writeCharCode(int charCode)</code></td><td>writes a single code point</td></tr><tr><td><code>writeln([Object? obj = ''])</code></td><td>same as <code>write(Object? object)</code>, but adds newline</td></tr></tbody></table><h3 id="timer-class">Timer class</h3><p>The <code>Timer</code> class executes a callback function after a given <code>Duration</code> either once or repeatedly. It provides capabilities similar to the JavaScript functions <code>setTimeout</code> and <code>setInterval</code>. The <code>Timer</code> class is defined in the <code>dart:async</code> package which must be imported.</p><p>The following example demonstrates creating <code>Timers</code> that fire just once and repeatedly:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'starting timer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">Timer</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'finished timer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">//timer.cancel();</span><br><br>  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  Timer<span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'isActive = ${timer.isActive}; tick = ${timer.tick}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    count<span class="token operator">++</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">>=</span> <span class="token number">5</span><span class="token punctuation">)</span> timer<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h3 id="uri-class">Uri Class</h3><p>The <code>Uri</code> class represents a parsed URI. It provides many constructors for creating a <code>Uri</code> object.</p><p>The <code>Uri</code> class defines the following properties.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>authority</code></td><td>same <code>String</code> value as <code>host</code></td></tr><tr><td><code>data</code></td><td><code>UriData</code> object describing a data URI</td></tr><tr><td><code>fragment</code></td><td><code>String</code> hash portion without leading <code>#</code></td></tr><tr><td><code>hasAbsolutePath</code></td><td><code>bool</code> indicating whether the URI has an absolute path</td></tr><tr><td><code>hasAuthority</code></td><td><code>bool</code> indicating whether the URI has an authority (or domain) part</td></tr><tr><td><code>hasEmptyPath</code></td><td><code>bool</code> indicating whether the URI is missing a path</td></tr><tr><td><code>hasFragment</code></td><td><code>bool</code> indicating whether the URI has a fragment (or hash) part</td></tr><tr><td><code>hasPort</code></td><td><code>bool</code> indicating whether the URI has a specified port</td></tr><tr><td><code>hasQuery</code></td><td><code>bool</code> indicating whether the URI has query parameters</td></tr><tr><td><code>hasScheme</code></td><td><code>bool</code> indicating whether the URI has a specified scheme such as &quot;https&quot;</td></tr><tr><td><code>host</code></td><td><code>String</code> domain</td></tr><tr><td><code>isAbsolute</code></td><td><code>bool</code> indicating whether the URI is absolute; false for relative</td></tr><tr><td><code>origin</code></td><td><code>String</code> <code>scheme</code> and <code>host</code> combined</td></tr><tr><td><code>path</code></td><td><code>String</code> path portion that follows <code>host</code></td></tr><tr><td><code>pathSegments</code></td><td><code>List&lt;String&gt;</code> of <code>path</code> parts</td></tr><tr><td><code>port</code></td><td><code>int</code> port that optionally follows <code>host</code></td></tr><tr><td><code>query</code></td><td><code>String</code> containing all query parameters</td></tr><tr><td><code>queryParameters</code></td><td><code>Map&lt;String, String&gt;</code> of all query parameters</td></tr><tr><td><code>queryParametersAll</code></td><td><code>Map&lt;String, List&lt;String&gt;&gt;</code> of all query parameters including duplicates</td></tr><tr><td><code>scheme</code></td><td><code>String</code> such as &quot;http&quot;, &quot;https&quot;, or &quot;data&quot;</td></tr><tr><td><code>userInfo</code></td><td><code>String</code> optional username and password that can precede <code>host</code></td></tr></tbody></table><p>The <code>Uri</code> class defines the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>isScheme(String scheme)</code></td><td>returns <code>Bool</code> indicating whether the URI has a given scheme</td></tr><tr><td><code>normalizedPath()</code></td><td>returns a new <code>Uri</code> object that is normalized</td></tr><tr><td><code>removeFragment()</code></td><td>returns a new <code>Uri</code> without the fragment (or hash) portion</td></tr><tr><td><code>replace(...)</code></td><td>returns a new <code>Uri</code> with given parts replaced</td></tr><tr><td><code>resolve(String reference)</code></td><td>returns a new <code>Uri</code> resolved relative to a URL <code>String</code></td></tr><tr><td><code>resolveUri(Uri reference)</code></td><td>returns a new <code>Uri</code> resolved relative to another <code>Uri</code></td></tr><tr><td><code>toFilePath({bool? windows})</code></td><td>returns corresponding <code>String</code> file path</td></tr><tr><td><code>toString()</code></td><td>returns <code>String</code> representation</td></tr></tbody></table><p>The following code demonstrates parsing a URL string using the static <code>parse</code> method and extracting its components from fields of a <code>Uri</code> object. There are many other static methods not described here.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'https://mvolkmann.github.io/foo/bar?color=yellow&amp;size=10#my-hash'</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> uri <span class="token operator">=</span> Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'scheme = ${uri.scheme}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// https</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'authority = ${uri.authority}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mvolkmann.github.io</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'host = ${uri.host}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// mvolkmann.github.io</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'port = ${uri.port}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 443?</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'origin = ${uri.origin}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// https://mvolkmann.github.io</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'path = ${uri.path}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /foo/bar</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'pathSegments = ${uri.pathSegments}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['foo', 'bar']</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'query = ${uri.query}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// color=yellow&amp;size=10</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'queryParametersAll = ${uri.queryParametersAll}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {color: [yellow], size: [10]}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'fragment = ${uri.fragment}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// my-hash</span></code></pre><h2 id="spread-operators">Spread Operators</h2><p>The spread operator <code>...</code> spreads a collection inside another.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> moreColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>colors<span class="token punctuation">,</span> <span class="token string">'white'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>moreColors<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> fruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token string">'cherry'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> moreFruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>fruits<span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>moreFruits<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The null-aware spread operator <code>...?</code> only spreads when the value is not null.</p><pre class="language-dart"><code class="language-dart">Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> String<span class="token operator">></span><span class="token operator">?</span> maybeFruits<span class="token punctuation">;</span><br><span class="token keyword">var</span> evenMoreFruits <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>fruits<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">?</span>maybeFruits<span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>evenMoreFruits<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The spread operator cannot be used to expand a <code>List</code> into function arguments. Use that static method <code>Function.apply</code> for this purpose.</p><h2 id="nullable-values">Nullable Values</h2><p>Dart provides special operators for dealing with nullable values. The following example demonstrates these.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> random <span class="token operator">=</span> <span class="token function">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>String<span class="token operator">?</span> <span class="token function">randomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> random<span class="token punctuation">.</span><span class="token function">nextBool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'test'</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  String<span class="token operator">?</span> s<span class="token punctuation">;</span><br>  s <span class="token operator">=</span> <span class="token function">randomString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'test' or null</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'s = $s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// The ?. operator evaluates to null if the value on the left is null.</span><br>  <span class="token comment">// Otherwise it evaluates to the property or method on the right.</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// The ?? operator provides an alternative value to use</span><br>  <span class="token comment">// if the value on the left is null.</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">'missing value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// The ??= operator assigns a value to a variable</span><br>  <span class="token comment">// only if the variable value is currently null.</span><br>  s <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">=</span> <span class="token string">'supplied value'</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// The !. operator asserts that the value on the left is not null.</span><br>  <span class="token comment">// It essentially casts away nullability.</span><br>  <span class="token comment">// s! here is equivalent to (s as String).</span><br>  <span class="token comment">// The program will crash with "Script error." if it is null.</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="functions">Functions</h2><p>Dart functions are represented by objects from the <code>Function</code> class. They are first class which means they can be assigned variables, passed to other functions, and returned from other functions.</p><p>All Dart functions, including anonymous ones, are closures. This means they have access to in-scope variables declared outside the function.</p><p>Named function definitions have the following syntax:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">return</span><span class="token operator">-</span>type fn<span class="token operator">-</span><span class="token function">name</span><span class="token punctuation">(</span>parameter<span class="token operator">-</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  statements<br><span class="token punctuation">}</span></code></pre><p>Functions with a return type other than <code>void</code> must return a value or throw an exception/error. Functions with a return type of <code>void</code> always return <code>null</code>.</p><p>Anonymous functions have similar syntax, but the name is omitted and the return type is inferred.</p><pre class="language-dart"><code class="language-dart"><span class="token punctuation">(</span>parameter<span class="token operator">-</span>list <span class="token punctuation">{</span><br>   statements<br><span class="token punctuation">}</span></code></pre><p>Functions that only return the value of a single expression can use a shorthand syntax where <code>=&gt; expression;</code> is short for <code>{ return expression; }</code>.</p><p>Specifying parameter types and the return type are optional. For example, the following is a valid function definition:</p><pre class="language-dart"><code class="language-dart"><span class="token function">add</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span></code></pre><p>Functions can have both positional and named parameters and each of these can be required or optional. The order of these in both function declarations and calls to functions must be required positional parameters, followed by optional positional parameters, followed by named parameters in any order.</p><p>A future version of Dart will allow named parameters to appear anywhere in an argument list. See <a href="https://github.com/dart-lang/sdk/issues/47451?v=1.0.18" rel="noopener" target="_blank">issue 47451</a>.</p><p>Required positional parameters cannot be given default values. Optional positional parameters must appear inside square brackets after the required positional parameters. They must either have a default value or an optional type (ending with <code>?</code>).</p><p>In the following example, <code>req1</code> and <code>req2</code> are required parameters and <code>opt1</code> and <code>opt2</code> are optional. If only two arguments are passed, <code>opt1</code> is set to its default value of <code>0</code> and <code>opt2</code> is set to <code>null</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token function">demo</span><span class="token punctuation">(</span>int req1<span class="token punctuation">,</span> int req2<span class="token punctuation">,</span> <span class="token punctuation">[</span>int opt1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> int<span class="token operator">?</span> opt2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token punctuation">}</span></code></pre><p>Named parameters are declared inside curly braces. These must follow all the positional parameters, if any. Named parameters are optional by default and must either have a default value or a nullable type (ending with <code>?</code>). Default values can be preceded by <code>=</code> or <code>:</code>, but <code>=</code> is preferred. To make a named parameter required, add the <code>required</code> keyword before its type. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// In this version, the named parameter "by" is required.</span><br><span class="token comment">//int multiply(int n, {required int by}) => n * by;</span><br><br><span class="token comment">// In this version, the named parameter "by" is optional.</span><br>int <span class="token function">multiply</span><span class="token punctuation">(</span>int n<span class="token punctuation">,</span> <span class="token punctuation">{</span>int by <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">*</span> by<span class="token punctuation">;</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span><br><span class="token punctuation">}</span></code></pre><p>Dart does not support variadic functions which are functions that accept a variable number of arguments.</p><p>There are three ways to call a function, using the function invocation operator <code>()</code>, the <code>call</code> instance method, and the static <code>apply</code> method. The following code demonstrates these:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// This function takes two required positional parameters</span><br><span class="token comment">// and two optional named parameters.</span><br>num <span class="token function">sum</span><span class="token punctuation">(</span>num n1<span class="token punctuation">,</span> num n2<span class="token punctuation">,</span> <span class="token punctuation">{</span>num<span class="token operator">?</span> min<span class="token punctuation">,</span> num<span class="token operator">?</span> max<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> result <span class="token operator">=</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">&lt;</span> min<span class="token punctuation">)</span> <span class="token keyword">return</span> min<span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">></span> max<span class="token punctuation">)</span> <span class="token keyword">return</span> max<span class="token punctuation">;</span><br>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span>sum<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>sum<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span><br><br>  <span class="token comment">// First argument to apply is a function to call.</span><br>  <span class="token comment">// Second argument to apply is an optional List of positional arguments.</span><br>  <span class="token comment">// Third argument to apply is an optional Map&lt;Symbol, dynamic> of named arguments.</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">Function</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">Function</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>#min<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">Function</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>#min<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> #max<span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 19</span><br><span class="token punctuation">}</span></code></pre><p>The spread operator cannot be used to expand a <code>List</code> into function arguments. However, the static <code>apply</code> method on the <code>Function</code> class (shown above) can be used for this purpose.</p><p>Anonymous function definitions are written like named function definitions, but omit the name. Unlike in JavaScript, parentheses are required around the parameter list even when there is only one parameter. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Trailing commas are allowed after the last parameter in function definitions and after the last argument in function calls. This causes <code>dart format</code> to place each parameter or argument on a separate line.</p><p>Functions that do not explicitly return a value evaluate to <code>null</code>.</p><h2 id="generator-functions">Generator Functions</h2><p>Generator functions generate values on demand in a lazy fashion. The values it generates are not computed until they are requested.</p><p>Generator functions use the <code>yield</code> keyword to return a single value. They can also use the <code>yield*</code> keyword to return all the values from another generator function individually. This serves as a shorter alternative to iterating over the values from another generator and returning each one.</p><p>Synchronous generator functions include the <code>sync*</code> keyword after the parameter list and before the body. They always return an <code>Iterator</code> and must generate a value as soon as requested.</p><p>The following synchronous generator function generates <code>int</code> values in a given range which can be open-ended.</p><pre class="language-dart"><code class="language-dart">Iterable<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">range</span><span class="token punctuation">(</span>int start<span class="token punctuation">,</span> <span class="token punctuation">[</span>int<span class="token operator">?</span> end<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">sync*</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">yield</span> i<span class="token operator">++</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">yield</span> i<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This demonstrates several ways to use the "range" function.</span><br><span class="token comment">// All except the last print the numbers 1 through 5.</span><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// Prints the first five positive integers that are multiples of 3</span><br>  <span class="token comment">// which are 3, 6, 9, 12, and 15.</span><br>  <span class="token function">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The <code>Iterable</code> <code>generator</code> method provides an easy way to generate a fixed number of values. It is passed the number of values to generate and a function that takes an index and returns a computed value. For example, the <code>range</code> function above can be replaced by the following if an end value is always supplied.</p><pre class="language-dart"><code class="language-dart">Iterable<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">range</span><span class="token punctuation">(</span>int start<span class="token punctuation">,</span> int end<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> count <span class="token operator">=</span> end <span class="token operator">-</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> Iterable<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> index <span class="token operator">+</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Asynchronous generator functions are sometimes useful, but not frequently used. They include the <code>async*</code> keyword after the parameter list and before the body. They always return a <code>Stream</code> and can return a <code>Future</code> for values that will be computed later.</p><p>The following asynchronous generator function reads text files containing player scores on separate lines. Each file contains the scores of a single player.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'dart:io'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">PlayerAverage</span> <span class="token punctuation">{</span><br>  String player<span class="token punctuation">;</span><br>  double average<span class="token punctuation">;</span><br><br>  <span class="token function">PlayerAverage</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>average<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'$player average score is $average.'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>Stream<span class="token operator">&lt;</span>PlayerAverage<span class="token operator">></span> <span class="token function">computeAverageScores</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>String<span class="token operator">></span> players<span class="token punctuation">)</span> <span class="token keyword">async*</span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> player <span class="token keyword">in</span> players<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> lines <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'scores-$player.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">readAsLines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> total <span class="token operator">=</span> lines<span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>int acc<span class="token punctuation">,</span> String line<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> acc <span class="token operator">+</span> int<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> average <span class="token operator">=</span> total <span class="token operator">/</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$player average is $average.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">yield</span> <span class="token function">PlayerAverage</span><span class="token punctuation">(</span>player<span class="token punctuation">,</span> average<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> players <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Mark'</span><span class="token punctuation">,</span> <span class="token string">'Tami'</span><span class="token punctuation">,</span> <span class="token string">'Amanda'</span><span class="token punctuation">,</span> <span class="token string">'Jeremy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  PlayerAverage<span class="token operator">?</span> winner<span class="token punctuation">;</span><br>  <span class="token comment">// Note the use of "async for" to iterate over</span><br>  <span class="token comment">// values in a Stream inside an async function.</span><br>  <span class="token comment">// Only use this when it is certain that the Stream will complete.</span><br>  <span class="token keyword">await</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> result <span class="token keyword">in</span> <span class="token function">computeAverageScores</span><span class="token punctuation">(</span>players<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>winner <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> result<span class="token punctuation">.</span>average <span class="token operator">></span> winner<span class="token punctuation">.</span>average<span class="token punctuation">)</span> winner <span class="token operator">=</span> result<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>winner <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><br>      <span class="token string">'The winner is ${winner.player} '</span><br>      <span class="token string">'with an average score of ${winner.average}.'</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="conditional-logic">Conditional Logic</h2><p>Dart supports two statements for implementing conditional logic, <code>if</code> and <code>switch</code>. It also supports the ternary operator <code>? :</code>.</p><p>The condition specified in an <code>if</code> statement must be an expression that evaluates to a <code>bool</code> value.</p><p>Here are examples of <code>if</code> statements.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">if</span> <span class="token punctuation">(</span>temperature <span class="token operator">&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'stay inside'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// braces are optional</span><br><br><span class="token keyword">if</span> <span class="token punctuation">(</span>temperature <span class="token operator">></span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'hot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>temperature <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'cold'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'comfortable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The <code>switch</code> statement compares values of type <code>int</code> or <code>String</code>, enumerated types, or compile-time constants. Curly braces around the cases are required. Here is an example of a <code>switch</code> statement.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue <span class="token punctuation">}</span><br><span class="token keyword">var</span> color <span class="token operator">=</span> Color<span class="token punctuation">.</span>green<span class="token punctuation">;</span><br><span class="token keyword">switch</span> <span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>red<span class="token punctuation">:</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'hot'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">break</span><span class="token punctuation">;</span><br>  <span class="token keyword">case</span> Color<span class="token punctuation">.</span>blue<span class="token punctuation">:</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'cold'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">break</span><span class="token punctuation">;</span><br>  <span class="token keyword">default</span><span class="token punctuation">:</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'comfortable'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>When an <code>enum</code> value is being evaluated, the <code>default</code> clause is required unless there is a <code>case</code> for each possible value.</p><p>The ternary operator selects a value based on boolean expressions. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">print</span><span class="token punctuation">(</span>coinSide <span class="token operator">==</span> <span class="token string">'heads'</span> <span class="token operator">?</span> <span class="token string">'You win.'</span> <span class="token punctuation">:</span> <span class="token string">'You lose.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">var</span> assessment <span class="token operator">=</span><br>  temperature <span class="token operator">>=</span> <span class="token number">80</span> <span class="token operator">?</span> <span class="token string">'hot'</span> <span class="token punctuation">:</span><br>  temperature <span class="token operator">&lt;=</span> <span class="token number">32</span> <span class="token operator">?</span> <span class="token string">'cold'</span> <span class="token punctuation">:</span><br>  <span class="token string">'comfortable'</span><span class="token punctuation">;</span></code></pre><p>The <code>assert</code> statement asserts that a condition is true. If it is not, an optional message is printed and the program exits with an <code>AssertionError</code>. These statements are only executed when enabled. To run a Dart program with asserts enabled, enter <code>dart run --enable-assert</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">worldEnding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'So long.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="iteration">Iteration</h2><p>Dart supports three statements for implementing iteration, <code>for</code>, <code>while</code>, and <code>do-while</code>. The condition specified in each of these must be an expression that evaluates to a <code>bool</code> value. The <code>for</code> and <code>while</code> loops are top-tested. They perform a test at the beginning of each iteration and so may not execute their bodies at all. The <code>do-while</code> loop is bottom-tested. It performs a test after each iteration and so will always execute the body at least once</p><p>Here are examples of each:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 to 5; braces are optional</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 to 5</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Maisey'</span><span class="token punctuation">,</span> <span class="token string">'Ramsay'</span><span class="token punctuation">,</span> <span class="token string">'Oscar'</span><span class="token punctuation">,</span> <span class="token string">'Comet'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> dog <span class="token keyword">in</span> dogs<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// each dog name; braces are optional</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> dog <span class="token keyword">in</span> dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// each dog name</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br><span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 to 5</span><br>  i<span class="token operator">++</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">do</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6 to 1</span><br>  i<span class="token operator">--</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>All three kinds of loops support the <code>break</code> and <code>continue</code> statements. The <code>break</code> statement exits the loop. The <code>continue</code> statement skips the remainder of the current iteration and proceeds to the beginning of the next iteration, if any.</p><h2 id="exception-handling">Exception Handling</h2><p>To throw an exception, use the <code>throw</code> keyword followed by any object. Typically the object is one that extends from <code>Exception</code> or <code>Error</code>, but this is not required. For example, throwing a <code>String</code> is allowed.</p><p>For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">throw</span> <span class="token function">FormatException</span><span class="token punctuation">(</span><span class="token string">'invalid phone number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>In general exception can be caught and handled, but errors should result in the program terminating.</p><p>Builtin <code>Exception</code> subclasses include <code>FormatException</code>, <code>IOException</code>, <code>TimeoutException</code>, and more.</p><p>Builtin <code>Error</code> subclasses include <code>ArgumentError</code>, <code>AssertionError</code>, <code>OutOfMemoryError</code>, <code>TypeError</code>, <code>UnimplementedError</code>, and more. Custom subclasses or <code>Exception</code> and <code>Error</code> can also be defined.</p><p>Custom exception classes can be created by defining and instantiating classes that implement <code>Exception</code> or <code>Error</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">RangeException</span> <span class="token keyword">implements</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><br>  String message<span class="token punctuation">;</span><br><br>  <span class="token function">RangeException</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> message<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Range</span> <span class="token punctuation">{</span><br>  num lower<span class="token punctuation">;</span><br>  num upper<span class="token punctuation">;</span><br><br>  <span class="token function">Range</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>lower<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>upper<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  bool <span class="token function">includes</span><span class="token punctuation">(</span>num value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> lower <span class="token operator">&lt;=</span> value <span class="token operator">&amp;&amp;</span> value <span class="token operator">&lt;=</span> upper<span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">assertIncludes</span><span class="token punctuation">(</span>num value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> lower<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">throw</span> <span class="token function">RangeException</span><span class="token punctuation">(</span><span class="token string">'value $value is less than lower bound $lower'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">></span> upper<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">throw</span> <span class="token function">RangeException</span><span class="token punctuation">(</span><span class="token string">'value $value is greater than upper bound $upper'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>To catch an exception, use the <code>try</code>, <code>catch</code>, and <code>finally</code> keywords. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">try</span> <span class="token punctuation">{</span><br>  <span class="token comment">// code that can throw</span><br><span class="token punctuation">}</span> <span class="token keyword">on</span> FormatException <span class="token punctuation">{</span><br>  <span class="token comment">// catching a specific kind of exception,</span><br>  <span class="token comment">// but not using the exception object</span><br><span class="token punctuation">}</span> <span class="token keyword">on</span> IOException <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// catching a specific kind of exception,</span><br>  <span class="token comment">// and using the exception object</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// catching any kind of exception</span><br>  <span class="token comment">// and using the exception object</span><br><span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span><br>  <span class="token comment">// code to run regardless of whether there was a thrown</span><br><span class="token punctuation">}</span></code></pre><p>When a function catches an exception, it can rethrow the exception so the caller can handle it.</p><p>The <code>Range</code> and <code>RangeException</code> classes defined above can be used as follows:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token function">Range</span><span class="token punctuation">(</span>lower<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> upper<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">try</span> <span class="token punctuation">{</span><br>  range<span class="token punctuation">.</span><span class="token function">assertIncludes</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// doesn't throw</span><br>  range<span class="token punctuation">.</span><span class="token function">assertIncludes</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throws</span><br><span class="token punctuation">}</span> <span class="token keyword">on</span> RangeException <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// value 0 is less than lower bound 1</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"something else went wrong"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="access-specifiers">Access Specifiers</h2><p>Dart does not support keywords to indicate access levels of things like functions, classes, properties, and methods. Instead add an underscore prefix to a name to indicate that it is private. This is enforced at the library level.</p><p>All <code>.dart</code> source files define a &quot;library&quot;. Private names in a library are accessible inside the library, but not outside it. A compile-time error is generated if such access is attempted.</p><h2 id="classes">Classes</h2><p>Classes define:</p><ul><li>class properties (a.k.a. fields) to hold data not associated with a specific instance</li><li>instance properties (a.k.a. fields) to hold data associated with a specific instance</li><li>constructors to create instances</li><li>class methods to operate on class properties and possibly instances passed to them</li><li>instance methods to operate on data in a specific instance</li><li>operators to return data computed from an instance and possibly one other instance (for binary operators)</li></ul><h3 id="constructors">Constructors</h3><p>A constructor is defined as a method with no return type and the same name as the class. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  double x<span class="token punctuation">;</span><br>  double y0<span class="token punctuation">;</span><br><br>  <span class="token comment">/* Long way to write a constructor that is not preferred.<br>  Point(double x, double y) {<br>    this.x = x;<br>    this.y = y;<br>  }<br>  */</span><br><br>  <span class="token comment">// Another way to write the constructor is to use an initializer list.</span><br>  <span class="token comment">// Note that having a body is optional.</span><br>  <span class="token comment">//Point(double x, double y) : this.x = x, this.y = y;</span><br><br>  <span class="token comment">// Preferred way to write this constructor that</span><br>  <span class="token comment">// handles assigning argument values to instance properties.</span><br>  <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// To make x and y be optional named parameters with default values,</span><br>  <span class="token comment">// change the previous constructor to the following:</span><br>  <span class="token comment">//Point({this.x = 0, this.y = 0});</span><br><br>  <span class="token comment">// To make x and y be required named parameters,</span><br>  <span class="token comment">// change the previous constructor to the following:</span><br>  <span class="token comment">//Point({required this.x, required this.y});</span><br><br>  double <span class="token keyword">get</span> distanceFromOrigin <span class="token operator">=</span><span class="token operator">></span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>distanceFromOrigin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span><br><span class="token punctuation">}</span></code></pre><p>When instance properties have default values, during instance creation those are assigned before the constructor is called. Those values can be used in a constructor to compute the values of other properties.</p><p>Here's a somewhat advanced rule regarding constructors. Properties marked as <code>final</code> that are not also marked as <code>late</code> and have a non-nullable type must be initialized before the constructor body is reached. Typically this is done in the constructor initializer list.</p><p>Static properties which exist outside of any instance cannot be set in a constructor.</p><p>The keyword <code>this</code> is only needed to disambiguate property and method references from local variables with the same names. When there is no name conflict, preceding property and method names with <code>this.</code> is not required, and is discouraged.</p><h3 id="getters-and-setters">Getters and Setters</h3><p>When object properties are accessed, Dart actually calls a &quot;getter&quot; or &quot;setter&quot; method. Non-private properties (including those marked <code>late final</code> but not <code>final</code>) are automatically given getter and setter methods which allow them to be accessed and set from outside their class. Getter and setter methods can be provided for private properties. Getters can also be used to implement computed properties. Setters can validate new values and throw when they are invalid.</p><p>The following code demonstrates writing getter and setter methods. Typically the properties on which they operate are made private to prevent direct access.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  double _x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  double <span class="token keyword">get</span> x <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'in getter for x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> _x<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// Setter methods should not have a return type.</span><br>  <span class="token keyword">set</span> <span class="token function">x</span><span class="token punctuation">(</span>double x<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'in setter for x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    _x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token function">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">:</span> _x <span class="token operator">=</span> x<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'($_x, $y)'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pt <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  pt<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">// outputs "in setter for x"</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// outputs "in getter for x" and 7</span><br><span class="token punctuation">}</span></code></pre><p>The following code demonstrates implementing a read-only property and a computed property:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>  String _name<span class="token punctuation">;</span><br>  DateTime<span class="token operator">?</span> birthday<span class="token punctuation">;</span><br><br>  <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required String name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>birthday<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> _name <span class="token operator">=</span> name<span class="token punctuation">;</span><br><br>  <span class="token comment">// This getter computes its value.</span><br>  int <span class="token keyword">get</span> age <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>birthday <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> now <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> years <span class="token operator">=</span> now<span class="token punctuation">.</span>year <span class="token operator">-</span> birthday<span class="token operator">!</span><span class="token punctuation">.</span>year<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> month <span class="token operator">=</span> birthday<span class="token operator">!</span><span class="token punctuation">.</span>month<span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span>month <span class="token operator">&lt;</span> month <span class="token operator">||</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span>month <span class="token operator">==</span> month <span class="token operator">&amp;&amp;</span> now<span class="token punctuation">.</span>day <span class="token operator">&lt;</span> birthday<span class="token operator">!</span><span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      years<span class="token operator">--</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> years<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// This getter simply provides access to a private property.</span><br>  <span class="token comment">// The property is read-only because</span><br>  <span class="token comment">// it is private and no setter is defined.</span><br>  String <span class="token keyword">get</span> name <span class="token operator">=</span><span class="token operator">></span> _name<span class="token punctuation">;</span><br><br>  <span class="token comment">// This setter performs validation before setting a private property.</span><br>  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>String newName<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>newName<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">"Person name cannot be empty"</span><span class="token punctuation">;</span><br>    _name <span class="token operator">=</span> newName<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> birthday <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> name <span class="token punctuation">:</span> <span class="token string">'$name is $age years old.'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> birthday<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">1961</span><span class="token punctuation">,</span> DateTime<span class="token punctuation">.</span>april<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Tami'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mark is 60 years old.</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tami</span><br><br>  <span class="token keyword">try</span> <span class="token punctuation">{</span><br>  p2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Tamara'</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tamara</span><br>  p2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// throws</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person name cannot be empty</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>If a class doesn't define a constructor, a no-arg constructor that doesn't initialize any properties is provided. If the class has a superclass, the default constructor calls its no-arg constructor.</p><h3 id="initializer-lists">Initializer Lists</h3><p>An &quot;initializer list&quot; is a list of property assignments that follow the parameter list and a colon. Both initializer lists and bodies are optional in constructors. When both are present, the assignments in the initializer list occur before the body is executed. The named constructors below demonstrate including an initializer list and omitting a body.</p><h3 id="named-constructors">Named Constructors</h3><p>A class can only have one &quot;regular constructor&quot;, but it can have any number of &quot;named constructors&quot;. These begin with the the class name followed by a period and a unique name. For example, the <code>Point</code> class above could have a named constructor for creating an origin point and another for initializing <code>x</code> and <code>y</code> to the same value.</p><pre class="language-dart"><code class="language-dart">  Point<span class="token punctuation">.</span><span class="token function">origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span>double value<span class="token punctuation">)</span> <span class="token punctuation">:</span> x <span class="token operator">=</span> value<span class="token punctuation">,</span> y <span class="token operator">=</span> value<span class="token punctuation">;</span></code></pre><p>The create an object from a class, call one of its constructors in the same was as calling a function, without a <code>new</code> keyword.</p><p>Pulling all of this together we can write the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  double x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  Point<span class="token punctuation">.</span><span class="token function">origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span>double value<span class="token punctuation">)</span><span class="token punctuation">:</span> x <span class="token operator">=</span> value<span class="token punctuation">,</span> y <span class="token operator">=</span> value<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'($x, $y)'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pt <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (2.0, 3.0)</span><br>  pt <span class="token operator">=</span> Point<span class="token punctuation">.</span><span class="token function">origin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (0.0, 0.0)</span><br>  pt <span class="token operator">=</span> Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (4.0, 4.0)</span><br><span class="token punctuation">}</span></code></pre><p>Here is one more example that demonstrates a constructor that takes named parameters.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>  String name<span class="token punctuation">;</span><br>  int<span class="token operator">?</span> age<span class="token punctuation">;</span><br><br>  <span class="token comment">// This constructor only has named parameters.</span><br>  <span class="token comment">// The first parameter is required and the second is optional.</span><br>  <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> age <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> name <span class="token punctuation">:</span> <span class="token string">'$name is $age years old'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mark is 60.</span><br><br>  <span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Tami'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tami</span><br><span class="token punctuation">}</span></code></pre><h3 id="instance-methods">Instance Methods</h3><p>Classes can define instance methods. These look like function definitions, but differ in that they can use the <code>this</code> keyword. For example, the following instance method can be added to the <code>Point</code> class defined above:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> same <span class="token operator">as</span> before <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><br>  <span class="token keyword">void</span> <span class="token function">translate</span><span class="token punctuation">(</span>double dx<span class="token punctuation">,</span> double dy<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// We don't need "this." before x and y here because</span><br>    <span class="token comment">// there is no name conflict with local variables.</span><br>    x <span class="token operator">+=</span> dx<span class="token punctuation">;</span><br>    y <span class="token operator">+=</span> dy<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pt <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  pt<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (3, 1)</span><br><span class="token punctuation">}</span></code></pre><p>When a variable holds a nullable object reference, method calls on the variable must check for null. For example:</p><pre class="language-dart"><code class="language-dart">int <span class="token function">listSum</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token operator">?</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> list <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> acc <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  List<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token operator">?</span> numbers<span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">listSum</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span><br>  numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">listSum</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span><br><span class="token punctuation">}</span></code></pre><h3 id="class-methods">Class Methods</h3><p>Classes can define class methods. These look like instance methods, but are preceded by the <code>static</code> keyword. They cannot use the <code>this</code> keyword because they aren't associated with a specific instance, but they can access static properties and the instance properties of objects passed to them. The following example demonstrates a static method in the <code>Point</code> class that takes a <code>List</code> of <code>Point</code> objects and returns a <code>Point</code> in the center of them. It also defines a static property that holds the number of <code>Point</code> objects that have been created.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> int instanceCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    instanceCount<span class="token operator">++</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">static</span> Point <span class="token function">centerOf</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>Point<span class="token operator">></span> points<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>points<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">final</span> first <span class="token operator">=</span> points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> minX <span class="token operator">=</span> first<span class="token punctuation">.</span>x<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> minY <span class="token operator">=</span> first<span class="token punctuation">.</span>y<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> maxX <span class="token operator">=</span> first<span class="token punctuation">.</span>x<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> maxY <span class="token operator">=</span> first<span class="token punctuation">.</span>y<span class="token punctuation">;</span><br>    <span class="token comment">//for (var point in points) {</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> points<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> point <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><br>      minX <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>minX<span class="token punctuation">,</span> point<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      minY <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>minY<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      maxX <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxX<span class="token punctuation">,</span> point<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      maxY <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxY<span class="token punctuation">,</span> point<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token punctuation">(</span>maxX <span class="token operator">+</span> minX<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>maxY <span class="token operator">+</span> minY<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'($x, $y)'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> points <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>instanceCount<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span><span class="token function">centerOf</span><span class="token punctuation">(</span>points<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (4, 2.5)</span><br><span class="token punctuation">}</span></code></pre><h3 id="operators">Operators</h3><p>Operators are similar to instance methods, but include the keyword &quot;operator&quot;. Only operator names supported by Dart can be defined. For example, there is no <code>@</code> operator in Dart, so custom classes cannot define it. The following code defines the &quot;+&quot; operator for the <code>Point</code> class. This returns a new <code>Point</code> and does not modify the <code>Point</code> on the left.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> same <span class="token operator">as</span> before <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><br>  Point <span class="token keyword">operator</span> <span class="token operator">+</span><span class="token punctuation">(</span>Point other<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token function">Point</span><span class="token punctuation">(</span>x <span class="token operator">+</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> other<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pt1 <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> pt2 <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> pt3 <span class="token operator">=</span> pt1 <span class="token operator">+</span> pt2<span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>pt3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (3, 5)</span><br><span class="token punctuation">}</span></code></pre><h3 id="factory-constructors">Factory Constructors</h3><p>A normal constructor creates an object, but doesn't explicitly return it. A &quot;factory constructor&quot; can call a normal constructor with computed arguments, modify the object it creates, and return it. One use of a factory constructor is to implement a singleton class where it is not possible create additional instances.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MySingleton</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is a private, named constructor.</span><br>    MySingleton<span class="token punctuation">.</span><span class="token function">_private</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// This creates an instance of this class.</span><br>    <span class="token keyword">static</span> <span class="token keyword">final</span> _instance <span class="token operator">=</span> MySingleton<span class="token punctuation">.</span><span class="token function">_private</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// This factory constructor always returns the same instance.</span><br>    <span class="token keyword">factory</span> <span class="token function">MySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> _instance<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token function">MySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">MySingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">identical</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><br><span class="token punctuation">}</span></code></pre><h3 id="inheritance">Inheritance</h3><p>A class can inherit the properties and methods of <strong>one</strong> other class using the <code>extend</code> keyword. Classes that do not explicitly extend another class implicitly extend the built-in <code>Object</code> class. This means all classes extend <code>Object</code>.</p><p>The following code demonstrates creating a subclass of the <code>Person</code> class defined above. Note how the <code>super</code> keyword is used to call a superclass constructor or superclass method whose name matches one in the subclass. The superclass constructor can be called from an initializer list.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">SoftwareEngineer</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>  String primaryLanguage<span class="token punctuation">;</span><br><br>  <span class="token function">SoftwareEngineer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required String name<span class="token punctuation">,</span><br>    int<span class="token operator">?</span> age<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>primaryLanguage<br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">,</span> age<span class="token punctuation">:</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// This method calls the superclass method with the same name</span><br>  <span class="token comment">// using the super keyword.</span><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> connector <span class="token operator">=</span> age <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">' and'</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token string">'${super.toString()}$connector knows $primaryLanguage.'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p3 <span class="token operator">=</span> <span class="token function">SoftwareEngineer</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span> primaryLanguage<span class="token punctuation">:</span> <span class="token string">'Dart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">var</span> p4 <span class="token operator">=</span> <span class="token function">SoftwareEngineer</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Tami'</span><span class="token punctuation">,</span> primaryLanguage<span class="token punctuation">:</span> <span class="token string">'JavaScript'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>To call a named constructor of a superclass, use <code>super.theName(arguments)</code>.</p><h3 id="abstract-classes-(interfaces)">Abstract Classes (Interfaces)</h3><p>Classes can be marked with the <code>abstract</code> keyword which prevents creating instances of them. Abstract classes are useful for defining functionality to be implemented or inherited by other classes. Including bodies in the methods of an abstract class is optional. When a body is present, subclasses can use the method as is or override it. When a body is not present, a semicolon is placed after the parameter list and subclasses must override the method to provide a body.</p><p>A class can <code>implement</code> any number of other classes. For example, <code>class A implements B, C { ... }</code> means that class <code>A</code> will implement every method described in classes <code>B</code> and <code>C</code>, regardless of whether <code>B</code> and <code>C</code> are abstract (because every class defines an interface) and regardless of whether their methods include bodies.</p><p>The order which classes are listed after the <code>implements</code> keyword matters. Method lookup occurs from right to left (last one in wins). For example, in <code>class A extends B implements C, D { ... }</code>, if <code>B</code>, <code>C</code>, and <code>D</code> all implement the same method, the version in <code>D</code> will take precedence.</p><p>Interface in other programming languages are collections of method signatures that some classes implement. Dart doesn't support defining &quot;interfaces&quot;, but <code>abstract</code> classes can be used for this purpose.</p><p>A subclass of an abstract class must implement all methods described in the abstract class that do not have bodies. If a subclass implements all the methods, it can use the <code>implements</code> keyword instead of the <code>extends</code> keyword to express its relationship to the abstract class. But if a subclass wants to inherit methods from an abstract class that contain bodies, it must use the <code>extends</code> keyword.</p><p>When overriding a superclass method, the parameter types can be made more restrictive using the <code>covariant</code> keyword. The following code demonstrates using this keyword.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span><br>  double <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  bool <span class="token function">same</span><span class="token punctuation">(</span>Shape shape<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">implements</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span><br>  double x<span class="token punctuation">;</span> <span class="token comment">// center</span><br>  double y<span class="token punctuation">;</span> <span class="token comment">// center</span><br>  double radius<span class="token punctuation">;</span><br><br>  <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span> double <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> pi <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span> bool <span class="token function">same</span><span class="token punctuation">(</span><span class="token keyword">covariant</span> Circle other<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>    x <span class="token operator">==</span> other<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> other<span class="token punctuation">.</span>y <span class="token operator">&amp;&amp;</span> radius <span class="token operator">==</span> other<span class="token punctuation">.</span>radius<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword">implements</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span><br>  double x<span class="token punctuation">;</span> <span class="token comment">// left</span><br>  double y<span class="token punctuation">;</span> <span class="token comment">// bottom</span><br>  double height<span class="token punctuation">;</span><br>  double width<span class="token punctuation">;</span><br><br>  <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>height<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>width<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span> double <span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> width <span class="token operator">*</span> height<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span> bool <span class="token function">same</span><span class="token punctuation">(</span><span class="token keyword">covariant</span> Rectangle other<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>    x <span class="token operator">==</span> other<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> y <span class="token operator">==</span> other<span class="token punctuation">.</span>y <span class="token operator">&amp;&amp;</span> height <span class="token operator">==</span> other<span class="token punctuation">.</span>height <span class="token operator">&amp;&amp;</span> width <span class="token operator">==</span> other<span class="token punctuation">.</span>width<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token function">Circle</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 78.5...</span><br><br>  <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token function">Circle</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token function">Circle</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span><br><span class="token punctuation">}</span></code></pre><p>In addition to defining methods, abstract classes can define instance properties. Classes that implement such an abstract class must also define the same instance properties and annotate them with <code>@override</code>. This is useful when an abstract class defines methods with bodies that require certain instance properties to be present and subclasses will inherit those method implementations.</p><p>The following example defines a generic class <code>Pair</code>. This class implements the core abstract class <code>Comparable</code> which describes the <code>compareTo</code> method. Instances of the <code>Pair</code> class hold a pair of values that have the same type. That type must also implement the <code>Comparable</code> interface. Note how this is enforced on the generic type parameter using the <code>extends</code> keyword.</p><p>The <code>List</code> <code>sort</code> method can sort any values that implement <code>Comparable</code>. It can also sort values that do not implement <code>Comparable</code> if it is passed a function for performing comparisons. But that is not necessary for <code>Pair</code> objects.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token operator">&lt;</span>T <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token operator">></span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token operator">&lt;</span>Pair<span class="token operator">&lt;</span>T<span class="token operator">>></span> <span class="token punctuation">{</span><br>  T first<span class="token punctuation">;</span><br>  T second<span class="token punctuation">;</span><br><br>  <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  int <span class="token function">compareTo</span><span class="token punctuation">(</span>Pair<span class="token operator">&lt;</span>T<span class="token operator">></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> result <span class="token operator">=</span> first<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> result <span class="token operator">=</span> second<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'($first, $second)'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> intPairs <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  intPairs<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>intPairs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [(0, 4), (1, 2), (2, 7), (3, 1), (4, 3), (4, 3)]</span><br><br>  <span class="token keyword">var</span> stringPairs <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'apple'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'grape'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'peach'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'pink'</span><span class="token punctuation">,</span> <span class="token string">'watermelon'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Pair</span><span class="token punctuation">(</span><span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'orange'</span><span class="token punctuation">)</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  stringPairs<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>stringPairs<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// [(green, grape), (orange, orange), (orange, peach),</span><br>  <span class="token comment">//  (pink, watermelon), (red, apple), (yellow, banana)]</span><br><span class="token punctuation">}</span></code></pre><h3 id="mixins">Mixins</h3><p>Mixins provide a way to share property definitions and method implementations between classes.</p><p>There are three ways to define a mixin.</p><ol><li>Use the <code>mixin</code> keyword (preferred).</li><li>Define a class with no constructor.</li><li>Define an abstract class.</li></ol><p>Recall that classes have a constructor and can be extended. Also recall that abstract classes can be implemented.</p><p>Regardless of how a mixin is defined, it cannot do any of the following:</p><ul><li>have a constructor that is used to create instances</li><li>be used with the <code>extends</code> keyword to act as the superclass of another class</li><li>be used with the <code>implements</code> keyword to define methods another class must implement</li></ul><p>To mix a mixin into a class, use the <code>with</code> keyword. A class can use any number mixins. The class can then access any of the mixin properties and methods. It can also override any of the mixin methods.</p><p>When calling a method on a class that extends another class and mixes in multiple mixins, the order of the mixins matters. The <code>extends</code> keyword must appear before the <code>with</code> keyword. Suppose we have <code>class A extends B with C, D</code> and <code>B</code>, <code>C</code>, and <code>D</code> all define a method with the same name. The last one in wins, so the version in <code>D</code> is used.</p><p>The following code demonstrates defining two mixins and mixing both into the same class:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Objects that are "Sized" have a height and weight.</span><br><span class="token keyword">mixin</span> Sized <span class="token punctuation">{</span><br>  double height <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// in feet</span><br>  double weight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// in pounds</span><br><br>  <span class="token keyword">void</span> <span class="token function">setSize</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required double height<span class="token punctuation">,</span> required double weight<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  double <span class="token function">getBmi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> kg <span class="token operator">=</span> weight <span class="token operator">*</span> <span class="token number">0.453592</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> meters <span class="token operator">=</span> height <span class="token operator">*</span> <span class="token number">0.3048</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> kg <span class="token operator">/</span> <span class="token function">pow</span><span class="token punctuation">(</span>meters<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Objects that are "Located" have x and y coordinates.</span><br><span class="token keyword">mixin</span> Located <span class="token punctuation">{</span><br>  double x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">setLocation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required double x<span class="token punctuation">,</span> required double y<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  double <span class="token function">distanceFrom</span><span class="token punctuation">(</span>Located other<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x <span class="token operator">-</span> other<span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>y <span class="token operator">-</span> other<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span><br>  String species<span class="token punctuation">;</span><br><br>  <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>species<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// A class can only extend one other class,</span><br><span class="token comment">// but it can mixin any number of mixins.</span><br><span class="token keyword">class</span> <span class="token class-name">Human</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token keyword">with</span> Located<span class="token punctuation">,</span> Sized <span class="token punctuation">{</span><br>  String name<span class="token punctuation">;</span><br><br>  <span class="token function">Human</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>species<span class="token punctuation">:</span> <span class="token string">'homo sapiens'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// We can define additional classes that mixin</span><br><span class="token comment">// one or both of the Located and Sized mixins.</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> me <span class="token operator">=</span> <span class="token function">Human</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  me<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">6.17</span><span class="token punctuation">,</span> weight<span class="token punctuation">:</span> <span class="token number">172</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  me<span class="token punctuation">.</span><span class="token function">setLocation</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">var</span> wife <span class="token operator">=</span> <span class="token function">Human</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Tami'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// As an alternative to calling setSize,</span><br>  <span class="token comment">// we can set the height and weight properties directly.</span><br>  wife<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">5.42</span><span class="token punctuation">;</span><br>  wife<span class="token punctuation">.</span>weight <span class="token operator">=</span> <span class="token number">120</span><span class="token punctuation">;</span><br>  <span class="token comment">// As an alternative to calling setLocation,</span><br>  <span class="token comment">// we can set the x and y properties directly.</span><br>  wife<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><br>  wife<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'my BMI = ${me.getBmi()}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 22.06...</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'wife BMI = ${wife.getBmi()}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 19.94...</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'distance = ${me.distanceFrom(wife)}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span><br><span class="token punctuation">}</span></code></pre><p>A mixin can be restricted to only be applicable to classes that extend a given class. For example, the first line of the <code>Sized</code> mixin above could be changed to <code>mixin Sized on Animal</code> to only allow it to be mixed into subclasses of <code>Animal</code>.</p><h3 id="extensions">Extensions</h3><p>The <code>extension</code> keyword is used to add properties and methods to an existing class, including core Dart classes.</p><p>The following code adds a property and a method to the <code>String</code> class.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">extension</span> StringExtension <span class="token keyword">on</span> String <span class="token punctuation">{</span><br>  <span class="token comment">// Property that holds the first character or null.</span><br>  String<span class="token operator">?</span> <span class="token keyword">get</span> first <span class="token operator">=</span><span class="token operator">></span> isEmpty <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Method that returns the last character or null.</span><br>  <span class="token comment">// This demonstrates adding a method, but it would be</span><br>  <span class="token comment">// better to make this a computed property like "first".</span><br>  String<span class="token operator">?</span> <span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> isEmpty <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">[</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Method that returns a new String with the characters in reverse order.</span><br>  String <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> String<span class="token punctuation">.</span><span class="token function">fromCharCodes</span><span class="token punctuation">(</span>codeUnits<span class="token punctuation">.</span>reversed<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'M'</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'k'</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'kraM'</span><br><span class="token punctuation">}</span></code></pre><h2 id="object-class">Object Class</h2><p>All Dart classes inherit directly or indirectly from the <code>Object</code> class. This means all objects have the properties and methods defined by that class.</p><p>The <code>Object</code> class provides the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>hashCode</code></td><td>an <code>int</code> value generated from object properties</td></tr><tr><td><code>runtimeType</code></td><td>a <code>Type</code> object describing the object type</td></tr></tbody></table><p>The <code>Object</code> class provides the following methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>noSuchMethod(Invocation invocation)</code></td><td>called when a non-existent method is called on the object</td></tr><tr><td><code>toString()</code></td><td>returns the <code>String</code> representation of the object</td></tr></tbody></table><h2 id="invocation-class">Invocation Class</h2><p>The <code>Invocation</code> object passed to the <code>noSuchMethod</code> method of the <code>Object</code> class provides the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>isAccessor</code></td><td><code>bool</code> indicating whether a getter or setter was called</td></tr><tr><td><code>isGetter</code></td><td><code>bool</code> indicating whether a getter was called</td></tr><tr><td><code>isMethod</code></td><td><code>bool</code> indicating whether a method was called</td></tr><tr><td><code>isSetter</code></td><td><code>bool</code> indicating whether a setter was called</td></tr><tr><td><code>memberName</code></td><td><code>Symbol</code> name of the invoked member</td></tr><tr><td><code>namedArguments</code></td><td><code>Map</code> of named arguments</td></tr><tr><td><code>positionalArguments</code></td><td><code>List</code> of positional arguments</td></tr><tr><td><code>typeArguments</code></td><td><code>List</code> of argument types</td></tr></tbody></table><h2 id="nosuchmethod-method">noSuchMethod Method</h2><p>The <code>noSuchMethod</code> method defined by the <code>Object</code> class is available in all objects. The default implementation throws <code>NoSuchMethodError</code>. This can be overridden to customize the handling of references to undefined object members.</p><p>The following code demonstrates the data available inside a <code>noSuchMethod</code></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span><br>  <span class="token metadata symbol">@override</span><br>  <span class="token function">noSuchMethod</span><span class="token punctuation">(</span>Invocation invocation<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name <span class="token operator">=</span> invocation<span class="token punctuation">.</span>memberName<span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>isAccessor<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>isGetter<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is a getter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>isSetter<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is a setter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>isMethod<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'$name is a method.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Type arguments are generic parameters between angle brackets.</span><br>      <span class="token keyword">var</span> typeArgs <span class="token operator">=</span> invocation<span class="token punctuation">.</span>typeArguments<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>typeArgs<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'type arguments are ${typeArgs}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">var</span> posArgs <span class="token operator">=</span> invocation<span class="token punctuation">.</span>positionalArguments<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>posArgs<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'positional arguments are ${posArgs}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token keyword">var</span> namedArgs <span class="token operator">=</span> invocation<span class="token punctuation">.</span>namedArguments<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>namedArgs<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'named arguments are ${namedArgs}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">dynamic</span> demo <span class="token operator">=</span> <span class="token function">Demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// type must be dynamic</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span>demo<span class="token punctuation">.</span>one<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Output is:</span><br>  <span class="token comment">// Symbol("one") is a getter</span><br>  <span class="token comment">// null</span><br><br>  demo<span class="token punctuation">.</span>two <span class="token operator">=</span> <span class="token string">'test'</span><span class="token punctuation">;</span><br>  <span class="token comment">// Output is:</span><br>  <span class="token comment">// Symbol("two=") is a setter</span><br><br>  demo<span class="token punctuation">.</span><span class="token function">three</span><span class="token punctuation">(</span><span class="token string">'a1'</span><span class="token punctuation">,</span> <span class="token string">'a2'</span><span class="token punctuation">,</span> a3<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> a4<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Output is:</span><br>  <span class="token comment">// Symbol("three") is a method.</span><br>  <span class="token comment">// positional arguments are [a1, a2]</span><br>  <span class="token comment">// named arguments are {Symbol("a3"): true, Symbol("a4"): 4}</span><br><br>  demo<span class="token punctuation">.</span>four<span class="token operator">&lt;</span>bool<span class="token punctuation">,</span> int<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Output is:</span><br>  <span class="token comment">// Symbol("four") is a method.</span><br>  <span class="token comment">// type arguments are [bool, int]</span><br>  <span class="token comment">// positional arguments are [1, 2, 3]</span><br><span class="token punctuation">}</span></code></pre><p>One use of <code>noSuchMethod</code> is implementing domain specific languages (DSL). The following code demonstrates a basic XML builder that can be used to generate HTML.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// Creates an indented String from lines of XML.</span><br>String <span class="token function">formatLines</span><span class="token punctuation">(</span>List lines<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> level <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> l <span class="token keyword">in</span> lines<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> line <span class="token operator">=</span> l <span class="token operator">as</span> String<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> isEndTag <span class="token operator">=</span> line<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'&lt;/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isEndTag<span class="token punctuation">)</span> level<span class="token operator">--</span><span class="token punctuation">;</span><br>    s <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token string">'  '</span> <span class="token operator">*</span> level<span class="token punctuation">)</span> <span class="token operator">+</span> line <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> isStartTag <span class="token operator">=</span> <span class="token operator">!</span>isEndTag <span class="token operator">&amp;&amp;</span><br>        line<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'&lt;'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span><br>        line<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'>'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span><br>        <span class="token operator">!</span>line<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'/>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isStartTag<span class="token punctuation">)</span> level<span class="token operator">++</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">return</span> s<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Extracts the name of a Symbol.</span><br><span class="token comment">// symbol.toString() returns 'Symbol("some-name")'.</span><br>String <span class="token function">symbolName</span><span class="token punctuation">(</span>Symbol symbol<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> symbol<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'"'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">XMLBuilder</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Returns a List&lt;String> representing lines of XML.</span><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">dynamic</span> <span class="token function">noSuchMethod</span><span class="token punctuation">(</span>Invocation invocation<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The member name is the name of an element to create.</span><br>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">symbolName</span><span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>memberName<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Only method invocations are supported.</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>invocation<span class="token punctuation">.</span>isMethod<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">'unsupported accessor $name'</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> tag <span class="token operator">=</span> <span class="token string">'&lt;$name'</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> lines <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Positional arguments represent child elements and text content.</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> arg <span class="token keyword">in</span> invocation<span class="token punctuation">.</span>positionalArguments<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">is</span> List<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        lines<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>        lines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// Named arguments represent attributes of the current element.</span><br>    invocation<span class="token punctuation">.</span>namedArguments<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      tag <span class="token operator">+=</span> <span class="token string">' ${symbolName(key)}="$value"'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>invocation<span class="token punctuation">.</span>positionalArguments<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// no children</span><br>      lines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tag <span class="token operator">+</span> <span class="token string">' />'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// closes element in shorthand way</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token comment">// Children have already been added to lines.</span><br>      lines<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> tag <span class="token operator">+</span> <span class="token string">'>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// adds start tag before children</span><br>      lines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'&lt;/$name>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// adds end tag after children</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> lines<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// This must be declared dynamic in order for noSuchMethod to work.</span><br>  <span class="token keyword">dynamic</span> b <span class="token operator">=</span> <span class="token function">XMLBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Dart requires named arguments to follow positional arguments.</span><br>  <span class="token comment">// This uses named arguments to describe XML attributes</span><br>  <span class="token comment">// and positional arguments to represent child elements and text content.</span><br>  <span class="token comment">// So unfortunately XML attributes must be described</span><br>  <span class="token comment">// after child elements and text content.</span><br>  <span class="token keyword">var</span> lines <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><br>    b<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><br>      b<span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"My Title"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      b<span class="token punctuation">.</span><span class="token function">link</span><span class="token punctuation">(</span>href<span class="token punctuation">:</span> <span class="token string">'my-styles.css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    b<span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><br>      b<span class="token punctuation">.</span><span class="token function">h1</span><span class="token punctuation">(</span><span class="token string">'My Header'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      b<span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token string">'color: red'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">formatLines</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The code above outputs the following:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>My Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-styles.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>My Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">color</span><span class="token punctuation">:</span> red</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>Hello, World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="cascade-operator">Cascade Operator</h2><p>The cascade operator (<code>..</code>) is used to set multiple properties of an object or call multiple methods on an object. In the case of calling methods, it is useful when the methods do not return the receiver, making method chaining impossible.</p><p>The following examples demonstrate the cascade operator:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> left <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> top <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> width <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> height <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token function">MutableRectangle</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> top<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Rectangle (20, 10) 100 x 50</span><br><br>r<br>  <span class="token punctuation">.</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token number">30</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">0</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">200</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span> height <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span><br><span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Rectangle (30, 0) 200 x 30</span><br><br><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>numbers<br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [2, 3, 7, 9]</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// [2, 3, 7, 9, 10]</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3, 7, 9, 10]</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">removeWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3, 7, 9]</span><br><span class="token function">print</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 3, 7, 9]</span></code></pre><p>The null-aware cascade operator <code>?..</code> evaluates to null if the left side is <code>null</code>, avoiding calling a method on <code>null</code>. It should only be used for the first cascade in a series of them. The following example applies the null-aware cascade operator to the result of calling the <code>getSquare</code> function which can return <code>null</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br>MutableRectangle<span class="token operator">?</span> <span class="token function">getSquare</span><span class="token punctuation">(</span>double size<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token function">MutableRectangle</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> square <span class="token operator">=</span> <span class="token function">getSquare</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><br>    <span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">.</span>width <span class="token operator">*=</span> <span class="token number">2</span> <span class="token comment">// double the width</span><br>    <span class="token punctuation">.</span><span class="token punctuation">.</span>height <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// double the height</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Rectangle (0, 0) 10 x 10</span><br><br>  square <span class="token operator">=</span> <span class="token function">getSquare</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><br>    <span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">.</span>width <span class="token operator">*=</span> <span class="token number">2</span> <span class="token comment">// won't run when square is null</span><br>    <span class="token punctuation">.</span><span class="token punctuation">.</span>height <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// won't run when square is null</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>square<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span><br><span class="token punctuation">}</span></code></pre><h2 id="libraries">Libraries</h2><p>Every <code>.dart</code> file defines a &quot;library&quot;. Typically these are placed in the <code>lib</code> directory of a project. They can be placed at the top of the <code>lib</code> directory or in subdirectories nested at any depth below the <code>lib</code> directory.</p><p>All names defined in a library, including private ones, are accessible throughout the library.</p><h3 id="import-statement">import Statement</h3><p>Libraries are imported into other <code>.dart</code> files with an <code>import</code> statement. For example, suppose a project in a directory named <code>my_project</code> defines a library in the file <code>lib/math/geometry.dart</code>. This library can be imported by the file <code>bin/my_project.dart</code> with the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:my_project/math/geometry.dart'</span><span class="token punctuation">;</span></code></pre><p>This makes all the non-private names defined in <code>geometry.dart</code> available in <code>my_project.dart</code>.</p><p>To avoid name conflicts with names defined in the importing file with those in the imported file, the import can be changed to the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:my_project/math/geometry.dart'</span> <span class="token operator">as</span> geometry<span class="token punctuation">;</span></code></pre><p>With this change the names defined in <code>geometry.dart</code> must be referred to with a <code>geometry.</code> prefix.</p><p>The following code is example content from <code>lib/math/geometry.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span><br>  double radius<span class="token punctuation">;</span><br><br>  <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>radius<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  double <span class="token keyword">get</span> area <span class="token operator">=</span><span class="token operator">></span> pi <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>radius<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The following code is example content of <code>bin/my_project.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:my_project/math/geometry.dart'</span> <span class="token operator">as</span> geometry<span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> c <span class="token operator">=</span> geometry<span class="token punctuation">.</span><span class="token function">Circle</span><span class="token punctuation">(</span>radius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 78.5...</span><br><span class="token punctuation">}</span></code></pre><p>The Dart analyzer will issue a warning if an <code>import</code> statement uses a relative file path (starting with <code>./</code> or <code>../</code>) to navigate from files outside the <code>lib</code> directory to files inside it. Instead <code>import</code> paths for files under the <code>lib</code> directory should begin with <code>package:{project_name}/</code> as shown above.</p><p>Relative file paths in <code>import</code> statements from files inside the <code>lib</code> directory to files outside it are not supported. But relative file paths can be used in <code>import</code> statements between files that are both under the <code>lib</code> directory or both outside it.</p><h3 id="libraries-defined-by-multiple-files">Libraries Defined By Multiple Files</h3><p>Often a library is defined by a single source file, but libraries can be defined by multiple files. There are two ways to do this. One approach involves the <code>export</code> statement. The other involves the <code>part</code> and <code>part of</code> statements.</p><h4 id="export-statement">export Statement</h4><p>For example, a <code>math</code> library can be divided into the files <code>math.dart</code>, <code>algebra.dart</code>, <code>geometry.dart</code>, and <code>trigonometry.dart</code>. The <code>math.dart</code> file can contain the following <code>export</code> statements:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">export</span> <span class="token string">'algebra.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">export</span> <span class="token string">'geometry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">export</span> <span class="token string">'trigonometry.dart'</span><span class="token punctuation">;</span></code></pre><p>Importing <code>math.dart</code> provides access to the names it defines and also the names defined the files that it exports. The exported files can also be imported individually in source files that do not need access to names defined in all the exported files. But the names in the exported files cannot be used inside the file that exports them.</p><h4 id="part-and-part-of-statements">part and part of Statements</h4><p>Using the same example, the <code>math.dart</code> file can contain the following <code>part</code> statements instead of <code>export</code> statements:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">part</span> <span class="token string">'algebra.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">part</span> <span class="token string">'geometry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">part</span> <span class="token string">'trigonometry.dart'</span><span class="token punctuation">;</span></code></pre><p>The <code>algebra.dart</code>, <code>geometry.dart</code>, and <code>trigonometry.dart</code> files must contain the following <code>part of</code> statement referring back to <code>math.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string">'math.dart'</span><span class="token punctuation">;</span></code></pre><p>All <code>import</code> statements needed by these four <code>.dart</code> files must appear in file containing the <code>part</code> statements (<code>main.dart</code> in this case) and they must appear before the <code>part</code> statements. Files containing <code>part of</code> statements cannot contain <code>import</code> statements.</p><p>As with using <code>export</code> statements, importing <code>math.dart</code> provides access to the names it defines and also the names defined in its <code>part</code> files. Files containing <code>part of</code> statements cannot be imported. Files containing <code>part</code> statements can use the names defined in the files they reference.</p><h2 id="file-i%2Fo">File I/O</h2><p>The <code>dart:io</code> library supports all kinds of input and output, including reading and writing files.</p><p>The following code demonstrates reading a file into a <code>List</code> of lines. The entire file is read into memory, so this isn't applicable for large files.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'dart:io'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> file <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'BeverlyHillbillies.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> lines <span class="token operator">=</span> <span class="token keyword">await</span> file<span class="token punctuation">.</span><span class="token function">readAsLines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> line <span class="token keyword">in</span> lines<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>openRead</code> method can be used to read a file that is too large to fit in memory. The following code demonstrates this:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:convert'</span><span class="token punctuation">;</span> <span class="token comment">// for LineSplitter</span><br><span class="token keyword">import</span> <span class="token string">'dart:io'</span><span class="token punctuation">;</span> <span class="token comment">// for File</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> stream <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'BeverlyHillbillies.txt'</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">openRead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>utf8<span class="token punctuation">.</span>decoder<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span><span class="token function">LineSplitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  stream<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The `openWrite method can be used to write to a file.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:io'</span><span class="token punctuation">;</span> <span class="token comment">// for File</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// By default this overwrites the file if it exists.</span><br>  <span class="token keyword">var</span> sink <span class="token operator">=</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token string">'my-file.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openWrite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  sink<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'1st line'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  sink<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'2nd line'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  sink<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="asynchronous-programming">Asynchronous Programming</h2><p>The <code>dart:async</code> library provides many classes that support asynchronous programming. These include <code>Future</code>, <code>Stream</code>, <code>StreamSubscription</code>, and <code>Timer</code>.</p><p>In addition, the <code>dart:isolate</code> library provides classes that support running code in a new thread. These include <code>Isolate</code>, <code>ReceivePort</code>, and <code>SendPort</code>.</p><p>Each of these classes are described in the following sections.</p><h3 id="futures">Futures</h3><p>The <code>dart:async</code> library defines the <code>Future</code> class. A <code>Future</code> represents the result of code that will run in the future inside the current thread. It is similar to a <code>Promise</code> in JavaScript.</p><p>Execution of these is managed by the event loop described in the next section. Asynchronous tasks are placed on either the event queue or the microtask queue. Tasks on the microtask queue have a higher priority.</p><p>The <code>Future</code> class defines many named constructors.</p><p>To execute code after a given <code>Duration</code>, create a <code>Future</code> with the <code>Future.delayed</code> constructor. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'first'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'third'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'second'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Functions can return a <code>Future</code>. Calling code can wait from the <code>Future</code> to succeed or fail. There are two approaches that can be used. One approach is to use the <code>then</code> and <code>catchError</code> methods. The other approach is to use the <code>async</code> and <code>await</code> keywords which requires importing the <code>dart:async</code> library.</p><p>The following code demonstrates using <code>then</code> and <code>catchError</code>.</p><pre class="language-dart"><code class="language-dart">Future<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">getFutureScore</span><span class="token punctuation">(</span>int player<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> Future<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>player <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">7</span><span class="token punctuation">;</span><br>    <span class="token keyword">throw</span> <span class="token string">'unknown player $player'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">getFutureScore</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// throws if argument isn't 1</span><br>    <span class="token comment">// The function passed to "then" is</span><br>    <span class="token comment">// referred to as a "completion handler".</span><br>    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>int score<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'score = $score'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">catchError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'error = $error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The following code demonstrates using the <code>async</code> and <code>await</code> keywords. These work similarly to the same keywords in JavaScript. They allow asynchronous code to read more like synchronous code, including the ability to use <code>try/catch</code> to handle errors thrown in a <code>Future</code>. The <code>await</code> keyword can only be used inside functions marked <code>async</code>. Such functions always return a <code>Future</code> even if one isn't explicitly created.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><br>Future<span class="token operator">&lt;</span>int<span class="token operator">></span> <span class="token function">getFutureScore</span><span class="token punctuation">(</span>int player<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> Future<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>player <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">7</span><span class="token punctuation">;</span><br>    <span class="token keyword">throw</span> <span class="token string">'unknown player $player'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// If the delay in the previous function isn't needed, it can be</span><br><span class="token comment">// rewritten as follows.  Note the addition of the async keyword.</span><br><span class="token comment">/*<br>Future&lt;int> getFutureScore(int player) async {<br>  if (player == 1) return 7;<br>  throw 'unknown player $player';<br>}<br>*/</span><br><br><span class="token comment">// The placement of the "async" keyword differs from JavaScript.</span><br><span class="token comment">// Instead of at the beginning of a function definition,</span><br><span class="token comment">// it belongs after the parameter list and before the body.</span><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">try</span> <span class="token punctuation">{</span><br>    int score <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getFutureScore</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throws if argument isn't 1</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'score = $score'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'error = $e'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following table summarizes the <code>Future</code> class constructors. Each of these place a <code>Future</code> on either the event or microtask queue that cannot be evaluated until after the current function completes.</p><table><thead><tr><th>Constructor</th><th>Queue</th><th>Description</th></tr></thead><tbody><tr><td><code>Future</code></td><td>event</td><td>creates a <code>Future</code> that can run as soon as the current function completes</td></tr><tr><td><code>Future.delayed</code></td><td>event</td><td>similar to 1st constructor, but must wait for at least the specified <code>Duration</code></td></tr><tr><td><code>Future.error</code></td><td>microtask</td><td>creates a <code>Future</code> that fails with a given error</td></tr><tr><td><code>Future.microtask</code></td><td>microtask</td><td>same as 1st constructor, but uses the microtask queue</td></tr><tr><td><code>Future.sync</code></td><td>microtask</td><td>runs function immediately and places result (success or failure) in a <code>Future</code></td></tr><tr><td><code>Future.value</code></td><td>microtask</td><td>creates a <code>Future</code> that succeeds with a given value</td></tr></tbody></table><p><code>Future.value</code> is similar to the JavaScript <code>Promise.resolve</code> method.</p><p><code>Future.error</code> is similar to the JavaScript <code>Promise.reject</code> method.</p><p>The <code>Future</code> class provides the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>asStream()</code></td><td>returns <code>Stream&lt;T&gt;</code> emitting the single result</td></tr><tr><td><code>catchError(onErrorFn, [testFn])</code></td><td>returns <code>Future&lt;T&gt;</code>; asynchronous equivalent of a <code>catch</code> block; if testFn is supplied, only handles matching errors</td></tr><tr><td><code>then(onValueFn, [onErrorFn])</code></td><td>returns <code>Future&lt;T&gt;</code> and registers callbacks for success and optionally error</td></tr><tr><td><code>timeout(Duration timeLimit, {onTimeout()?}</code></td><td>returns <code>Future&lt;T&gt;</code> that acts like receiver, but calls <code>onTimeout</code> if <code>timeLimit</code> passes before completing</td></tr><tr><td><code>whenComplete(actionFn)</code></td><td>returns <code>Future&lt;T&gt;</code>; asynchronous equivalent of a <code>finally</code> block</td></tr></tbody></table><p>The <code>Future</code> class provides the following static methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>any(Iterable&lt;Future&gt; futures)</code></td><td>returns <code>Future&lt;T&gt;</code> that completes with result of first <code>Future</code> that completes</td></tr><tr><td><code>doWhile(FutureOr&lt;bool&gt; action())</code></td><td>calls <code>action</code> repeatedly until it returns <code>false</code></td></tr><tr><td><code>forEach(Iterable&lt;T&gt; elements, FutureOr action(T element))</code></td><td>returns <code>Future</code> that completes with <code>null</code> after <code>action</code> is called on each element; results not saved</td></tr><tr><td><code>wait(Iterable&lt;Future&gt; futures, {bool eagerError=false, cleanup)</code></td><td>returns <code>Future&lt;List&lt;T&gt;&gt;</code> that completes with results of multiple <code>Future</code>s after all complete</td></tr></tbody></table><p><code>Future.any</code> is similar to the JavaScript <code>Promise.any</code> and <code>Promise.race</code> methods.</p><p><code>Future.wait</code> is similar to the JavaScript <code>Promise.all</code> and <code>Promise.allSettled</code> methods.</p><p>The following code demonstrates the use of each of these constructors and explains the order in which the <code>Future</code> objects will be evaluated. When each <code>Future</code> either succeeds or fails, its value is printed. Each line is followed by a comment that describes the output so far (O) and the contents of the event (E) and microtask (M) queues.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// O: empty, E: empty, M: empty</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: empty, M: empty</span><br><br>  <span class="token function">Future</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: 7, M: empty</span><br><br>  Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: D8 7, M: empty; D8 here means the value 8 is delayed.</span><br><br>  Future<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catchError</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// treating 3 as an error value</span><br>  <span class="token comment">// O: 1, E: D8 7, M: 3</span><br><br>  Future<span class="token punctuation">.</span><span class="token function">microtask</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: D8 7, M: 4 3</span><br>  <span class="token comment">// The previous line could be replaced by</span><br>  <span class="token comment">// scheduleMicrotask(() => print(4));</span><br>  <span class="token comment">// which requires importing "dart:async".</span><br><br>  Future<span class="token punctuation">.</span><span class="token keyword">sync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: D8 7, M: 5 4 3</span><br><br>  Future<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1, E: D8 7, M: 6 5 4 3</span><br><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// O: 1 2, E: D8 7, M: 6 5 4 3</span><br><br>  <span class="token comment">// Now all the Futures in the microtask queue can be processed.</span><br>  <span class="token comment">// O: 1 2 3, E: D8 7, M: 6 5 4</span><br>  <span class="token comment">// O: 1 2 3 4, E: D8 7, M: 6 5</span><br>  <span class="token comment">// O: 1 2 3 4 5, E: D8 7, M: 6</span><br>  <span class="token comment">// O: 1 2 3 4 5 6, E: D8 7, M: empty</span><br><br>  <span class="token comment">// Now all the Futures in the event queue can be processed.</span><br>  <span class="token comment">// O: 1 2 3 4 5 6 7, E: D8, M: empty</span><br>  <span class="token comment">// O: 1 2 3 4 5 6 7 8, E: empty, M: empty</span><br><span class="token punctuation">}</span></code></pre><p>Flutter provides the <code>FutureBuilder</code> class which builds widgets from a single value returned by a <code>Future</code>.</p><h3 id="event-loop">Event Loop</h3><p>The Dart event loop is responsible for executing function calls placed on the event and microtask queues. Asynchronous functions such as those passed to a constructor of the <code>Future</code> class are placed at the end of one of these queues. When the current function finishes executing, the event loop selects the next function to execute. If the microtask queue is not empty, the function at its beginning is selected (FIFO order). Otherwise the function at the beginning of the event queue is selected (also FIFO order). When a function starts executing, all other functions must wait until it completes. When the function completes, if there are no more functions in the queues then the program exits.</p><h3 id="streams">Streams</h3><p>The <code>dart:async</code> library defines the <code>Stream</code> class. A Dart <code>Stream</code> is like a list of <code>Future</code> objects. It delivers zero or more values and errors over time.</p><p>The table below distinguishes four kinds of values in Dart:</p><table><thead><tr><th></th><th>Synchronous</th><th>Asynchronous</th></tr></thead><tbody><tr><td>single value</td><td><code>T</code></td><td><code>Future&lt;T&gt;</code></td></tr><tr><td>multiple values</td><td><code>Iterator&lt;T&gt;</code></td><td><code>Stream&lt;T&gt;</code></td></tr></tbody></table><p>A <code>Stream</code> can specify functions to call when:</p><ul><li>data is ready (first positional argument to <code>listen</code>)</li><li>an error occurs (<code>onError</code> named argument to <code>listen</code>)</li><li>the <code>Stream</code> completes (<code>onDone</code> named argument to <code>listen</code>)</li></ul><p>Some provided library functions, such as the <code>openRead</code> method of the <code>File</code> class, return a <code>Stream</code> object.</p><p>There are two kinds of streams, single subscription and broadcast. Single subscription streams can only have one listener and an error occurs if an attempt is made to add more. Broadcast streams can have any number of listeners. A broadcast stream can be created from a single subscription stream by calling its <code>asBroadcastStream</code> method.</p><p>If a <code>Stream</code> generates data and there are no listeners, the data is lost. It is not cached for delivering later.</p><p>The <code>Stream</code> class support the following constructors for creating an instance:</p><table><thead><tr><th>Constructor</th><th>Description</th></tr></thead><tbody><tr><td><code>Stream()</code></td><td>probably not used directly</td></tr><tr><td><code>Stream.empty()</code></td><td>creates empty broadcast stream</td></tr><tr><td><code>Stream.error(Object error)</code></td><td>creates stream that emits a single error</td></tr><tr><td><code>Stream.eventTransformed(Stream source, sinkFn)</code></td><td>creates stream of transformed events from another stream</td></tr><tr><td><code>Stream.fromFuture(Future&lt;T&gt; future)</code></td><td>creates stream of single value from a <code>Future</code></td></tr><tr><td><code>Stream.fromFutures(Iterable&lt;Future&lt;T&gt;&gt; futures)</code></td><td>creates stream of values from <code>Iterable</code> of <code>Future</code>s</td></tr><tr><td><code>Stream.fromIterable(Iterable&lt;T&gt; elements)</code></td><td>creates stream of <code>Iterable</code> elements</td></tr><tr><td><code>Stream.multi(onListenFn)</code></td><td>advanced; see docs</td></tr><tr><td><code>Stream.periodic(Duration period, [computationFn])</code></td><td>creates stream that emits events at a given time interval</td></tr><tr><td><code>Stream.value()</code></td><td>creates stream that emits a single value</td></tr></tbody></table><p>The <code>Stream</code> class has the following instance properties, all of which are read-only:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>first</code></td><td>first element</td></tr><tr><td><code>isBroadcast</code></td><td><code>bool</code> indicating whether this is a broadcast stream</td></tr><tr><td><code>isEmpty</code></td><td><code>Future&lt;bool&gt;</code> indicating whether there are zero elements</td></tr><tr><td><code>last</code></td><td>last element</td></tr><tr><td><code>length</code></td><td><code>Future&lt;int&gt;</code> number of elements</td></tr><tr><td><code>single</code></td><td><code>Future&lt;T&gt;</code> single value; error if zero or more than one element</td></tr></tbody></table><p>The <code>Stream</code> class support the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>any(testFn)</code></td><td>returns <code>Future&lt;bool&gt;</code> indicating if any element passes a test</td></tr><tr><td><code>asBroadcastStream()</code></td><td>returns a broadcast stream that emits the same elements</td></tr><tr><td><code>asyncExpand(convertFn)</code></td><td>returns stream whose elements come from streams returned by calling <code>convertFn</code> on each element</td></tr><tr><td><code>asyncMap(convertFn)</code></td><td>returns stream whose elements come from calling <code>convertFn</code> on each element</td></tr><tr><td><code>cast&lt;R&gt;()</code></td><td>returns stream where each element is cast to type <code>R</code></td></tr><tr><td><code>contains(Object? value)</code></td><td>returns <code>Future&lt;bool&gt;</code> indicating if any element is == to <code>value</code></td></tr><tr><td><code>distinct([bool equals(T previous, T next)])</code></td><td>returns stream of elements not equal to previous using <code>==</code> or provided <code>equals</code> function</td></tr><tr><td><code>drain()</code></td><td>discards remaining elements in stream</td></tr><tr><td><code>elementAt(int index)</code></td><td>returns <code>Future&lt;T&gt;</code> value at given index</td></tr><tr><td><code>every(testFn)</code></td><td>returns <code>Future&lt;bool&gt;</code> indicating if every element passes a test</td></tr><tr><td><code>expand(convertFn)</code></td><td>returns stream of values in <code>Iterable</code>s returned by calling <code>convertFn</code> on each element</td></tr><tr><td><code>firstWhere(testFn)</code></td><td>returns <code>Future&lt;T&gt;</code> first element that passes a test</td></tr><tr><td><code>fold&lt;S&gt;(S initialValue, combineFn)</code></td><td>returns <code>Future&lt;S&gt;</code> obtained by combining all elements (like <code>Iterable</code> <code>fold</code>)</td></tr><tr><td><code>forEach(actionFn)</code></td><td>returns <code>Future</code> with no value after calling <code>actionFn</code> on each element</td></tr><tr><td><code>handleError(onErrorFn, testFn)</code></td><td>returns stream that can ignore or transform errors that pass a test</td></tr><tr><td><code>join([String separator = &quot;&quot;])</code></td><td>returns <code>Future&lt;String&gt;</code> formed by concatenating all the lements with an optional separator</td></tr><tr><td><code>lastWhere(testFn)</code></td><td>returns <code>Future&lt;T&gt;</code> last element that passes a test</td></tr><tr><td><code>listen(onDataFn, {onError, onDone, cancelOnError})</code></td><td>adds a listener and returns <code>StreamSubscription&lt;T&gt;</code>; <code>cancelOnError</code> defaults to <code>true</code></td></tr><tr><td><code>map(convertFn)</code></td><td>returns stream formed by calling <code>convertFn</code> on each element (like <code>Iterable</code> <code>map</code>)</td></tr><tr><td><code>pipe(streamConsumer)</code></td><td>pipes all elements into a <code>StreamConsumer</code> and returns <code>Future</code> result value</td></tr><tr><td><code>reduce(combineFn)</code></td><td>returns <code>Future</code> obtained by combining all elements (like <code>Iterable</code> <code>reduce</code>)</td></tr><tr><td><code>singleWhere(testFn)</code></td><td>returns stream that only contains the first element that passes a test</td></tr><tr><td><code>skip(int count)</code></td><td>returns stream that begins after first <code>count</code> elements</td></tr><tr><td><code>skipWhile(testFn)</code></td><td>returns stream that begins at first element that does not pass a test</td></tr><tr><td><code>take(int count)</code></td><td>returns stream containing the first <code>count</code> elements</td></tr><tr><td><code>takeWhile(testFn)</code></td><td>returns stream containing all initial elements that pass a test</td></tr><tr><td><code>timeout(Duration timeLimit, onTimeoutFn)</code></td><td>returns stream that emits same elements; if <code>timeLimit</code> passes after last emitted element, <code>onTimeoutFn</code> can generate more</td></tr><tr><td><code>toList()</code></td><td>returns <code>Future&lt;List&lt;T&gt;&gt;</code> containing all the elements</td></tr><tr><td><code>toSet()</code></td><td>returns <code>Future&lt;Set&lt;T&gt;&gt;</code> containing all the elements</td></tr><tr><td><code>transform(streamTransformer)</code></td><td>returns stream created by a <code>StreamTransformer</code> which transforms the entire stream, not necessarily one element at a time</td></tr><tr><td><code>where(testFn)</code></td><td>returns stream containing only elements that pass a test</td></tr></tbody></table><p>The <code>StreamSubscription</code> object returned by the <code>Stream</code> <code>listen</code> method has the instance property <code>isPaused</code> and the instance methods <code>cancel</code>, <code>onData</code>, <code>onDone</code>, <code>onError</code>, <code>pause</code>, and <code>resume</code>.</p><p>The following code demonstrates creating and processing a stream:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// "late" is needed here so it can be used inside the callback below.</span><br>  late StreamSubscription sub<span class="token punctuation">;</span><br><br>  <span class="token comment">// The value of "tick" starts at zero and increments by one.</span><br>  <span class="token keyword">var</span> stream <span class="token operator">=</span> Stream<span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>int tick<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tick <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">'rejecting $tick'</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tick <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> sub<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> tick <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Wrap the periodic stream in one that handles errors.</span><br>  stream <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">handleError</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got error "$error"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  sub <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><br>    <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    onError<span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got error $error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The output from the code above is:</p><pre class="language-text"><code class="language-text">0<br>100<br>200<br>got error rejecting 3<br>400<br>500</code></pre><p>Another way to build a <code>Stream</code> is to create a <code>StreamController</code> which holds a <code>Stream</code> in one of its properties.</p><p>The <code>StreamController</code> class support the following constructors:</p><table><thead><tr><th>Constructor</th><th>Description</th></tr></thead><tbody><tr><td><code>StreamController()</code></td><td>for a single subscription stream</td></tr><tr><td><code>StreamController.broadcast()</code></td><td>for a broadcast stream</td></tr></tbody></table><p>The <code>StreamController</code> class has the following instance properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>done</code></td><td>read-only <code>bool</code> that indicates no more elements will be sent</td></tr><tr><td><code>hasListener</code></td><td>read-only <code>bool</code> that indicates whether there is a listener</td></tr><tr><td><code>isClosed</code></td><td>read-only <code>bool</code> that indicates no more elements can be added</td></tr><tr><td><code>isPaused</code></td><td>read-only <code>bool</code> that indicates elements cannot currently be added</td></tr><tr><td><code>onCancel</code></td><td>function called when the stream is canceled</td></tr><tr><td><code>onListen</code></td><td>function called when a listener is registered</td></tr><tr><td><code>onPause</code></td><td>function called when the stream is paused</td></tr><tr><td><code>onResume</code></td><td>function called when the stream is resumed</td></tr><tr><td><code>sink</code></td><td>a <code>StreamSink</code> that has <code>add</code>, <code>addError</code>, and <code>close</code> methods</td></tr><tr><td><code>stream</code></td><td>the <code>Stream</code> being controlled</td></tr></tbody></table><p>The <code>StreamController</code> class support the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>add(T element)</code></td><td>adds an element to the stream being controlled</td></tr><tr><td><code>addError(Object error)</code></td><td>adds an error to the stream being controlled</td></tr><tr><td><code>close()</code></td><td>closes the stream being controlled</td></tr></tbody></table><p>The following code demonstrates another way to implement the previous example. The only differences in the output are that it doesn't begin with zero and it outputs &quot;done&quot; at the end.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> controller <span class="token operator">=</span> StreamController<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  Timer<span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>Timer t<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> value <span class="token operator">=</span> t<span class="token punctuation">.</span>tick<span class="token punctuation">;</span><br>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span><br>        controller<span class="token punctuation">.</span>sink<span class="token punctuation">.</span><span class="token function">addError</span><span class="token punctuation">(</span><span class="token string">'rejecting $value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>      <span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span><br>        t<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        controller<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>      <span class="token keyword">default</span><span class="token punctuation">:</span><br>        controller<span class="token punctuation">.</span>sink<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  controller<span class="token punctuation">.</span>stream<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span> <span class="token comment">// returns a StreamSubscription</span><br>    <span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    onDone<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'done'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    onError<span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got error "$error"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The call to the <code>listen</code> method above can be replaced by the following <code>for</code> loop which exits when the stream is closed.</p><pre class="language-dart"><code class="language-dart">  <span class="token comment">// "handleError" returns a new Stream where</span><br>  <span class="token comment">// errors are handled by a supplied function.</span><br>  <span class="token keyword">var</span> stream <span class="token operator">=</span> controller<span class="token punctuation">.</span>stream<span class="token punctuation">.</span><span class="token function">handleError</span><span class="token punctuation">(</span><br>    <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got error "$error"'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> value <span class="token keyword">in</span> stream<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span></code></pre><p>The <code>for</code> loop above can be replaced by a call to the <code>Stream</code> <code>forEach</code> method.</p><pre class="language-dart"><code class="language-dart">  <span class="token keyword">await</span> stream<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Flutter provides the <code>StreamBuilder</code> class which builds widgets from data in a <code>Stream</code>.</p><p>For more advanced stream processing, see the pub.dev packages <a href="https://pub.dev/packages/async?v=1.0.18" rel="noopener" target="_blank">async</a> and <a href="https://pub.dev/packages/async?v=1.0.18" rel="noopener" target="_blank">rxdart</a>. These provides classes that can cache elements, memoized elements, merge streams, and more.</p><h3 id="isolates">Isolates</h3><p>All Dart code runs in an &quot;isolate&quot; which is described by the <code>Isolate</code> class defined by the <code>dart:isolate</code> library. The <code>main</code> function of a Dart program and everything it invokes runs in the main isolate which is provided by Dart.</p><p>Additional isolates can be created to run code in new threads. This is useful for computationally intensive tasks.</p><p>Each isolate is executed in a single thread and has its own memory and event loop.</p><p>The <code>dart:isolate</code> library cannot be used in Dart applications that are compiled to JavaScript. This means it cannot be used inside DartPad.</p><p>Isolates can only communicate by sending messages. Each isolate can create multiple <code>ReceivePort</code> objects. Each <code>ReceivePort</code> object has a corresponding <code>SendPort</code> object that can be accessed through the <code>sendPort</code> property of the <code>ReceivePort</code>. To send a message, call the <code>send</code> method on a <code>SendPort</code> object. To receive these messages, call the <code>listen</code> method on the corresponding <code>ReceivePort</code> object.</p><p>Each new isolate is given a function to execute. An isolate is terminated and removed when this function exits or when another isolate calls its <code>kill</code> method. An isolate stops running temporarily when another isolate calls its <code>pause</code> method.</p><p>The <code>Isolate</code> class support the following class methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>exit()</code></td><td>terminates the current isolate</td></tr><tr><td><code>spawn()</code></td><td>creates a new isolate that runs a given function</td></tr><tr><td><code>spawnUri(Uri uri)</code></td><td>creates a new isolate that runs code from a library at the URI</td></tr></tbody></table><p><code>Isolate</code> objects support the following instance methods:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>addErrorListener(SendPort port)</code></td><td>requests for uncaught errors to be sent to <code>port</code></td></tr><tr><td><code>addOnExitListener(SendPort port)</code></td><td>requests for a message to be sent to <code>port</code> when the isolate terminates</td></tr><tr><td><code>kill()</code></td><td>requests the isolate to terminate</td></tr><tr><td><code>pause()</code></td><td>requests the isolate to pause execution until <code>resume</code> is called</td></tr><tr><td><code>ping(SendPort port)</code></td><td>requests the isolate to send a message to <code>port</code> to verify it is running</td></tr><tr><td><code>removeErrorListener(SendPort port)</code></td><td>stops listening for uncaught error messages</td></tr><tr><td><code>removeOnExitListener(SendPort port)</code></td><td>stops listening for an exit message</td></tr><tr><td><code>resume()</code></td><td>resumes execution after a call to <code>pause</code></td></tr><tr><td><code>setErrorsFatal(bool fatal)</code></td><td>sets whether uncaught errors should terminate the isolate (defaults to <code>true</code>)</td></tr></tbody></table><p>The following code demonstrates creating a new <code>Isolate</code> to call a REST service and compute a value based on what it returns. This avoids blocking the event loop of the main <code>Isolate</code> which allows a Flutter UI to remain responsive while waiting for data to return.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:convert'</span><span class="token punctuation">;</span> <span class="token comment">// for jsonDecode</span><br><span class="token keyword">import</span> <span class="token string">'dart:isolate'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:http/http.dart'</span> <span class="token operator">as</span> http<span class="token punctuation">;</span><br><br><span class="token comment">// This Dart function doesn't know anything about the Isolate</span><br><span class="token comment">// in which it runs.  In order for it to communicate back to</span><br><span class="token comment">// the Isolate that spawned it, it is passed a SendPort.</span><br><span class="token keyword">void</span> <span class="token function">getAverageSalary</span><span class="token punctuation">(</span>SendPort sendPort<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is a free, public REST service that returns</span><br>    <span class="token comment">// an array of objects that describe employees.</span><br>    <span class="token comment">// Each contains an "employee_salary" property.</span><br>  <span class="token keyword">var</span> restUrl <span class="token operator">=</span> <span class="token string">'http://dummy.restapiexample.com/api/v1/employees'</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// http.get returns a Future, but it runs in the current thread.</span><br>  <span class="token comment">// Calling this in a new Isolate allows it to run in another thread</span><br>  <span class="token comment">// and avoid blocking the event loop of the main Isolate.</span><br>  <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>Uri<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>restUrl<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">var</span> status <span class="token operator">=</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">try</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> employees <span class="token operator">=</span> <span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'data'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> total <span class="token operator">=</span> employees<span class="token punctuation">.</span><span class="token function">fold</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>acc<span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">var</span> salary <span class="token operator">=</span> e<span class="token punctuation">[</span><span class="token string">'employee_salary'</span><span class="token punctuation">]</span> <span class="token operator">as</span> int<span class="token punctuation">;</span><br>        <span class="token keyword">return</span> acc <span class="token operator">+</span> salary<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      sendPort<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>total <span class="token operator">/</span> employees<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">throw</span> e<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token comment">// When this REST service returns a 429 status, the body is HTML.</span><br>    <span class="token comment">// There's no easy way to extract a message from it,</span><br>    <span class="token comment">// but the title element contains "Too Many Requests".</span><br>    <span class="token keyword">throw</span> status <span class="token operator">==</span> <span class="token number">429</span> <span class="token operator">?</span> <span class="token string">'too many requests'</span> <span class="token punctuation">:</span> <span class="token string">'bad status $status'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token comment">// This receives a successful result from the Isolate spawned below.</span><br>  <span class="token keyword">var</span> successPort <span class="token operator">=</span> <span class="token function">ReceivePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Isolate.spawn creates and runs a new Isolate</span><br>  <span class="token comment">// 1st argument is a function to run in the new Isolate.</span><br>  <span class="token comment">// 2nd argument is an argument to pass to the specified function.</span><br>  <span class="token keyword">var</span> myIsolate <span class="token operator">=</span> <span class="token keyword">await</span> Isolate<span class="token punctuation">.</span><span class="token function">spawn</span><span class="token punctuation">(</span>getAverageSalary<span class="token punctuation">,</span> successPort<span class="token punctuation">.</span>sendPort<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// There many methods that can be called on myIsolate,</span><br>  <span class="token comment">// but only addErrorListener is used here.</span><br><br>  <span class="token comment">// This receives an error from the Isolate spawned above.</span><br>  <span class="token keyword">var</span> errorPort <span class="token operator">=</span> <span class="token function">ReceivePort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  myIsolate<span class="token punctuation">.</span><span class="token function">addErrorListener</span><span class="token punctuation">(</span>errorPort<span class="token punctuation">.</span>sendPort<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  errorPort<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> message <span class="token operator">=</span> error<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got error: $message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    successPort<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    errorPort<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Some Isolate examples show this approach of</span><br>  <span class="token comment">// waiting for the first value to arrive on the successPort stream.</span><br>  <span class="token comment">// But we can't use this approach because if an error is received above,</span><br>  <span class="token comment">// we need to close successPort in order to exit the program.</span><br>  <span class="token comment">// Doing that would cause an error in this commented out line.</span><br>  <span class="token comment">//var averageSalary = await successPort.first;</span><br><br>  successPort<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>averageSalary<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'average salary is ${averageSalary.toStringAsFixed(2)}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    successPort<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    errorPort<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Flutter simplifies running code in a new thread by providing the <code>compute</code> function. This takes a function and data to be passed to it. It creates a new <code>Isolate</code>, runs the function in it, and returns a <code>Future</code> that provides the result when it succeeds. Use the <code>await</code> keyword inside an <code>async</code> function or the <code>then</code> method to get the result.</p><h2 id="tooling">Tooling</h2><h3 id="code-formatting">Code Formatting</h3><p>Formatting of Dart code is provided by the <a href="https://dart.dev/tools/dart-format?v=1.0.18" rel="noopener" target="_blank">dart format</a> command.</p><p>To get the best formatting, include a comma after every function argument, even the last one. This places each argument on a separate line.</p><h3 id="compiling">Compiling</h3><p>The <code>dart compile {format}</code> command compiles Dart code to other formats. The <code>exe</code> format creates an executable program for the current platform which can be Windows, macOS, or Linux. The <code>js</code> format compiles Dart code to JavaScript that includes an implementation of the Dart runtime.</p><h3 id="testing">Testing</h3><p>Dart unit tests can be implementing using the <code>test</code> package. To install this in a Dart project, enter <code>dart pub add test --dev</code>.</p><p>Test source files should be placed in the <code>test</code> directory. The directory structure under <code>test</code> should mirror the directory structure under <code>lib</code>. There should be one test source file corresponding to each <code>.dart</code> file under the <code>lib</code> directory.</p><p>Each test source file name should match the name of the file for which it provides tests, but must end with <code>_test.dart</code>. And each must import the file that it tests.</p><p>Here is an example of code to be tested in the file <code>lib/math.dart</code> that is inside a project named <code>demo</code>.</p><pre class="language-dart"><code class="language-dart">double <span class="token function">add</span><span class="token punctuation">(</span>double n1<span class="token punctuation">,</span> double n2<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of test code in the file <code>test/math_test.dart</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:demo/math.dart'</span><span class="token punctuation">;</span> <span class="token comment">// demo is the project name</span><br><span class="token keyword">import</span> <span class="token string">'package:test/test.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'add works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// passing an anonymous function to test</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The <code>expect</code> function takes an actual value and an expected value. It also accepts the optional named parameters <code>reason</code> and <code>skip</code>. The <code>reason</code> parameter is a <code>String</code> to be displayed when the actual and expected values do not match.</p><p>The expected value can be a <a href="https://pub.dev/documentation/matcher/latest/matcher/matcher-library.html?v=1.0.18" rel="noopener" target="_blank">matcher</a>. This supports more complex validation such as the following:</p><pre class="language-dart"><code class="language-dart"><span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getFullName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">allOf</span><span class="token punctuation">(</span><span class="token punctuation">[</span><br>  <span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'R'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'Mark'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'Volkmann'</span><span class="token punctuation">)</span><br><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>If the actual and expected values in a call to <code>expect</code> do not match, it throws a <code>TestFailure</code> exception. This prevents other calls to <code>expect</code> in the same <code>test</code> function from being evaluated.</p><p>To test that an expression throws a specific kind of exception, use the <code>throwsA</code> function. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  int <span class="token function">intDivide</span><span class="token punctuation">(</span>int n1<span class="token punctuation">,</span> int n2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n1 <span class="token operator">~/</span> n2<span class="token punctuation">;</span><br><br>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'integer division works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">intDivide</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><br>      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">intDivide</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">throwsA</span><span class="token punctuation">(</span>isA<span class="token operator">&lt;</span>IntegerDivisionByZeroException<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>To temporarily skip evaluating an <code>expect</code>, set the <code>skip</code> parameter to <code>true</code> or any <code>String</code>. When <code>skip</code> is set to <code>true</code>, <code>expect</code> will output &quot;Skip expect: ({reason-or-expected-value})&quot;. When <code>skip</code> is set to a <code>String</code>, <code>expect</code> will output &quot;Skip expect: {skip-value}&quot;. Note that the arguments to <code>expect</code> are evaluated regardless of the value of <code>skip</code>.</p><p>To skip running a test, pass the named parameter <code>skip</code> with a string message to the <code>test</code> function.</p><p>To skip running a group of tests, pass the named parameter <code>skip</code> with a string message to the <code>group</code> function.</p><p>To skip running all the tests in a source file, add the <code>@Skip(message)</code> annotation to the top of the file before <code>import</code> statements.</p><p>Suppose we want to test the function <code>processOrder</code> on orders that contain multiple items, one item, and zero items, and the function returns a <code>bool</code> indicating whether the order was successfully processed. Here are examples of <code>expect</code> calls with a <code>skip</code> value.</p><pre class="language-dart"><code class="language-dart"><span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">processOrder</span><span class="token punctuation">(</span>multipleOrder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> skip<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// outputs "Skip expect: (true)" which isn't descriptive</span><br><br><span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">processOrder</span><span class="token punctuation">(</span>singleOrder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> reason<span class="token punctuation">:</span> <span class="token string">'single order'</span><span class="token punctuation">,</span> skip<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// outputs "Skip expect: single order"</span><br><br><span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">processOrder</span><span class="token punctuation">(</span>emptyOrder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> skip<span class="token punctuation">:</span> <span class="token string">'not implemented yet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// outputs "Skip expect: not implemented yet"</span></code></pre><p>The <code>test</code> function and <code>group</code> function (described below) also support a <code>skip</code> named parameter for skipping execution of a test or entire group of tests. It works the same way as does in the <code>expect</code> function. Unfortunately, because named parameters must follow positional ones, the <code>skip</code> parameter must appear after the body of the <code>test</code> or <code>group</code> which makes it difficult to spot when reading code.</p><p>To run all the tests in a project, enter <code>dart test</code>. This is a bit slow the first time it is run, but subsequent runs are much faster. If all of the tests pass, this will output &quot;All tests passed!&quot;. Otherwise it will output the expected and actual results of the failed tests, followed by &quot;Some tests failed.&quot;</p><p>To run tests from inside VS Code, click the beaker icon in the left nav to display the test panel. Then click one of the play buttons at the top (non-debug or debug). To run a single test, hover over it in the test panel to reveal play buttons and click one of them.</p><p>Tests can be grouped into suites using the <code>group</code> function which takes a name and a function that calls the <code>test</code> and <code>group</code> functions. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:test/test.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'dart:math'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'trigonometry'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'sin works'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="annoyances">Annoyances</h2><ul><li><p>Dart Format should be able to indent lines nicely without requiring a trailing comma after the last argument to every function call.</p></li><li><p>Dart should support a shorthand for named parameters when there is an in-scope variable with the same name. For example, instead of <code>Person(name: name, birthday: birthday)</code> we should be able to write <code>Person(name:, birthday:)</code>.</p></li><li><p>Dart wants many constructor calls to be preceded by the <code>const</code> keyword. This makes the code verbose.</p></li></ul></article>