<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Dart</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#editors">Editors</a></li><li><a href="#creating-and-running-programs">Creating and Running Programs</a></li><li><a href="#types">Types</a></li><li><a href="#variables">Variables</a></li><li><a href="#print">Print</a></li><li><a href="#functions">Functions</a></li><li><a href="#lists">Lists</a></li><li><a href="#sets">Sets</a></li><li><a href="#maps">Maps</a></li><li><a href="#objects">Objects</a></li><li><a href="#constants">Constants</a></li><li><a href="#tooling">Tooling</a><ol><li><a href="#code-formatting">Code Formatting</a></li><li><a href="#compiling">Compiling</a></li><li><a href="#testing">Testing</a></li></ol></li><li><a href="#annoyances">Annoyances</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://dart.dev?v=1.0.18" rel="noopener" target="_blank">Dart</a> is a general purpose programming language from Google. It was first announced in October, 2012.</p><p>The original purpose of Dart was to be an alternative to JavaScript for running code in web browsers. The Chrome browser planned to include a Dart VM for this purpose, but that plan has been abandoned in favor of compiling to JavaScript.</p><p>Currently Dart is primarily used by the <a href="https://flutter.dev?v=1.0.18" rel="noopener" target="_blank">Flutter</a> framework for building mobile, web, and desktop applications.</p><p>The syntax of Dart is somewhat similar to Java. Statements are terminated by semi-colons. Indentation is typically two spaces.</p><h2 id="resources">Resources</h2><ul><li><a href="https://some.url">title</a></li></ul><h2 id="editors">Editors</h2><p>Many code editors can be used for writing Dart programs. Popular options include VS Code, Intellij IDEA, and Android Studio. <a href="https://dartpad.dev?v=1.0.18" rel="noopener" target="_blank">DartPad</a> is an online editor for experimenting with Dart features.</p><h2 id="creating-and-running-programs">Creating and Running Programs</h2><p>Dart source files have a <code>.dart</code> file extension. A <code>.dart</code> file can import others using the <code>import</code> statement.</p><p>The <code>main</code> function defines the starting point of a program. It is passed a <code>List</code> of command-line arguments. The type can be omitted, specified as just <code>List</code>, or specified as <code>List&lt;String&gt;</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token function">main</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'arg = $arg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>To run a <code>.dart</code> file that defines a <code>main</code> function, enter <code>dart {name}.dart [arguments]</code>.</p><h2 id="types">Types</h2><p>Dart supports the following built-in basic types:</p><ul><li><code>void</code>: means a value is never used</li><li><code>null</code>:</li><li><code>bool</code>: boolean value with literal values <code>true</code> and <code>false</code></li><li><code>int</code>: 64-bit integer</li><li><code>double</code>: 64-bit floating point number</li><li><code>String</code>: sequence of UTF-16 characters delimited by single or double quotes</li></ul><p>Note that there is no <code>float</code> type. The <code>double</code> type is used for all floating point numbers.</p><p>Dart supports the following built-in collection types:</p><ul><li><code>List</code>: ordered collection of values (see the <code>List</code> section)</li><li><code>Set</code>: unordered collection of unique values (see the <code>Set</code> section)</li><li><code>Map</code>: unordered collection of key/value pairs (see the <code>Map</code> section)</li></ul><p>Dart supports type inference, so types do not need to specified if they can be inferred from values.</p><p>By default no type allows the value <code>null</code>. To allow this prepend <code>?</code> to the type name. For example, a variable of type <code>String?</code> can be set to <code>null</code>, but a variable of type <code>String</code> cannot.</p><h2 id="variables">Variables</h2><p>Variables are declared with a type or the <code>var</code> keyword to obtain the type through type inference. For example, these are equivalent:</p><pre class="language-dart"><code class="language-dart">int n <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span></code></pre><h2 id="print">Print</h2><p>The <code>print</code> function takes a single <code>String</code> and writes it to stdout. Literal <code>String</code> values are delimited by single or double quotes. To include the value of a variable in a <code>String</code>, use <code>$variableName</code>. To include the value of an expression in a <code>String</code>, use <code>${expression}</code>.</p><h2 id="functions">Functions</h2><p>Dart functions are represented by objects with the type <code>Function</code>. They are first class which means they can be assigned variables, passed to other functions, and returned from other functions.</p><p>Functions have the following syntax:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">return</span><span class="token operator">-</span>type fn<span class="token operator">-</span><span class="token function">name</span><span class="token punctuation">(</span>parameter<span class="token operator">-</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  statements<br><span class="token punctuation">}</span><br>```<br><br>Functions that only <span class="token keyword">return</span> the value of a single expression<br>can use a shorthand syntax where<br>`<span class="token operator">=</span><span class="token operator">></span> expression<span class="token punctuation">;</span>` <span class="token operator">is</span> short <span class="token keyword">for</span> `<span class="token punctuation">{</span> <span class="token keyword">return</span> expression<span class="token punctuation">;</span> <span class="token punctuation">}</span>`<span class="token punctuation">.</span><br><br>Specifying parameter types and the <span class="token keyword">return</span> type are optional<span class="token punctuation">.</span><br>For example<span class="token punctuation">,</span> the following <span class="token operator">is</span> a valid function definition<span class="token punctuation">:</span><br><br>```dart<br><span class="token function">sum</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n1 <span class="token operator">+</span> n2<span class="token punctuation">;</span><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span><br>```<br><br>Functions can take both position and named arguments<span class="token punctuation">.</span><br>All positional arguments must preceded the named ones<span class="token punctuation">.</span><br><br>Positional arguments can be required or optional<span class="token punctuation">.</span><br>All required positional arguments must appear before the optional ones<span class="token punctuation">.</span><br>Required parameters cannot be given <span class="token keyword">default</span> values<span class="token punctuation">.</span><br>All optional arguments must be inside square brackets<span class="token punctuation">.</span><br>They must either have a <span class="token keyword">default</span> value or an optional type <span class="token punctuation">(</span>ending <span class="token keyword">with</span> `<span class="token operator">?</span>`<span class="token punctuation">)</span><span class="token punctuation">.</span><br><br>In the following example<span class="token punctuation">,</span> `req1` and `req2` are required parameters<br>and `opt1` and `opt2` are optional<span class="token punctuation">.</span><br>If only two arguments are passed<span class="token punctuation">,</span><br>`opt1` <span class="token operator">is</span> <span class="token keyword">set</span> to its <span class="token keyword">default</span> value of `<span class="token number">0</span>`<br>and `opt2` <span class="token operator">is</span> <span class="token keyword">set</span> to `<span class="token keyword">null</span>`<span class="token punctuation">.</span><br><br>```dart<br><span class="token function">demo</span><span class="token punctuation">(</span>int req1<span class="token punctuation">,</span> int req2<span class="token punctuation">,</span> <span class="token punctuation">[</span>int opt1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> int<span class="token operator">?</span> opt2<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token punctuation">}</span><br>```<br><br>Named parameters are declared inside curly braces<span class="token punctuation">.</span><br>If they are optional<span class="token punctuation">,</span> they must either have a <span class="token keyword">default</span> value<br>or an optional type <span class="token punctuation">(</span>ending <span class="token keyword">with</span> `<span class="token operator">?</span>`<span class="token punctuation">)</span><span class="token punctuation">.</span><br>If they are required<span class="token punctuation">,</span> the `required` keyword must appear before their type<span class="token punctuation">.</span><br>For example<span class="token punctuation">:</span><br><br>```dart<br><span class="token comment">//int product(int n, {required int by}) => n * by;</span><br>int <span class="token function">product</span><span class="token punctuation">(</span>int n<span class="token punctuation">,</span> <span class="token punctuation">{</span>int by <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> n <span class="token operator">*</span> by<span class="token punctuation">;</span><br><br><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span><br><span class="token punctuation">}</span><br>```<br><br>Trailing commas are allowed after the last parameter <span class="token keyword">in</span> function definitions<br>and after the last argument <span class="token keyword">in</span> function calls<span class="token punctuation">.</span><br>This causes `dart format` to place each<br>parameter or argument <span class="token keyword">on</span> a separate line<span class="token punctuation">.</span><br><br>Functions that <span class="token keyword">do</span> not explicitly <span class="token keyword">return</span> a value evaluate to `<span class="token keyword">null</span>`<span class="token punctuation">.</span><br><br>## Classes<br><br>## Method Cascades<br><br>Method cascades provide a way to invoke several methods <span class="token keyword">on</span> the same object<span class="token punctuation">.</span><br><br>## Mixins<br><br>## Concurrency <span class="token keyword">with</span> Isolates<br><br>## Access Specifiers<br><br>Dart does not support keywords to indicate access levels<br>of things like functions<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> fields<span class="token punctuation">,</span> and methods<span class="token punctuation">.</span><br>Instead add an underscore prefix to a name to indicate that it <span class="token operator">is</span> private<span class="token punctuation">.</span><br>This <span class="token operator">is</span> enforced at the <span class="token keyword">library</span> level<span class="token punctuation">.</span><br>Private names <span class="token keyword">in</span> a <span class="token keyword">library</span> are not accessible outside the <span class="token keyword">library</span><span class="token punctuation">.</span><br>A compiler error <span class="token operator">is</span> generated <span class="token keyword">if</span> such access <span class="token operator">is</span> attempted<span class="token punctuation">.</span><br>However<span class="token punctuation">,</span> private names within an application or <span class="token keyword">library</span><br>are still accessible by code <span class="token keyword">in</span> the same application or <span class="token keyword">library</span><span class="token punctuation">.</span><br><br>## Classes<br><br>Classes defined fields to hold data<span class="token punctuation">,</span> constructors to create instances<span class="token punctuation">,</span><br>and methods to operate <span class="token keyword">on</span> the data<span class="token punctuation">.</span><br><br>Constructors are defined <span class="token operator">as</span> methods <span class="token keyword">with</span> the same name <span class="token operator">as</span> the <span class="token keyword">class</span><span class="token punctuation">.</span><br>For example<span class="token punctuation">:</span><br><br>```dart<br><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  double x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token function">Point</span><span class="token punctuation">(</span>double x<span class="token punctuation">,</span> double y<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// This is an alternate way to write the constructor above.</span><br>  <span class="token comment">//Point(this.x, this.y);</span><br><span class="token punctuation">}</span></code></pre><p>If a class doesn't define a constructor, a no-arg constructor that doesn't initialize any fields is provided. If the class has a superclass, the default constructor calls its no-arg constructor.</p><p>Additional &quot;named constructors&quot; can be provided. For example, the <code>Point</code> class above could have a named constructor for initializing <code>x</code> and <code>y</code> to the same value.</p><pre class="language-dart"><code class="language-dart">  Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span>double value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> value<span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> value<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span></code></pre><p>Constructors can initialize fields before their body runs. For example, the following is an alternate way to write the previous named constructor. This has no body, but a body could be added by replacing the closing semi-colon with a block of code surrounded by curly braces.</p><pre class="language-dart"><code class="language-dart">  Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span>double value<span class="token punctuation">)</span><span class="token punctuation">:</span> x <span class="token operator">=</span> value<span class="token punctuation">,</span> y <span class="token operator">=</span> value<span class="token punctuation">;</span></code></pre><p>Pulling all of this together we can write the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><br>  double x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  double y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span>double value<span class="token punctuation">)</span><span class="token punctuation">:</span> x <span class="token operator">=</span> value<span class="token punctuation">,</span> y <span class="token operator">=</span> value <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'I ran!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'($x, $y}'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pt <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'pt = $pt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pt = (2.0, 3.0)</span><br>  pt <span class="token operator">=</span> Point<span class="token punctuation">.</span><span class="token function">same</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'pt = $pt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// pt = (4.0, 4.0)</span><br><span class="token punctuation">}</span></code></pre><p>Here is one more example that demonstrates a constructor that takes named parameters.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>  String name<span class="token punctuation">;</span><br>  int<span class="token operator">?</span> _age<span class="token punctuation">;</span><br><br>  <span class="token comment">// The first parameter is required and the second is optional.</span><br>  <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> int<span class="token operator">?</span> age<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _age <span class="token operator">=</span> age<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'p1.name = ${p1.name}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Mark</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'p1._age = ${p1._age}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 60</span><br><br>  <span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Tami'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'p2.name = ${p2.name}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tami</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'p2._age = ${p2._age}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span><br><span class="token punctuation">}</span></code></pre><h2 id="lists">Lists</h2><p>Arrays in Dart are <code>List</code> objects. A literal array is written as a comma-separated list of values surrounded by square brackets. For example, <code>var numbers = [3, 7, 19];</code></p><p>To iterate over the elements of a <code>List</code>, use a <code>for/in</code> loop or the <code>forEach</code> method. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">const</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Maisey'</span><span class="token punctuation">,</span> <span class="token string">'Ramsay'</span><span class="token punctuation">,</span> <span class="token string">'Oscar'</span><span class="token punctuation">,</span> <span class="token string">'Comet'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> dog <span class="token keyword">in</span> dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Same as above.</span><br>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Same as above.</span><br>dogs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>print<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="sets">Sets</h2><p>A set is an unordered collection of unique values. A literal set is written as a comma-separated list of values surrounded by curly braces. For example, <code>var numbers = {3, 7, 19};</code></p><h2 id="maps">Maps</h2><p>A map is a collection of key/value pairs. The keys and values can have any type. A literal map is written as a comma-separated list of pairs surrounded by curly braces. Each pair is written as a key followed by a colon and a value. When a key is a string, it must be delimited by single or double quotes.</p><h2 id="objects">Objects</h2><h2 id="constants">Constants</h2><p>Variables whose values are known at compile-time should be declared with the keyword <code>const</code>. Class fields whose values are known at compile-time should be declared with the keywords <code>static const</code>. When the type is a object or array, the contents also cannot be changed.</p><p>Variables and class fields whose values are set once at run-time and then never changed should be declared with the keyword <code>final</code>. When the type is a object or array, the contents can be changed.</p><h2 id="tooling">Tooling</h2><h3 id="code-formatting">Code Formatting</h3><p>Formatting of Dart code is provided by the <a href="https://dart.dev/tools/dart-format?v=1.0.18" rel="noopener" target="_blank">dart format</a> command.</p><p>To get the best formatting, include a comma after every function argument, even the last one. This places each argument on a separate line.</p><h3 id="compiling">Compiling</h3><p>The <code>dart compile {format}</code> command compiles Dart code to other formats. The <code>exe</code> format creates an executable program for the current platform which can be Windows, macOS, or Linux. The <code>js</code> format compiles Dart code to JavaScript that includes an implementation of the Dart runtime.</p><h3 id="testing">Testing</h3><p>The <code>dart test</code> command runs tests.</p><h2 id="annoyances">Annoyances</h2><ul><li>Dart wants many constructor calls to be preceded by the <code>const</code> keyword. This makes the code verbose.</li></ul></article>