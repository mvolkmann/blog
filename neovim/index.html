<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Neovim</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#vim-review">Vim Review</a><ol><li><a href="#buffer-scrolling">Buffer Scrolling</a></li><li><a href="#numbers">Numbers</a></li><li><a href="#opening-files-and-urls">Opening Files and URLs</a></li><li><a href="#spell-checking">Spell Checking</a></li><li><a href="#shell-commands">Shell Commands</a></li><li><a href="#macros">Macros</a></li><li><a href="#quickfix-list">Quickfix List</a></li><li><a href="#folds">Folds</a></li><li><a href="#executing-buffer">Executing Buffer</a></li><li><a href="#sourcing-files">Sourcing Files</a></li></ol></li><li><a href="#neovim">Neovim</a><ol><li><a href="#installing-neovim">Installing Neovim</a></li><li><a href="#updating-neovim">Updating Neovim</a></li><li><a href="#configuring-neovim">Configuring Neovim</a></li><li><a href="#buffers">Buffers</a></li><li><a href="#lua-functions">Lua Functions</a></li><li><a href="#missing-functionality">Missing Functionality</a></li></ol></li><li><a href="#astronvim">AstroNvim</a><ol><li><a href="#installing-astronvim">Installing AstroNvim</a></li><li><a href="#updating-astronvim">Updating AstroNvim</a></li><li><a href="#configuring-astronvim">Configuring AstroNvim</a></li><li><a href="#key-mappings">Key Mappings</a></li><li><a href="#fonts">Fonts</a></li><li><a href="#basics">Basics</a></li><li><a href="#file-explorer">File Explorer</a></li><li><a href="#tree-sitter">Tree-sitter</a></li><li><a href="#splits">Splits</a></li><li><a href="#telescope">Telescope</a></li><li><a href="#comments">Comments</a></li><li><a href="#code-formatting">Code Formatting</a></li><li><a href="#auto-pairs">Auto-pairs</a></li><li><a href="#status-line">Status Line</a></li><li><a href="#git-integration">Git Integration</a></li><li><a href="#lazygit">Lazygit</a><ol><li><a href="#status-section">Status Section</a></li><li><a href="#files-section">Files Section</a></li><li><a href="#local-branches-section">Local Branches Section</a></li><li><a href="#commits-section">Commits Section</a></li><li><a href="#stash-section">Stash Section</a></li></ol></li><li><a href="#color-themes">Color Themes</a></li><li><a href="#completions">Completions</a></li><li><a href="#snippets">Snippets</a></li><li><a href="#marks">Marks</a></li><li><a href="#sessions">Sessions</a></li><li><a href="#bottom-(btm)">Bottom (btm)</a></li><li><a href="#go-diskusage-(gdu)">Go DiskUsage (gdu)</a></li><li><a href="#terminal">Terminal</a></li><li><a href="#lazy">Lazy</a></li><li><a href="#custom-plugins">Custom Plugins</a><ol><li><a href="#hop.nvim-plugin">hop.nvim Plugin</a></li><li><a href="#neoformat-plugin">neoformat Plugin</a></li><li><a href="#todo-comments.nvim-plugin">todo-comments.nvim Plugin</a></li><li><a href="#smartcolumn.nvim-plugin">smartcolumn.nvim Plugin</a></li><li><a href="#emmet">Emmet</a></li></ol></li><li><a href="#astronvim-community">AstroNvim Community</a></li></ol></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p>This post is split into three major sections.</p><ul><li>The first section reviews some features of Vim.</li><li>The second section provides an introduction to Neovim.</li><li>The third section introduces a specific pre-made configuration for NeoVim called AstroNvim.</li></ul><h2 id="vim-review" tabindex="-1">Vim Review</h2><p><img alt="Vim logo" style="width: 25%" src="/blog/assets/vim-logo.png?v=1.0.20" title="Vim logo"></p><p>All features of Vim are also present in Neovim. This section reviews a selected subset of them.</p><h3 id="buffer-scrolling" tabindex="-1">Buffer Scrolling</h3><p>To scroll the current buffer based on the line under the cursor:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>zt</code></td><td>moves to top</td></tr><tr><td><code>z&lt;return&gt;</code></td><td>also moves to top</td></tr><tr><td><code>zz</code></td><td>moves to vertical center</td></tr></tbody></table><h3 id="numbers" tabindex="-1">Numbers</h3><p>To increment the number under the cursor, press <code>ctrl-a</code>.</p><p>To decrement the number under the cursor, press <code>ctrl-x</code>.</p><p>If the number has decimal places, these key mappings affect either the number before or after the decimal point. For example, if the number is <code>12.34</code> and the cursor is on the <code>1</code> or <code>2</code> before the decimal point then pressing <code>ctrl-a</code> changes <code>12</code> to <code>13</code>. If the cursor is on the <code>3</code> or <code>4</code> after the decimal point then pressing <code>ctrl-a</code> changes <code>34</code> to <code>35</code>.</p><h3 id="opening-files-and-urls" tabindex="-1">Opening Files and URLs</h3><p>To open a file whose relative or absolute path is under the cursor, press <code>gf</code> for &quot;go to file&quot;.</p><p>To open a URL under the cursor in a new tab of the default web browser, press <code>gx</code>.</p><h3 id="spell-checking" tabindex="-1">Spell Checking</h3><p>Spell checking is a builtin feature of Vim, but it is not enabled by default in Vim, Neovim, or AstroNvim.</p><p>To enable spell checking in Vim, add the following in your <code>.vimrc</code> file:</p><pre><code>set spell spelllang=en_us
</code></pre><p>To enable spell checking in AstroNvim, add the following in <code>~/.config/nvim/lua/user/init.lua</code>:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  polish <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    vim<span class="token punctuation">.</span>opt<span class="token punctuation">.</span>spell <span class="token operator">=</span> <span class="token keyword">true</span><br>    <span class="token comment">-- vim.opt.spelllang = "en_us" -- defaults to "en"</span><br>    vim<span class="token punctuation">.</span>opt<span class="token punctuation">.</span>spelloptions <span class="token operator">=</span> <span class="token string">"camel"</span><br><br>    vim<span class="token punctuation">.</span>api<span class="token punctuation">.</span><span class="token function">nvim_set_hl</span><span class="token punctuation">(</span><br>      <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">-- global highlight group</span><br>      <span class="token string">'SpellBad'</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> fg <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span> underline <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">)</span><br>  <span class="token keyword">end</span><br><span class="token punctuation">}</span></code></pre><p>I'm encountering two issues. The first is that misspelled words are not underlined. I'd really like to use &quot;undercurl&quot; instead of &quot;underline&quot;, but it seems that is not supported. The second is that camel-cased words are not handled properly. For example, &quot;catDog&quot; is marked as misspelled. See this <a href="https://www.reddit.com/r/AstroNvim/comments/12lxn7j/spell_checking/?utm_source=share&utm_medium=web2x&context=3?v=1.0.20" rel="noopener" target="_blank">reddit post</a>.</p><p>For more detail on spell checking options for Neovim, see <a href="https://neovim.io/doc/user/options.html?v=1.0.20" rel="noopener" target="_blank">Neovim Options</a>.</p><p>The following Vim default key mappings perform actions related to spell checking.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>]s</code></td><td>jumps to the next misspelled word</td></tr><tr><td><code>[s</code></td><td>jumps to the previous misspelled word</td></tr><tr><td><code>z=</code></td><td>opens a list of suggested replacements</td></tr><tr><td><code>zg</code></td><td>good; adds the word under the cursor to the dictionary</td></tr><tr><td><code>zw</code></td><td>wrong; removes the word under the cursor from the dictionary</td></tr></tbody></table><p>The list of suggested replacements appears at the bottom of the window. Each suggestion is identified by a number or letter that can be pressed to substitute it.</p><h3 id="shell-commands" tabindex="-1">Shell Commands</h3><p>To run a shell command from Vim, type <code>!</code> followed by the command.</p><p>Any selected text is passed to the command as <code>stdin</code> and is replaced by the <code>stdout</code> of the command. An example of when this is useful is sorting lines. Select any number of lines and enter <code>!sort</code> to sort them.</p><h3 id="macros" tabindex="-1">Macros</h3><p>Macros record a series of keystrokes and assign them to a lowercase letter so they can be replayed any number of times.</p><p>To define a macro:</p><ol><li>Press <code>q</code> followed by the lowercase letter to which it will be assigned.</li><li>Type the keystrokes to be recorded.</li><li>Press <code>q</code> to end recording.</li></ol><p>To replay a macro:</p><ol><li>Move the cursor to where it should be when the macro begins playing.</li><li>Press <code>@</code> followed by the assigned lowercase letter.</li></ol><p>To replay the last macro used, press <code>@@</code>.</p><p>To replay a macro multiple times, type the desired number followed by <code>@</code> and the assigned macro letter.</p><p>For example, suppose we want to define a macro named &quot;i&quot; that adds a hyphen and a space to the beginning of a line and add a period at the end.</p><ul><li>Move the cursor to the beginning of a line that needs these changes.</li><li>Press <code>qi</code>.</li><li>Type <code>i</code> to go into insert mode.</li><li>Type <code>-</code> and a space.</li><li>Press <code>esc</code> to exit insert mode.</li><li>Press <code>A</code> to move the end of the line and enter insert mode.</li><li>Type <code>.</code></li><li>Press <code>esc</code> to exit insert mode.</li><li>Press <code>0</code> to move the beginning of the line and press <code>j</code> to move down to the next line. These prepare for executing the macro again on the next line.</li><li>Press <code>q</code> to end macro recording.</li></ul><p>To execute this macro on the next 15 lines, type <code>15@i</code> or <code>15@@</code>.</p><h3 id="quickfix-list" tabindex="-1">Quickfix List</h3><p>The Quickfix list stores locations of:</p><ul><li>search matches</li><li>compile errors</li><li>test errors</li><li>linting errors</li></ul><p>The list can be displayed and there are commands for jumping to the locations it describes.</p><p>Many Vim commands update the quickfix list, including <code>vimgrep</code> and <code>make</code>. The <code>vimgrep</code> command takes a regular expression and an indicator of which files should be searched. For example, <code>:vimgrep /help/ %</code> searches for the word &quot;help&quot; only in the current buffer and <code>:vimgrep /help/ **/*.js</code> searches for the word &quot;help&quot; in all JavaScript files in and below the directory from which Vim was started.</p><p>Each row in the quickfix list identifies a file, line number, column number, and some text such as a match or error message.</p><p>The commands summarized below are the most frequently used commands that operate on the quickfix list.</p><table><thead><tr><th>Command</th><th>Action</th></tr></thead><tbody><tr><td><code>copen</code></td><td>opens the quickfix list window</td></tr><tr><td><code>cclose</code> or <code>ccl</code></td><td>closes the quickfix list window</td></tr><tr><td><code>cnext</code> or <code>cn</code></td><td>jumps to the location of the <strong>next</strong> item in the quickfix list</td></tr><tr><td><code>cprev</code> or <code>cp</code></td><td>jumps to the location of the <strong>previous</strong> item in the quickfix list</td></tr><tr><td><code>cfirst</code></td><td>jumps to the location of the <strong>first</strong> item in the quickfix list</td></tr><tr><td><code>clast</code></td><td>jumps to the location of the <strong>last</strong> item in the quickfix list</td></tr><tr><td><code>cc&lt;n&gt;</code></td><td></td></tr></tbody></table><p>To navigate within the quickfix window, use the normal vim key mappings such as <code>j</code> and <code>k</code>.</p><p>To jump to the location of the selected row, press the <code>return</code> key.</p><p>For more details on the quickfix list, location lists (which are similar), and more, see <a href="https://freshman.tech/vim-quickfix-and-location-list/?v=1.0.20" rel="noopener" target="_blank">The quickfix and location lists in Vim</a>.</p><p>The <code>vimgrep</code> command is considerably slower than using <a href="https://github.com/BurntSushi/ripgrep?v=1.0.20" rel="noopener" target="_blank">ripgrep</a> which is integrated with the Neovim plugin <a href="https://github.com/nvim-telescope/telescope.nvim?v=1.0.20" rel="noopener" target="_blank">Telescope</a>.</p><h3 id="folds" tabindex="-1">Folds</h3><p>The following key mappings support code folding which temporarily hides blocks of code.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>za</code></td><td>toggles the fold on the cursor line</td></tr><tr><td><code>zA</code></td><td>toggles all folds on the cursor line (nested folds)</td></tr><tr><td><code>zo</code></td><td>opens fold on the cursor line</td></tr><tr><td><code>zm</code></td><td>folds more over entire buffer</td></tr><tr><td><code>zr</code></td><td>folds less over entire buffer</td></tr><tr><td><code>zM</code></td><td>closes all folds</td></tr><tr><td><code>zR</code></td><td>opens all folds</td></tr><tr><td><code>zp</code></td><td>peeks at folded lines; next keystroke hides again</td></tr></tbody></table><p>Of these, <code>za</code> and <code>zR</code> are the most useful.</p><p>In AstroNvim press <code>z</code> and pause to see all the key mappings related to folding.</p><h3 id="executing-buffer" tabindex="-1">Executing Buffer</h3><p>There are multiple ways to execute the code inside a buffer. For example, if the current buffer contains Lua code, it can be executed in any of the following ways:</p><ol><li><p>Execute a shell command.</p><ol><li>Enter <code>!lua %</code>.</li><li>The output is displayed in the message area at bottom.</li></ol></li><li><p>Execute a shell command in a temporary terminal.</p><ol><li>Enter <code>:term lua %</code>.</li><li>The output is displayed in a new buffer.</li><li>Enter <code>:bd</code> to close the buffer.</li></ol></li><li><p>Use a floating terminal.</p><ol><li>Press F7 to toggle it open.</li><li>Enter <code>lua {file-name}.lua</code></li><li>Press F7 again to toggle it closed.</li></ol></li></ol><h3 id="sourcing-files" tabindex="-1">Sourcing Files</h3><p>After editing a configuration file, enter <code>:source</code> or <code>:so</code> to execute it. This is useful after making changes to configuration files so it isn't necessary to exit and restart Vim in order for the changes to take effect.</p><h2 id="neovim" tabindex="-1">Neovim</h2><p><img alt="Neovim logo" style="width: 50%" src="/blog/assets/neovim.png?v=1.0.20" title="Neovim logo"></p><p><a href="https://neovim.io?v=1.0.20" rel="noopener" target="_blank">Neovim</a>, or nvim for short, is a free, open source, modern fork of the <a href="https://www.vim.org?v=1.0.20" rel="noopener" target="_blank">Vim</a> text editor. It provides built-in Language Server Protocol (LSP) support, asynchronous I/O, and support for Lua scripting.</p><p>The Neovim project started in 2014 and was officially released in November 2015.</p><p>The source for Neovim is in a public <a href="https://github.com/neovim/neovim?v=1.0.20" rel="noopener" target="_blank">GitHub repository</a>. As of April 2023 there were 963 contributors and the code was 44% VimScript, 31% C, and 23% Lua.</p><h3 id="installing-neovim" tabindex="-1">Installing Neovim</h3><p>In macOs, Neovim can be installed using Homebrew. To install it, enter <code>brew install neovim</code>.</p><p>If you are already in the habit of using Vim, it's a good idea to add an alias from &quot;vim&quot; to &quot;nvim&quot; in your shell configuration file. For zsh, edit <code>~/.zshrc</code> and add the following:</p><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">alias</span> <span class="token assign-left variable">vim</span><span class="token operator">=</span><span class="token string">"nvim"</span></code></pre><h3 id="updating-neovim" tabindex="-1">Updating Neovim</h3><p>To update Neovim after it has been installed, enter <code>brew upgrade neovim</code>.</p><h3 id="configuring-neovim" tabindex="-1">Configuring Neovim</h3><p>Neovim can be configured using Vimscript, the Lua programming language, or both.</p><p>To configure using Lua:</p><ul><li><p>Create the directory <code>~/.config/nvim/lua/user</code>.</p></li><li><p>If your <code>~/.config</code> directory is in a Git repo (and it probably should be), remove the line <code>lua/user</code> from <code>~/.config/nvim/.gitignore</code> so it can be saved.</p></li><li><p>In the new <code>~/.config/nvim/lua/user</code> directory, create the files <code>init.lua</code>, <code>options.lua</code>, and <code>mappings.lua</code>.</p></li><li><p>In the <code>init.lua</code> file, return a table like the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  colorscheme <span class="token operator">=</span> <span class="token string">"astrodark"</span><br><span class="token punctuation">}</span></code></pre></li><li><p>In the <code>mappings.lua</code> file, return a table like the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token comment">-- normal mode</span><br>  n <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token punctuation">[</span><span class="token string">"&lt;leader>-"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"&lt;cmd>split&lt;cr>"</span><span class="token punctuation">,</span> desc <span class="token operator">=</span> <span class="token string">"Horizontal Split"</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>In the <code>options.lua</code> file, return a table like the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  opt <span class="token operator">=</span> <span class="token punctuation">{</span><br>    scrolloff <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span><br>    wrap <span class="token operator">=</span> <span class="token keyword">false</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>In the new <code>~/.config/nvim/lua/user</code> directory, create the directory <code>plugins</code>.</p></li><li><p>See the &quot;Custom Plugins&quot; section below to learn about the files that should be created in the <code>user/plugins</code> directory.</p></li></ul><p>See an official example of this customization approach at <a href="https://github.com/AstroNvim/user_example?v=1.0.20" rel="noopener" target="_blank">AstroNvim/user_example</a>.</p><p>TODO: I want to map cmd-s to save, but I can't get these to work.</p><pre class="language-lua"><code class="language-lua">vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'&lt;D-s>'</span><span class="token punctuation">,</span> <span class="token string">":w&lt;cr>"</span><span class="token punctuation">)</span><br>vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'&lt;D-s'</span><span class="token punctuation">,</span> <span class="token string">"&lt;Esc>:w&lt;cr>i"</span><span class="token punctuation">)</span><br>vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'&lt;80>&lt;fd>hs'</span><span class="token punctuation">,</span> <span class="token string">":w&lt;cr>"</span><span class="token punctuation">)</span><br>vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'&lt;80>&lt;fd>hs'</span><span class="token punctuation">,</span> <span class="token string">"&lt;Esc>:w&lt;cr>i"</span><span class="token punctuation">)</span></code></pre><h3 id="buffers" tabindex="-1">Buffers</h3><p>The contents of opened files are held in buffers.</p><p>Editing a buffer and writing it saves the modified content back to its file.</p><p>Neovim indicates buffers that have been modified and not written by placing a dot after the file name in the buffer tab.</p><p>Neovim provides the following default key mappings related to buffers:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;c</code> or <code>:clo</code></td><td>closes current buffer</td></tr><tr><td><code>[b</code></td><td>navigates to buffer on right</td></tr><tr><td><code>]b</code></td><td>navigates to buffer on left</td></tr><tr><td><code>&lt;b</code></td><td>swaps current buffer with one on left</td></tr><tr><td><code>&gt;b</code></td><td>swaps current buffer with one on right</td></tr></tbody></table><h3 id="lua-functions" tabindex="-1">Lua Functions</h3><p>Lua functions exposed by plugins can be run by mapping them to a key sequence and then pressing that key sequence. Alternatively, Lua functions can be run in command mode by entering <code>:{function-name}({arguments})</code>.</p><h3 id="missing-functionality" tabindex="-1">Missing Functionality</h3><p>Vanilla Neovim lacks many features that are frequently desired. There are plugins available to add all the important features. Some of the most popular plugins for Neovim are summarized in the table below.</p><table><thead><tr><th>Feature</th><th>Popular Plugins</th></tr></thead><tbody><tr><td>auto pairs</td><td>nvim-autopairs</td></tr><tr><td>better navigation</td><td><a href="https://github.com/phaazon/hop.nvim?v=1.0.20" rel="noopener" target="_blank">hop.nvim</a></td></tr><tr><td>better status line</td><td>heirline, lualine</td></tr><tr><td>code formatting</td><td>null-ls.nvim</td></tr><tr><td>color themes</td><td>many; want Tree-sitter support</td></tr><tr><td>completions</td><td>cmp-buffer, cmp-luasnip, cmp-path, nvim-cmp</td></tr><tr><td>commenting</td><td>Comment.nvim</td></tr><tr><td>debugger</td><td>nvim-dap, nvim-dap-ui</td></tr><tr><td>file explorer</td><td>neo-tree.nvim, nvim-tree.lua</td></tr><tr><td>fuzzy finder</td><td><a href="https://github.com/nvim-telescope/telescope.nvim?v=1.0.20" rel="noopener" target="_blank">Telescope</a>, telescope-fzf-native.nvim</td></tr><tr><td>Git support</td><td><a href="https://github.com/tpope/vim-fugitive?v=1.0.20" rel="noopener" target="_blank">fugitive.vim</a>, gitsigns.nvim</td></tr><tr><td>icons</td><td>nvim-web-devicons</td></tr><tr><td>keymap display</td><td>which-key.nvim</td></tr><tr><td>linting</td><td>null-ls.nvim</td></tr><tr><td>LSP client</td><td>nvim-lspconfig</td></tr><tr><td>LSP servers</td><td>LSP Zero</td></tr><tr><td>notifications</td><td>nvim-notify</td></tr><tr><td>package manager</td><td>mason.nvim</td></tr><tr><td>plugin manager</td><td>lazy.nvim, packer.nvim</td></tr><tr><td>snippets</td><td>LuaSnip, friendly-snippets</td></tr><tr><td>split panes</td><td>smart-splits.nvim</td></tr><tr><td>syntax highlighting</td><td>nvim-treesitter, nvim-colorizer.lua</td></tr><tr><td>syntax parsing</td><td>nvim-treesitter</td></tr><tr><td>terminal</td><td>toggleterm.nvim</td></tr></tbody></table><p>Configuring all of these is a daunting task. For these reason, prebuilt Neovim configurations are popular. There are many to choose from, but the most popular seem to be:</p><ul><li><a href="https://astronvim.com?v=1.0.20" rel="noopener" target="_blank">AstroNvim</a></li><li><a href="https://www.lunarvim.org?v=1.0.20" rel="noopener" target="_blank">LunarVim</a></li><li><a href="https://github.com/NvChad/NvChad?v=1.0.20" rel="noopener" target="_blank">NvChad</a></li></ul><h2 id="astronvim" tabindex="-1">AstroNvim</h2><p><img alt="AstroNvim logo" style="width: 25%" src="/blog/assets/astronvim-logo.png?v=1.0.20" title="AstroNvim logo"></p><p><a href="https://astronvim.com?v=1.0.20" rel="noopener" target="_blank">AstroNvim</a> is a popular pre-made configuration for Neovim. It describes itself as &quot;an aesthetic and feature-rich neovim config that is extensible and easy to use with a great set of plugins&quot;.</p><p>For a list of plugins used by AstroNvim by default, see <a href="https://astronvim.com/acknowledgements?v=1.0.20" rel="noopener" target="_blank">Acknowledgements</a>.</p><p>AstroNvim uses the <a href="https://github.com/folke/lazy.nvim?v=1.0.20" rel="noopener" target="_blank">Lazy</a> plugin manager. For details on the options for configuring plugins using this plugin manager, see the &quot;Plugin Spec&quot; section at the previous link.</p><p>There are several optional tools that AstroNvim will use if they are installed. These include:</p><ul><li><a href="https://github.com/BurntSushi/ripgrep?v=1.0.20" rel="noopener" target="_blank">ripgrep</a> - for live grep Telescope search; <code>&lt;leader&gt;fw</code></li><li><a href="https://github.com/jesseduffield/lazygit?v=1.0.20" rel="noopener" target="_blank">lazygit</a> - Git UI; <code>&lt;leader&gt;gg</code> for Git Gui or <code>&lt;leader&gt;tl</code></li><li><a href="https://github.com/ClementTsang/bottom?v=1.0.20" rel="noopener" target="_blank">bottom</a> - process viewer; <code>&lt;leader&gt;tt</code></li><li><a href="https://www.python.org?v=1.0.20" rel="noopener" target="_blank">Python</a> - for the Python REPL; <code>&lt;leader&gt;tp</code></li><li><a href="https://nodejs.org/en?v=1.0.20" rel="noopener" target="_blank">Node</a> - required by many LSPs and for the Node REPL; <code>&lt;leader&gt;tn</code></li></ul><h3 id="installing-astronvim" tabindex="-1">Installing AstroNvim</h3><p>To install AstroNvim:</p><ol><li>Install Neovim. In macOS enter <code>brew install neovim</code>.</li><li>Make a backup copy of your <code>~/.config/nvim</code> directory if you have one.</li><li>Delete the <code>~/.config/nvim</code> directory.</li><li>Enter <code>git clone --depth 1 https://github.com/AstroNvim/AstroNvim ~/.config/nvim</code></li><li>Enter <code>brew install lua-language-server</code>.</li><li>Enter <code>nvim</code>. On first launch this will install many things.</li><li>Install language parsers by entering <code>:TSInstall {language-name}</code> for each language. For example, supported language names include &quot;javascript&quot;, &quot;lua&quot;, and &quot;swift&quot;.</li><li>Install LSP servers by entering <code>:LspInstall {server-name}</code> for each server. For example, supported server names include &quot;eslint&quot;, &quot;tsserver&quot;, and &quot;lua_ls&quot;. To see a list of all the available LSP servers for a given file type, open a file of that type and enter <code>:LspInstall</code>.</li><li>For code formatting of JavaScript and TypeScript, enter <code>:NullLsInstall prettier</code>.</li><li>Optionally enter <code>:DapInstall {debug-adapter}</code> for each language-specific Debug Adapter Protocol server. (I could not find any of these.)</li><li>Enter <code>:Lazy sync</code> to update used plugins and remove unused plugins. When this completes, press <code>q</code> to close the window.</li><li>Enter <code>:AstroUpdatePackages</code> to get the latest AstroNvim updates.</li><li>If JavaScript will be edited then it is likely that Babel will be used parse files. This requires setting the environment variable <code>NODE_ENV</code>. When using zsh, add <code>export NODE_ENV=development</code> in <code>~/.zshrc</code>.</li></ol><p>To check the status of your installation, enter <code>:checkhealth</code>. Fix any issues this identifies.</p><h3 id="updating-astronvim" tabindex="-1">Updating AstroNvim</h3><p>To update AstroNvim after it has been installed, enter the following inside an AstroNvim session:</p><ul><li><code>:AstroUpdate</code></li><li><code>:AstroUpdatePackages</code></li><li><code>:Lazy Sync</code></li></ul><h3 id="configuring-astronvim" tabindex="-1">Configuring AstroNvim</h3><p>AstroNvim configuration files are stored in <code>~/.config/nvim</code>. It's best to not modify these files and instead override the default configurations if desired with files under the <code>~/.config/nvim/lua/user</code> directory.</p><p>The main configuration file is <code>~/.config/nvim/init.lua</code>.</p><p>The <code>~/.config/nvim/lua</code> directory contains the subdirectories <code>astronvim</code> and <code>plugins</code>.</p><p>The <code>astronvim</code> directory contains:</p><ul><li><code>autocmds.lua</code></li><li><code>bootstrap.lua</code></li><li><code>health.lua</code></li><li><code>lazy.lua</code></li><li><code>mappings.lua</code> - defines key mappings</li><li><code>options.lua</code></li></ul><p>The <code>plugins</code> directory contains separate configuration <code>.lua</code> files for many of the plugins that AstroNvim uses by default. These include:</p><ul><li><code>alpha.lua</code></li><li><code>cmp.lua</code></li><li><code>core.lua</code></li><li><code>dap.lua</code></li><li><code>git.lua</code></li><li><code>heirline.lua</code></li><li><code>lsp.lua</code></li><li><code>mason.lua</code></li><li><code>neo-tree.lua</code></li><li><code>telescope.lua</code></li><li><code>treesitter.lua</code></li><li><code>ui.lua</code></li></ul><p>The AstroNvim default settings found in <code>~/.config/nvim/lua/astronvim/options.lua</code> use:</p><ul><li>2-space indentation; <code>shiftwidth = 2</code> and <code>tabstop = 2</code></li><li>relative line numbers; <code>relativenumber = true</code></li><li>24-bit colors; <code>termguicolors = true</code></li><li>tabs expand to spaces; <code>expandtab = true</code></li><li>line numbers shown; <code>number = true</code></li><li>automatic indentation; <code>smartindent = true</code></li><li>no line wrapping; <code>wrap = false</code></li></ul><p><a href="https://github.com/jesseduffield/lazygit#homebrew?v=1.0.20" rel="noopener" target="_blank">lazygit</a> is a terminal UI for Git commands. To install it, enter <code>brew install lazygit</code>.</p><p><a href="https://clementtsang.github.io/bottom/?v=1.0.20" rel="noopener" target="_blank">bottom</a> is a &quot;graphical process/system monitor for the terminal&quot;. To install it, enter <code>brew install bottom</code>. This installs the command <code>btm</code>.</p><p>For the best Node.js support, enter <code>npm install -g neovim</code>.</p><p>TODO: Should you do the following or is the default configuration good enough?</p><p>For better snippet support, create the file <code>~/.config/nvim/lua/user/plugins/luasnip.lua</code> containing the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><br>  <span class="token keyword">local</span> ls <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"luasnip"</span><span class="token punctuation">)</span><br><br>  ls<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">set_config</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    history <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">,</span><br>    updateevents <span class="token operator">=</span> <span class="token string">"TextChanged,TextChangedI"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br><br>  <span class="token keyword">if</span> opts <span class="token keyword">then</span> ls<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span>opts<span class="token punctuation">)</span> <span class="token keyword">end</span><br><br>  vim<span class="token punctuation">.</span><span class="token function">tbl_map</span><span class="token punctuation">(</span><br>    <span class="token keyword">function</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><br>      <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"luasnip.loaders.from_"</span> <span class="token operator">..</span> type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lazy_load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">end</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span> <span class="token string">"vscode"</span><span class="token punctuation">,</span> <span class="token string">"snipmate"</span><span class="token punctuation">,</span> <span class="token string">"lua"</span> <span class="token punctuation">}</span><br>  <span class="token punctuation">)</span><br><span class="token keyword">end</span></code></pre><h3 id="key-mappings" tabindex="-1">Key Mappings</h3><p>The default key mappings provided by AstroNvim are described <a href="https://astronvim.com/Basic%20Usage/mappings?v=1.0.20" rel="noopener" target="_blank">here</a>. Most of these are defined in <code>~/.config/nvim/lua/astronvim/mappings.lua</code>.</p><p>AstroNvim defines <code>jj</code> and <code>jk</code> to exit insert mode as alternatives to pressing the <code>esc</code> key.</p><p>AstroNvim uses the <a href="https://github.com/folke/which-key.nvim?v=1.0.20" rel="noopener" target="_blank">which-key</a> plugin to display applicable key mappings at the bottom of the screen when you pause during entry. This includes default and custom key mappings. For example, press the leader key (<code>space</code> by default) and pause. All key mappings that begin with the leader key will be displayed. The ones in blue (submenus) require pressing additional keys that are displayed when you press their key. These include &quot;Buffers&quot;, &quot;Find&quot;, &quot;Git&quot;, and more. For example, type <code>&lt;leader&gt;f</code> to see all the &quot;Find&quot; key mappings.</p><p>While a primary reason for using Vim is to keep your hands on the keyboard for maximum efficiency, many actions can also be accomplished using a mouse or trackpad. For example, positioning the cursor and switching between buffer tabs can be accomplished by clicking.</p><h3 id="fonts" tabindex="-1">Fonts</h3><p>Several areas of the AstroNvim UI attempt to display icons. This requires using a <a href="https://www.nerdfonts.com/?v=1.0.20" rel="noopener" target="_blank">Nerd font</a>. One that I recommend is &quot;Caskaydia Cove Nerd Font&quot; which is very similar to the non-Nerd font <a href="https://github.com/microsoft/cascadia-code?v=1.0.20" rel="noopener" target="_blank">Cascadia Code</a> from Microsoft.</p><h3 id="basics" tabindex="-1">Basics</h3><p>The leader key defaults to <code>space</code>.</p><p>To open a new, unnamed, empty buffer, press <code>&lt;leader&gt;n</code>. To write the buffer to a file relative to the directory from which <code>nvim</code> was launched, enter <code>:w {file-name}</code>.</p><p>To open the AstroNvim home screen, press <code>&lt;leader&gt;h</code>. This displays a menu of common commands that includes:</p><ul><li><p>&quot;New File&quot;</p><p>This creates a new, unnamed, empty buffer.</p></li><li><p>&quot;Find File&quot;</p><p>This opens a Telescope window where text can be entered to find files that contain it in their name. Move the cursor to one of the matching file paths and press the <code>return</code> key to open it.</p></li><li><p>&quot;Recents&quot;</p><p>This opens a Telescope window that lists recently opened files. Move the cursor to one of the file paths in the list and press the <code>return</code> key to reopen it.</p></li><li><p>&quot;Find Word&quot;</p><p>This opens a Telescope window where words can be entered to find files that contain them. Move the cursor to one of the matching file paths and press the <code>return</code> key to open it.</p></li><li><p>&quot;Bookmarks&quot;</p><p>This displays all the current marks in a Telescope window. Move the cursor to one of the marks and press the <code>return</code> key to jump to it. See the &quot;Marks&quot; section below for more detail.</p></li><li><p>&quot;Last Session&quot;.</p><p>This restores the most recent session. See the &quot;Sessions&quot; section below for more detail.</p></li></ul><h3 id="file-explorer" tabindex="-1">File Explorer</h3><p>AstroNvim uses the <a href="https://github.com/nvim-neo-tree/neo-tree.nvim?v=1.0.20" rel="noopener" target="_blank">neo-tree.nvim</a> plugin for the file explorer that appears on the left side. To toggle display of the file explorer, press <code>&lt;leader&gt;e</code>.</p><p>The file explorer contains three tabs. The &quot;File&quot; tab displays files and directories in and below the directory from which Neovim was started. The &quot;Bufs&quot; tab displays a list of all the current buffers. The &quot;Git&quot; tab displays a list of modified, uncommitted files. Press the <code>&lt;</code> and <code>&gt;</code> keys to navigate between these tabs.</p><p>Press <code>j</code> and <code>k</code> to navigate down and up to select a file or directory. Press the <code>return</code> key to open the selected file or directory.</p><p>Some of the most useful key mappings that can be used when focus is in the file explorer include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>?</code></td><td>shows all file explorer key mappings</td></tr><tr><td><code>/</code></td><td>filters the list of files and directories based on entered text</td></tr><tr><td><code>#</code></td><td>fuzzy filters the list of files and directories based on entered text</td></tr><tr><td><code>&lt;</code></td><td>navigates to previous tab (File, Bufs, or Git)</td></tr><tr><td><code>&gt;</code></td><td>navigates to next tab (File, Bufs, or Git)</td></tr><tr><td><code>return</code></td><td>opens selected file or directory</td></tr><tr><td><code>a</code></td><td>adds a new file or directory</td></tr><tr><td><code>A</code></td><td>adds a new directory</td></tr><tr><td><code>H</code></td><td>toggles display of hidden files (hidden by default)</td></tr><tr><td><code>S</code></td><td>opens selected file in a new horizontal split (below)</td></tr><tr><td><code>s</code></td><td>opens selected file in a new vertical split (on right)</td></tr><tr><td><code>c</code></td><td>copies selected file or directory; prompts for new name</td></tr><tr><td><code>d</code></td><td>deletes selected file or directory</td></tr><tr><td><code>j</code></td><td>moves down to the next file or directory</td></tr><tr><td><code>k</code></td><td>moves up to the previous file or directory</td></tr><tr><td><code>m</code></td><td>moves selected file or directory; prompts for destination</td></tr><tr><td><code>O</code></td><td>opens selected file using associated app (in macOS image -&gt; Preview)</td></tr><tr><td><code>r</code></td><td>renames selected file or directory</td></tr><tr><td><code>t</code></td><td>opens selected file in a new tab (new set of files)</td></tr><tr><td><code>y</code></td><td>copies selected file to clipboard</td></tr><tr><td><code>p</code></td><td>pastes file from clipboard into selected directory</td></tr></tbody></table><p>With both <code>/</code> and <code>#</code> filtering, select a file or directory using the up and down arrow keys or by pressing <code>ctrl-n</code> (for &quot;next&quot;) or <code>ctrl-p</code> (for &quot;previous&quot;). Press the <code>return</code> key to open the selected file or directory. To clear filtering and return to displaying the full list of files and directories, press the <code>esc</code> key. The <code>/</code> filtering looks for names that contain the entered text. For example, &quot;raf&quot; matches the name &quot;giraffe&quot;. The <code>#</code> filtering is similar, but is fuzzy. For example, &quot;ife&quot; matches the name &quot;giraffe&quot;.</p><p>When <code>t</code> is pressed, a new tab is created. These are represented by numbered buttons starting from 1 in the upper-right. Clicking these switches to the corresponding tab. To close a tab, select it and click the red circle containing an &quot;X&quot; that appears after the last tab number.</p><p>The file explorer indicates when there are hidden files in a directory. To show them, press <code>H</code>.</p><p>By default neo-tree hides all files and directories listed in <code>~/.config/nvim/.gitignore</code>. One of the directories listed is <code>lua/user</code> which contains files that configure plugins. One way to make this directory visible is to remove the <code>lua/user</code> line from the <code>.gitignore</code> file. This is a good option when your <code>.config</code> directory is stored in a Git repository. Another way is to create the file <code>~/.config/nvim/lua/user/plugins/neo-tree.lua</code> with the following content:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"nvim-neo-tree/neo-tree.nvim"</span><span class="token punctuation">,</span><br>  opts <span class="token operator">=</span> <span class="token punctuation">{</span><br>    filesystem <span class="token operator">=</span> <span class="token punctuation">{</span><br>      filtered_items <span class="token operator">=</span> <span class="token punctuation">{</span><br>        always_show <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"user"</span> <span class="token punctuation">}</span> <span class="token comment">-- option #1 targets a specific entry</span><br>        <span class="token comment">-- hide_gitignored = false -- option #2 targets all .gitignore entries</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="tree-sitter" tabindex="-1">Tree-sitter</h3><p><a href="https://github.com/tree-sitter/tree-sitter?v=1.0.20" rel="noopener" target="_blank">Tree-sitter</a> is a parser generator and incremental parser implemented in Rust and C that can be embedded in applications like text editors.</p><p>Grammars can be supplied to enable Tree-sitter to parse source files for any programming language. Tree-sitter builds a syntax tree from a single source file that can contain syntax errors.</p><p>Tree-sitter can then efficiently update the syntax tree when the source file is modified without re-parsing the entire source file. This allows it to run after every keystroke in a text editor.</p><p>The Neovim plugin <a href="https://github.com/nvim-treesitter/nvim-treesitter?v=1.0.20" rel="noopener" target="_blank">nvim-treesitter</a> integrates Tree-sitter with Neovim and provides functionality such as syntax highlighting based on the tokens that Treesitter reports. A common motivation for installing Tree-sitter is to get the best syntax highlighting from a theme that is compatible with Tree-sitter.</p><p>AstroNvim uses the <code>nvim-treesitter</code> plugin. Its configuration file for Tree-sitter is <code>~/.config/nvim/lua/plugins/treesitter.lua</code>.</p><p>You do not need to interact with Tree-sitter directly. Everything you need it to do is handled automatically.</p><h3 id="splits" tabindex="-1">Splits</h3><p>The editing area displays tabs across the top that correspond to each of the current buffers. The area below the tabs can be split into multiple panes referred to as &quot;splits&quot;. To edit one of the buffers inside a specific pane, move focus to the pane and then click the tab of the desired buffer.</p><p>The following key mappings perform actions related to the editing area.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;/</code></td><td>creates a horizontal split (below)</td></tr><tr><td><code>&lt;leader&gt;-</code></td><td>same as above using a custom key mapping I added</td></tr><tr><td><code>&lt;leader&gt;|</code></td><td>creates a vertical split (right)</td></tr><tr><td><code>ctrl-q</code></td><td>closes current split and quits <code>nvim</code> if it is the last</td></tr><tr><td><code>:clo</code></td><td>same as <code>ctrl-q</code> above</td></tr><tr><td><code>ctrl-h</code></td><td>moves focus to split on left</td></tr><tr><td><code>ctrl-j</code></td><td>moves focus to split below</td></tr><tr><td><code>ctrl-k</code></td><td>moves focus to split above</td></tr><tr><td><code>ctrl-l</code></td><td>moves focus to split on right</td></tr><tr><td><code>ctrl-{arrow}</code></td><td>increases size of current split in arrow direction</td></tr></tbody></table><p>Moving focus to a different split includes moving focus from the file explorer to the first buffer and from the first buffer to the file explorer.</p><p>In macOS the <code>ctrl-{arrow}</code> mappings will likely not work due to default key mappings in System Settings. The following screenshot shows the key mappings that need to changed or disabled to allow the AstroNvim default resize key mappings to work.</p><p><img alt="AstroNvim smart-splits keys" style="width: 80%" src="/blog/assets/astronvim-smart-splits-keys.png?v=1.0.20" title="AstroNvim smart-splits keys"></p><h3 id="telescope" tabindex="-1">Telescope</h3><p>The <a href="https://github.com/nvim-telescope/telescope.nvim?v=1.0.20" rel="noopener" target="_blank">telescope.nvim</a> plugin &quot;is a highly extendable fuzzy finder over lists&quot;. It provides many commands and default key mappings them.</p><p>AstroNvim uses the <code>telescope.vim</code> plugin. Its configuration file is <code>~/.config/nvim/lua/plugins/telescope.lua</code>.</p><p>Key mappings for operating on the current buffer include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;lf</code></td><td>formats the contents of the current buffer</td></tr><tr><td><code>&lt;leader&gt;lS</code></td><td>toggles display of a right pane containing a list of symbols defined in the file</td></tr></tbody></table><p>Symbols include variables, functions, and type declarations. Select a symbol name to scroll to it in the buffer. The list of symbols automatically updates when focus moves to a different buffer.</p><p>Key mappings for operating on the symbol under the cursor include those described below. Note that some LSP servers to not support all of these actions.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>gd</code></td><td>goes to the definition</td></tr><tr><td><code>gD</code></td><td>goes to the declaration</td></tr><tr><td><code>gi</code></td><td>lists all implementations in a Telescope window</td></tr><tr><td><code>gI</code></td><td>goes to the implementation</td></tr><tr><td><code>gr</code></td><td>shows references in a Telescope window</td></tr><tr><td><code>gs</code></td><td>displays signature information in a floating window</td></tr><tr><td><code>gT</code></td><td>goes to the type definition</td></tr><tr><td><code>K</code></td><td>shows the type of the symbol under the cursor</td></tr><tr><td><code>&lt;leader&gt;la</code></td><td>opens a menu of applicable code actions in a Telescope window</td></tr><tr><td><code>&lt;leader&gt;lr</code></td><td>renames the symbol under the cursor; prompts for new name</td></tr><tr><td><code>ctrl-o</code></td><td>moves backward through location jumps</td></tr></tbody></table><p>Key mappings for operating on diagnostic messages include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>[d</code></td><td>move to previous diagnostic in current buffer</td></tr><tr><td><code>]d</code></td><td>move to next diagnostic in current buffer</td></tr><tr><td><code>gl</code></td><td>shows full error message when an error is displayed</td></tr><tr><td><code>lD</code></td><td>displays all diagnostics in a Telescope window</td></tr></tbody></table><p>To close a diagnostic popup, move the cursor in any way.</p><p>After pressing <code>gl</code>, press it again to move focus into the diagnostic popup. When focus is in a diagnostic popup, press <code>q</code> to close it.</p><p>Some telescope commands display a new window containing multiple sections. The upper-left section contains a text input used to filter the results displayed in the lower-left section. Initially the focus will be in this text input and it will be in insert mode. We will refer to this section as &quot;filter&quot;.</p><p>The lower-left section displays the filtered results. We will refer to this section as &quot;results&quot;. To move focus from the the filter section to the results section, press <code>tab</code> or <code>ctrl-j</code>. The selected item displays a <code>&gt;</code> to its left and has a gray background. To select a different item, press <code>tab</code> (down), <code>ctrl-j</code> (down), <code>ctrl-k</code> (up), or the down and up arrow keys. To open a selected file, press the <code>return</code> key.</p><p>The right section displays a preview of what is selected in the lower-left section. We will refer to this section as &quot;preview&quot;.</p><p>Press the <code>esc</code> key to exit insert mode. When not in insert mode, the following key mappings can be used:</p><ul><li>Move the filter section cursor left and right by pressing <code>h</code> and <code>l</code>.</li><li>Change the result section selection by pressing <code>j</code> and <code>k</code>.</li><li>Display all applicable Telescope key mappings by pressing <code>?</code>.</li></ul><p>To close a Telescope window, press <code>q</code>.</p><p>To configure Telescope so pressing the <code>esc</code> key also closes the Telescope window, create the file <code>~/.config/nvim/lua/user/plugins/telescope.lua</code> containing the code below. When in insert mode, it is necessary to press <code>esc</code> twice, once to exit insert mode and once to close the window.</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"nvim-telescope/telescope.nvim"</span><span class="token punctuation">,</span><br>  opts <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token keyword">local</span> actions <span class="token operator">=</span> require <span class="token string">"telescope.actions"</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span><br>      defaults <span class="token operator">=</span> <span class="token punctuation">{</span><br>        mappings <span class="token operator">=</span> <span class="token punctuation">{</span><br>          n <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token string">"&lt;Esc>"</span><span class="token punctuation">]</span> <span class="token operator">=</span> actions<span class="token punctuation">.</span>close <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token keyword">end</span><br><span class="token punctuation">}</span></code></pre><p>The Telescope fuzzy finder can find many things including files, buffers, key mappings, help, and more. The key mappings to initiate fuzzy finder searches include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;fa</code></td><td>finds AstroNvim configuration files</td></tr><tr><td><code>&lt;leader&gt;fb</code></td><td>finds buffers by name</td></tr><tr><td><code>&lt;leader&gt;fc</code></td><td>finds files that contain the word under the cursor</td></tr><tr><td><code>&lt;leader&gt;fC</code></td><td>finds commands made available by plugins</td></tr><tr><td><code>&lt;leader&gt;ff</code></td><td>finds files by name</td></tr><tr><td><code>&lt;leader&gt;fh</code></td><td>finds help files by their name</td></tr><tr><td><code>&lt;leader&gt;fk</code></td><td>finds key mappings</td></tr><tr><td><code>&lt;leader&gt;fo</code></td><td>finds files opened recently (old files)</td></tr><tr><td><code>&lt;leader&gt;fr</code></td><td>finds Vim registers (can see their contents)</td></tr><tr><td><code>&lt;leader&gt;ft</code></td><td>finds themes (can see previews and select one)</td></tr><tr><td><code>&lt;leader&gt;fw</code></td><td>finds files by consecutive words in their content (live_grep)</td></tr><tr><td><code>&lt;leader&gt;fW</code></td><td>same as above, but also searches hidden files</td></tr></tbody></table><p>Changing the theme using <code>&lt;leader&gt;ft</code> only affects the current session. To change the default theme used in future sections, specify a <code>colorscheme</code> in <code>~/config/nvim/lua/user/init.lua</code>.</p><p>Key mappings for operating on a Telescope window include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>esc</code> <code>esc</code></td><td>closes the window</td></tr><tr><td><code>ctrl-c</code></td><td>also closes the window</td></tr><tr><td><code>ctrl-x</code></td><td>opens selected file in a horizontal split (below current buffer)</td></tr><tr><td><code>ctrl-v</code></td><td>opens selected file in a vertical split (right of current buffer)</td></tr><tr><td><code>ctrl-d</code></td><td>scrolls down in file preview</td></tr><tr><td><code>ctrl-u</code></td><td>scrolls up in file preview</td></tr><tr><td><code>tab</code></td><td>moves focus from filter input to &quot;Results&quot; section</td></tr><tr><td><code>tab</code></td><td>when in &quot;Results&quot; section, moves down to next item</td></tr><tr><td><code>shift-tab</code></td><td>moves focus from &quot;Results&quot; section to filter input</td></tr></tbody></table><p>To see all the Telescope key mappings, press the <code>esc</code> key to exit insert mode and press <code>?</code>. The key mappings will appear at the bottom of the window.</p><h3 id="comments" tabindex="-1">Comments</h3><p>To toggle commenting of the current line or selected lines, press <code>&lt;leader&gt;/</code>.</p><h3 id="code-formatting" tabindex="-1">Code Formatting</h3><p>AstroNvim uses the <a href="https://github.com/jose-elias-alvarez/null-ls.nvim?v=1.0.20" rel="noopener" target="_blank">null-ls.vim</a> plugin to perform code formatting. I suspect, but have not confirmed, that <code>null-ls.vim</code> provides formatting of Markdown tables.</p><h3 id="auto-pairs" tabindex="-1">Auto-pairs</h3><p>AstroNvim uses the <a href="https://github.com/windwp/nvim-autopairs?v=1.0.20" rel="noopener" target="_blank">nvim-autopairs</a> plugin to manage pairs of parentheses, square brackets, and curly braces. When one of the opening characters (<code>(</code>, <code>[</code>, or <code>{</code>) is typed, the closing character (<code>)</code>, <code>]</code>, or <code>}</code>) is automatically supplied and the cursor is placed between them.</p><h3 id="status-line" tabindex="-1">Status Line</h3><p>AstroNvim uses the <a href="https://github.com/rebelot/heirline.nvim?v=1.0.20" rel="noopener" target="_blank">heirline.nvim</a> plugin to render a nice status line. This includes information about the current Git repository such as the current branch and number of modified files.</p><h3 id="git-integration" tabindex="-1">Git Integration</h3><p>When editing a file in a Git repository, colored vertical lines appear in the gutter to indicate added lines (green), delete lines (red), and modified lines (orange).</p><p>The left side of the status bar at the bottom displays the current branch and the numbers of new, modified, and deleted files.</p><p>The file explorer <code>Git</code> tab lists the modified files.</p><p>To see all the keys mapped to Git commands, press <code>&lt;leader&gt;g</code> and pause. These include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;gb</code></td><td>displays a list of local Git branches in a Telescope window and allows switching to one</td></tr><tr><td><code>&lt;leader&gt;gc</code></td><td>lists all commits for the current file</td></tr><tr><td><code>&lt;leader&gt;gd</code></td><td>displays a side-by-side diff for the current file</td></tr><tr><td><code>&lt;leader&gt;gt</code></td><td>displays Git status of current project in a Telescope window</td></tr></tbody></table><p>In the Telescope window displayed by <code>&lt;leader&gt;gb</code>, the &quot;Git Branch Preview&quot; pane on the right shows the commits on the branch.</p><h3 id="lazygit" tabindex="-1">Lazygit</h3><p>A better way to manage Git repositories from inside Neovim is to use <a href="https://github.com/jesseduffield/lazygit?v=1.0.20" rel="noopener" target="_blank">lazygit</a> which is a terminal UI for executing Git commands. Lazygit is an alternative to <a href="https://github.com/tpope/vim-fugitive?v=1.0.20" rel="noopener" target="_blank">git-fugitive</a>.</p><p>To launch lazygit from a terminal window, cd to a repository directory and enter <code>lazygit</code>.</p><p>To launch lazygit from within AstroNvim, enter <code>&lt;leader&gt;gg</code> (for &quot;Git GUI&quot;) or <code>&lt;leader&gt;tl</code> (for &quot;terminal lazygit&quot;). This opens a floating terminal and runs <code>lazygit</code> inside it. To close this window, press <code>q</code>.</p><p>The <code>lazygit</code> UI has a left and right side.</p><p>The left side contains five numbered sections, Status (1), Files (2), Local Branches (3), Commits (4), and Stash (5). To move focus to the next section press the <code>tab</code> key or the right arrow key. To move focus to the previous section press the left arrow key (<code>shift-tab</code> does not work). To move focus to a specific section press its number.</p><p>To see the key mappings that apply to the section that currently has focus, press <code>?</code> or <code>x</code>.</p><p>To move down and up within a section, use the <code>j</code> and <code>k</code> keys or the down and up arrow keys.</p><p>To search within any section, press <code>/</code>.</p><p>The right side contains information about the item selected on the left side. To scroll down and up, press <code>ctrl-d</code> and <code>ctrl-u</code>. TODO: Is there a way to scroll by full pages?</p><p>To execute an arbitrary shell command without leaving lazygit, press <code>:</code>. This opens a dialog where a shell command can be entered. Press <code>return</code> to execute it. The output temporarily replaces the lazygit UI. Press <code>return</code> again to return to the lazygit UI.</p><p>To customize the configuration of lazygit, create the file <code>~/.config/nvim/lua/user/plugins/lazygit.lua</code>. For example:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"kdheepak/lazygit.nvim"</span><br>  <span class="token comment">-- TODO: I want this to configure side-by-side diffs using the delta pager</span><br>  <span class="token comment">-- TODO: which must be installed, but this is not working!</span><br>  <span class="token comment">-- TODO: See https://github.com/jesseduffield/lazygit/blob/master/docs/Custom_Pagers.md.</span><br>  <span class="token comment">--[[<br>  config = function()<br>    require("lazygit").setup {<br>      pager = "delta",<br>      delta = "side-by-size"<br>    }<br>  end,<br>  event = "User AstroFile" -- need this?<br>  --]]</span><br><span class="token punctuation">}</span></code></pre><p>See <a href="https://github.com/kdheepak/lazygit.nvim/issues/92?v=1.0.20" rel="noopener" target="_blank">issue 92</a> which is related to configuring lazygit.</p><p>For more information on lazygit key bindings, see <a href="https://github.com/jesseduffield/lazygit/blob/master/docs/keybindings/Keybindings_en.md?v=1.0.20" rel="noopener" target="_blank">key bindings</a>.</p><p>For more information on lazygit, watch this <a href="https://www.youtube.com/watch?v=CPLdltN7wgE?v=1.0.20" rel="noopener" target="_blank">YouTube video</a>.</p><h4 id="status-section" tabindex="-1">Status Section</h4><p>Ths section shows the repository name and the current branch. The following key mappings apply to this section:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>a</code></td><td>shows the log for all branches</td></tr><tr><td><code>u</code></td><td>checks for a lazygit update</td></tr><tr><td><code>return</code></td><td>opens a dialog for switching to a different repository</td></tr></tbody></table><h4 id="files-section" tabindex="-1">Files Section</h4><p>This section contains two tabs, &quot;Files&quot; and &quot;Submodules&quot;. The &quot;Files&quot; tab lists all the modified files.</p><p>To see diffs for a file on the right side, select the file.</p><p>For a side-by-side diff:</p><ul><li><p>Enter <code>brew install git-delta</code> to install the delta pager.</p></li><li><p>Add the following in <code>~/.gitconfig</code></p><pre class="language-text"><code class="language-text">[core]<br>  pager = delta<br>[delta]<br>  side-by-side = true</code></pre></li></ul><p>After making this change, entering <code>git diff</code> in a terminal displays a side-by-side diff. But lazy git does not honor this.</p><p>I created the file <code>~/.config/lazygit/config.yaml</code> with the following contents, but that did not resolve the issue.</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">git</span><span class="token punctuation">:</span><br>  <span class="token key atrule">paging</span><span class="token punctuation">:</span><br>    <span class="token key atrule">colorArg</span><span class="token punctuation">:</span> always<br>    <span class="token key atrule">pager</span><span class="token punctuation">:</span> delta <span class="token punctuation">-</span><span class="token punctuation">-</span>dark <span class="token punctuation">-</span><span class="token punctuation">-</span>paging=never <span class="token punctuation">-</span><span class="token punctuation">-</span>side<span class="token punctuation">-</span>by<span class="token punctuation">-</span>side<br>    <span class="token key atrule">useConfig</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br><span class="token key atrule">gui</span><span class="token punctuation">:</span><br>  <span class="token key atrule">showIcons</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><p>TODO: See <a href="https://github.com/jesseduffield/lazygit/issues/2337?v=1.0.20" rel="noopener" target="_blank">issue 2337</a>.</p><p>The following key mappings apply to the Files section:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>space</code></td><td>toggles whether the selected file is staged for inclusion in a commit</td></tr><tr><td><code>a</code></td><td>toggles all modified files between being staged and not staged</td></tr><tr><td><code>c</code></td><td>commits all staged files; prompts whether to commit all if none are staged</td></tr><tr><td><code>C</code></td><td>same as <code>c</code>, but opens a Vim window to enter commit message (broken in AstroNvim)</td></tr><tr><td><code>d</code></td><td>discards all changes in the selected file; press <code>d</code> again to confirm</td></tr><tr><td><code>D</code></td><td>opens a menu of options where one is &quot;hard reset&quot;</td></tr><tr><td><code>f</code></td><td>fetches changes from remote branch</td></tr><tr><td><code>i</code></td><td>adds file to <code>.gitignore</code></td></tr><tr><td><code>r</code></td><td>refreshes list of files; useful when files are modified outside of Neovim</td></tr><tr><td><code>s</code></td><td>stashes all changes; prompts for stash name</td></tr><tr><td><code>S</code></td><td>stashes only staged changes; prompts for stash name</td></tr><tr><td>`</td><td>toggles file list between flat and tree views</td></tr><tr><td><code>ctrl-w</code></td><td>toggles hiding lines in right side that only differ by whitespace</td></tr></tbody></table><p>When committing changes, a dialog will appear where a commit message can be entered. After entering a commit message, press the <code>return</code> key to perform the commit.</p><p>The menu that appears when <code>D</code> is pressed contains the following options:</p><ul><li>nuke working tree - runs <code>git reset --hard HEAD &amp;&amp; git clean -fd</code></li><li>discard unstaged changes</li><li>discard untracked files</li><li>discard staged changes</li><li>soft reset - discards the last commit</li><li>mixed reset - discards the last commit and stages (add)</li><li>hard reset - discards the last commit and stages (add) and all changes</li></ul><h4 id="local-branches-section" tabindex="-1">Local Branches Section</h4><p>This section contains three tabs named &quot;Local Branches&quot;, &quot;Remotes&quot;, and &quot;Tags&quot;. The &quot;Local Branches&quot; tab lists all the local branches. The currently checked out branch name is preceded by <code>*</code>. Selecting a local branch shows all of its commits on the right side.</p><p>The following key mappings apply to this section:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>return</code></td><td>displays all commits to the selected local branch; press <code>esc</code> to return to branch list</td></tr><tr><td><code>space</code></td><td>checks out the selected branch</td></tr><tr><td><code>c</code></td><td>creates a new remote branch</td></tr><tr><td><code>d</code></td><td>deletes the selected local branch after confirming</td></tr><tr><td><code>f</code></td><td>fetches changes from remote branch</td></tr><tr><td><code>M</code></td><td>merges the selected branch into the checked out branch after confirming</td></tr><tr><td><code>n</code></td><td>creates a new local branch</td></tr><tr><td><code>o</code></td><td>starts process of opening a pull request in a new browser tab (must push first)</td></tr><tr><td><code>p</code></td><td>pulls changes from the corresponding remote branch</td></tr><tr><td><code>P</code></td><td>pushes changes to the corresponding remote branch</td></tr><tr><td><code>R</code></td><td>renames the selected branch</td></tr><tr><td><code>r</code></td><td>rebases the selected branch into the checked out branch after confirming</td></tr></tbody></table><p>When attempting to checkout a different branch, if there are uncommitted changes a dialog will appear that offers to stash the changes.</p><p>If a merge results in conflicts, a dialog will appear explaining that. Press <code>esc</code> to abort the merge or <code>return</code> to resolve the conflicts. Each conflict will be described by a pair of &quot;hunks&quot;. To keep one of the hunks, move the cursor to it with <code>j</code> and <code>k</code> and press <code>space</code>. The other hunk will be discarded. To keep both hunks, press <code>b</code>. Another dialog will appear after all merge conflicts have been resolved.</p><p>To delete a remote branch, switch to the &quot;Remotes&quot; tab in this section, select the branch, and press <code>d</code>.</p><p>To create a new remote branch, switch to the &quot;Remotes&quot; tab in this section, and press <code>n</code>.</p><p>To create a new tag, switch to the &quot;Tags&quot; tab in this section, and press <code>n</code>.</p><p>To delete a tag, switch to the &quot;Tags&quot; tab in this section, select the tag, and press <code>d</code>.</p><h4 id="commits-section" tabindex="-1">Commits Section</h4><p>This section contains two tabs, &quot;Commits&quot; and &quot;Reflog&quot;. The &quot;Commits&quot; tab lists all the commits on the current local branch. Selecting a commit shows detail about it on the right side including the commit comment and a list of the new, modified, and deleted files.</p><p>From the git docs, &quot;Reflogs record when the tips of branches and other references were updated in the local repository.&quot;</p><p>The following key mappings apply to this section:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>d</code></td><td>deletes the selected commit</td></tr><tr><td><code>o</code></td><td>opens the selected commit in a new browser tab</td></tr><tr><td><code>s</code></td><td>squashes the selected commit</td></tr><tr><td><code>S</code></td><td>squashes all commits above the selected commit</td></tr><tr><td><code>T</code></td><td>adds a tag to the selected commit</td></tr><tr><td><code>t</code></td><td>reverts the selected commit after confirming</td></tr><tr><td><code>space</code></td><td>checks out the selected commit</td></tr></tbody></table><h4 id="stash-section" tabindex="-1">Stash Section</h4><p>This section lists all the current stashes. Selecting a stash shows the stashed changes on the right side.</p><p>The following key mappings apply to this section:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>d</code></td><td>drops the selected stash after confirming</td></tr><tr><td><code>space</code></td><td>applies the selected stash without dropping it after confirming</td></tr><tr><td><code>g</code></td><td>applies the selected stash and drops it after confirming</td></tr><tr><td><code>r</code></td><td>renames the selected stash</td></tr><tr><td>`</td><td>toggles the stash list between flat and tree views</td></tr><tr><td><code>return</code></td><td>displays diffs for the stash in the right side</td></tr></tbody></table><h3 id="color-themes" tabindex="-1">Color Themes</h3><p>To see all the installed color themes and select one, enter <code>:colo</code> followed by a space and the tab key. Press the <code>tab</code> key repeatedly to select a theme. Press the <code>return</code> key activate the selected theme. Selecting a theme that is compatible with Tree-sitter results in better syntax highlighting.</p><p>A better way to see the available color themes and switch to one is to press <code>&lt;leader&gt;ft</code> as described in the &quot;Telescope&quot; section above.</p><p>Changing the theme in this way only affects the current session. To change the default theme used in future sections, specify a <code>colorscheme</code> in <code>~/config/nvim/lua/user/init.lua</code>.</p><h3 id="completions" tabindex="-1">Completions</h3><p>AstroNvim provides language-specific code completions. To select a suggested completion from a provided list, use <code>ctrl-j</code> and <code>ctrl-k</code> to move down and up and press <code>return</code> to select the highlighted completion.</p><p>The key mappings related to code completion include:</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>ctrl-space</code></td><td>manually opens a list of suggestions</td></tr><tr><td><code>ctrl-y</code></td><td>confirms selection of a completion</td></tr><tr><td><code>ctrl-e</code></td><td>cancels completion and closes the list</td></tr><tr><td>down arrow or <code>ctrl-n</code></td><td>navigates to the next suggested completion</td></tr><tr><td>up arrow or <code>ctrl-p</code></td><td>navigates to the previous suggested completion</td></tr></tbody></table><h3 id="snippets" tabindex="-1">Snippets</h3><p>AstroNvim uses the <a href="https://github.com/L3MON4D3/LuaSnip?v=1.0.20" rel="noopener" target="_blank">LuaSnip</a> plugin to support snippets. Snippet suggestions appear when the beginning of their trigger words are typed. When a list of possible snippets appears, repeatedly press the <code>tab</code> key, <code>ctrl-j</code>, or <code>ctrl-k</code> to highlight one, and press the <code>return</code> key to select it.</p><p>For snippets that have placeholders, type text or paste text into each one. Press tab to jump to the next placeholder and shift-tab to jump to the previous placeholder. After entering text for the last placeholder, press tab one more tab to move the end of the snippet and continue typing.</p><p>LuaSnip supports two syntaxes for defining snippets, the VS Code style and the LuaSnips style.</p><p>To define custom snippets:</p><ol><li><p>Create the file <code>~/.config/nvim/lua/user/plugins/luasnip.lua</code> containing the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"L3MON4D3/LuaSnip"</span><span class="token punctuation">,</span><br>  config <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>plugin<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><br>    require <span class="token string">"plugins.configs.luasnip"</span> <span class="token punctuation">(</span>plugin<span class="token punctuation">,</span> opts<span class="token punctuation">)</span><br>    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"luasnip.loaders.from_vscode"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lazy_load</span> <span class="token punctuation">{</span><br>      paths <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"./lua/user/snippets"</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token keyword">end</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Create the directory <code>~/.config/nvim/lua/user/snippets</code>.</p></li><li><p>For the VS Code style, create the file <code>~/.config/nvim/lua/user/snippets/package.json</code> containing the following:</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"user snippets"</span><span class="token punctuation">,</span><br>  <span class="token property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"vscode"</span><span class="token operator">:</span> <span class="token string">"^1.11.0"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"contributes"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"snippets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        <span class="token property">"language"</span><span class="token operator">:</span> <span class="token string">"javascript"</span><span class="token punctuation">,</span><br>        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"./javascript.json"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        <span class="token property">"language"</span><span class="token operator">:</span> <span class="token string">"markdown"</span><span class="token punctuation">,</span><br>        <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"./markdown.json"</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>For the VS Code style, create a file like the following for each file type that needs snippets. Placeholders are represented by a <code>$</code> followed by a number starting from <code>1</code>. For example, a snippet with three placeholders will contain <code>$1</code>, <code>$2</code>, and <code>$3</code>. The final placeholder can be represented by <code>$0</code> instead of <code>$3</code>, but its not clear what advantage that provides.</p><p>For JavaScript the file name should be <code>javascript.json</code>. For example:</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"Log Entry"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"loge"</span><span class="token punctuation">,</span><br>    <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"console.log('$TM_FILENAME $1: entered');"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Log function entry"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"Log Variable"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"logv"</span><span class="token punctuation">,</span><br>    <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"console.log('$TM_FILENAME $1: $2 =', $2);"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Log variable to console"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>For Markdown the file name should be <code>markdown.json</code>. For example:</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"Anchor Target Blank"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"atb"</span><span class="token punctuation">,</span><br>    <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"&lt;a href="</span>undefined?v=<span class="token number">1.0</span>.<span class="token number">20</span><span class="token string">" rel="</span>noopener<span class="token string">" target="</span>_blank<span class="token string">">undefined&lt;/a>"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Markdown 11ty aTargetBlank shortcode"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"Image"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"img"</span><span class="token punctuation">,</span><br>    <span class="token property">"body"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token string">"&lt;img alt=\"$1\" style=\"width: 50%\"\n  src=\"/blog/assets/$2.png?v=1.0.20\"\n  title=\"$1\">"</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Markdown &lt;img>"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li></ol><p>TODO: Describe the LuaSnips syntax for defining snippets.</p><h3 id="marks" tabindex="-1">Marks</h3><p>Vim supports marking locations in files and easily returning to them.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>m{lowercase-letter}</code></td><td>creates a mark that is local to the current file</td></tr><tr><td><code>m{uppercase-letter}</code></td><td>creates a global mark</td></tr><tr><td><code>'{letter}</code></td><td>jumps to first non-whitespace character on line of the mark</td></tr><tr><td><pre>`{letter}</pre></td><td>jumps to line and column of the mark</td></tr><tr><td><code>:marks</code></td><td>lists all the marks</td></tr><tr><td><code>&lt;leader&gt;f'</code></td><td>lists all the marks in a Telescope window</td></tr></tbody></table><p>When marks are displayed in a Telescope window, select one an press <code>return</code> to jump to it.</p><p>To delete marks, enter <code>:delmarks {letter}, {letter}, ...</code></p><p>There are many special marks that are automatically set. All of them seem to have limited usefulness. These are displayed by both <code>:marks</code> and <code>&lt;leader&gt;f'</code>.</p><h3 id="sessions" tabindex="-1">Sessions</h3><p>A session records the directory from which AstroNvim was started and the buffers that were open (but not their order). Only one session per directory can be saved. Once a session has been loaded, the list of open buffers in the session is automatically updated.</p><p>The following key mappings related to sessions only apply when focus is in a buffer, not in the file explorer.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;Ss</code></td><td>creates a new session for the starting directory if it doesn't exist</td></tr><tr><td><code>&lt;leader&gt;Sf</code></td><td>opens a dialog that lists saved sessions and allows loading to one</td></tr><tr><td><code>&lt;leader&gt;S.</code></td><td>loads the session for the current directory if it exists</td></tr><tr><td><code>&lt;leader&gt;Sl</code></td><td>loads the last (most recent) session</td></tr><tr><td><code>&lt;leader&gt;Sd</code></td><td>opens a dialog that lists saved sessions and allows them to be deleted</td></tr></tbody></table><p>In the load dialog, select a session and press <code>return</code> to load it.</p><p>In the delete dialog, select a session and press <code>return</code> to delete it.</p><p>To close either of these dialogs, press the <code>esc</code> key twice.</p><h3 id="bottom-(btm)" tabindex="-1">Bottom (btm)</h3><p><a href="https://clementtsang.github.io/bottom/?v=1.0.20" rel="noopener" target="_blank">bottom</a> is a &quot;graphical process/system monitor for the terminal&quot;.</p><p>To install btm in MacOS, enter <code>brew install bottom</code>.</p><p>To run <code>btm</code> inside Neovim, enter <code>&lt;leader&gt;tt</code> (for &quot;top&quot;). This opens a floating terminal and runs <code>btm</code> inside it.</p><p>To quit <code>btm</code> and close the terminal that is running it, press <code>q</code>.</p><h3 id="go-diskusage-(gdu)" tabindex="-1">Go DiskUsage (gdu)</h3><p><a href="https://github.com/dundee/gdu?v=1.0.20" rel="noopener" target="_blank">gdu</a> is a disk usage analyzer written in Go.</p><p>To install gdu in MacOS using Homebrew, enter the following command:</p><ul><li><code>brew install -f gdu</code></li><li><code>brew link --overwrite gdu</code></li></ul><p>To run <code>gdu</code> inside Neovim, enter <code>&lt;leader&gt;tu</code> for &quot;usage&quot;. This opens a floating terminal and runs <code>gdu</code> inside it.</p><p>Initially this shows the disk space occupied by all the files and directories in the directory from which <code>nvim</code> was launched. To see the disk space occupied by the files and directories inside one of these directories, select the directory and press the <code>return</code> key. To return to the parent directory, select <code>..</code> and press the <code>return</code> key.</p><p>To quit <code>gui</code> and close the terminal that is running it, press <code>q</code>.</p><h3 id="terminal" tabindex="-1">Terminal</h3><p>There are many ways to open a terminal window.</p><table><thead><tr><th>Key</th><th>Action</th></tr></thead><tbody><tr><td><code>&lt;leader&gt;tf</code></td><td>opens a floating terminal</td></tr><tr><td><code>F7</code></td><td>same as above; on a MacBook keyboard, also hold <code>fn</code> key</td></tr><tr><td><code>&lt;leader&gt;th</code></td><td>opens a terminal at the bottom of the nvim window</td></tr><tr><td><code>&lt;leader&gt;tn</code></td><td>opens a floating terminal that runs a Node REPL</td></tr><tr><td><code>&lt;leader&gt;tl</code></td><td>opens a floating terminal that runs <code>lazygit</code></td></tr><tr><td><code>&lt;leader&gt;tp</code></td><td>opens a floating terminal that runs a Python REPL</td></tr><tr><td><code>&lt;leader&gt;tt</code></td><td>opens a floating terminal that runs <code>btm</code></td></tr><tr><td><code>&lt;leader&gt;tv</code></td><td>opens a terminal on the right side of the nvim window</td></tr><tr><td><code>&lt;leader&gt;tu</code></td><td>opens a floating terminal that runs <code>gdu</code></td></tr><tr><td>``</td><td></td></tr></tbody></table><p>Another way to open a floating terminal is to enter <code>:ToggleTerm</code>.</p><h3 id="lazy" tabindex="-1">Lazy</h3><p><a href="https://github.com/folke/lazy.nvim?v=1.0.20" rel="noopener" target="_blank">lazy.nvim</a> &quot;is a modern plugin manager for Neovim&quot;. It is the plugin manager used by AstroNvim. The configuration for <code>lazy.nvim</code> is in the file <code>~/.config/nvim/lua/astronvim/lazy.lua</code>.</p><p>To verify that <code>lazy.nvim</code> is properly configured, enter <code>:checkhealth lazy</code>.</p><p>Enter <code>:Lazy sync</code> to update used plugins and remove unused plugins. When this completes, press <code>q</code> to close the window.</p><h3 id="custom-plugins" tabindex="-1">Custom Plugins</h3><p>There are a large number of plugins available for Neovim. A nice summary of them can be found at <a href="https://www.trackawesomelist.com/rockerBOO/awesome-neovim/readme/#media?v=1.0.20" rel="noopener" target="_blank">Awesome Neovim Overview</a>.</p><p>When AstroNvim starts, it executes all the <code>.lua</code> files in the <code>~/.config/nvim/lua/plugins</code> directory followed by all the <code>.lua</code> files in the <code>~/.config/nvim/lua/user/plugins</code> directory. Each of these files serves to configure a specific plugin. Any names can be used for these files, but it's standard practice to name them after the plugin they configure.</p><p>Storing the plugin configuration files provided by AstroNvim in a different directory from the configuration files you create makes it easier to avoid losing custom configurations when updating to a new version of AstroNvim.</p><p>To install a custom plugin, create a configuration file for it in the <code>~/.config/nvim/lua/user/plugins</code> directory whose name is <code>{plugin-name}.lua</code>. After doing this it may be necessary to enter <code>:Lazy sync</code>. This downloads the latest version of each plugin being used. When this completes, press <code>q</code> to close the window.</p><p>The contents of the plugin configuration files should be similar to those shown in subsections below. For details on the supported keys, see the &quot;Plugin Spec&quot; section in the<br><a href="https://github.com/folke/lazy.nvim?v=1.0.20" rel="noopener" target="_blank">Lazy doc</a>.</p><p>For help on a specific custom plugin, enter <code>:h {name}-config</code>.</p><h4 id="hop.nvim-plugin" tabindex="-1">hop.nvim Plugin</h4><p>The <a href="https://github.com/phaazon/hop.nvim?v=1.0.20" rel="noopener" target="_blank">hop.nvim</a> plugin is a rewrite of the <a href="https://github.com/easymotion/vim-easymotion?v=1.0.20" rel="noopener" target="_blank">EasyMotion</a> Vim plugin for Neovim. It provides an efficient way to jump to a specific place within a file that is currently visible.</p><p>To configure Hop, create the file <code>~/.config/nvim/lua/user/plugins/hop.lua</code> containing the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"phaazon/hop.nvim"</span><span class="token punctuation">,</span><br>  branch <span class="token operator">=</span> <span class="token string">'v2'</span><span class="token punctuation">,</span> <span class="token comment">-- optional but strongly recommended</span><br>  config <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    require <span class="token string">"hop"</span><span class="token punctuation">.</span><span class="token function">setup</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>    <span class="token comment">-- When in normal mode, initiate with a capital "H".</span><br>    vim<span class="token punctuation">.</span>keymap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token string">":HopWord&lt;cr>"</span><span class="token punctuation">)</span><br>  <span class="token keyword">end</span><span class="token punctuation">,</span><br>  event <span class="token operator">=</span> <span class="token string">"User AstroFile"</span><br><span class="token punctuation">}</span></code></pre><p>The <code>event</code> value specifies when the plugin should be triggered. This can be a single event or a table of them. The supported events are:</p><ul><li><code>VeryLazy</code>: triggered after starting Neovim</li><li><code>BufEnter *.lua</code>: triggered after opening a <code>.lua</code> file</li><li><code>User AstroFile</code>: triggered after opening any file</li><li><code>LspAttach</code>: triggered after starting LSP servers</li><li><code>InsertEnter</code>: triggered after entering insert mode</li></ul><p>Enter <code>:Lazy sync</code> to install the plugin. This opens a window that show the status of the install. When this completes, press <code>q</code> to close the window.</p><p>To &quot;hop&quot; to a visible word, look at the target word and press <code>&lt;leader&gt;H</code> or enter <code>:HopWord</code>. This replaces the first one or two characters of every visible word with one or two unique letters. Type the letter(s) for the target word to jump to it.</p><p>To &quot;hop&quot; to a visible line, enter <code>:HopLine</code>. This replaces the first one or two characters of every visible line with one or two unique letters. Type the letters for the target line to jump to it.</p><p>The Hop plugin defines more commands, but <code>HopWord</code> and <code>HopLine</code> are the most frequently used.</p><h4 id="neoformat-plugin" tabindex="-1">neoformat Plugin</h4><p>The <a href="https://github.com/sbdchd/neoformat?v=1.0.20" rel="noopener" target="_blank">neoformat</a> plugin formats text with many file types. It selects a formatter to use based on file type of the current buffer. The text in the buffer is then formatted. If this is successful, the buffer contents are replaced by the formatted text. If the formatter is unable to format the text and additional formatters for the file type are available, it will try the next one.</p><p>Prettier is one of the supported formatters.</p><p>To install and configure this plugin, create the file <code>~/.config/nvim/lua/user/plugins/neoformat.lua</code> with the following content:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"sbdchd/neoformat"</span><span class="token punctuation">,</span><br>  event <span class="token operator">=</span> <span class="token string">"User AstroFile"</span><br><span class="token punctuation">}</span></code></pre><p>By default AstroNvim formats files on save.</p><h4 id="todo-comments.nvim-plugin" tabindex="-1">todo-comments.nvim Plugin</h4><p>The <a href="https://github.com/folke/todo-comments.nvim?v=1.0.20" rel="noopener" target="_blank">todo-comments.nvim</a> plugin highlights comments that begin with &quot;FIX:&quot;, &quot;HACK:&quot;, &quot;NOTE:&quot;, &quot;PERF:&quot;, &quot;TODO:&quot;, or &quot;WARNING:&quot;. Each of these are highlighted with a different background color. This plugin also defines commands for navigating to these comments.</p><p>To install todo-comments, create the file <code>~/.config/nvim/lua/user/plugins/todo-comments.lua</code> containing the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"folke/todo-comments.nvim"</span><span class="token punctuation">,</span><br>  requires <span class="token operator">=</span> <span class="token string">"nvim-lua/plenary.nvim"</span><span class="token punctuation">,</span><br>  config <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"todo-comments"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setup</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>  <span class="token keyword">end</span><span class="token punctuation">,</span><br>  event <span class="token operator">=</span> <span class="token string">"User AstroFile"</span><br><span class="token punctuation">}</span></code></pre><p>The comment syntax this plugin looks for is language-specific. The following are examples of comment prefixes that this plugin recognizes in JavaScript code.</p><pre class="language-js"><code class="language-js"><span class="token comment">// FIX: Please fix this.</span><br><span class="token comment">// HACK: I really should not have done this.</span><br><span class="token comment">// NOTE: For more information, see https://some-tutorial.com.</span><br><span class="token comment">// PERF: This may cause a performance issue.</span><br><span class="token comment">// TODO: Please do this in the future.</span><br><span class="token comment">// WARNING: This may break if invalid input is received.</span></code></pre><p>There are multiple ways to display a list of all these kinds of comments found in all files that are in and below the starting directory.</p><p>To see them in a Telescope window, enter <code>:TodoTelescope</code>.</p><p>To see them in a quick fix list, enter <code>:TodoQuickFix</code>.</p><p>These commands are not available until at least one file has been opened. It's unclear why that is necessary.</p><h4 id="smartcolumn.nvim-plugin" tabindex="-1">smartcolumn.nvim Plugin</h4><p>The <a href="https://github.com/m4xshen/smartcolumn.nvim?v=1.0.20" rel="noopener" target="_blank">smartcolumn.nvim</a> plugin displays a vertical line at a given column only if at least one line in the file extends past that column.</p><p>To install smartcolumn.nvim, create the file <code>~/.config/nvim/lua/user/plugins/smartcolumn.lua</code> containing the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"m4xshen/smartcolumn.nvim"</span><span class="token punctuation">,</span><br>  opts <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token comment">-- colorcolumn = 80 -- This is the default.</span><br>    <span class="token comment">-- Don't disable any file types.</span><br>    disabled_filetypes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">-- default is {"help", "text", "markdown"}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  event <span class="token operator">=</span> <span class="token string">"User AstroFile"</span><br><span class="token punctuation">}</span></code></pre><h4 id="emmet" tabindex="-1">Emmet</h4><p><a href="https://docs.emmet.io?v=1.0.20" rel="noopener" target="_blank">Emmet</a> is an editor plugin for quickly entering HTML, XML, and CSS. It also supports many &quot;actions&quot; that operate on HTML and XML elements. The most commonly used action is to expand an abbreviation or snippet.</p><p>AstroNvim does not ship with Emmett support. To add it, see <a href="https://github.com/mattn/emmet-vim?v=1.0.20" rel="noopener" target="_blank">emmet-vim</a>.</p><h3 id="astronvim-community" tabindex="-1">AstroNvim Community</h3><p>The <a href="https://github.com/AstroNvim/astrocommunity?v=1.0.20" rel="noopener" target="_blank">AstroNvim Community Repository</a> is a collection of AstroNvim plugins and their configurations. These are typically easier to install that configuring them manually.</p><p>To add these to your AstroNvim setup, create the file <code>~/.config/lua/user/plugins/community.lua</code> and add content the like the following:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">return</span> <span class="token punctuation">{</span><br>  <span class="token string">"AstroNvim/astrocommunity"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span> import <span class="token operator">=</span> <span class="token string">"astrocommunity.pack.typescript"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span> import <span class="token operator">=</span> <span class="token string">"astrocommunity.colorscheme.catppuccin"</span><span class="token punctuation">,</span> enabled <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">{</span> import <span class="token operator">=</span> <span class="token string">"astrocommunity.colorscheme.nightfox"</span><span class="token punctuation">,</span> enabled <span class="token operator">=</span> <span class="token keyword">true</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></article>