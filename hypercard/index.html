<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>HyperCard</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#history">History</a></li><li><a href="#some-cons">Some Cons</a></li><li><a href="#launching-hypercard">Launching HyperCard</a></li><li><a href="#help">Help</a></li><li><a href="#domains">Domains</a></li><li><a href="#stacks">Stacks</a><ol><li><a href="#home-stack">Home Stack</a></li><li><a href="#stack-creation">Stack Creation</a></li><li><a href="#stack-opening">Stack Opening</a></li><li><a href="#stack-information">Stack Information</a></li><li><a href="#stack-navigation">Stack Navigation</a></li><li><a href="#stack-backgrounds">Stack Backgrounds</a></li><li><a href="#stack-sharing">Stack Sharing</a></li><li><a href="#stack-compacting">Stack Compacting</a></li><li><a href="#stack-protection">Stack Protection</a></li><li><a href="#stack-copying">Stack Copying</a></li></ol></li><li><a href="#cards">Cards</a><ol><li><a href="#creating-cards">Creating Cards</a></li><li><a href="#card-information">Card Information</a></li><li><a href="#card-navigation">Card Navigation</a></li><li><a href="#saving-cards">Saving Cards</a></li><li><a href="#copying-cards">Copying Cards</a></li><li><a href="#moving-cards">Moving Cards</a></li><li><a href="#deleting-cards">Deleting Cards</a></li><li><a href="#recent-cards">Recent Cards</a></li><li><a href="#card-transitions">Card Transitions</a></li><li><a href="#marking-cards">Marking Cards</a></li><li><a href="#finding-cards">Finding Cards</a></li><li><a href="#background-names">Background Names</a></li><li><a href="#sorting-cards">Sorting Cards</a></li><li><a href="#card-issues">Card Issues</a></li></ol></li><li><a href="#tools">Tools</a><ol><li><a href="#tools-palette">Tools Palette</a></li><li><a href="#menu-changes">Menu Changes</a></li><li><a href="#paint-menu">Paint Menu</a></li><li><a href="#options-menu">Options Menu</a></li><li><a href="#patterns-menu">Patterns Menu</a></li></ol></li><li><a href="#buttons">Buttons</a><ol><li><a href="#button-types">Button Types</a></li><li><a href="#creating-buttons">Creating Buttons</a></li><li><a href="#icons">Icons</a></li><li><a href="#deleting-icons">Deleting Icons</a></li><li><a href="#finding-buttons">Finding Buttons</a></li><li><a href="#editing-buttons">Editing Buttons</a></li><li><a href="#moving-buttons">Moving Buttons</a></li><li><a href="#resizing-buttons">Resizing Buttons</a></li><li><a href="#copying-buttons">Copying Buttons</a></li><li><a href="#deleting-buttons">Deleting Buttons</a></li><li><a href="#linking-buttons">Linking Buttons</a></li><li><a href="#button-references">Button References</a></li><li><a href="#clickable-images">Clickable Images</a></li><li><a href="#scripting-buttons">Scripting Buttons</a></li><li><a href="#check-boxes">Check Boxes</a></li><li><a href="#radio-buttons">Radio Buttons</a></li><li><a href="#popups">Popups</a></li></ol></li><li><a href="#fields">Fields</a><ol><li><a href="#creating-fields">Creating Fields</a></li><li><a href="#finding-fields">Finding Fields</a></li><li><a href="#editing-fields">Editing Fields</a></li><li><a href="#field-selections">Field Selections</a></li><li><a href="#text-style-of-selected-text">Text Style of Selected Text</a></li><li><a href="#setting-fields">Setting Fields</a></li><li><a href="#moving-fields">Moving Fields</a></li><li><a href="#resizing-fields">Resizing Fields</a></li><li><a href="#copying-fields">Copying Fields</a></li><li><a href="#deleting-fields">Deleting Fields</a></li><li><a href="#field-focus">Field Focus</a></li><li><a href="#field-references">Field References</a></li><li><a href="#scripting-fields">Scripting Fields</a></li><li><a href="#reverse-lettering">Reverse Lettering</a></li></ol></li><li><a href="#layers">Layers</a></li><li><a href="#sounds">Sounds</a></li><li><a href="#importing-graphics">Importing Graphics</a></li><li><a href="#exporting-graphics">Exporting Graphics</a></li><li><a href="#backgrounds">Backgrounds</a></li><li><a href="#images">Images</a></li><li><a href="#color">Color</a></li><li><a href="#scroll-window">Scroll Window</a></li><li><a href="#menu-bar">Menu Bar</a></li><li><a href="#keyboard-shortcuts">Keyboard Shortcuts</a></li><li><a href="#hypertalk">HyperTalk</a><ol><li><a href="#message-box">Message Box</a></li><li><a href="#comments">Comments</a></li><li><a href="#data-types">Data Types</a><ol><li><a href="#booleans">Booleans</a></li><li><a href="#numbers">Numbers</a></li><li><a href="#strings">Strings</a></li><li><a href="#dates">Dates</a></li><li><a href="#times">Times</a></li></ol></li><li><a href="#accessing-buttons">Accessing Buttons</a></li><li><a href="#accessing-fields">Accessing Fields</a></li><li><a href="#chunk-expressions">Chunk Expressions</a></li><li><a href="#scripts">Scripts</a></li><li><a href="#script-editor">Script Editor</a></li><li><a href="#script-menu">Script Menu</a></li><li><a href="#debugging">Debugging</a></li><li><a href="#messages">Messages</a><ol><li><a href="#messages-only-for-buttons">Messages only for buttons</a></li><li><a href="#messages-only-for-fields">Messages only for fields</a></li><li><a href="#messages-only-for-cards">Messages only for cards</a></li><li><a href="#messages-for-buttons-and-fields">Messages for buttons and fields</a></li><li><a href="#messages-for-fields-and-cards">Messages for fields and cards</a></li><li><a href="#messages-for-buttons%2C-fields%2C-and-cards">Messages for buttons, fields, and cards</a></li><li><a href="#messages-for-backgrounds">Messages for backgrounds</a></li><li><a href="#messages-for-stacks">Messages for stacks</a></li><li><a href="#messages-for-pictures">Messages for pictures</a></li><li><a href="#messages-for-palettes">Messages for palettes</a></li><li><a href="#messages-for-the-hypercard-app">Messages for the HyperCard app</a></li><li><a href="#messages-for-menu-selections">Messages for menu selections</a></li></ol></li><li><a href="#message-handlers">Message Handlers</a></li><li><a href="#constants">Constants</a></li><li><a href="#variables">Variables</a></li><li><a href="#special-variables">Special Variables</a></li><li><a href="#commands">Commands</a><ol><li><a href="#add-command">add Command</a></li><li><a href="#answer-command">answer Command</a></li><li><a href="#answer-file-command">answer file Command</a></li><li><a href="#ask-command">ask Command</a></li><li><a href="#ask-file-command">ask file Command</a></li><li><a href="#beep-command">beep Command</a></li><li><a href="#choose-command">choose Command</a></li><li><a href="#click-command">click Command</a></li><li><a href="#close-command">close Command</a></li><li><a href="#close-file-command">close file Command</a></li><li><a href="#convert-command">convert Command</a></li><li><a href="#create-menu-command">create menu Command</a></li><li><a href="#create-stack-command">create stack Command</a></li><li><a href="#debug-checkpoint-command">debug checkpoint Command</a></li><li><a href="#delete-command">delete Command</a></li><li><a href="#divide-command">divide Command</a></li><li><a href="#do-command">do Command</a></li><li><a href="#domenu-command">doMenu Command</a></li><li><a href="#drag-command">drag Command</a></li><li><a href="#exit-command">exit Command</a></li><li><a href="#find-command">find Command</a></li><li><a href="#flash-command">flash Command</a></li><li><a href="#get-command">get Command</a></li><li><a href="#edit-script-command">edit script Command</a></li><li><a href="#export-paint-command">export paint Command</a></li><li><a href="#import-paint-command">import paint Command</a></li><li><a href="#global-command">global Command</a></li><li><a href="#go-command">go Command</a></li><li><a href="#help-command">help Command</a></li><li><a href="#hide-command">hide Command</a></li><li><a href="#lock-error-dialogs-command">lock error dialogs Command</a></li><li><a href="#lock-messages-command">lock messages Command</a></li><li><a href="#lock-screen-command">lock screen Command</a></li><li><a href="#multiply-command">multiply Command</a></li><li><a href="#open-command">open Command</a></li><li><a href="#open-file-command">open file Command</a></li><li><a href="#palette-command">palette Command</a></li><li><a href="#pass-command">pass Command</a></li><li><a href="#picture-command">picture Command</a></li><li><a href="#play-command">play Command</a></li><li><a href="#pop-command">pop Command</a></li><li><a href="#print-command">print Command</a></li><li><a href="#push-command">push Command</a></li><li><a href="#put-command">put Command</a></li><li><a href="#put-into-menu-command">put into menu Command</a></li><li><a href="#read-from-file-command">read from file Command</a></li><li><a href="#reset-menubar-command">reset menuBar Command</a></li><li><a href="#reset-paint-command">reset paint Command</a></li><li><a href="#save-stack-command">save stack Command</a></li><li><a href="#select-command">select Command</a></li><li><a href="#select-text-of-command">select text of Command</a></li><li><a href="#send-command">send Command</a></li><li><a href="#set-command">set Command</a></li><li><a href="#show-command">show Command</a></li><li><a href="#sort-command">sort Command</a></li><li><a href="#start-using-command">start using Command</a></li><li><a href="#stop-using-command">stop using Command</a></li><li><a href="#subtract-command">subtract Command</a></li><li><a href="#type-command">type Command</a></li><li><a href="#unlock-error-dialogs-command">unlock error dialogs Command</a></li><li><a href="#unlock-messages-command">unlock messages Command</a></li><li><a href="#unlock-screen-command">unlock screen Command</a></li><li><a href="#visual-command">visual Command</a></li><li><a href="#wait-command">wait Command</a></li><li><a href="#write-to-file-command">write to file Command</a></li><li><a href="#xy-command">xy Command</a></li></ol></li><li><a href="#math">Math</a></li><li><a href="#conditional-logic">Conditional Logic</a></li><li><a href="#iteration">Iteration</a></li><li><a href="#hiding-and-showing">Hiding and Showing</a></li><li><a href="#mouse-cursor">Mouse Cursor</a></li><li><a href="#mouse-messages">Mouse Messages</a></li><li><a href="#functions">Functions</a></li><li><a href="#built-in-functions">Built-in Functions</a></li><li><a href="#dialogs">Dialogs</a></li><li><a href="#icons-from-scripts">Icons from Scripts</a></li><li><a href="#function-keys">Function Keys</a></li><li><a href="#drawing">Drawing</a></li><li><a href="#groups">Groups</a></li><li><a href="#customizing-menus">Customizing Menus</a></li></ol></li><li><a href="#applescript">AppleScript</a></li><li><a href="#speaking-text">Speaking Text</a><ol><li><a href="#menu-items">Menu Items</a></li><li><a href="#long-running-tasks">Long Running Tasks</a></li></ol></li><li><a href="#search-paths">Search Paths</a></li><li><a href="#user-levels">User Levels</a></li><li><a href="#file-i%2Fo">File I/O</a></li><li><a href="#printing">Printing</a></li><li><a href="#palettes">Palettes</a></li><li><a href="#popular-stacks">Popular Stacks</a></li><li><a href="#power-tools">Power Tools</a><ol><li><a href="#super-grouper">Super Grouper</a></li><li><a href="#window-manager">Window Manager</a></li><li><a href="#paint-palettes">Paint Palettes</a></li><li><a href="#export-a-stack's-scripts">Export a Stack's Scripts</a></li><li><a href="#function-and-control-keys">Function and Control Keys</a></li><li><a href="#stack-menus">Stack Menus</a></li><li><a href="#listobjects">ListObjects</a></li><li><a href="#picture-xcmd">Picture XCMD</a></li><li><a href="#search-container-xfcn">Search Container XFCN</a></li><li><a href="#show-xfcn">Show XFCN</a></li><li><a href="#multiple-scrolling-fields">Multiple Scrolling Fields</a></li><li><a href="#script-library">Script Library</a></li><li><a href="#export-to-textfile">Export to TextFile</a></li><li><a href="#palette-maker">Palette Maker</a></li><li><a href="#menu-maker">Menu Maker</a></li><li><a href="#resource-mover">Resource Mover</a></li></ol></li><li><a href="#creating-applications">Creating Applications</a></li><li><a href="#demos">Demos</a><ol><li><a href="#card-numbering">Card Numbering</a></li><li><a href="#experimenting-with-hypertalk">Experimenting With HyperTalk</a></li><li><a href="#counter">Counter</a></li><li><a href="#dice-button">Dice Button</a></li><li><a href="#previous-and-next-buttons">Previous and Next Buttons</a></li><li><a href="#adding-numbers">Adding Numbers</a></li><li><a href="#number-fields">Number Fields</a></li><li><a href="#compound-interest">Compound Interest</a></li><li><a href="#list-selection">List Selection</a></li><li><a href="#automatic-table-of-contents">Automatic Table of Contents</a></li><li><a href="#dropdown-list">Dropdown List</a></li><li><a href="#detecting-duplicates-in-a-list">Detecting Duplicates in a List</a></li><li><a href="#disclosure-buttons">Disclosure Buttons</a></li><li><a href="#dynamically-creating-buttons-and-fields">Dynamically Creating Buttons and Fields</a></li></ol></li><li><a href="#books">Books</a><ol><li><a href="#hypercard-2.3">HyperCard 2.3</a></li><li><a href="#hypercard-2.4">HyperCard 2.4</a></li></ol></li><li><a href="#resources">Resources</a></li></ol></nav></aside><article><p><img alt="HyperCard logo" style="width: 10%" src="/blog/assets/hypercard-logo.jpg?v=1.1.1"><br><img alt="HyperCard Welcome card" style="width: 80%" src="/blog/assets/hypercard-home-stack.jpg?v=1.1.1"></p><h2 id="overview" tabindex="-1">Overview</h2><p>HyperCard is a Macintosh application for viewing and creating multimedia applications built with HyperCard stacks. Stacks are collections of cards. Cards can contain graphics, buttons, and fields.</p><p>Some stacks are analogous to a relational database table where each card is a record and each field is a column.</p><p>Actions can be scripted using the built-in HyperTalk language or AppleScript. This includes interacting with other applications and exchanging data with documents from other applications.</p><p>Changes to stacks are saved automatically. There is no save button or menu item.</p><p>The first card in the default HyperCard Home stack contains buttons that navigate to commonly used stacks. Click the &quot;HyperCard Tour&quot; stack for a good overview of the application. At any point, press cmd-h to return to the Home stack.</p><h2 id="history" tabindex="-1">History</h2><p>The original application name was WildCard. It was changed to HyperCard shortly before the initial release because the name WildCard was already trademarked.</p><p>HyperCard initially released in August, 1987. The last version of HyperCard, released in 1988, was 2.4.1. The oldest version of Mac OS that can run some version of HyperCard is Mac OS 6.0.5. The newest version of Mac OS that can run HyperCard is 9.2.2.</p><p>HyperCard was developed at Apple by Bill Atkinson and Dan Winkler, using Apple Pascal.</p><p>Bill Atkinson said of HyperCard that &quot;It's programming for the rest of us.&quot; HyperCard allows non-developers to create applications that can easily be shared with others.</p><p>For a time, HyperCard came preinstalled on all Macintosh computers.</p><p>The original version of the game Myst was developed in HyperCard.</p><p>Even though HyperCard stacks can be created without doing any &quot;programming&quot;, more elaborate functionality can be added by writing bits of HyperTalk code. For many people that were in middle school and high school during the late 80's and 90's, HyperCard was their first introduction to programming. It was easier to learn than other options and led some of them to become professional software developers.</p><h2 id="some-cons" tabindex="-1">Some Cons</h2><p>The following is a list of things that HyperCard cannot do:</p><ul><li>run in Windows or Linux</li><li>run in a Macintosh OS newer than Mac OS 9</li><li>use color (except with Color Tools that are a bit of an awkward add on)</li><li>make information available on the Web</li><li>interact with REST APIs</li><li>support multi-user interactions</li></ul><p>Stacks can be shared and edited by one user at a time.</p><h2 id="launching-hypercard" tabindex="-1">Launching HyperCard</h2><p>To launch HyperCard, double click on the app icon or on the icon of a HyperCard stack. If the app icon was double clicked, the Home stack is opened. The first card in the opened stack is displayed.</p><h2 id="help" tabindex="-1">Help</h2><p>For popup help on a particular menu item or button, select Help ... Show Balloons and hover over an item. This is a Mac OS feature and is not specific to HyperCard. To turn this off, select Help ... Hide Balloons.</p><p>For help on HyperCard, go to the Home stack, click the &quot;Welcome to&quot; button, and click the &quot;HyperCard Help&quot; button.</p><p>For help on HyperTalk, go to the Home stack, click the &quot;Stack Kit&quot; button, and click the &quot;HyperTalk Reference&quot; button.</p><p>Another source of help on HyperTalk is the <a href="https://archive.org/details/hypercard_ht_quickref?v=1.1.1" rel="noopener" target="_blank">HyperTalk QuickRef</a> stack. After downloading this, open it in HyperCard, click the &quot;Install...&quot; button, and click the &quot;Install&quot; button. To get help on a particular topic, open the Message Box and enter quickref &quot;{topic}&quot;.</p><h2 id="domains" tabindex="-1">Domains</h2><p>Cards have two domains, a background and a foreground (referred to as &quot;card&quot;). Each domain can contain painted objects (e.g. a filled rectangle), buttons, and fields. Fields display text and can allow users to enter text.</p><p>A background can be shared by any number of cards in its stack. Objects in the background of the current card that are not obscured by objects in card are visible.</p><p>When a button or field is created, it is automatically assigned a part number and an ID. Both are unique within their domain which is a specific background or card.</p><p>The ID values never change and are never reused, even if a button or field is deleted.</p><p>There are five kinds of &quot;objects&quot; in HyperCard, stacks, cards, backgrounds, buttons, and fields.</p><p>Part numbers specify stacking order where objects with higher part numbers are drawn on top of objects with lower part numbers. All objects in the card domain are drawn on top of all objects in the background domain. For more detail, see the &quot;Layers&quot; section below.</p><h2 id="stacks" tabindex="-1">Stacks</h2><p>A stack is a collection of cards that all have the same size. Each stack can use a different card size.</p><p>A stack can be thought of as an application that runs in HyperCard OR as a database table with a user interface for creating, reading, updating, and deleting records.</p><p>Each stack is stored in its own file in the Finder. All changes made to the cards in a stack are automatically saved. This includes modifying the content of fields, adding cards, and deleting cards.</p><p>Many HyperCard windows can be open simultaneously. These include windows for stacks, scripts, and palettes. If multiple windows are open, select Go ... Next Window or press cmd-l to move focus to the next one.</p><p>A stack can be homogeneous or heterogeneous. In a homogeneous stack, all the cards have the same background. In a heterogeneous stack, the cards use more than one background. An example is a stack that begins with a table of contents card that contains buttons that link to all other cards which share a different background. TODO: Learn how to implement this.</p><p>A table of contents card can have multiple levels. For example, it can have a list of categories on the left and a list of topics on the right. Clicking a category on the left can change the list of topics displayed on the right. Clicking a topic can navigate to a card that provides details on the topic. TODO: See page 74 in HyperCard Handbook. Learn how to implement this.</p><p>A stack can contain links to cards in other stacks.</p><p>Stacks are not meant to be concurrently modified by multiple users.</p><h3 id="home-stack" tabindex="-1">Home Stack</h3><p>HyperCard ships with several stacks including one named &quot;Home&quot;. If the Home stack is not currently open, it can be opened by selecting Go ... Home or pressing cmd-h.</p><p><img alt="HyperCard Home stack" style="width: 60%" src="/blog/assets/hypercard-home-stack.jpg?v=1.1.1"></p><p>When HyperCard is launched, it looks for the file <code>Home</code> in the following locations in this order:</p><ol><li><code>System Folder</code> at the root of the drive containing the HyperCard app</li><li>directory containing another stack that was double clicked to launch HyperCard</li><li>directory containing the HyperCard app (default location of <code>Home</code> file)</li><li><code>HyperCard Stacks</code> directory in the director containing the HyperCard app</li><li>root directory of the drive containing the HyperCard app</li></ol><p>If the Home stack is not found in one of these locations, a dialog will appear asking you to locate it.</p><p>The default Home stack contains nine cards.</p><ul><li><p>&quot;Welcome to HyperCard&quot; contains buttons to open several stacks.</p><p>To jump to this card, select Home ... Home Cards.</p><p>The stacks include:</p><ul><li>HyperCard Tour</li><li>HyperCard Help</li><li>Art Bits: a collection of clip art that can be copied and pasted into your stacks</li><li>Addresses: a sample address book</li><li>Graph Maker: displays bar, column, line, and pie charts</li><li>and more</li></ul></li><li><p>&quot;Stack Kit&quot; contains buttons to open several stacks including:</p><ul><li>Readymade Buttons</li><li>Readymade Fields</li><li>Stack Templates</li><li>Power Tools</li><li>Background Art</li><li>HyperTalk Reference</li><li>Color Tools</li><li>HyperTalk AppleScript Reference</li><li>Apple Event Primer</li><li>AppleScript Library</li></ul></li><li><p>&quot;Card 3&quot;, &quot;Card 4&quot;, and &quot;Card 5&quot;</p><p>These are excellent places to add buttons that open:</p><ul><li>your stacks</li><li>other applications</li><li>documents in other applications</li></ul></li><li><p>&quot;Search Paths&quot;</p><p>This is a set of three cards that list in order the directory paths that HyperCard will search to find stacks, applications, and documents. To jump to the first of these cards, select Home ... Search Paths.</p></li><li><p>&quot;Preferences&quot;</p><p>To jump to this card, select Home ... Preference. This enables specifying the following preferences:</p><ul><li><p>Your name</p><p>The string entered here is saved in the global variable <code>UserName</code>. It can be used in scripts like the one below that can be added to a button.</p><pre class="language-text"><code class="language-text">on mouseUp<br>  global UserName<br>  answer "Hello," && UserName & "!"<br>end mouseUp</code></pre></li><li><p>User level: 1 through 5</p></li><li><p>Blind Typing</p><p>When no field has focus and the Message Box is open, all typed characters are added to the Message Box because it gets focus by default. When &quot;blind typing&quot; is enabled, and no field has focus, all typed characters are added to the Message Box even when the Message Box is not open.</p></li><li><p>Power Keys</p><p>This enables issuing commands related to the painting tools by pressing the letter, digit, <code>[</code>, and <code>]</code> keys.</p><p>Examples include:</p><ul><li>1, 2, 3, 4, 6, and 8 set the line thickness to that number of pixels</li><li><code>a</code> selects all the painting on the current card (not buttons or fields)</li><li><code>c</code> toggles draw centered on and off</li><li><code>d</code> darkens all pixels in the selected region</li><li><code>e</code> traces the edges of the current shape; can apply repeatedly</li><li><code>g</code> toggles snap to grid on and off</li><li><code>h</code> flips the selection horizontally</li><li><code>i</code> inverts all the pixels in the selected area</li><li><code>l</code> lightens all pixels in the selected region</li><li><code>v</code> flips the selection vertically</li><li><code>[</code> rotates the selection left 90 degrees</li><li><code>]</code> rotates the selection right 90 degrees</li></ul></li><li><p>Arrow Keys in Text</p><p>By default, pressing the arrow keys navigates to other cards. Checking this checkbox enables using all four arrow keys to move the cursor inside focused fields.</p></li></ul></li></ul><h3 id="stack-creation" tabindex="-1">Stack Creation</h3><p>There are three ways to open an existing stack.</p><ol><li>Double-click its file in the Finder.</li><li>In the HyperCard app, select File ... Open Stack...</li><li>In the HyperCard app, from the Home stack, click a button that opens the stack.</li></ol><p>Multiple stacks can be open at the same time, each it its own window.</p><p>To create a new stack from stack template:</p><ul><li><p>Open the Home stack.</p></li><li><p>Click the &quot;Stack Kit&quot; button on the bottom row.</p></li><li><p>Click the &quot;Stack Templates&quot; button to display a list of templates.</p><p><img alt="HyperCard Stack Kit card" style="width: 60%" src="/blog/assets/hypercard-stack-kit-card.png?v=1.1.1"></p></li><li><p>Click the name of one of the 15 stack templates.</p><p><img alt="HyperCard Stack Templates" style="width: 60%" src="/blog/assets/hypercard-stack-templates.png?v=1.1.1"></p></li><li><p>In the dialog that appears on top of the template:</p><p><img alt="HyperCard Todo List template" style="width: 60%" src="/blog/assets/hypercard-todo-list-template.png?v=1.1.1"></p><ul><li>Click the lightbulb button to display information about the template.</li><li>Click the &quot;Create Stack&quot; button to create a new stack using the selected template.</li><li>Click the house icon to return the Home stack.</li><li>Click the &quot;Templates&quot; button to return to the list of templates.</li><li>Click the left arrow to go to the previous template.</li><li>Click the right arrow to go to the next template.</li></ul></li></ul><p>To create a new stack from scratch:</p><ul><li><p>Select File ... New Stack...</p></li><li><p>Enter a stack name.</p></li><li><p>Select an option from the &quot;Card size&quot; dropdown with the following options where the sizes are in pixels:</p><ul><li>Small: 416 x 240</li><li>Classic: 512 x 342</li><li>PowerBook: 640 x 400</li><li>Large: 640 x 480</li><li>MacPaint: 576 x 720</li><li>Window: 640 x 480 (same as Large)</li><li>Screen: This fills the current screen.</li><li>Custom: Specify a size between 64x64 and 1280x1280 in 32-pixel increments by dragging the lower-right corner of the preview rectangle under the &quot;Card size&quot; label.</li></ul><p>This will default to the size of the stack currently being viewed.</p><p>To later change the card size used by a stack, open its Stack Info dialog and click the &quot;Resize...&quot; button. However, this can require rearranging the objects on each card, especially if the size is reduced.</p></li><li><p>Optionally check &quot;Copy current background&quot; to copy the background of the currently open stack into the new stack.</p></li><li><p>Optionally check &quot;Open stack in new window&quot; to keep the stack currently being viewed open.</p></li><li><p>Click the Save button.</p></li></ul><h3 id="stack-opening" tabindex="-1">Stack Opening</h3><p>To open an existing stack:</p><ul><li>Select File ... Open Stack...</li><li>In the dialog that appears, navigate to the stack to open.</li><li>Optionally check the &quot;Open stack in new window&quot; checkbox.</li><li>Click the &quot;Open&quot; button.</li></ul><p>At least one stack window must be open. To close another stack that is open in its own window, click its close box in the upper-left, press cmd-w, or select File ... Close Stack.</p><p>To edit the properties of the current stack, select Objects ... Stack Info... which opens the following dialog:</p><p><img alt="HyperCard Stack Info" style="width: 45%" src="/blog/assets/hypercard-stack-info.png?v=1.1.1"></p><p>To enable opening your stacks from the Home stack:</p><ol><li>Press cmd-h to open the Home stack.</li><li>Go to Card 3, 4, or 5 that all say &quot;You can add your own buttons to this card.&quot;</li><li>Select Home ... New Link to Stack...</li><li>In the dialog that appears, select a stack file.</li><li>Click the &quot;Open&quot; button to add a new button.</li><li>Position the new button as desired.</li><li>Select the Browse tool.</li><li>The new button can be clicked to open the stack in a new window.</li></ol><p>To enable opening other applications from the Home Stack:</p><ol><li>Press cmd-h to open the Home stack.</li><li>Go to Card 3, 4, or 5 that all say &quot;You can add your own buttons to this card.&quot;</li><li>Select Home ... New Link to Application...</li><li>In the dialog that appears, select an application.</li><li>Click the &quot;Open&quot; button to add a new button.</li><li>Select the Browse tool.</li><li>The new button can be clicked to launch the application.</li></ol><p>The process is similar to create a button that opens a given document using a given application.</p><ol><li>Press cmd-h to open the Home stack.</li><li>Go to Card 3, 4, or 5 that all say &quot;You can add your own buttons to this card.&quot;</li><li>Select Home ... New Link to Document...</li><li>In the dialog that appears, select a document.</li><li>Click the &quot;Open&quot; button.</li><li>In the dialog that appears, select an application that can open the document.</li><li>Click the &quot;Open&quot; button.</li></ol><p>The Home stack initially contains buttons labeled &quot;Card 3&quot;, &quot;Card 4&quot;, and &quot;Card 5&quot; that navigate to a card with the same name. To rename these buttons and their associated card, go to one of the cards, select Home ... Rename This Card, enter the new name in the dialog that appears, and click the &quot;OK&quot; button. For example, consider renaming &quot;Card 3&quot; to &quot;My Stacks&quot; if that is where you place links to your stacks.</p><h3 id="stack-information" tabindex="-1">Stack Information</h3><p>To get information about the current stack:</p><ul><li><p>Select Objects ... Stack Info... to open a Stack Info dialog.</p><p>This enables renaming the stack, resizing it, and editing its script. It also gives the number of cards in the stack and the number of backgrounds used.</p></li></ul><h3 id="stack-navigation" tabindex="-1">Stack Navigation</h3><p>To navigate to the next open stack window, select Go ... Next Window or press cmd-l.</p><h3 id="stack-backgrounds" tabindex="-1">Stack Backgrounds</h3><p>To view and optionally edit a background used by the current card:</p><ul><li>Open the stack.</li><li>Navigate to a card that uses the background.</li><li>Select Edit ... Background or press cmd-b to toggle background mode. This is indicated by a hatched pattern in the menu bar. The card layer is temporarily hidden and only the background layer is displayed.</li></ul><h3 id="stack-sharing" tabindex="-1">Stack Sharing</h3><p>To share a stack with others, send them the stack file. They can open the stack by double clicking it, or by launching HyperCard and selecting File ... Open Stack...</p><h3 id="stack-compacting" tabindex="-1">Stack Compacting</h3><p>When changes are made in a stack, such as entering text in a field, HyperCard allocates extra space in anticipation of more space being needed later. This makes future changes more efficient because it isn't always necessary to allocate more space. In large stacks that have undergone many changes, this can result in quite a bit of allocated space that is unused ... referred to as &quot;free space&quot;.</p><p>To see the amount of free space in a stack, open it and select Objects ... Stack Info... . In the dialog that appears, the total amount of disk space used by the stack is listed after &quot;Size of stack&quot; and the amount of free space is listed after &quot;Free in stack&quot;.</p><p>The free space can be removed, reducing the size of the stack, by selecting File ... Compact Stack. This also verifies the internal structure of the stack and is able to fix some issues.</p><p>It is recommended to periodically compact all stacks, perhaps daily for frequently modified stacks.</p><h3 id="stack-protection" tabindex="-1">Stack Protection</h3><p>To protect a stack from user actions, open the stack and select File ... Protect Stack... which opens the following dialog:</p><p><img alt="HyperCard Protect Stack dialog" style="width: 50%" src="/blog/assets/hypercard-protect-stack.png?v=1.1.1"></p><p>If the user level of the stack causes the &quot;Protect Stack...&quot; menu item to be missing from &quot;File&quot; menu, hold down the command key when opening the File menu to reveal it. If a password has already been set for the stack, it must be entered to gain access to the &quot;Protect Stack&quot; dialog.</p><p>When the &quot;Can't Modify Stack&quot; checkbox is checked, users can browse the stack, but are prevented from making any changes including modifying the text in fields.</p><p>When the &quot;Can't Delete Stack&quot; checkbox is checked, users are prevented from deleting the stack.</p><p>When the &quot;Can't Abort&quot; checkbox is checked, users are prevented from aborting operations by pressing cmd-period. This can be useful in stacks that run in kiosk settings,</p><p>When the &quot;Can't Peek&quot; checkbox is checked, prevents users from seeing:</p><ul><li>the locations of buttons by pressing cmd-option</li><li>the locations of fields by pressing cmd-shift-option</li></ul><p>When the &quot;Private Access&quot; checkbox is checked, users must enter a password in order to access the stack. If the &quot;OK&quot; buttons is clicked and no password has been specified, a dialog for entering one is opened.</p><p>The &quot;Set Password...&quot; button opens a dialog where a password can be entered. If the &quot;Private Access&quot; checkbox is checked, users must enter this password (once per HyperCard session) in order to open the stack. Regardless of the &quot;Private Access&quot; setting, users must enter this password in order to open the &quot;Protect Stack&quot; dialog.</p><p>The radio buttons under &quot;Limit user level to&quot; set the default user level that is active when the stack is opened.</p><p>Users that have access to a stack file can find ways in the HyperCard app to bypass its password protection. A better way to ensure password protection is to save the stack as an application (see the next section) and distribute that. Applications cannot be edited in HyperCard.</p><h3 id="stack-copying" tabindex="-1">Stack Copying</h3><p>To create a copy of the current stack:</p><ul><li>Select File ... Save a Copy...</li><li>In the dialog that appears, select the target directory.</li><li>Enter a stack name under the label &quot;Save a copy of stack as:&quot;.</li><li>Optionally change the &quot;File type&quot; to &quot;Application&quot; to create an application that can be run without HyperCard.</li><li>Click the &quot;Save&quot; button.</li></ul><h2 id="cards" tabindex="-1">Cards</h2><p>A card belongs to a specific stack. Each card has a foreground and background layer. Both the foreground and background can contain graphics, buttons, and fields (for text). All transparent parts of a card foreground display content from the background at the same location. Typically many cards share a background.</p><h3 id="creating-cards" tabindex="-1">Creating Cards</h3><p>To add a card to the current stack, select Edit ... New Card or press cmd-n. The new card will:</p><ul><li>use the same background as the current card.</li><li>be placed immediately after the current card.</li><li>become the current card.</li><li>be assigned a unique ID within the stack that never changes.</li><li>be assigned a number that specifies its order within the stack, which can change if the cards are inserted and/or sorted later.</li></ul><p>To add a new, first card in a stack:</p><ul><li>Press cmd-1 to go to the first card.</li><li>Select Edit ... New Card to add a new, second card.</li><li>Press cmd-1 to return to the first card.</li><li>Select Edit ... Cut Card to remove the first card.</li><li>Select Edit ... Paste Card to paste the cut card after the new first card.</li></ul><p>All of the steps above can be performed in a script using the <code>doMenu</code> command.</p><h3 id="card-information" tabindex="-1">Card Information</h3><p>To edit the properties of the current card, select Objects ... Card Info... which opens the following dialog:</p><p><img alt="HyperCard Card Info" style="width: 45%" src="/blog/assets/hypercard-card-info.png?v=1.1.1"></p><p>Cards can be assigned names up to 30 characters. A HyperTalk script can go to a card with a given name using the command `go [to] card &quot;{card-name}&quot;.</p><p>The &quot;Card Info&quot; dialog contains the following:</p><ul><li>card name which can be edited</li><li>card number (position) within its stack</li><li>unique card ID within its stack</li><li>number of fields on the card</li><li>number of buttons on the card</li><li>&quot;Card Marked&quot; checkbox to &quot;mark&quot; the card</li><li>&quot;Don't Search Card&quot; checkbox to omit the card from searches</li><li>&quot;Can't Delete Card&quot; checkbox to prevent users from deleting the card If an attempt is made to delete the card, a dialog will open that says &quot;Can't delete protected card.&quot;</li><li>&quot;Script...&quot; button to view and edit the associate script</li></ul><h3 id="card-navigation" tabindex="-1">Card Navigation</h3><p>To navigate between the cards in a stack:</p><table><thead><tr><th>Destination</th><th>Command</th><th>Keyboard Shortcut</th></tr></thead><tbody><tr><td>first card</td><td>Go ... First</td><td>cmd-1</td></tr><tr><td>previous card</td><td>Go ... Prev</td><td>cmd-2</td></tr><tr><td>next card</td><td>Go ... Next</td><td>cmd-3</td></tr><tr><td>last card</td><td>Go ... Last</td><td>cmd-4</td></tr><tr><td>previously browsed card</td><td>Go ... Back</td><td>cmd-~</td></tr></tbody></table><p>Another way to navigate is to open the Navigator palette (shown below) by entering the command <code>nav</code> in the Message Box. This contains buttons that map to the each of the Go menu items except &quot;Scroll&quot;.</p><p><img alt="HyperCard Navigator Palette" style="width: 20%" src="/blog/assets/hypercard-navigator-palette.png?v=1.1.1"></p><h3 id="saving-cards" tabindex="-1">Saving Cards</h3><p>There is no explicit save command. Changes to the content of a field are automatically saved when any of the following occur:</p><ul><li>The return key is pressed.</li><li>The mouse is clicked outside the field.</li><li>Focus is moved to another field.</li><li>A menu item is selected.</li><li>Navigation to another card occurs.</li><li>A new card is created.</li></ul><h3 id="copying-cards" tabindex="-1">Copying Cards</h3><p>To copy the current card and paste the copy after another card:</p><ul><li>Select Edit ... Copy Card.</li><li>Navigate to the destination card.</li><li>Select Edit ... Paste Card.</li></ul><p>The background of new card is the same as that of the copied card, not a copy of the background. Modifying the background will affect all cards that use the background.</p><p>If the card is pasted into a different stack that does not already contain the background of the card, that background is added to the stack.</p><h3 id="moving-cards" tabindex="-1">Moving Cards</h3><p>To move the current card to a new location in the stack:</p><ul><li>Select Edit ... Cut Card.</li><li>Navigate to the card after which it will be placed.</li><li>Select Edit ... Paste Card.</li></ul><p>The background of moved card will not change. Modifying the background will affect all cards that use the background.</p><p>If the card is pasted into a different stack that does not already contain the background of the card, that background is added to the stack.</p><h3 id="deleting-cards" tabindex="-1">Deleting Cards</h3><p>To delete the current card, select Edit ... Delete Card or press cmd-delete. Be careful because no confirmation is requested! If no other action has taken place yet, the deleted card can be recovered by selecting Edit ... Undo or pressing cmd-z.</p><h3 id="recent-cards" tabindex="-1">Recent Cards</h3><p>HyperCard remembers the last 42 unique cards viewed in the current session. To view thumbnails of the viewed cards, select Go ... Recent or press cmd-r. This opens a modal dialog. The thumbnail for the card currently being viewed has a black border. To navigate to a different card and dismiss the dialog, click its thumbnail. To remain on the current card and dismiss the dialog, click the background of the dialog.</p><h3 id="card-transitions" tabindex="-1">Card Transitions</h3><p>To add a transition effect that occurs on card navigation, add a script like the following to each button whose handler navigates to a new card. In the <code>visual</code> command, the keyword <code>effect</code> is optional.</p><pre class="language-text"><code class="language-text">on mouseUp<br>  visual effect wipe right slowly<br>  go to previous card<br>end mouseUp<br><br>on mouseUp<br>  visual effect wipe left slowly<br>  go to next card<br>end mouseUp</code></pre><p>The <code>visual</code> command cannot be used to transition between hiding and showing an object on a card.</p><p>When going to a card in a different stack, the visual effect is only applied if the stack is configured to have the same size.</p><p>There are 30 effects and 7 speeds. To see a list of the supported effects, open the Home stack, click the &quot;Stack Kit&quot; button, click &quot;HyperTalk Reference&quot;, click &quot;Commands&quot;, scroll down to &quot;visual&quot; and click it, and click the word &quot;effect&quot; that is underlined and italicized. The speeds in order from slowest to fastest are &quot;very slowly&quot;, &quot;very slow&quot;, &quot;slowly&quot;, &quot;slow&quot;, default, &quot;fast&quot;, and &quot;very fast&quot;. If no speed is specified, it will default to a speed between &quot;slow&quot; and &quot;fast&quot;.</p><p>To specify a visual effect that is trigger by a specific button:</p><ol><li>Select the Button tool.</li><li>Double-click the button to open its &quot;Button Info&quot; dialog.</li><li>Click the &quot;Tasks...&quot; button.</li><li>Select &quot;Visual Effect&quot; in the left list.</li><li>Select an effect from the center list.</li><li>Select a speed from the right radio buttons.</li><li>Click the &quot;Assign Tasks&quot; button.</li></ol><p>This adds a <code>visual effect</code> command to the <code>mouseUp</code> handler. If one is already present, it is replaced.</p><p>Clicking the button will only exercise the visual effect if the button has also been configured to navigate to another card <strong>in the same handler</strong>. Commands that navigate to another card include <code>go</code>, <code>push</code>, <code>pop</code>, and <code>find</code>.</p><p>To configure a button to navigate to another card, open the &quot;Button Info&quot; dialog for the button and do one of the following:</p><ul><li>Click the &quot;LinkTo...&quot; button and follow the instructions for this in the &quot;Creating Buttons&quot; section above.</li><li>Click the &quot;Tasks...&quot; button and follow the instructions for this in the &quot;Creating Buttons&quot; section above.</li><li>Click the &quot;Scripts...&quot; button and manually add one of the navigation commands after the <code>visual</code> command.</li></ul><p>The &quot;LinkTo...&quot; and &quot;Tasks...&quot; options add a <code>go</code> command to the <code>mouseUp</code> handler. If one is already present, it is replaced.</p><p>When clicking a button triggers a &quot;zoom open&quot; or &quot;zoom close&quot; effect, the center of the zoom is the mouse location when the button is clicked. Otherwise it is the center of the card.</p><h3 id="marking-cards" tabindex="-1">Marking Cards</h3><p>Marking cards provides a way to identify a subset of the cards in a stack that meet specific criteria.</p><p>There are many reasons to mark cards including:</p><ul><li>bookmark cards to be revisited later</li><li>perform an operation on a subset of the cards, such as exporting data</li><li>print a subset of the cards</li></ul><p>To mark or unmark a card from the HyperCard UI:</p><ol><li>Open its &quot;Card Info&quot; dialog.</li><li>Check or uncheck the &quot;Card Marked&quot; checkbox.</li></ol><p>The following HyperTalk commands mark or unmark cards in scripts:</p><ul><li><p><code>[un]mark {card-ref}</code></p></li><li><p><code>[un]mark cards where {boolean-expression}</code></p><p>Typically it is desired to run the command <code>unmark all cards</code> before running this. For example, <code>mark cards where the length of field dogBreed &gt; 6</code>.</p></li><li><p><code>[un]mark cards by finding {string} in {field-ref}</code></p><p>Typically it is desired to run the command <code>unmark all cards</code> before running this. For example, <code>mark cards by finding whip in field dogBreed</code>.</p></li><li><p><code>[un]mark all cards</code></p></li></ul><p>To get the number of cards that are marked, use the expression <code>the number of marked cards</code>.</p><h3 id="finding-cards" tabindex="-1">Finding Cards</h3><p>To search for an occurrence of text, select Go .. Find... or press cmd-f. Then enter search text inside the provided double quotes and press the return key to go to the next occurrence of a field containing matching text.</p><p>Key facts about the <code>find</code> command are:</p><ul><li>Only fields are searched, not button labels or painted text.</li><li>The search is case-insensitive.</li><li>The matching text is indicated on cards by surrounding it with a black rectangle.</li><li>If no match is found, the beep sound is played.</li><li>The last search is remembered. If a new search is begun later, the previous search text will be in the quotes.</li><li>When the search string contains spaces, they are treated as delimiters between search terms (unless the <code>find string</code> variation is used).</li></ul><p>To repeat the search to find the next occurrence, possibly on the same card, press the return key. After the last occurrence is found, the search wraps around to the first card in the stack.</p><p>The plain <code>find</code> command matches cards that have at least one field containing a word that <strong>begins</strong> with each of the search terms. The words are not required to be in the same field. For example, <code>find &quot;com whip&quot;</code> matches a card with a field that contains &quot;Comet Fireball&quot; AND a field that contains &quot;Brindle Whippet&quot;.</p><p>The <code>find words</code> command matches cards with fields that contain complete words that match the search terms. For example, <code>find words &quot;comet whippet&quot;</code> matches a card with a field that contains &quot;Comet Fireball&quot; AND a field that contains &quot;Brindle Whippet&quot;.</p><p>The <code>find whole</code> command matches cards with a single field that contains the specified words in order. For example, <code>find whole &quot;comet fireball&quot;</code> matches a card with a field that contains &quot;Comet Fireball&quot;, but does not match a card with a field that contains &quot;Comet the Fireball&quot;. This command can be entered in the Message Box by pressing cmd-shift-f.</p><p>The <code>find chars</code> command matches substrings. For example, <code>find chars &quot;ome pet&quot;</code> matches a card with a field that contains &quot;Comet Fireball&quot; AND a field that contains &quot;Brindle Whippet&quot;.</p><p>HyperCard does not treat the characters &quot;?&quot; and &quot;*&quot; in search terms like wildcards. Instead of using <code>find chars &quot;wh*pet&quot;</code>and hoping to match &quot;Whippet&quot;, use <code>find chars &quot;wh pet&quot;</code> which is almost the same. It differs in that words containing &quot;wh&quot; and &quot;pet&quot; can be found in different fields of the same card.</p><p>The <code>find string</code> command is similar to <code>find chars</code>, but it treats the search string as a single term even if it contains spaces. It matches cards with a single matching field. For example, <code>find string &quot;met fir&quot;</code> matches a card with a field that contains &quot;Comet Fireball&quot;.</p><p>To search only within a specific field of each card, add <code>in {field-ref}</code> to the end of the <code>find</code> command. For example, <code>find words &quot;comet&quot; in field &quot;dogName&quot;</code>.</p><p>To treat accented characters the same as their non-accented counterparts when finding matches, add the keyword <code>international</code> after <code>find</code> in any of the <code>find</code> commands described above. For example, this treats the character é the same as the character e.</p><p>To only search marked cards, add <code>of marked cards</code> to the end of the <code>find</code> command.</p><h3 id="background-names" tabindex="-1">Background Names</h3><p>Each background has a unique ID. But by default they do not have an associated name.</p><p>To add a name to the current background, open the Message Box and enter <code>set the name of this background to &quot;some name&quot;</code>.</p><p>To get the background name of the current card, use the expression <code>the name of this background</code>. If a name has been assigned, this returns the string 'bkgnd &quot;{name}&quot;'. If no name has been assigned, this returns the string &quot;bkgnd id {id}&quot;.</p><p>To go to the first card with a given background name in the current stack, open the Message Box and enter <code>go to background &quot;some name&quot;</code>.</p><h3 id="sorting-cards" tabindex="-1">Sorting Cards</h3><p>The <code>sort</code> command sorts all cards within a stack or only those with a given background. The syntax is <code>sort [[[marked] cards of] {stack-expr}|{background-expr}] [ascending|descending] [datetime|international|numeric|text] by {expr}</code>. When a part of the syntax is omitted, the default value used is:</p><ul><li>sort all cards in the current stack, not just those that are marked</li><li>sort order <code>descending</code></li><li>sort type <code>text</code></li></ul><p>To sort all the cards currently in a stack based on the content of a background field (appears on every card), open the Message Box and enter a command like <code>sort by field dogName</code>. This changes the number of each card in the stack, but not their IDs.</p><p>Newly added cards are not automatically placed in the last sort order because the contents of their fields is not known when the card is created.</p><p>To automatically resort the stack each time it is opened, select Objects ... Stack Info..., click the Script button, and add a handler like the following:</p><pre class="language-text"><code class="language-text">on openStack<br>  sort by field dogName<br>end openStack</code></pre><p>The expression after the <code>by</code> keyword can be a field reference, property reference, chunk expression, or expression that combines multiple of those.</p><p>Suppose we have a stack with a background button that has an ID of 19 and a style of &quot;Check Box&quot;. The property &quot;hilite&quot; is used to indicate whether a checkbox is checked. To sort all the cards where that checkbox is checked before all the cards where it is unchecked, use the command <code>sort by hilite of background button id 19 is false</code> or <code>sort by descending hilite of background button id 19</code>. If <code>is false</code> is omitted, it is treated as though <code>is true</code> where present which sorts unchecked before checked.</p><p>Suppose we have a stack with two backgrounds named &quot;rectangle&quot; and &quot;circle&quot;. Cards with the &quot;rectangle&quot; background have the fields &quot;width&quot; and &quot;height&quot;. Cards with the &quot;circle&quot; background have the field &quot;radius&quot;.</p><p>To sort all the rectangle cards in descending order based on their area, use the command <code>sort cards of background &quot;rectangle&quot; descending numeric by field width &amp; field height</code>.</p><p>To sort all the circle cards in ascending order based on their area, use the command <code>sort cards of background &quot;circle&quot; numeric by pi * field radius * field radius</code>.</p><p>When sorting in ascending order based on numeric values, if <code>numeric</code> is not specified then the number <code>2</code> is sorted after the number <code>10</code> because &quot;2&quot; comes after &quot;1&quot;.</p><p>When sorting in ascending order based on date/time values, if <code>datetime</code> is not specified then the date <code>January 1, 2025</code> is sorted after the date <code>February 1, 2025</code> because &quot;J&quot; comes after &quot;F&quot;. When <code>datetime</code> is specified, if the date and time values entered in each card use different formats, they will still be sorted correctly.</p><p>After these commands are run, the card displayed is the first one with the given background.</p><p>Suppose we have a stack with multiple backgrounds and the cards with each background ARE NOT all grouped together. To remedy this, use the command <code>sort by number of background</code>.</p><p>If the expression after the <code>by</code> keyword is invalid, perhaps referencing a field that is not present in the cards, an error dialog will appear with a message like &quot;The sort key was not a valid expression for any card.&quot;</p><h3 id="card-issues" tabindex="-1">Card Issues</h3><p>Sadly there is no easy way to:</p><ul><li>reorder the cards in a stack</li><li>change the background used by an existing card</li></ul><p>These seem like large oversights!</p><h2 id="tools" tabindex="-1">Tools</h2><p>The tools menu contains a grid of buttons that can be clicked to select one of the 18 tools. These are arranged in six rows and three columns.</p><p>Drag the Tools menu off the menu bar to create a floating palette of tool buttons. Alternatively, press option-tab to toggle display of the Tools palette.</p><p><img alt="HyperCard Tools" style="width: 15%" src="/blog/assets/hypercard-tools.png?v=1.1.1"></p><p>Painting can be performed in both the background and card domains.</p><p>Painting tool operations can be undone by selecting Edit ... Undo, pressing cmd-z, or pressing the esc key. But this must be done BEFORE performing another operation.</p><h3 id="tools-palette" tabindex="-1">Tools Palette</h3><p>The first row of buttons select the current mode which is always one of Browse, Button, or Field. The remaining rows are painting tools that act on bitmap graphics. They select, draw, or erase square pixels that are either white or black.</p><p>The tools include:</p><ul><li><p>Row #1</p><ul><li><p><strong>Browse</strong> (1)</p><p>The Browse tool enters Browse mode which enables interacting with cards as a user rather than as an author.</p><p>In Mac OS 7, another way to enter Browse mode is to press cmd-tab. This doesn't work in Mac OS 8 and 9 because in those, cmd-tab switches to the next active application. Another approach for Mac OS 8 and 9 is described in &quot;HyperTalk - Function Keys&quot; below.</p></li><li><p><strong>Button</strong> (2)</p><p>The Button tool enters Button mode which enables editing existing buttons. When in this mode, a thin black border is drawn around all buttons so they can be located even when they are transparent with no text or icon.</p><p>In Mac OS 7, another way to enter Button mode is to press cmd-tab-tab.</p></li><li><p><strong>Field</strong> (3)</p><p>The Field tool enters Field mode which enables editing existing fields. When in this mode, a thin black border is drawn around all text fields so they can be located even when they are transparent with no text.</p><p>In Mac OS 7, another way to enter Field mode is to press cmd-tab-tab-tab.</p></li></ul></li><li><p>Row #2</p><ul><li><p><strong>Select</strong> (4)</p><p>The Select tool selects a rectangular area specified by dragging from any corner of the painted area to be selected to the opposite corner. The selected area is surrounded by a rectangle of marching ants. The selected area can then be copied, cut, deleted, dragged, or transformed (using the Options menu items Rotate, Slant, Distort, and Perspective).</p><p>If the cmd key is held down before releasing the mouse button, the selected area will collapse to be the smallest rectangle that contains all the black pixels.</p><p>To constrain dragging of the selected area to be only in the horizontal or vertical direction, hold down the shift key while dragging it.</p><p>To duplicate the selected area, hold down the option key while dragging it.</p><p>To copy or move the selected area to another card, possibly in another stack:</p><ol><li><p>Select Edit ... Copy (cmd-c) to copy or Edit ... Cut Button (cmd-x) to move.</p></li><li><p>Navigate to the destination card.</p></li><li><p>Select Edit ... Paste Button (cmd-v).</p><p>The pasted content is selected and can be dragged to a new location.</p></li></ol><p>To both constrain the movement AND duplicate the selected area, hold down both the shift and option keys while dragging it.</p><p>To select the entire picture layer of the current domain (background or card), double click the Selection tool in the Tools palette. This is useful for copying everything that was painted to another card and/or domain.</p><p>To paint a trail of the selected area repeated every 1 to 8 pixels:</p><ul><li>Specify the number of pixels between the copies by pressing option-{n} where n is a number from 1 to 8.</li><li>Hold down the cmd and option keys.</li><li>Optionally, also hold down the shift key to constrain the movement to be only horizontal or only vertical.</li><li>Drag the selected area.</li></ul><p>To stretch (or shrink) the selected area, hold down the cmd key and drag any corner or edge of the selection rectangle.</p><p>Select Options ... Grid to constrain dragging and stretching to be in increments of 8 pixels.</p></li><li><p><strong>Lasso</strong> (5)</p><p>The Lasso tool enables selecting non-rectangular portions of the painted layer. Drag around an arbitrary portion of the painted area. When the mouse button is released, the dragged path will automatically be closed, as if with a straight line to the starting point. Each contiguous set of black pixels inside the selected area is surrounded by a path of marching ants. The selection is the combined contents of those paths, not the entire contents of the lassoed area. The selection can then be copied, cut, deleted, or dragged.</p><p>The modifier keys that affect the Selection tool affect the Lasso tool in mostly the same way.</p><p>To select all the items in the picture layer of the current domain (background or card), double click this tool.</p></li><li><p><strong>Pencil</strong> (6)</p><p>The Pencil tool is used for freehand drawing which is accomplished by dragging. The pencil width is a single pixel is not affected by selecting a different size from Options ... Line Size...</p><p>If the current pixel color at the start of the drag is black then the drawing color is white. Otherwise it is black. It makes no difference whether the start pixel color comes from the card or background domain. The drawing color remains the same throughout the drag.</p><p>Hold the shift key down while dragging to constrain the line to be horizontal or vertical, depending on the initial drag direction.</p><p>To toggle FatBits mode, double click this tool as an alternative to selecting Options ... FatBits. Another way to enter FatBits mode when the Pencil tool is selected is to cmd-click on the pixel to be in the center of the FatBits display.</p></li></ul></li><li><p>Row #3</p><ul><li><p><strong>Brush</strong> (7)</p><p>The Brush tool is used for freehand painting using the selected brush shape and pattern. To change the shape and size of the brush, Select Options ... Brush Shape... before painting.</p><p><img alt="HyperCard Brush dialog" style="width: 50%" src="/blog/assets/hypercard-brush-dialog.png?v=1.1.1"></p><p>For example, select the diagonal line brush shape to draw calligraphy.</p><p>Hold the shift key down while dragging to constrain the painted stroke to be horizontal or vertical, depending on the initial drag direction.</p><p>To use the Brush tool as an eraser, hold down the cmd key while dragging. When used in the background domain, this turns all pixels to white. When used in the card domain, this turns all pixels to transparent.</p><p>To turn all erased pixels to white instead of transparent, hold down the cmd key while dragging. When used in a card domain, this provides an easy way to add white pixels that hide part of the background domain for that card. It is an alternative to using the Brush tool when the all white pattern or the Rectangle tool filled with the all white pattern.</p><p>The default brush shape is a small circle. To open the &quot;Brush&quot; dialog so the brush shape can be changed to one of the 32 options, double click this tool as an alternative to selecting Options ... Brush Shape...</p></li><li><p><strong>Eraser</strong> (8)</p><p>The Eraser tool is a white square whose shape and size cannot be changed. Drag over pixels to erase them. In a background domain this changes black pixels to white. In a card domain this changes black and white pixels to transparent, revealing black pixels in the background.</p><p>To erase large areas, it is more efficient to select an area using the Selection or Lasso tool and then press the delete key.</p><p>For fine grained erasing, use &quot;Fat Bits&quot; mode.</p><p>Hold the shift key down while dragging to constrain the eraser movement to be horizontal or vertical, depending on the initial drag direction.</p><p>To erase all painting the current domain (background or card), double click this tool. Undo to restore everything that was erased. To keep a selected area and erase all the rest, select the area to keep, copy it to the clipboard, double click this tool, and paste the copied area.</p><p>It's too bad that the Erase shape and size is not determined by the selected brush shape.</p></li><li><p><strong>Line</strong> (9)</p><p>The Line tool draws a straight line. Click the start pixel and drag to end pixel.</p><p>To change the line width from the default of 1 pixel, Select Options ... Line Size... or double click this tool before drawing. This opens the &quot;Line Size&quot; palette where a width of 1, 2, 3, 4, 6, or 8 pixels can be selected.</p><p><img alt="HyperCard Line Size palette" style="width: 30%" src="/blog/assets/hypercard-line-size-dialog.png?v=1.1.1"></p><p>To constrain the angle of the line to multiples of 15 degrees, hold down the shift key before ending the drag by releasing the mouse button. This is most often used to create horizontal (0 or 180 degrees) or vertical (90 or 270 degrees) lines.</p><p>To draw the line using the selected pattern, hold down the option key before dragging. The painted pattern is not affected by the angle of the line.</p><p>To draw a dotted line:</p><ol><li>Double click the Line tool.</li><li>Select a line width of 1 pixel.</li><li>Select one of the provided patterns such as 3, 4, 5, 11, 13, 14, 17, or 19.</li><li>Hold down the shift and option keys.</li><li>Drag to create a dotted line that is horizontal or vertical.</li></ol><p>To draw a dashed line:</p><ol><li>Double click the Line tool.</li><li>Select a line width of 1 pixel.</li><li>Edit one of the patterns to match the screenshot below.</li><li>Select that pattern.</li><li>Hold down the shift and option keys.</li><li>Drag to create a dashed line that is horizontal or vertical.</li></ol><p><img alt="HyperCard dashed line pattern" style="width: 30%" src="/blog/assets/hypercard-dashed-line-pattern.png?v=1.1.1"></p></li></ul></li><li><p>Row #4</p><ul><li><p><strong>Spray</strong> (10)</p><p>The Spray tool sprays paint (black pixels) using randomly chosen pixels from the selected pattern. The more this is applied to a specific area, the more it will resemble the selected pattern.</p><p>The speed of the drag affects the number of pixels that are painted, with slow drags painting more pixels.</p><p>Hold the shift key down while dragging to constrain the spray movement to be horizontal or vertical, depending on the initial drag direction.</p><p>To spray white pixels instead of black, hold down the cmd key while dragging.</p></li><li><p><strong>Rectangle</strong> (11)</p><p>The Rectangle tool draws a rectangle. Click the location of any corner and drag to the opposite corner.</p><p>To draw a square, hold down the shift key while dragging.</p><p>To specify the center point of the rectangle and drag out its size from there, select Options ... Draw Centered before dragging out the rectangle. The center of the cross cursor will turn white to indicate being in this mode and aid it locating the desired center pixel.</p><p>The &quot;Draw Centered&quot; mode can be used to draw concentric shapes of all types. Begin by drawing a dot at the target center. Draw each shape by starting at this center location and dragging outward. Finally, erase the dot at the center.</p><p>To move the rectangle as it is being drawn, keep the mouse button down, hold the cmd key down, and drag to a new location. To continue drawing the rectangle, release the cmd key, but keep the mouse button down and continue dragging.</p><p>To toggle the &quot;Draw Filled&quot; option, double click this tool as an alternative to selecting Options ... Draw Filled.</p><p>To draw the border using the selected line thickness and pattern, hold down the option key before the initial corner click. Combine this with the &quot;Draw Filled&quot; option to use the same pattern for both the border and the fill, resulting in a rectangle that appears to have no border.</p><p>To draw a dashed line border, select a line width of 1 pixel, edit one of the patterns to match the screenshot below, select that pattern, and draw the rectangle with the option key held down.</p><p><img alt="HyperCard dashed line pattern" style="width: 30%" src="/blog/assets/hypercard-dashed-line-pattern.png?v=1.1.1"></p></li><li><p><strong>Round Rectangle</strong> (12)</p><p>The Round Rectangle tool draws a rectangle with rounded corners. It is used in the same way as the Rectangle tool, with all the same keyboard shortcuts.</p><p>The size of the rounded corners cannot be adjusted. The only option to obtain a different rounded corner size is to draw a normal rectangle and use &quot;Fat Bits&quot; mode to manually edit the corners. This is quite tedious.</p></li></ul></li><li><p>Row #5</p><ul><li><p><strong>Bucket</strong> (13)</p><p>The Bucket tool fills an area encompassed by black pixels with the selected pattern from the Patterns menu or palette. The cursor changes to match the Bucket tool icon. Position the bottom top of the dripping paint in the cursor icon over a pixel inside the area to be filled and click.</p><p>When a solid black area is filled with the Bucket tool, all the black pixels, including the border, are replaced by the selected pattern.</p><p>To toggle display of the Patterns palette, double click this tool.</p></li><li><p><strong>Oval</strong> (14)</p><p>The Oval tool draws an oval which is any closed curve that resembles the outline of an egg or an ellipse. It doesn't have a strict mathematical definition.</p><p>This tool is used in the same way as the Rectangle tool.</p><p>To draw a circle, hold down the shift key while dragging.</p><p>To draw a portion of an oval, draw a complete oval and erase the undesired part.</p></li><li><p><strong>Curve</strong> (15)</p><p>The Curve tool is similar to the Pencil tool, but it:</p><ul><li>uses the selected line width</li><li>automatically closes the shape and fills it if Options ... Draw Filled is selected</li><li>draws with the selected pattern if the option key is held down</li></ul><p>To toggle the &quot;Draw Filled&quot; option, double click this tool as an alternative to selecting Options ... Draw Filled.</p></li></ul></li><li><p>Row #6</p><ul><li><p><strong>Text</strong> (16)</p><p>The Text tool paints text that cannot be edited. It is often used for card titles or for labels that appear above or to the left of fields.</p><p>While entering text, press the return key to create multi-line text.</p><p>The text style must be specified before typing the text. To open the &quot;Text Properties&quot; dialog, select Edit ... Text Style..., press cmd-t, or double click this tool in the Tools palette. Select the font styles, alignment, font name, font size, and line height to be used. A sample of using the selected text properties is displayed in the lower right of the dialog. Click the &quot;OK&quot; button when satisfied.</p><p>To paint text, click the Text tool, click on the card or background where the text should go, and begin typing.</p><p>To paint multiline text, press the return key at the end of a line.</p><p>To select the text after it has been typed, but before clicking away, press cmd-s. The text can then be dragged to a new location.</p><p>As long as you have not clicked away from the text being typed, its text properties can be changed. Opening the &quot;Text Properties&quot; dialog again and changing them affects the text already typed and the text that is typed after the dialog is closed.</p><p>To apply a pattern to painted text, see the &quot;Patterns&quot; section below.</p><p>Pros of painted text:</p><ul><li>Users do not need to have the selected font installed because the text is stored in bitmap form.</li><li>The text is automatically read-only. Using a field instead requires opening its &quot;Field Info&quot; dialog and checking the &quot;Lock Text&quot; checkbox.</li></ul><p>Cons of painted text:</p><ul><li>The bitmap representation requires more disk space than would be used by the same text in a locked field.</li><li>The text cannot be modified later. Changes require erasing the text and recreating it. For text that may need to be edited later, use a locked field instead.</li><li>All the characters in one set of painted text must use the same text properties. To use multiple text properties settings, create multiple sets of painted text and position them next to each other. The text in a field can used multiple text properties settings.</li></ul></li><li><p><strong>Regular Polygon</strong> (17)</p><p>The Regular Polygon tool draws a convex polygon whose sides all have the same length. It is used in the same way as the Rectangle tool, with many of the same keyboard shortcuts.</p><p>Select Options ... Polygon Sides... or double-click this tool to opens a dialog with the options triangle (3), square (4), pentagon (5), hexagon (6), octagon (8), and circle (infinite).</p><p><img alt="HyperCard Polygon Sides dialog" style="width: 40%" src="/blog/assets/hypercard-polygon-sides-dialog.png?v=1.1.1"></p><p>Click the center location and draw outward to specify the size and rotation of the shape.</p><p>To constrain the angle of the shape to multiples of 15 degrees, hold down the shift key before ending the drag by releasing the mouse button.</p><p>To change the border width from the default of 1 pixel, Select Options ... Line Size... or double click the Line tool before using this tool.</p><p>To draw a filled polygon, select Options ... Draw Filled before using this tool.</p><p>To move the polygon as it is being drawn, keep the mouse button down, hold the cmd key down, and drag to a new location. To continue drawing the polygon, release the cmd key, but keep the mouse button down and continue dragging.</p><p>To draw the border using the selected line thickness and pattern, hold down the option key before the center click. Combine this with the &quot;Draw Filled&quot; option to use the same pattern for both the border and the fill, resulting in a polygon that appears to have no border.</p></li><li><p><strong>Polygon</strong> (18)</p><p>The Polygon tool draws an arbitrary polygon. Click at each point in the polygon. To close the polygon, click on the start point. If the &quot;Draw Filled&quot; option is on, the polygon can be closed by double-clicking the last point, even if the selected pattern is all white.</p><p>To toggle the &quot;Draw Filled&quot; option, double click this tool as an alternative to selecting Options ... Draw Filled.</p><p>The keyboard shortcuts described for the Regular Polygon tool are also used by this tool.</p><p>To constrain the angle of each edge to multiples of 15 degrees, hold down the shift key before clicking the first point.</p></li></ul></li></ul><p>Unlike in some applications, shapes cannot be selected by clicking them. To select all or part of a drawing, use the Rectangle or Lasso Selection Tools.</p><p>To erase part of a drawing, do one of the following:</p><ul><li>Select the Erase tool and drag over the drawing.</li><li>Select an area with the Rectangle or Lasso Selection Tools and press the delete key, or select Edit ... Cut Picture, or press cmd-x.</li></ul><h3 id="menu-changes" tabindex="-1">Menu Changes</h3><p>When a painting tool is selected, the Objects, Font, and Style menus disappear, and the Paint, Options, and Patterns menus appear. When the Browse, Button, or Field tools are selected, the opposite menu changes occur.</p><h3 id="paint-menu" tabindex="-1">Paint Menu</h3><p>The Paint menu is only present when one of the painting tools is selected in the Tools menu or the Tools palette. This menu contains the following menu items:</p><ul><li><p>Select (cmd-s)</p><p>This selects the last most recently painted item. To also exit background editing mode, hold down the shift key when clicking this.</p></li><li><p>Select All (cmd-a)</p><p>This selects the entire painting layer of the current domain (background or card).</p></li><li><p>Fill</p><p>This acts on the last item created. If the item is already filled, it changes the interior to be filled with the currently selected pattern. If the item is not filled, it changes its border to be painted with the currently selected pattern.</p></li><li><p>Invert</p><p>This inverts all pixels in the selected area, changing transparent and white pixels to black, and changing black pixels to transparent.</p></li><li><p>Pickup</p><p>This copies an area of the painting layer so it can be pasted elsewhere. To do this:</p><ol><li>Draw any filled shape on top of the area to be copied.</li><li>Select Paint ... Fill.</li><li>Drag the copy that is automatically selected to another location of the current card OR cut it, move to another card, and paste it.</li></ol></li><li><p>Darken</p><p>This can be applied repeatedly to gradually and randomly change pixels inside the most recently painted item or the selected area to black.</p></li><li><p>Lighten</p><p>This can be applied repeatedly to gradually and randomly change pixels inside the most recently painted item or the selected area to white.</p></li><li><p>Trace Edges</p><p>This highlights the edges of all the selected shapes by inverting their border color and tracing new shapes around them, both outside and inside the original shapes.</p><p>The Trace Edges menu item can be applied multiple times. The screenshot below shows the effect when it is applied to text four times.</p><p><img alt="HyperCard Trace Edges multiple times" style="width: 25%" src="/blog/assets/hypercard-trace-edges-multiple.png?v=1.1.1"></p></li><li><p>Rotate Left</p><p>This rotates the most recently painted item or the selected area 90 degrees to the left.</p><p>In can introduce gaps in the border of some shapes that prevent filling with the Bucket tool. The gaps can be repaired in FatBits mode.</p></li><li><p>Rotate Right:</p><p>This rotates the most recently painted item or the selected area 90 degrees to the right.</p><p>In can introduce gaps in the border of some shapes that prevent filling with the Bucket tool. The gaps can be repaired in FatBits mode.</p></li><li><p>Flip Vertical</p><p>This flips the selected pixels over a horizontal line through the center of the selected area.</p></li><li><p>Flip Horizontal</p><p>This flips the selected pixels over a vertical line through the center of the selected area.</p></li><li><p>Opaque</p><p>This changes all transparent pixels in the selected area to be white. It is useful to hide background elements.</p></li><li><p>Transparent:</p><p>This changes all white pixels in the selected area to be transparent which allows background elements to show through. It is useful when copying a selected area of a painting layer because it defaults to having an opaque background.</p></li><li><p>Keep</p><p>Multiple changes made to a painting layer (background or card) are not save until one the following occurs:</p><ul><li>select a non-painting tool</li><li>switch to the opposite domain (background or card)</li><li>navigate to another card</li><li>select Paint ... Keep</li></ul><p>The Keep menu item provides a way to explicitly save painting layer changes. The next menu item, Revert, only reverts unsaved painting layer changes.</p></li><li><p>Revert</p><p>This reverts (undoes) all painting layer changes since they were last saved. The description of the Keep menu item above lists the actions that cause those changes to be saved.</p></li></ul><h3 id="options-menu" tabindex="-1">Options Menu</h3><p>The Options menu contains the following menu items:</p><ul><li><p>Grid</p><p>This toggles grid mode where invisible grid lines are spaced every 8 pixels. When turned on, all points selected when painting using the following tools are snapped to a grid point: Line, Rectangle, Rounded Rectangle, Oval, Regular Polygon, and Polygon. This makes it easier to create items that are a specific size and line up multiple painted items horizontally or vertically.</p></li><li><p>FatBits</p><p>This toggles FatBits mode. When turned it, the window zooms in on the selected pixels or the most recently painted item. This makes detailed painting easier. The pixels can be modified using all the painting tools in the Tools menu and palette. To toggle individual pixels, select the Pencil tool and click the pixels.</p><p>A small window that initially appears in the lower left shows how the area visible in the large window will appear at the normal scale. This window can be dragged to a different location or closed if not needed.</p><p>To scroll around in the large window where editing takes place, hold down the option key (which turns the cursor into a hand) and drag.</p><p>To enter FatBits mode, perform any of the following actions:</p><ul><li>select Options ... FatBits</li><li>double click the Pencil tool</li><li>with the Pencil tool selected, cmd-click anywhere in the card window</li></ul><p>The last option is preferred because it is the only option that specifies exactly where the zoom should be centered.</p><p>To exit FatBits mode, perform any of the actions above for entering FatBits mode OR select the Browse, Button, or Field tool.</p></li><li><p>Power Keys</p><p>This enables the use of single-character key shortcuts to activate a specific menu item or perform a common action. Many of the keys require an area of the painting layer to be selected which is what they will act upon.</p><ul><li>A - Paint ... Select All</li><li>B - Select the all black pattern. (TODO: This selects a different pattern for me.)</li><li>C - Options ... Draw Centered (toggles)</li><li>D - Paint ... Darken</li><li>E - Paint ... Trace Edges</li><li>F - Paint ... Fill</li><li>G - Options ... Grid (toggles)</li><li>H - Paint ... Flip Horizontal</li><li>I - Paint ... Invert</li><li>L - Paint ... Lighten</li><li>M - Options ... Draw Multiple (toggles)</li><li>O - Paint ... Opaque</li><li>P - Paint ... Pickup</li><li>R - Paint ... Revert</li><li>S - Paint ... Select</li><li>T - Paint ... Transparent</li><li>V - Paint .. Flip Vertical</li><li>W - Select the all white pattern.</li><li>1, 2, 3, 4, 6, and 8 - Set the line thickness to that number of pixels.</li><li>[ - Paint ... Rotate Left</li><li>] - Paint ... Rotate Right</li></ul><p>The D and L keys are handy for repeatedly applying Darken and Lighten more easily than repeatedly selecting the corresponding menu items.</p><p>Additional keyboard shortcuts enabled by the &quot;Power Keys&quot; mode that begin with cmd-shift include:</p><ul><li>[ - previous font</li><li>] or F - next font</li><li>&lt; - next smaller font size</li><li>&gt; - next larger font size</li><li>minus - decrease line height</li><li>plus - increase line height</li></ul></li><li><p>Line Size...</p><p>This opens a dialog that allows one of six line widths to be selected. The default is a small, round brush. The choice affects all subsequent painting operations and remains in effect until changed.</p><p><img alt="HyperCard Line Size dialog" style="width: 30%" src="/blog/assets/hypercard-line-size-dialog.png?v=1.1.1"></p></li><li><p>Brush Shape...</p><p>This opens a dialog that allows one of 32 brush shapes to be selected. The default is a single pixel. The choice only affects use of the brush tool and remains in effect until it is changed.</p><p><img alt="HyperCard Brush Shape dialog" style="width: 50%" src="/blog/assets/hypercard-brush-shape-dialog.png?v=1.1.1"></p></li><li><p>Edit Pattern...</p><p>This opens a dialog that allows the pixel colors (white or black) of the currently selected 8x8 pixel pattern to be modified. Click or drag across pixels in the dialog to toggle them between black and white in the same way as using the Pencil tool. Other painting tools such as Line and Rectangle cannot be used here.</p><p><img alt="HyperCard Edit Pattern dialog" style="width: 30%" src="/blog/assets/hypercard-dashed-line-pattern.png?v=1.1.1"></p><p>The supplied patterns are designed for placing copies in columns and rows. This means that their right edges flow nicely into their left edges and their bottom edges flow nicely into their top edges. Any edits you make should do this as well.</p><p>I couldn't find a way to reset a pattern to its default state, so be careful with these changes!</p></li><li><p>Polygon Sides...</p><p>This opens a dialog that allows selection of the number of sides drawn by the &quot;Regular Polygon&quot; tool. The choices are triangle (3), square (4), pentagon (5), hexagon (6), octagon (8), and circle (infinite).</p><p><img alt="HyperCard Polygon Sides dialog" style="width: 40%" src="/blog/assets/hypercard-polygon-sides-dialog.png?v=1.1.1"></p></li><li><p>Draw Filled:</p><p>If this option is selected, the following tools will fill their shape with the selected pattern: Rectangle, Rounded Rectangle, Oval, Regular Polygon, and Polygon.</p><p>If this option is selected, the following tools will draw their lines with the selected pattern: Line, Rectangle, Rounded Rectangle, Oval, Regular Polygon, and Polygon.</p><p>A shortcut for toggling the &quot;Draw Filled&quot; option is to double click any of the shape buttons in the Tools palette that draw a closed shape.</p></li><li><p>Draw Centered:</p><p>This option causes a drawn shape to be centered at the location of the initial click. It stays in effect until toggled off.</p></li><li><p>Draw Multiple</p><p>This option causes the following painting tools to draw multiple times as the mouse is dragged: Rectangle, Rounded Rectangle, Oval, Curve, and Regular Polygon. Before drawing a shape with this option turned on, specify the number of pixels between the copies by pressing option-{n} where n is a number from 1 to 8.</p><p>Interesting designs can be created by using this with the Regular Polygon tool. For example, double click that tool and select the triangle shape. Then click the intended center and drag away in a curved path to create something like the screenshot below.</p><p><img alt="HyperCard Regular Polygon Draw Multiple" style="width: 40%" src="/blog/assets/hypercard-regular-polygon-draw-multiple.png?v=1.1.1"></p></li><li><p>Rotate</p><p>This menu item is only enabled when the Selection tool (not the Lasso tool) has been used to select a rectangular area. It temporarily changes the selection rectangle lines to solid lines and adds square handles to the four corners. The handles can be dragged to rotate all the selected pixels around the center point of the selection rectangle. To restrict the rotation angle to increments of 15 degrees, hold down the shift key during dragging. During dragging, only the solid lines and handles move. When the mouse button is released, the selected pixels are modified.</p></li><li><p>Slant</p><p>This menu item works similarly to Rotate, but dragging a handle turns the selected rectangle into a parallelogram. The result is to &quot;slant&quot; all the selected pixels.</p></li><li><p>Distort</p><p>This menu item works similarly to Rotate, but dragging a handle moves only that handle in any direction. The result is to &quot;distort&quot; all the selected pixels. This can be thought of as a combination of Slant and Perspective.</p></li><li><p>Perspective:</p><p>This menu item works similarly to Rotate, but dragging a handle moves only that handle horizontally or vertically. The result is to change the selected pixels in a way that creates an illusion of depth.</p></li></ul><h3 id="patterns-menu" tabindex="-1">Patterns Menu</h3><p>The Patterns menu contains the Patterns palette which contains a grid of 40 buttons that can clicked to select the pattern that is used by the Bucket and Spray Can tools.</p><p><img alt="HyperCard Patterns" style="width: 15%" src="/blog/assets/hypercard-patterns.png?v=1.1.1"></p><p>Like the Tools menu, the Patterns menu can be dragged off of the menu bar to create a floating palette.</p><p>When a painting tool is selected, press the tab key to toggle display of the Patterns palette. This works even if it was not previously dragged off of the menu bar.</p><p>To fill an existing, closed shape with the selected pattern, select the Bucket tool and click the dripping tip of the bucket icon (lower-right) inside the shape.</p><p>To cause drawn shapes to be filled with the selected pattern, select Options ... Draw Filled before drawing the shape.</p><p>To edit the pixels in a pattern:</p><ol><li>Double click the pattern to open the &quot;Edit Pattern&quot; dialog.</li><li>Click pixel in the left square to toggle them between white and black.</li><li>Verify that the intended, actual size pattern is visible in the right square.</li><li>Click the &quot;OK&quot; button.</li></ol><p>TODO: How can an edited pattern be reset to its default?</p><p>The patterns are numbered from 1 to 40 starting in the upper-left and progressing down each column. For example, the first pattern in the second column is number 11. To copy a pattern from one stack to another, TODO: HOW?</p><p>To apply a pattern to the lines in characters drawn with the Text tool, select a pattern, select the Bucket tool, and click inside each character. To include a black outline around each character, select all the text, select Paint ... Trace Edges, and use the Bucket tool to fill the resulting character outlines with a pattern.</p><p><img alt="HyperCard Text Patterns" style="width: 30%" src="/blog/assets/hypercard-text-patterns.png?v=1.1.1"></p><h2 id="buttons" tabindex="-1">Buttons</h2><p>Buttons perform some action defined by the stack author when they are clicked.</p><p>In HyperCard, only fields received focus, not buttons like in HTML. So the part numbers of buttons only affect stacking order, not tab navigation.</p><p>For inspiration on buttons that can be created, open the &quot;Home&quot; stack, click &quot;Stack Kit&quot;, click &quot;Readymade Buttons&quot;, and visit each of the topics. The buttons defined here can be copied into your stacks.</p><h3 id="button-types" tabindex="-1">Button Types</h3><p>There are four basic kinds of buttons:</p><ol><li>Buttons that perform an action when clicked. The style for these can be &quot;Transparent&quot;, &quot;Opaque&quot;, &quot;Rectangle&quot;, &quot;Rounded Rect&quot;, &quot;Shadow&quot;, &quot;Oval&quot;, &quot;Standard&quot;, or &quot;Default&quot;. Any of these button styles can contain text, an icon, both, or neither.</li><li>&quot;Check Box&quot; for specifying a Boolean value.</li><li>&quot;Radio Button&quot; for selecting from a small set of options.</li><li>&quot;Popup&quot; that displays a dropdown menu of options when clicked for selecting from a possibly large set options.</li></ol><p>To implement selection from a scrolling list options, use a field that displays a scrolling list of options. See the demo &quot;List Selection&quot; below.</p><p>Each of the supported button styles are shown below.</p><p><img alt="HyperCard button types" style="width: 50%" src="/blog/assets/hypercard-button-types.png?v=1.1.1"></p><h3 id="creating-buttons" tabindex="-1">Creating Buttons</h3><p>To add a button to the current card.</p><ol><li><p>Verify that the correct domain, card or background, is selected.</p></li><li><p>Select Objects ... New Button. Alternatively, select the Button tool and cmd-drag to indicate the location and size of a new button. This adds a new button to the center of the current card.</p></li><li><p>Double-click the button to open its &quot;Button Info&quot; dialog.</p><p><img alt="HyperCard Button Info" style="width: 50%" src="/blog/assets/hypercard-button-info.png?v=1.1.1"></p></li><li><p>Change &quot;Button Name&quot; to be a name used to refer to the button and the text that will appear on it. This can be up to 30 characters and can include spaces, numbers, and punctuation, but cannot be all numbers. It's too bad buttons can't have separate values for the name used to refer to them and the label displayed in them.</p></li><li><p>Select a button style from the following options:</p><ul><li><p>Transparent: no border and can see through</p><p>This style is used for buttons that:</p><ul><li>have an icon, but &quot;Show Name&quot; is unchecked</li><li>are positioned over a specific part of a graphic (e.g. city on a map)</li><li>are positioned over a specific text to act as a hyperlink</li></ul><p>This is the default style when a button is created with cmd-drag.</p></li><li><p>Opaque: no border and cannot see through</p></li><li><p>Rectangle: opaque with rectangle border</p></li><li><p>Round Rectangle: opaque with rectangle border, rounded corners, and shadows on right and bottom sides;</p><p>This is the default when created with the &quot;New Button&quot; menu item.</p></li><li><p>Shadow: like Rectangle, but adds shadows on the right and bottom sides</p></li><li><p>Check Box: for a Boolean selection</p><p>Check &quot;Show Name&quot; to display a label for the checkbox to its right.</p><p>It doesn't make sense to uncheck the &quot;Auto Hilite&quot; checkbox. When it is checked, the state is toggled by clicking either the checkbox or the label. Doing so toggles the value of its <code>hilite</code> property.</p><p>For more detail, see the &quot;Check Boxes&quot; section below.</p></li><li><p>Radio Button: for a set of mutually exclusive choices</p><p>Check &quot;Show Name&quot; to display a label for the radio button to its right. The &quot;Auto Hilite&quot; checkbox cannot be unchecked for radio buttons.</p><p>Select the same &quot;Family&quot; number (1-15) to each radio button on the card that is a member of the same group.</p><p>For more detail, see the &quot;Radio Buttons&quot; section below.</p></li><li><p>Standard: conforms to Macintosh interface guidelines for non-default buttons</p></li><li><p>Default: conforms to Macintosh interface guidelines for default buttons</p><p>There should be at most one Default button per card and a card script must be added to trigger the button when the return key is pressed. For example:</p><pre class="language-text"><code class="language-text">on returnKey<br>  send "mouseUp" to card button "My Default Button"<br>end returnKey</code></pre></li><li><p>Oval: like Transparent, but the target (clickable) area is an oval instead of a rectangle</p></li><li><p>Popup: a dropdown containing options</p><p>For more detail, see the &quot;Popups&quot; section below.</p></li></ul></li><li><p>If the selected style is &quot;Radio Button&quot;, select a Family number from 1 to 15 that is the same for all radio buttons in the group.</p></li><li><p>Decide whether the button name should be displayed by checking or unchecking the &quot;Show Name&quot; checkbox.</p><ul><li>It is checked if the button was created with &quot;New Button&quot;.</li><li>It is unchecked if the button was created with cmd-drag.</li></ul></li><li><p>Optionally check the &quot;Auto Hilite&quot; checkbox to cause the button to highlight when it is clicked.</p><p>Highlighting toggles the colors of the pixels for the button when the mouse button is down and restores the colors when the mouse button is released.</p></li><li><p>Optionally uncheck the &quot;Enabled&quot; checkbox to cause the button to be disabled by default.</p><p>When a button is disabled, it is grayed out and clicking it will not run its script.</p><p>To enable/disable a button from a script, use the following command:</p><pre class="language-text"><code class="language-text">set the enabled of {button-ref} to {true|false}</code></pre></li><li><p>Click the &quot;Text Style...&quot; button to open the &quot;Text Properties&quot; dialog. This allows specifying the text style, alignment, font, and size. Alternatively, specify each of these except alignment using the Font and Style menus.</p></li><li><p>Click the &quot;Icon...&quot; button to add an icon to the button or remove its icon.</p><p>This opens a &quot;Choose Icon&quot; dialog.</p><p>To add an icon:</p><ul><li><p>Select an icon.</p><p>Its ID, name and source file are displayed at the top of the dialog. For example, most of the icons come from ICON resources defined in the &quot;HyperCard&quot; app itself. Some icons come from ICON resources in the &quot;Home&quot; stack. Optionally click the Edit button to edit the pixels in the icon.</p></li><li><p>Click the OK button to use the selected icon.</p></li></ul><p>To remove the current icon, click the &quot;None&quot; button.</p><p>Icons are all 32x32 pixels. Their sizes cannot be modified.</p><p>The active area of all buttons that receives mouse clicks is always a rectangle. This is the case even if the button has the &quot;Transparent&quot; style and has a non-rectangular icon.</p></li><li><p>Click the &quot;LinkTo...&quot; button to modify the <code>mouseUp</code> handler so clicking the button navigates to another card or stack.</p><p>This opens a dialog with the buttons &quot;This Card&quot;, &quot;This Stack&quot;, and &quot;Cancel&quot;.</p><ul><li>To cause a click on the button to navigate to another card in the same stack, navigate to that card and then click the &quot;This Card&quot; button. This adds the command <code>go to card id &quot;{card-id}&quot;</code> and returns to the card containing the button.</li><li>To cause a click on the button to navigate to the first card in another stack, navigate to that stack (any of its cards) and then click the &quot;This Stack&quot; button. This adds the command <code>go to stack &quot;{stack-name}&quot;</code> and returns to the card containing the button.</li><li>To close the dialog without making a change, click the &quot;Cancel&quot; button.</li></ul><p>The change affects the script handler for the &quot;mouseUp&quot; action. The handler is added if it doesn't exist and is modified if it already exists. Open the script for the button to see the change that is made.</p></li><li><p>Click the &quot;Tasks...&quot; button to modify the <code>mouseUp</code> handler to execute a command for one of the following seven actions:</p><ol><li>Go to Destination: Choose from 10 radio buttons.</li><li>Visual Effect: Choose an effect and a speed. For more detail, see the &quot;Card Transitions&quot; section below.</li><li>Launch Application: Choose an application and optionally a specific document to open.</li><li>Link to URL: Enter a URL to be opened in the default web browser.</li><li>Movie: Choose a movie file and specify details on how and where it should be played.</li><li>Sound: Choose a sound resource already available to the stack, record a sound to create a new sound resource (doesn't work), or import a sound resource (&quot;snd&quot;) from another file. Select playback quality (Good, Better, or Best).</li><li>Speak Text: Enter text or use selected text. Select a voice.</li></ol></li><li><p>Optionally click the &quot;Script...&quot; button to open a dialog where a script can be added or modified.</p><p>Enter code that defines action handlers and functions. Actions related to buttons include <code>mouseDown</code>, <code>mouseEnter</code>, <code>mouseLeave</code>, <code>mouseUp</code>, <code>mouseWithin</code>. The most commonly implemented handler is for the <code>mouseUp</code> action.</p><p>Buttons with the style &quot;Check Box&quot; and &quot;Radio Button&quot; do not typically have an associated script. Their state is usually queried by the script of another button.</p></li></ol><h3 id="icons" tabindex="-1">Icons</h3><p>Icons are 32x32 arrangements of black and white pixels that have a unique ID and an optional name.</p><p>Here's an icon of the creator of HyperCard, Bill Atkinson. It is an ICON resource in the HyperCard app with the ID 2002 and name &quot;Bill&quot;.</p><p><img alt="HyperCard Atkinson icon" style="width: 60%" src="/blog/assets/hypercard-atkinson-icon.png?v=1.1.1"></p><p>To add an icon to a button:</p><ol><li><p>Select the Button tool.</p></li><li><p>Double click a button to open its &quot;Button Info&quot; dialog.</p></li><li><p>Click the &quot;Icon...&quot; button.</p></li><li><p>Select an icon from the scrolling list.</p><p>The icons that appear in this list come from &quot;ICON&quot; resources in the following files, searched in this order:</p><ul><li>current stack</li><li>&quot;Audio Help&quot; stack</li><li>Home stack</li><li>HyperCard app</li><li>System (in &quot;System Folder&quot;)</li></ul><p>When an icon is selected, its ID, name, and source are displayed at the top of this dialog.</p></li><li><p>Click the &quot;OK&quot; button.</p></li></ol><p>To remove the icon from a button:</p><ol><li>Select the Button tool.</li><li>Double click a button to open its &quot;Button Info&quot; dialog.</li><li>Click the &quot;Icon...&quot; button.</li><li>Click the &quot;None&quot; button.</li></ol><p>To create or modify an icon in the current stack:</p><ol><li><p>Open an &quot;Icon Editor&quot; dialog in one of these ways:</p><ol><li><p>Select Edit ... Icon... and select the icon to be edited.</p><p>If the stack does not already contain any custom icons, an ID is automatically assigned and no initial pixels will be black. If the stack does contain custom icons, select one as the starting point. Scroll through them using the scrollbar at the bottom, or use the keyboard shortcuts cmd-1 (first), cmd-2 (previous), cmd-3 (next), and cmd-4 (last).</p></li><li><p>Select the Button tool, select a button that uses the icon, and select Edit ... Icon...</p></li><li><p>Select the Button tool, double click a button that uses the icon to open its &quot;Button Info&quot; dialog, click the &quot;Icon...&quot; button, and click the &quot;Edit...&quot; button.</p></li></ol></li><li><p>If the icon is not defined in the current, a dialog will appear asking if you want to make a copy. Click the &quot;OK&quot; button.</p></li><li><p>Optionally modify the name.</p></li><li><p>To create a new icon, change the ID to a unique value.</p></li><li><p>Modify the pixels as desired.</p><ul><li><p>To clear all the pixels, select Icon ... Erase.</p></li><li><p>To modify individual pixels, toggling between white and black, click them or drag over them. Hold down the shift key while dragging to constrain movement to be only horizontal or vertical.</p></li><li><p>To drag all the pixels as a group, hold down the option key and drag in any direction. Also hold down the shift key to constrain dragging to horizontal or vertical. When the mouse is released, any pixels that are dragged out of view are lost.</p></li><li><p>To select a rectangle of pixels, hold down the cmd key and drag out a rectangle. The selection can be copied (cmd-c), cut (cmd-x), or cloned (option-drag).</p></li><li><p>To copy a 32x32 black and white swatch from anywhere on the screen:</p><ol><li>Select Icon ... Pickup.</li><li>Drag over the area to copy, noting the updated icon pixels.</li><li>Release the mouse button when satisfied.</li></ol></li><li><p>To commit the current state so it cannot be undone by selecting Icon ... Revert, select Icon ... Keep.</p></li><li><p>To revert all changes made since the beginning of editing or since Icon ... Keep was selected, select Icon ... Revert.</p></li></ul></li><li><p>Click the &quot;OK&quot; or &quot;Cancel&quot; button.</p><p>If the ID matches that of an existing icon, a dialog will prompt whether to replace the existing icon.</p></li></ol><p>To copy an icon from another stack or application (source) and make it available in your stack (destination):</p><ol><li>Install the ResEdit application if not already installed.</li><li>Launch ResEdit.</li><li>Open the source stack or application in ResEdit.</li><li>Double-click on &quot;ICON&quot; to view those resources.</li><li>Click a resource to select it.</li><li>Press cmd-c to copy it.</li><li>Open the destination stack in ResEdit.</li><li>Press cmd-v to paste the copied &quot;ICON&quot; resource.</li><li>Press cmd-s to save the changes.</li><li>Press cmd-q to quit ResEdit.</li></ol><p>The copied icon is available when the &quot;Icon...&quot; button in a &quot;Button Info&quot; dialog is clicked.</p><p>When the &quot;Icon Editor&quot; dialog is open, the following new menu items appear. Some of these menu items can be triggered by Power Keys even if &quot;Power Keys&quot; is not checked in the Options menu (which can only be done when a painting tool is selected).</p><ul><li><p>File menu</p><ul><li>New Icon: This clears the pixels and changes the ID to a unique value in preparation for creating a new icon.</li><li>Close Icon Editor: This is the same as clicking the &quot;Cancel&quot; button.</li><li>Duplicate Icon: This changes the ID to a unique value in preparation for creating a new icon.</li></ul></li><li><p>Edit menu</p><p>The icon-related commands in this menu act on the selected pixels, or on all the pixels if none are selected.</p><ul><li><p>Undo (cmd-z, esc, backtick, or tilde)</p></li><li><p>Cut Icon (cmd-x)</p></li><li><p>Copy Icon (cmd-c)</p></li><li><p>Paste Picture (cmd-v or cmd-option-v)</p><p>Pastes the icon ID, name, and pixels, but only the pixels if cmd-option-v is pressed.</p></li><li><p>Clear Icon (cmd-delete)</p><p>If a rectangle of pixels have been selected, the menu item changes to &quot;Clear Picture&quot; and selecting it changes all the selected pixels to white.</p><p>If there is no selection, this deletes the ICON resource from the current stack. Icons from other stacks and the HyperCard app cannot be deleted with this menu item. WARNING: This cannot be undone! Another way to delete ICON resources that works on any file is to use ResEdit.</p></li><li><p>New Button</p><p>This creates a new button that uses the icon being edited and has &quot;Show Name&quot; unchecked. Changes to the icon must still be saved by clicking the &quot;OK&quot; button.</p></li></ul></li><li><p>Icon menu</p><ul><li>Erase (e): changes all the pixels to white regardless of whether any are selected</li><li>Pickup (cmd-p): enters Pickup mode</li><li>Keep (cmd-k): saves pixel changes</li><li>Revert (r): reverts all pixel changes or only those since the last Keep</li><li>First (cmd-1 or cmd-left arrow): scrolls to the first icon</li><li>Prev (cmd-2 or left arrow): scrolls to the previous icon</li><li>Next (cmd-3 or right arrow): scrolls to the next icon</li><li>Last (cmd-4 or cmd-right arrow): scrolls to the last icon</li><li>Find (cmd-f): searches for an icon by its complete name or ID</li></ul></li><li><p>Special Menu</p><ul><li>Flip Horizontal (h): flips the icon pixels over a vertical line at the center of the icon or the selection</li><li>Flip Vertical (v): flips the icon pixels over a horizontal line at the center of the icon or the selection</li><li>Frame (f): adds a 1-pixel rectangle around the inside edge of the icon or selection</li><li>Gray (g): changes all black pixels or only those in the selection to white if they are in an odd column of an odd row or an even column of an even row (checkerboard pattern)</li><li>Invert (i): toggles all pixels or only those in the selection between white and black</li><li>Mirror Horizontal (m): copies all or selected pixels from the left size to the right side</li><li>Mirror Vertical (x): copies all or the selected pixels from the top side to the bottom side</li><li>Rotate 90° ([ for clockwise or ] for counter-clockwise): rotates all of the selected pixels by 90° around the center of the icon or the selection</li><li>Shadow: adds black pixels below and to the right of all contiguous sets of black pixels to give the appearance of a drop shadow</li></ul></li></ul><p>For stacks that will be distributed for use by others, add all custom icons to that stack to ensure that the users will have them.</p><p>The Apple logo icon is an icn4 and icn8 resource found in Macintosh HD:System Folder:System. To copy this icon:</p><ul><li>Select the <code>System</code> file.</li><li>Press cmd-d to duplicate it, creating the file <code>System copy</code>.</li><li>Launch ResEdit.</li><li>Open the file <code>System copy</code>.</li><li>Double click the resource type &quot;icn8&quot;.</li><li>Click the resource with id -16386 to select it.</li><li>Press cmd-c to copy it.</li></ul><h3 id="deleting-icons" tabindex="-1">Deleting Icons</h3><p>The HyperCard app can remove icons from buttons, but cannot delete icons from the resources of a stack.</p><p>To delete icon resources from a stack:</p><ul><li>Launch ResEdit.</li><li>Open the stack file.</li><li>Double-click the &quot;ICON&quot; resource type.</li><li>For each icon to be deleted, select it and press the delete key.</li><li>Press cmd-s to save the changes.</li><li>Press cmd-q to quit ResEdit.</li></ul><h3 id="finding-buttons" tabindex="-1">Finding Buttons</h3><p>To find all the buttons on the current card when in Browse mode, press and hold cmd-option. This adds a dotted outline around all the buttons that disappears when the keys are released. This is particularly useful for finding transparent buttons.</p><p>Selecting the Button tool from the Tools menu or palette adds a solid, rectangular outline around all the buttons.</p><h3 id="editing-buttons" tabindex="-1">Editing Buttons</h3><p>To edit the properties of a button, select the Button tool, and double click a button. Alternatively, select a button, and select Objects ... Button Info... Either way, a &quot;Button Info&quot; dialog like the one shown above will open. This works regardless of whether the button is in the card or background layer. It is not necessary to switch to background mode in order to modify a background button.</p><p>Buttons have the following properties:</p><ul><li><code>autoHilite</code>: whether it highlights when clicked</li><li><code>blendLevel</code>: transparency level</li><li><code>enabled</code>: whether the button can be clicked</li><li><code>family</code>: for associating radio buttons</li><li><code>hilite</code>: whether the button is highlighted (or check box checked)</li><li><code>icon</code>: an icon ID</li><li><code>id</code>: unique identifier</li><li><code>name</code>: a name used to refer to the button or the text displayed on it</li><li><code>rectangle</code>: gives the position and size</li><li><code>sharedHilite</code>: whether the highlight state is shared (radio-style)</li><li><code>showName</code>: whether the name is shown</li><li><code>style</code>: one of the dropdown values</li><li><code>visible</code>: whether it is visible</li></ul><h3 id="moving-buttons" tabindex="-1">Moving Buttons</h3><p>To move a button within its card:</p><ol><li>Select the Button tool.</li><li>Drag the inside or edge of any button.</li></ol><p>To constrain the movement to be only horizontal or only vertical, hold down the shift key while dragging.</p><p>The ability to snap-to-grid is missing and would be useful for better layout.</p><p>To move a button to another card (possibly in another stack):</p><ol><li>Select Edit ... Cut Button (cmd-x).</li><li>Navigate to the destination card.</li><li>Select Edit ... Paste Button (cmd-v).</li></ol><p>To move a button to the opposite domain (background or card), cut it from its current domain, switch to the other domain, and paste it.</p><p>When a button is moved to another stack, it is given a new ID and part number.</p><h3 id="resizing-buttons" tabindex="-1">Resizing Buttons</h3><p>To resize a button:</p><ol><li>Select the Button tool.</li><li>Drag any corner of a button. It is easiest to grab a corner by clicking just inside it rather than trying to click directly on it.</li></ol><p>To constrain the resizing to be only horizontal or only vertical, hold down the shift key while dragging. If the button style is &quot;Rounded Rectangle&quot;, &quot;Standard&quot;, or &quot;Default&quot;, dragging with the shift key down changes the height to the Macintosh standard.</p><h3 id="copying-buttons" tabindex="-1">Copying Buttons</h3><p>To create a copy of a button, option-drag it OR select Edit ... Copy Button (cmd-c), optionally navigate to another card (possibly in another stack), and select Edit ... Paste Button (cmd-v).</p><p>If the shift key is held down during option-drag, the movement of the copy is constrained to be only horizontal or only vertical. This simplifies creating a perfectly aligned row or column of buttons.</p><h3 id="deleting-buttons" tabindex="-1">Deleting Buttons</h3><p>To delete a button:</p><ol><li>Select the Button tool.</li><li>Click a button to select it.</li><li>Press the delete key, or select Edit ... Cut Button, or press cmd-x.</li></ol><h3 id="linking-buttons" tabindex="-1">Linking Buttons</h3><p>To configure a button so clicking it navigates to another card or stack:</p><ul><li>Option #1<ol><li>Click the &quot;Tasks...&quot; button.</li><li>In the &quot;Tasks&quot; dialog, select a destination from the radio buttons that include &quot;Back&quot;, &quot;Home&quot;, &quot;First Card&quot;, &quot;Previous Card&quot;, &quot;Next Card&quot;, and &quot;Last Card&quot;.</li></ol></li><li>Option #2<ol><li>Click the &quot;LinkTo...&quot; button.</li><li>Navigate to another card.</li><li>In the &quot;Link&quot; dialog, click the &quot;This Card&quot; button.</li></ol></li></ul><p>These are alternatives to writing a script. They write the script for you, adding a <code>go</code> command that is executed when the user clicks the button.</p><h3 id="button-references" tabindex="-1">Button References</h3><p>Example button references that can be used in scripts include:</p><ul><li><p><code>me</code> (when handler is attached to the button),</p></li><li><p>by name: <code>button &quot;{name}&quot;</code></p><p>The quotes are not required if the name does not contain spaces or other special characters.</p></li><li><p>by id: <code>button id {id}</code></p></li><li><p>by number: <code>button {number-within-card}</code>.</p></li><li><p><code>the target</code> (when handler is attached the parent card)</p></li></ul><p>If the button is on the card instead of the background, optionally add <code>card</code> or <code>cd</code> before <code>button</code>. If the button is on the background instead of the card, add <code>background</code>, <code>bkgnd</code>, or <code>bg</code> before <code>button</code>. If none of these keywords are added, HyperTalk will assume the button is on the card. This differs from the default for fields.</p><p>If the button is not on the current card, add <code>of card {card-reference}</code>. If the button is not on a card in the current stack, add <code>of card {card-reference} of stack &quot;{stack-name&quot;}</code>.</p><h3 id="clickable-images" tabindex="-1">Clickable Images</h3><p>To make a section of an image clickable, add a button that is transparent and has no label. Unfortunately the clickable area must be rectangular. Modify the button script to execute HyperTalk commands when clicked.</p><h3 id="scripting-buttons" tabindex="-1">Scripting Buttons</h3><p>The script associated with a button can define handlers that are invoked when the user interacts with the button. When a button is created, it is automatically given a script with an empty handler (no commands) for <code>mouseUp</code> messages. This is the most commonly implemented handler for buttons.</p><p>There are three ways to view and edit the script for a button:</p><ol><li>Select the Button tool, double click the button to open its &quot;Button Info&quot; dialog, and click the &quot;Script...&quot; button.</li><li>Select the Button tool, hold down the shift key, and double click the button.</li><li>Hold down cmd-option and click the button.</li></ol><p>To detect whether special keys where held down during a click, check the state of the special variables <code>commandKey</code>, <code>optionKey</code>, and <code>shiftKey</code>. There is no support for detecting that the control key is down. The following code demonstrates special key detection:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  if the commandKey is down then<br>    put "command" into whichKey<br>  else if the optionKey is down then<br>    put "option" into whichKey<br>  else if the shiftKey is down then<br>    put "shift" into whichKey<br>  else<br>    put "none" into whichKey<br>  end if<br>  answer "key =" && whichKey<br>end mouseUp</code></pre><p>To change the text on a button in a handler:</p><pre class="language-text"><code class="language-text">set name of {button-reference} to "new-text"</code></pre><p>To allow a button to be dragged to a new location, add the following handler in its script. This isn't particularly useful, but it demonstrates changing the location of an object based on the current mouse location.</p><pre class="language-text"><code class="language-text">on mouseStillDown<br>  set the location of me to the mouseLoc<br>end mouseStillDown</code></pre><p>If several buttons are clicked while a handler is executing, only messages for the last button clicked are delivered. To demonstrate this, create three buttons that each have <code>mouseUp</code> handler. In the first handler, do the following:</p><pre class="language-text"><code class="language-text">beep<br>wait 2 seconds<br>beep</code></pre><p>In the second handler, do the following:</p><pre class="language-text"><code class="language-text">play flute<br>wait 1 second</code></pre><p>In the third handler, do the following:</p><pre class="language-text"><code class="language-text">play harpsichord<br>wait 1 second</code></pre><p>Clicking all three buttons in order results in a beep, a delay, another beep, and the harpsichord sound. The handler for the second button is never invoked because the system was busy running the handler for the first button when it was clicked and it was not the last button clicked while the system was busy.</p><h3 id="check-boxes" tabindex="-1">Check Boxes</h3><p>To get the value of a check box, use the command <code>get [the] hilite of {button-reference}</code>.</p><p>To put the value of a check box into the Message Box for testing, use the command <code>put [the] hilite of {button-reference} into message [box]</code>.</p><p>The &quot;Button Info&quot; dialog for background checkboxes contains the checkbox &quot;Shared Hilite&quot; which is not present for card checkboxes. When this is checked, the state of the checkbox is shared across all cards that use the background. When this is unchecked, each card that uses the background has its own state for the checkbox.</p><h3 id="radio-buttons" tabindex="-1">Radio Buttons</h3><p>To get the name of the selected radio button:</p><pre class="language-text"><code class="language-text">function selectedButtonName familyNumber<br>  repeat with i = 1 to the number of buttons<br>    if the family of button i is familyNumber then<br>      if the hilite of button i then<br>        return the short name of button i<br>      end if<br>    end if<br>  end repeat<br>  return empty<br>end selectedButtonName<br><br>on mouseUp<br>  put selectedButtonName(3) -- updates the Message Box<br>end mouseUp</code></pre><p>The &quot;Button Info&quot; dialog for background radio buttons contains the checkbox &quot;Shared Hilite&quot; which is not present for card radio buttons. When this is checked, the state of the radio button family is shared across all cards that use the background. When this is unchecked, each card that uses the background has its own state for the radio button family.</p><h3 id="popups" tabindex="-1">Popups</h3><p>A button with the style &quot;Popup&quot; displays a dropdown list of options. To specify the options, click the &quot;Contents...&quot; button and enter each option on its own line.</p><p><img alt="HyperCard color popup Button Info" style="width: 60%" src="/blog/assets/hypercard-color-popup-button-info.png?v=1.1.1"></p><p>The name assigned to the button is used for a label that appears to the left of the dropdown. It should end with a colon. By default, the label is given a width of zero and doesn't appear. To make it appear, enter a number in &quot;Title Width&quot; input in the &quot;Button Info&quot; dialog, noting the effect in the &quot;Preview&quot; area. This input only appears for Popup style buttons. Alternatively, drag the left edge of the button to the right to reveal the title and set the &quot;Title Width&quot;.</p><div style="display: flex; align-items: start"><img alt="HyperCard color popup Button" style="width: 23%" src="/blog/assets/hypercard-color-popup-button.png?v=1.1.1"> <img alt="HyperCard color popup Button open" style="width: 28%" src="/blog/assets/hypercard-color-popup-button-open.png?v=1.1.1"></div><p>To get the selected text or line number of a Popup, use the following expressions:</p><pre class="language-text"><code class="language-text">the selectedText of button id {n}<br>the selectedLine of button id {n}</code></pre><h2 id="fields" tabindex="-1">Fields</h2><p>A text field is referred to as simply a &quot;field&quot;. These hold up to 32,767 characters. Background fields can have a different value on each card that uses the background. For example, the background of the cards in the provided &quot;Addresses&quot; stack, shown below, contains &quot;Name&quot; and &quot;Telephone&quot; fields. Typically each field is preceded by a label that describes the data that should be entered. Different values can be entered in background fields for each card.</p><p><img alt="HyperCard Addresses stack" style="width: 60%" src="/blog/assets/hypercard-addresses-stack.png?v=1.1.1"></p><p>The values of fields are saved automatically and retained when the HyperCard application is quit.</p><p>Fields can hold a single line of text or multiple lines. The choice is specified in the &quot;Field Info&quot; dialog for each field.</p><p>For inspiration on fields that can be created, open the &quot;Home&quot; stack, click &quot;Stack Kit&quot;, click &quot;Readymade Fields&quot;, and visit each of the topics. The fields defined here can be copied into your stacks.</p><h3 id="creating-fields" tabindex="-1">Creating Fields</h3><p>To add a field to the current card:</p><ol><li><p>Verify that the correct domain, card or background, is selected.</p></li><li><p>Select Objects ... New Field. This adds a new field to the center of the current card that is sized to hold five lines of text. and has its style is set to Rectangle. Alternatively, select the Field tool and cmd-drag to indicate the location and size of a new field. This creates a field whose style is set to Transparent. Both approaches create a field with a default font of Geneva, 12 points.</p></li><li><p>Double-click the field to open its &quot;Button Info&quot; dialog.</p></li></ol><p><img alt="HyperCard Field Info" style="width: 50%" src="/blog/assets/hypercard-field-info.png?v=1.1.1"></p><ol><li>Enter a &quot;Field Name&quot; which can be used to refer to the field in scripts and reports. This can be up to 30 characters and can include spaces, numbers, and punctuation, but cannot be all numbers.</li><li>Select a field style from the following options:</li></ol><ul><li>Transparent: no border and can see through to objects behind it</li><li>Opaque: no border and cannot see through to objects behind it; useful to place on top of graphics</li><li>Rectangle: adds a rectangular border; most common style</li><li>Shadow: same as Rectangle, but adds shadows on the right and bottom sides for a 3D effect</li><li>Scrolling: adds a rectangular border and a vertical scrollbar (even when not needed), but never a horizontal scrollbar</li></ul><ol><li><p>Select the desired checkbox options which include:</p><ul><li><p>Lock Text: makes the content read-only</p></li><li><p>Don't Wrap: prevents words from wrapping when they go past the right edge, without a way to scroll the text to see that content</p></li><li><p>Auto Select: automatically selects an entire line in the field when any character in the line is clicked, making it a list selection component (see Demos ... List Selection below)</p></li><li><p>Multiple Lines: This option is only available when &quot;Auto Select&quot; is checked. When checked, multiple lines can be selected when the shift key is held down. The lines must be contiguous. The expression &quot;the selectedText&quot; only returns the first selected line. The expression &quot;the selectedLines&quot; returns a string that matches the pattern &quot;line {i} to {j} of card field {n}&quot;.</p></li><li><p>Wide Margins: adds a top margin of about half character height along with left and right margins of about a character width, but no bottom margin</p></li><li><p>Fixed Line Height: keeps the same default height for all lines regardless of the font sizes used in the lines; allows text to overlap vertically which seems bad</p></li><li><p>Show Lines: displays dotted lines that indicate where each line of text can be entered</p></li><li><p>Auto Tab: moves focus to the next field when the return key is pressed and the text cursor is on the last visible line of a non-scrolling field; most useful in a series of single-line fields</p></li><li><p>Don't Search: prevents contents from being searched by <code>find</code> commands</p></li><li><p>Shared Text: displays read-only text in a background</p><p>This option is only available for background fields and only allows its content to be edited when in background mode. This makes it a good alternative to painted (bitmap) text that is the same, read-only text which appears on each card that uses the background. When this option is checked, the &quot;Don't Search&quot; option is also required to be checked.</p></li></ul></li><li><p>Click the &quot;Text Style...&quot; button to open the &quot;Text Properties&quot; dialog. This allows specifying the text style, alignment, font, and size. Alternatively, specify each of these except alignment using the Font and Style menus.</p></li><li><p>Optionally click the &quot;Script...&quot; button to open a dialog where a script can be added or modified.</p><p>Enter code that defines action handlers and functions. Actions related to fields include <code>closeField</code>, <code>exitField</code>, <code>keyDown</code>, <code>keyUp</code>, <code>mouseDown</code>, <code>mouseEnter</code>, <code>mouseLeave</code>, <code>mouseUp</code>, <code>mouseWithin</code>, and <code>openField</code>. It is not common to implement handlers for any of these actions.</p></li><li><p>Click the Browse tool (hand with pointing finger).</p></li><li><p>Click the field.</p></li><li><p>Enter text.</p></li><li><p>For read-only text, open the &quot;Field Info&quot; dialog again and check the &quot;Lock Text&quot; checkbox.</p></li></ol><h3 id="finding-fields" tabindex="-1">Finding Fields</h3><p>One way to find fields on the current card when in Browse mode is to move the cursor around the card and notice when the cursor changes from the browser cursor (hand with pointing index finger) to an I-beam.</p><p>A better way to find fields when in Browse mode is to press and hold cmd-shift-option. This adds a dotted outline around all the fields that disappears when the keys are released. This is particularly useful for finding transparent fields.</p><p>Selecting the Field tool from the Tools menu or palette adds a solid, rectangular outline around all the fields.</p><h3 id="editing-fields" tabindex="-1">Editing Fields</h3><p>To edit the properties of a field, select the Field tool, and double click a field. Alternatively, select a field, and select Objects ... Field Info... Either way, a &quot;Field Info&quot; dialog like the one shown above will open. This works regardless of whether the field is in the card or background layer. It is not necessary to switch to background mode in order to modify a background field.</p><p>To change the default text style of a field:</p><ul><li><p>Select one of the following options from the Style dropdown:</p><ul><li>Transparent - no border and background is transparent, showing what is behind it</li><li>Opaque - no border and background is opaque, hiding what is behind it</li><li>Rectangle - rectangle border with no shadow</li><li>Shadow - rectangle border with a shadow to lower-right</li><li>Scrolling - adds a vertical scrollbar; text wraps by default and there is never a horizontal scrollbar</li></ul></li><li><p>Click the &quot;Text Style...&quot; button to open the &quot;Text Properties&quot; dialog.</p></li><li><p>Select any of the style checkboxes.</p></li><li><p>Select an alignment option (Left, Center, or Right).</p></li><li><p>Select a font name.</p><p>Commonly available fonts include Chicago, Courier, Geneva, Helvetica, Monaco, Palatino, New York, and Times. If a font other than these is selected and users of the stack do not have the chosen font, a substitute font is selected automatically and the cards may not render as expected. This is not an issue for painted text because the fonts used are not required by others that browse the stack.</p></li><li><p>Select a font size.</p></li><li><p>Select a line height which is the distance between text base lines. Typically this is 4 points more than the font size, but 2 points more is a good value for closely spaced lines. TODO: Changing this seems to have no effect!</p></li><li><p>Click the OK button.</p></li></ul><h3 id="field-selections" tabindex="-1">Field Selections</h3><p>Dragging over text in field or double-clicking a word creates a selection.</p><p>To get the selected text, use the function <code>the selectedText</code>. If no text is selected, an empty string is returned.</p><p>To get the beginning and ending indexes of the selected text, use the function <code>the selectedChunk</code> which returns a string like &quot;char 19 to 37 of card field 2&quot;. If no text is selected, it will return a string like &quot;char i to j of card field 2&quot; where i is the text cursor index and j is one less than i.</p><p>To get the line number containing the selected text, or the line number containing text cursor when there is no selection, use the function <code>theSelectedLine</code> which returns a string like &quot;line 3 of card field 2&quot;. If no text is selected, the line number is the one that contains the text cursor.</p><p>To get the location of the upper-left corner of the selected in stack window coordinates, use the function <code>the selectedLoc</code> which returns a string containing the x and y coordinates like &quot;135, 110&quot;. If no text is selected, the coordinates are that of the text cursor.</p><p>To replace the selected text with new text, use a <code>put</code> command like <code>put &quot;new text&quot; into the selection</code>. If no text is selected, the new text is inserted at the text cursor location.</p><h3 id="text-style-of-selected-text" tabindex="-1">Text Style of Selected Text</h3><p>To change the text style of selected text in a single field on the current card to something different than the default text style for the field:</p><ul><li>Select the text by dragging over it or press cmd-shift-a to select all the text.</li><li>Select a font name from the Font menu.</li><li>Select a font style from the Style menu.</li><li>Select a font size from the Style menu.</li></ul><p>The following keyboard shortcuts modify the style of the selected field:</p><table><thead><tr><th>Keyboard Shortcut</th><th>Style Change</th></tr></thead><tbody><tr><td>cmd-shift-p</td><td>plain</td></tr><tr><td>cmd-shift-b</td><td>bold</td></tr><tr><td>cmd-shift-i</td><td>italic</td></tr><tr><td>cmd-shift-u</td><td>underline</td></tr><tr><td>cmd-shift-o</td><td>outline</td></tr><tr><td>cmd-shift-s</td><td>shadow</td></tr><tr><td>cmd-shift-c</td><td>condense (less space between letters)</td></tr><tr><td>cmd-shift-x</td><td>extend (more space between letters)</td></tr><tr><td>cmd-shift-g</td><td>create a group from selected text</td></tr><tr><td>cmd-shift-&lt;</td><td>decrease font size</td></tr><tr><td>cmd-shift-&gt;</td><td>increase font size</td></tr><tr><td>cmd-shift-[</td><td>next font</td></tr><tr><td>cmd-shift-]</td><td>previous font</td></tr><tr><td>cmd-shift-d</td><td>return to defaults</td></tr></tbody></table><p>The text style does not affect the ability to search for matching text using the <code>find</code> command.</p><h3 id="setting-fields" tabindex="-1">Setting Fields</h3><p>To set the content of a field, use a command matching <code>put &quot;{content}&quot; into {field-ref}</code>.</p><p>To clear the content of field, use a command matching <code>put empty into {field-ref}</code>.</p><p>To append to the content of a field, use a command matching <code>put &quot;{content}&quot; after {field-ref}</code>.</p><p>To append a new line of content in a field, use a command matching <code>put return &amp; &quot;{content}&quot; after {field-ref}</code>.</p><h3 id="moving-fields" tabindex="-1">Moving Fields</h3><p>To move a field within its card:</p><ol><li>Select the Field tool.</li><li>Drag the inside or edge of any field.</li></ol><p>To constrain the movement to be only horizontal or only vertical, hold down the shift key while dragging.</p><p>The ability to snap-to-grid is missing and would be useful for better layout.</p><p>To move a field, to another card (possibly in another stack):</p><ol><li>Select Edit ... Cut Field (cmd-x).</li><li>Navigate to the destination card.</li><li>Select Edit ... Paste Field (cmd-v).</li></ol><p>To move a field to the opposite domain (background or card), cut it from its current domain, switch to the other domain, and paste it. To retain text already entered in the field, hold down the shift key while pasting.</p><p>When a field is moved to another stack, it is given a new ID and part number.</p><h3 id="resizing-fields" tabindex="-1">Resizing Fields</h3><p>To resize a field:</p><ul><li>Select the Field tool.</li><li>Drag any corner of a field. It is easiest to grab a corner by clicking just inside it rather than trying to click directly on it.</li></ul><p>To constrain the resizing to be only horizontal or only vertical, hold down the shift key while dragging.</p><h3 id="copying-fields" tabindex="-1">Copying Fields</h3><p>To create a copy of a field, option-drag it OR select Edit ... Copy Field (cmd-c), optionally navigate to another card (possibly in another stack), and select Edit ... Paste Field (cmd-v).</p><p>If the shift key is held down during option-drag, the movement of the copy is constrained to be only horizontal or only vertical. This simplifies creating a perfectly aligned row or column of fields.</p><p>Field text that is copied retains its text style. To paste the text without its text style, instead using the text style of the character before where it is pasted, hold down the shift key when selecting Edit ... Paste or press cmd-shift-v.</p><h3 id="deleting-fields" tabindex="-1">Deleting Fields</h3><p>To delete a field:</p><ul><li>Click the Field tool.</li><li>Click an object to select it.</li><li>Press the delete key, or select Edit ... Cut Field, or press cmd-x.</li></ul><h3 id="field-focus" tabindex="-1">Field Focus</h3><p>To move the focus to the next field in the current card, defined by their part numbers, press the tab key. After the last field on the card is reached, pressing the tab key moves the focus to the first field on the card.</p><h3 id="field-references" tabindex="-1">Field References</h3><p>Example field references include:</p><ul><li><p><code>me</code> (when handler is attached to the field),</p></li><li><p>by name: <code>field &quot;{name}&quot;</code></p><p>The quotes are not required if the name does not contain spaces or other special characters.</p></li><li><p>by id: <code>field id {id}</code></p></li><li><p>by number: <code>field {number-within-card}</code>.</p></li><li><p><code>the target</code> (when handler is attached the parent card)</p></li></ul><p>The keyword <code>field</code> can be abbreviated to <code>fld</code>.</p><p>If the field is on the card instead of the background, add <code>card</code> or <code>cd</code> before <code>field</code>. If the field is on the background instead of the card, optionally add <code>background</code>, <code>bkgnd</code>, or <code>bg</code> before <code>field</code>. If none of these keywords are added, HyperTalk will assume the field is on the background. This differs from the default for buttons.</p><p>If the field is not on the current card, add <code>of card {card-reference}</code>. If the field is not on a card in the current stack, add <code>of card {card-reference} of stack &quot;{stack-name&quot;}</code>.</p><p>To get the text from a field, use a field reference. For example, <code>card field &quot;{field-name}&quot;</code>. This explains why setting a variable to a card reference only gets its text, not an object reference.</p><p>To execute a HyperTalk command that was entered in a field, run the command <code>do card field &quot;{field-name}&quot;</code>.</p><h3 id="scripting-fields" tabindex="-1">Scripting Fields</h3><p>There are three ways to view and edit the script for a field:</p><ol><li>Select the Field tool, double click the field to open its &quot;Field Info&quot; dialog, and click the &quot;Script...&quot; button.</li><li>Select the Field tool, hold down the shift key, and double click the field.</li><li>Hold down cmd-option-shift and click the field.</li></ol><p>A <code>keyDown</code> message is sent for each key press with an argument that is the character or code of the key. There is no <code>keyUp</code> message. See the table in the subsection &quot;Messages for fields and cards&quot; in the &quot;HyperTalk&quot; section.</p><p>For example:</p><pre class="language-text"><code class="language-text">on keyDown which<br>  if charToNum(which) is 8<br>  then answer "You pressed the delete key.";<br>  pass keyDown<br>end keyDown</code></pre><h3 id="reverse-lettering" tabindex="-1">Reverse Lettering</h3><p>To create white text on a black background:</p><ol><li>Select the Rectangle tool from the Tools palette.</li><li>Drag out a rectangle that is at least as large as the anticipated size of the text.</li><li>Press the tab key to open the Patterns palette.</li><li>Select the solid black pattern. If none of the patterns are solid black, double click the one closest to solid black to open its &quot;Edit Pattern&quot; dialog, click all the white pixels to turn them black, and click the &quot;OK&quot; button.</li><li>Select the Bucket tool.</li><li>Click inside the rectangle to fill it with black.</li><li>Click the Field tool.</li><li>Hold down the cmd key and drag out a transparent field on top of the black rectangle.</li><li>Press cmd-t to open the &quot;Text Properties&quot; dialog for the field.</li><li>Check the &quot;Outline&quot; checkbox.</li><li>Select a font that works well with the Outline style like &quot;Chicago&quot;.</li><li>Select the desired font size.</li><li>Check the &quot;OK&quot; button.</li><li>Select the Browse tool.</li><li>Enter the desired text in the field.</li><li>Double-click the field to open its Info dialog.</li><li>Check the &quot;Lock Text&quot; checkbox.</li><li>Check the &quot;OK&quot; button.</li><li>If the black rectangle is too large, select the excess on the right side with the Selection tool and press the delete key.</li><li>Repeat the previous step for excess on the bottom side.</li></ol><h2 id="layers" tabindex="-1">Layers</h2><p>The HyperCard application uses the following layers, from bottom to top:</p><ul><li>Document layer - displays stack windows which display cards</li><li>Palette layer - displays the Tools, Patterns, and Nav palettes</li><li>Dialog layer - displays all dialogs including those for Stack Info, Background Info, Card Info, Button Info, Field Info, <code>answer</code> command, and <code>ask</code> command.</li><li>Menu layer - displays the menu items in each of the menus</li><li>Cursor layer - displays the mouse cursor</li></ul><p>The elements of a card consist of painted objects (e.g. polygon), buttons, and fields. Each element is displayed in its own layer within the &quot;document layer&quot;.</p><p>To set the visibility of all painted object on the current card or background, use the following command:</p><pre class="language-text"><code class="language-text">set showPict of this {background|card} to {true|false}`.</code></pre><p>All painted objects appear below buttons and fields. So buttons and fields are never obscured by painted objects.</p><p>The order in which elements are created determines their initial stacking order, with the newer elements on top of older elements.</p><p>The stacking order of buttons and fields with their domain can be changed. To do so:</p><ul><li>Select the Button or Field tool.</li><li>Select the button or field whose order will be changed.</li><li>Select Objects ... Bring Closer (cmd-plus) to increase the part number.</li><li>Select Objects ... Send Farther (cmd-minus) to decrease the part number.</li></ul><p>To move an object to the extreme end of the stacking order, hold down the shift key when issuing the command.</p><p>For fields, the stacking order affects the order in which they are visited when the tab key is pressed. If the focus is in a background field, repeatedly pressing the tab key visits each of the remaining background fields that are higher the stacking order before visiting each of the card fields. If the focus is in a card field, repeatedly pressing the tab key visits each of the remaining card fields that are higher the stacking order before visiting each of the background fields. It is not possible to set a stacking order that alternates between background and foreground fields.</p><p>When the mouse is clicked, only one element receives the message ... the element that overlaps the click location and is in the closest layer.</p><h2 id="sounds" tabindex="-1">Sounds</h2><p>To play a predefined sound, use the <code>beep</code> or <code>play</code> commands.</p><p>The <code>beep</code> command takes an optional argument that specifies the number of times to play, defaulting to one.</p><p>The <code>play</code> command takes the following arguments:</p><ul><li>name of a sound such as <code>boing</code>, <code>flute</code>, or <code>harpsichord</code></li><li>optional keyword <code>tempo</code> followed by a number (seems to default to 120)</li><li>optional set of space-separated notes to play in double quotes</li></ul><p>Each note is defined by:</p><ol><li><p>a letter from <code>a</code> to <code>g</code>, or <code>r</code> for rest (no sound)</p></li><li><p>an optional <code>#</code> for sharp or <code>b</code> for flat,</p></li><li><p>an optional octave of <code>3</code>, <code>4</code> (default), or <code>5</code></p></li><li><p>an optional duration of:</p><ul><li><code>w</code> for whole note</li><li><code>h</code> for half note</li><li><code>q</code> for quarter note (default)</li><li><code>e</code> for 8th note</li><li><code>s</code> for 16th note</li><li><code>t</code> for 32nd note</li><li><code>x</code> for 64th note</li></ul><p>Add a period after the duration to add half its value. For example, <code>h.</code> is a 3/4 note.</p></li></ol><p>For example, <code>play harpsichord tempo 120 &quot;c4 e g4 e c5 q&quot;</code></p><p>Sound resources can be copied from other files such as:</p><ul><li>the <code>System</code> file in the directory <code>System Folder</code></li><li>application files (e.g. cow in HyperCard 2.4:Your Tour of HyperCard:HyperCard Tour)</li><li>a HyperCard stack (e.g. &quot;Ghost Laugh&quot; in Documents:HyperCard Stacks:Haunted House:The Haunted House 1.0.2)</li></ul><p>To copy a sound response (type &quot;snd&quot;) from another file:</p><ol><li>Install the ResEdit application if not already installed.</li><li>Launch ResEdit.</li><li>Open the source stack or application in ResEdit.</li><li>Double-click on &quot;snd&quot; to view its sound resources.</li><li>Click a resource to select it.</li><li>Press cmd-c to copy it.</li><li>Open the destination stack in ResEdit.</li><li>Press cmd-v to paste the copied &quot;snd&quot; resource.</li><li>Press cmd-s to save the changes.</li><li>Press cmd-q to quit ResEdit.</li></ol><p>The copied sound can now be played with the command <code>play &quot;{snd-resource-name}&quot;</code>. In a handler, consider using the command <code>play stop</code> before this command to stop any sound that is already playing before playing another.</p><p>To play a sound file, use the <code>play file {sound-file-path}</code> command. Supposedly the AIFF sound format is the most reliable. TODO: I could not get this to work!</p><p>To record a new sound and add it as an &quot;snd&quot; resource to the current stack file:</p><ol><li>Select Edit ... Audio... which opens a window.</li><li>Change &quot;Untitled&quot; to a name for the sound.</li><li>Click the &quot;Rec&quot; button containing a red circle.</li><li>Speak or make other sounds.</li><li>Click the &quot;Stop&quot; button containing a black square.</li><li>Click the &quot;Save&quot; button containing a down-pointing triangle.</li><li>In the dialog that appears, enter a name for the sound.</li><li>Click the &quot;OK&quot; button.</li></ol><p>This adds a button to the center of the current card whose name is the name of the sound. Clicking this button plays the sound.</p><p>To delete a sound resource from the current stack:</p><ol><li>Select Edit ... Audio... which opens a window.</li><li>Click the &quot;Edit&quot; button to add options to the bottom of the window.</li><li>Click the &quot;Delete...&quot; button.</li><li>In the dialog that appears, select the name of the sound to be deleted.</li><li>Click the &quot;OK&quot; button.</li></ol><p>For another way to record sounds, see the &quot;Sounds&quot; section in the &quot;iMac G3&quot; blog page.</p><h2 id="importing-graphics" tabindex="-1">Importing Graphics</h2><p>Graphics can be imported from files that use the MacPaint format, such as the MacPaint application.</p><p>To create graphics in MacPaint and import them into a HyperCard stack:</p><ol><li>Launch MacPaint.</li><li>Create graphics using its painting tools which are nearly identical to those in HyperCard.</li><li>Save the graphics in a file.</li><li>Launch HyperCard.</li><li>Open the target stack.</li><li>Choose the target domain (background or card).</li><li>Choose the specific target background or card.</li><li>Select any painting tool so the following menu item is available.</li><li>Select File ... Import Paint...</li><li>Select the file created earlier.</li><li>Select the pasted graphics and move them to the desired location.</li><li>Optionally edited the imported graphics.</li></ol><h2 id="exporting-graphics" tabindex="-1">Exporting Graphics</h2><p>The painting layer of the current card or background can be exported to a file that uses the MacPaint format. This includes buttons (along with their icons) and fields (including text entered into them).</p><p>To export the current painting layer:</p><ol><li>Navigate to the card or background whose graphics will be exported.</li><li>Select any painting tool so the following menu item is available.</li><li>Select File ... Export Paint...</li><li>Select the target directory.</li><li>Enter a file name.</li><li>Click the &quot;Save&quot; button.</li></ol><p>It seems that the right edge is cut off.</p><h2 id="backgrounds" tabindex="-1">Backgrounds</h2><p>Every stack has at least one background, but it can be empty. Often backgrounds have a design that mimics something in real life such as an address book, calendar, notebook, or paper form. They can contain buttons and fields that appear on every card that uses the background. Each background field stores a different value for each card that uses the background.</p><p>Every card has an associated background. When a new card is created, it uses the background of the current card. When a card is cut and then pasted in a new location within the stack, it retains its background.</p><p>To edit the properties of the background of the current card, select Objects ... Bkgnd Info... which opens the following dialog:</p><p><img alt="HyperCard Background Info" style="width: 45%" src="/blog/assets/hypercard-background-info.png?v=1.1.1"></p><p>Assigning a name to a background is optional, but they are handy when printing reports and they enable accessing backgrounds by name in scripts.</p><p>To prevent a background from being deleted, check the &quot;Can't Delete Background&quot; checkbox. When this is checked, if a user tries to delete the last card that uses the background, a dialog will open that says &quot;Can't delete last card of protected background&quot;.</p><p>To switch to background mode, which temporarily hides the foreground of the current card and only displays its background, select Edit ... Background or press cmd-b. Repeat to return to foreground mode which displays the foreground and background of the current card.</p><p>To add a new background to the current stack, select Objects ... New Background. This creates a new card that uses the new background, but it will not be in background mode. Press cmd-b to enter background mode and add content. Then press cmd-b again to enter foreground mode and add content. Cards created after this one will use the new background by default.</p><p>If some cards that use a particular background do not wish to display all the elements in the background layer, those elements can be covered by elements in the card layer. For example, a rectangle that is filled with white can be used to hide painted elements, buttons, and fields.</p><p>To draw a white rectangle without a black border:</p><ul><li>Select Options ... Draw Filled.</li><li>Select solid white from the Patterns menu or palette.</li><li>Select the Rectangle tool from the Tools menu or palette.</li><li>Hold down the option key while dragging out the rectangle.</li></ul><p>To copy a background and create a new background that starts out with the same configuration, TODO: ???</p><p>To create multiple backgrounds that have some common elements, the common elements must be copied from one background to the others.</p><p>To assign/change the name of a background, select Options ... Bkgnd Info... and enter/change the &quot;Background Name&quot;.</p><p>In a stack that uses multiple backgrounds, button and field names can be duplicated across the backgrounds. This enables background scripts to use the same code for referring to those containers.</p><p>It seems there is no way to change the background used by an existing card. The only option seems to be copying the content from the existing card to a new card that use the desired background.</p><h2 id="images" tabindex="-1">Images</h2><p>One source of images is other stacks.</p><p>For example, the &quot;Art Bits&quot; stack is linked from the first card of the Home stack. It contains links to the cards with images in the following categories: Beasts, Buildings, Communication and media, HyperCard miscellany, Icon ideas, Macintosh miscellany, Nature and science, Odds and ends, People, Small treasures, and Transportation.</p><p>Another source is the stacks linked from the &quot;Stack Kit&quot; card of the Home stack. See &quot;Readymade Buttons&quot;, &quot;Readymade Fields&quot;, &quot;Stack Templates&quot;, and &quot;Background Art&quot;.</p><p>To get an image, open a stack, find a desired image on one of its cards, use the selection tools to select it, copy it, and paste it onto a card in your stack.</p><p>TODO: What image formats can be pasted into cards?</p><h2 id="color" tabindex="-1">Color</h2><p>Some amount of color support was added to HyperCard in version 2.3. To use colors, install the Color Tools. This requires more than the default amount of memory. To add more memory:</p><ul><li>Quit HyperCard if it is running.</li><li>Locate and select the HyperCard app in the Finder.</li><li>Press cmd-i to open its Info dialog.</li><li>In the Show dropdown, select Memory.</li><li>Try changing the &quot;Minimum Size&quot; to 5000 K and the &quot;Preferred Size&quot; to 10000 K.</li><li>Close the Info dialog.</li><li>Launch HyperCard.</li></ul><p>To enable use of colors:</p><ul><li>Open the Home stack.</li><li>Click the &quot;Stack Kit&quot; button.</li><li>Click the &quot;Color Tools&quot; button.</li><li>Click &quot;Install Color Tools&quot;.</li><li>Return the Home stack.</li><li>Click the &quot;Welcome to&quot; button.</li><li>Click the &quot;Color Tools are OFF&quot; button to toggle it ON. This will add a Color menu that contains the menu item &quot;Open Coloring Tools&quot;.</li><li>Select Color ... Open Coloring Tools.</li><li>Click the &quot;OK&quot; button. This opens the color palette which has buttons labeled Button, Field, Pict, Rect, and Paint at the top.</li><li>Select one of the buttons to indicate the kind of object for which a color will be selected.</li><li>Select a color.</li></ul><p>TODO: How can I create a colored button or field? TODO: Why does the Tools menu disappear when the Color palette is open?</p><h2 id="scroll-window" tabindex="-1">Scroll Window</h2><p>The scroll window enables scrolling in a stack window. It is useful when the card size of a stack is larger than the monitor. This is not typically the case, so this tool is rarely used.</p><p>To toggle display of the scroll window, select Go ... Scroll or press cmd-e.</p><p>The black rectangle in the scroll window represents the visible size of the stack with focus.</p><p>There are two ways to change the viewable size of the stack window.</p><ol><li>Drag any edge or corner of the rectangle in the scroll window.</li><li>Press cmd-shift-e and drag the grow box that appears in the lower-right corner of the stack window.</li></ol><p>To change the portion of the stack window that is visible, drag the rectangle in scroll window.</p><p>To toggle the viewable size between full size and the last reduced size, double click the rectangle in the scroll window or click the zoom box in the upper-right corner of the stack window. The rectangle cannot be dragged if its size is the same as the scroll window.</p><p>The screenshot below shows the scroll Window after its rectangle has been resized and dragged. It also shows the portion of the Home stack that is visible based on the state of the scroll window.</p><p><img alt="HyperCard Scroll Window" style="width: 70%" src="/blog/assets/hypercard-scroll-window.png?v=1.1.1"></p><h2 id="menu-bar" tabindex="-1">Menu Bar</h2><p>Visibility of the menu bar that appears at the top of the screen can be toggled by pressing cmd-space.</p><p>To hide the menu bar from a script, use the command <code>hide menuBar</code>. To restore the menu bar, use the command <code>show menuBar</code>. These commands are typically used in message handlers in a stack script. For example:</p><pre class="language-text"><code class="language-text">on openStack<br>  hide menuBar<br>end openStack<br><br>on closeStack<br>  show menuBar<br>end closeStack</code></pre><h2 id="keyboard-shortcuts" tabindex="-1">Keyboard Shortcuts</h2><table><thead><tr><th>Shortcut</th><th>Action</th></tr></thead><tbody><tr><td>cmd-h</td><td>Home</td></tr><tr><td>cmd-~</td><td>go to Back to the previously browsed card</td></tr><tr><td>cmd-1</td><td>go to First card in stack</td></tr><tr><td>cmd-2</td><td>go to Prev card in stack</td></tr><tr><td>cmd-3</td><td>go to Next card in stack</td></tr><tr><td>cmd-4</td><td>go to Last card in stack</td></tr><tr><td>left arrow</td><td>go to Prev card in stack</td></tr><tr><td>right arrow</td><td>go to Next card in stack</td></tr><tr><td>up arrow</td><td>go to First card in current stack or first card in Home stack if already there</td></tr><tr><td>down arrow</td><td>go to previously visited card in any stack?</td></tr><tr><td>cmd-left arrow</td><td>go to First card in stack</td></tr><tr><td>cmd-right arrow</td><td>go to Last card in stack</td></tr><tr><td>cmd-b</td><td>toggle Background mode</td></tr><tr><td>cmd-c</td><td>copy</td></tr><tr><td>cmd-e</td><td>open Scroll window</td></tr><tr><td>cmd-f</td><td>Find text within current stack</td></tr><tr><td>cmd-i</td><td>open Icon editor</td></tr><tr><td>cmd-m</td><td>open Message box (where commands can be entered)</td></tr><tr><td>cmd-o</td><td>open a stack</td></tr><tr><td>cmd-l</td><td>go to the next open HyperCard window</td></tr><tr><td>cmd-n</td><td>New card</td></tr><tr><td>cmd-r</td><td>open window of recently visited cards (click one to open it)</td></tr><tr><td>cmd-v</td><td>past</td></tr><tr><td>cmd-x</td><td>cut</td></tr><tr><td>cmd-z</td><td>undo</td></tr></tbody></table><p>The &quot;Open Stack&quot; dialog contains:</p><ul><li>&quot;Show Preview&quot; checkbox that causes a thumbnail of the first card of the selected stack to be displayed inside the dialog.</li><li>&quot;Open stack in new window&quot; which does what it says when a stack is opened.</li></ul><p>The &quot;Home&quot; stack is inside the &quot;HyperCard 2.4&quot; directory which I placed in the Applications directory.</p><h2 id="hypertalk" tabindex="-1">HyperTalk</h2><p>HyperTalk ...</p><ul><li>is the primary scripting language used by HyperCard</li><li>can only be used with HyperCard, not as a standalone programming language</li><li>is used to write message handlers and functions in the scripts associated with stacks, backgrounds, cards, buttons, and fields</li><li>has an English-like syntax</li><li>is case-insensitive, even when comparing strings</li><li>is interpreted at run-time, but cached for executing again later</li><li>supports message passing (events) and message handlers</li><li>implements a simple database</li></ul><p>HyperCard includes a HyperTalk compiler that is used to compile scripts into machine code the first time they are executed. The machine code for each handler and function defined in a script is stored in memory. The next time the same handlers and functions are executed, they run faster because there is no need to compile them again. This remains true unless the machine code is pushed out of memory by more newly generated machine code due to memory limits.</p><p>The commands supported by HyperTalk are documented at <a href="https://www.hypercard.center/HyperTalkReference#commands?v=1.1.1" rel="noopener" target="_blank">HyperTalk Reference</a>. Each command sends a message that is typically handled by the HyperCard application. Messages can accept arguments that become the values of corresponding parameters in a message handler.</p><p>If no handler is found for a command, a dialog opens that contains &quot;Can't understand {command-name}&quot;.</p><p>A good way to learn about HyperTalk is to examine the scripts in provided stacks such as the Home stack.</p><h3 id="message-box" tabindex="-1">Message Box</h3><p>One way to execute HyperTalk commands is to enter them in the Message Box. This is a single, small window that allows entry of a single HyperTalk command on one line.</p><p>If the text entered extends past the right edge, that portion will not be visible and the text cannot be scrolled horizontally. The width of the message box can be changed by dragging just inside the border of its lower-right corner.</p><p>To execute the command entered in the Message Box, press the return key. The text cursor is not required to be at the end of the command when the return key is pressed. It can be anywhere within the Message Box.</p><p>Text entered in the Message Box is saved within a HyperCard session, even if the the Message Box is closed and then reopened later. It is not specified to the current stack. However, the text is lost when the HyperCard app is quit.</p><p>The Message Box can be moved, but it cannot be resized.</p><p>To toggle display of the Message Box, select Go ... Message or press cmd-m. Then enter commands separated by semicolons and press return to execute them.</p><p>Typing while focus is not in the Message Box or in a card field replaces the text in the Message Box. See &quot;Blind Typing&quot; in the &quot;Home Stack ... Preferences&quot; section for more detail.</p><p>To change the font family and size used in the Message Box, click in it to give it focus and make selections in the Font and Style menus.</p><p>If a field reference is entered in the Message Box, it is replaced by the contents of the field. For example, <code>card field 2</code>, <code>card field id 7</code>, or <code>card field &quot;first name&quot;</code>.</p><p>To get the contents of the Message Box, use the expression <code>[the] message|msg [box]</code>.</p><p>To set the contents of the Message Box, use the command <code>put {expression} into [the] message|msg [box]</code>. The put command writes to the Message Box by default, so the previous command can shorted to <code>put {expression}</code>.</p><p>The following are examples of HyperTalk commands that can be entered in the Message Box:</p><ul><li><p>navigation</p><ul><li><code>go to Art Bits</code> - opens the stack named &quot;Art Bits&quot;</li><li><code>go art bits</code> - same but without optional keyword <code>to</code> and without capitalizing</li></ul></li><li><p>scripts</p><ul><li><p><code>edit script of button &quot;My Button&quot;</code></p><p>This opens a Script editor for a given script. Unless a card name is specified, the script must be in the current card.</p></li><li><p><code>searchScript &quot;some text&quot;, &quot;stack name&quot;</code></p><p>This opens the Script editor for the first script found in the stack &quot;stack name&quot; that contains the text &quot;some text&quot;. Closing the Script editor opens another for the next match found. After the last match is displayed, a dialog containing &quot;Search script done!&quot; is opened.</p><p><code>searchScript</code> is a handler defined in the Home stack. To see it, open the Home stack, select Objects ... Stack Info..., and click the &quot;Script...&quot; button. Alternatively, enter <code>edit script of Home</code> in the Message Box. Press cmd-f to open a Find dialog and enter &quot;searchScript&quot;. Repeatedly press cmd-g to find the next match until the line <code>on searchScript pattern,stackName</code> is found.</p></li></ul></li><li><p>mathematical expressions</p><p>The entered expression is replaced by its result.</p><ul><li><code>2 * 3</code> - gives <code>6</code></li><li><code>4 * (5 - 2)</code> - uses parentheses to control order of evaluation and gives <code>12</code></li><li><code>4^3</code> - uses exponentiation and gives <code>64</code></li><li><code>2 * pi * 3^2</code> - gives <code>56.548668</code></li><li><code>sin(45)</code> - evaluates a trigonometry function and gives <code>0.850904</code></li></ul></li><li><p>multiple commands</p><p>While only a single command can be entered, multiple commands can be described in a string with a return character between each command. The string can be passed to the <code>do</code> command to execute each of the commands. For example:</p><pre class="language-text"><code class="language-text">do "beep" & return & "wait for 1 second" & return & "play boing"</code></pre></li></ul><h3 id="comments" tabindex="-1">Comments</h3><p>Single-line comments begin with <code>--</code> and extend to the end of the line. Multi-line comments are not supported.</p><p>To comment a set of lines, select them and select Script ... Comment or press cmd-dash.</p><p>To uncomment a set of lines, select them and select Script ... Uncomment or press cmd-equal.</p><h3 id="data-types" tabindex="-1">Data Types</h3><p>HyperTalk supports the following data types:</p><ul><li>booleans represented by the string values <code>true</code> and <code>false</code></li><li>numbers with literal values that are either integers or floating point, stored as strings</li><li>strings with literal values delimited by double quotes</li><li>string lists that are a single string with commas delimiting the items</li><li>&quot;containers&quot; which include variables (including <code>it</code>), buttons, fields, selections within fields, the Message Box, and &quot;chunk expressions&quot;</li></ul><p>The big takeaway is that every data type is really just a string and all containers store a string. All containers are mutable.</p><p>To test whether a container holds a valid integer, number, or date, use the <code>is a[n]</code> operator. For example, all of the following expressions evaluate to &quot;true&quot;:</p><pre class="language-text"><code class="language-text">19 is an integer<br>19 is a number<br>3.14 is a number<br>"4/16/1961" is a date</code></pre><h4 id="booleans" tabindex="-1">Booleans</h4><p>Booleans are stored as the strings &quot;true&quot; and &quot;false&quot;.</p><p>Relational operators like <code>&lt;</code> and <code>&gt;=</code> return one of these strings and the <code>if</code> command checks for them.</p><p>TODO: Add more to this section.</p><h4 id="numbers" tabindex="-1">Numbers</h4><p>Numbers are stored as strings and are converted to numbers when used in a context that requires a number. If the conversion fails because a string doesn't contain a valid number, an error dialog with the message &quot;Expected number here&quot; is displayed.</p><p>To test whether a container contains a number, use one of the following:</p><pre class="language-text"><code class="language-text">if container is a number ...<br>if container is not a number ...</code></pre><p>To set a field to a number that is rounded to a given number of decimal places, set <code>numberFormat</code> before setting the field. For example:</p><pre class="language-text"><code class="language-text">set the numberFormat to "0.00" -- for currency<br>put amount into field total</code></pre><p>TODO: Add more to this section.</p><h4 id="strings" tabindex="-1">Strings</h4><p>Literal strings are surrounded by double quotes.</p><p>To embed double quotes in a string, concatenate the <code>quote</code> constant. Attempting to escape the double quote character with a backslash or doubling it does not work. For example:</p><pre class="language-text"><code class="language-text">"foo\"bar\"baz" -- does not work<br>"foo""bar""baz" -- does not work<br>"foo" & quote & "bar" & quote & "baz" -- works!</code></pre><p>The following table describes common operations on strings. In the example scripts, <code>s</code>, <code>s1</code>, and <code>s2</code> are container references, all of which have a string value.</p><table><thead><tr><th>Operation</th><th>Script</th></tr></thead><tbody><tr><td>concatenate</td><td><code>s1 &amp; s2</code></td></tr><tr><td>concatenate with a space</td><td><code>s1 &amp;&amp; s2</code></td></tr><tr><td>include carriage return</td><td><code>s1 &amp; return &amp; s2</code></td></tr><tr><td>length in characters</td><td><code>[the] length of s</code></td></tr><tr><td>length in characters</td><td><code>[the] number of char[acter]s in s</code></td></tr><tr><td>length in characters</td><td><code>length(s)</code></td></tr><tr><td>length in words</td><td><code>[the] number of words in s</code></td></tr><tr><td>substring index</td><td><code>offset(s1, s2)</code> - s1 is substring</td></tr><tr><td>convert to number</td><td><code>number(s)</code> - 0 if invalid TODO: Doesn't work!</td></tr></tbody></table><p>The expression <code>&quot;foo&quot; &amp; &quot;bar&quot;</code> evaluates to <code>&quot;foobar&quot;</code>.</p><p>The expression <code>&quot;foo&quot; &amp;&amp; &quot;bar&quot;</code> evaluates to <code>&quot;foo bar&quot;</code>.</p><p>The <code>offset</code> function returns a 1-based index. If the substring is not found in the string, it returns zero.</p><p>The &quot;Chunked Expressions&quot; section below describes additional string functionality.</p><h4 id="dates" tabindex="-1">Dates</h4><p>HyperTalk can represent dates from 1/1/1 to 12/31/9999.</p><p>The following functions return date values:</p><table><thead><tr><th>Function</th><th>Value Returned or Example</th></tr></thead><tbody><tr><td><code>the sec[ond]s</code></td><td>number since midnight on January 1, 1904</td></tr><tr><td><code>the abbr[ev[iated]] date</code></td><td>&quot;Wed, May 21, 2025&quot;</td></tr><tr><td><code>the date</code></td><td>&quot;5/21/25&quot;</td></tr><tr><td><code>the long date</code></td><td>&quot;Wednesday, May 21, 2025&quot;</td></tr></tbody></table><p>A &quot;tick&quot; is 1/60th of a second.</p><p>To determine if a container holds a valid date, use the <code>is a date</code> operator. The following are examples of valid dates:</p><ul><li>a number of seconds such as 1234567890</li><li>&quot;April 16, 1961&quot;</li><li>&quot;4/16/1961&quot;</li><li>&quot;4/16/61&quot;</li><li>&quot;4-16-1961&quot;</li><li>&quot;4-16-61&quot;</li><li>1961,4,16</li></ul><p>The following code demonstrates using the <code>is a date</code> operator.</p><pre class="language-text"><code class="language-text">if value is a date<br>them answer "valid date"<br>else answer "invalid date"</code></pre><p>The <code>convert</code> command converts a date expression to a specific format and places the result in the <code>it</code> variable. The syntax is <code>convert {date-expr} [from {input-fmt}] to {output-fmt1} [and {output-fmt2}]</code>.</p><p>If the input format is not specified, it guessed based on the input expression. The output format can be specified as a specific date format, a specific time format, or both.</p><table><thead><tr><th>Format Name</th><th>Example</th></tr></thead><tbody><tr><td><code>seconds</code></td><td>1234567890</td></tr><tr><td><code>short date</code></td><td>2/13/43</td></tr><tr><td><code>abbreviated date</code></td><td>Sat, Feb 13, 1943</td></tr><tr><td><code>long date</code></td><td>Saturday, February 13, 1943</td></tr><tr><td><code>dateItems</code></td><td>1943,2,13,23,31,30,1</td></tr></tbody></table><p>The &quot;dateItems&quot; format is a comma-separated string containing the year, month, day, hour, minute, second, and day of the week. The day of the week number is 1 for Sunday, 2 for Monday, ..., and 7 for Saturday.</p><p>Seconds values are from midnight on January 1, 1904. Negative values are before that.</p><p>The format &quot;abbreviated date&quot; can also be written as &quot;abbrev date&quot; or &quot;abbr date&quot;.</p><p>The following code converts a number fo seconds to a <code>dateItems</code> value.</p><pre class="language-text"><code class="language-text">put 1234567890 into seconds<br>convert seconds from seconds to dateItems<br>answer it -- displays a string like "1943,2,13,23,31,30,7</code></pre><p>The following code gets the day of the week of a given date.</p><pre class="language-text"><code class="language-text">put "Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday" into daysOfWeek<br>put "4/16/1961" into bd<br>convert bd from short date to dateItems<br>put the last item in it into dayOfWeek<br>answer item dayOfWeek of daysOfWeek</code></pre><p>The following code gets the date that is two weeks from today.</p><pre class="language-text"><code class="language-text">convert the seconds to dateItems<br>put it into di<br>add 14 to the third item in di -- adds two weeks to day<br>convert di to long date<br>answer it</code></pre><p>If an item in dateItems is set to a value greater than its normal limit, conversions to other formats will still be correct. For example, the hour can be set greater than 24. Conversions will not be correct if any item in dateItems is set to a negative number.</p><h4 id="times" tabindex="-1">Times</h4><p>The following functions return time values:</p><table><thead><tr><th>Function</th><th>Value Returned or Example</th></tr></thead><tbody><tr><td><code>the long time</code></td><td>&quot;2:16:38 PM&quot;</td></tr><tr><td><code>the ticks</code></td><td>number of ticks since Mac was started</td></tr><tr><td><code>the time</code></td><td>&quot;2:16 PM&quot;</td></tr></tbody></table><p>To determine if a container holds a valid time, use the <code>is a date</code> operator. This does not distinguish between dates and times.</p><p>The following code demonstrates using the <code>is a date</code> operator.</p><pre class="language-text"><code class="language-text">if value is a date<br>them answer "valid date"<br>else answer "invalid date"</code></pre><p>The <code>convert</code> command can also be used to convert times.</p><table><thead><tr><th>Format Name</th><th>Example</th></tr></thead><tbody><tr><td>&quot;seconds&quot;</td><td>1234567890</td></tr><tr><td>&quot;short time&quot;</td><td>11:31 PM</td></tr><tr><td>&quot;long time&quot;</td><td>11:31:30 PM</td></tr></tbody></table><p>For example, to get the time 12 hours from now:</p><pre class="language-text"><code class="language-text">convert the seconds to dateItems<br>put it into di<br>add 12 to the fourth item in di -- adds 12 hours<br>convert di to long time<br>answer it -- for 6:49:33 AM this gives 6:49:33 PM</code></pre><p>A date and time can be combined. For example:</p><pre class="language-text"><code class="language-text">put "4/16/1961 10:20" into value<br>convert value [from date and time] to abbr date and short time<br>answer it -- Sun, Apr 16, 1961 10:20AM</code></pre><h3 id="accessing-buttons" tabindex="-1">Accessing Buttons</h3><p>A button reference evaluates to a button object. The syntax is:</p><pre class="language-text"><code class="language-text">[background|card] button "{button-name}"<br>[background|card] button id {id-number}<br>[background|card] button {sequence-number}</code></pre><p>TODO: Can you add &quot;in stack {stack-name}&quot; to these?</p><p>If neither <code>background</code> nor <code>card</code> is specified, it defaults to <code>card</code>.</p><p>Quotes around button names are optional if the name doesn't contain special characters such as spaces.</p><p>The sequence-number option is not recommended because those can change.</p><p>It is more common to refer to buttons by their ID than by their name. The reason is that button names are often used as their displayed labels and a card can have multiple buttons with the same name.</p><p>To change the name of a button:</p><pre class="language-text"><code class="language-text">set name of {button-ref} to {new-name}</code></pre><p>To click a button from a script:</p><pre class="language-text"><code class="language-text">send mouseUp to {button-ref}</code></pre><h3 id="accessing-fields" tabindex="-1">Accessing Fields</h3><p>A field reference evaluates to the value of the field. The syntax is:</p><pre class="language-text"><code class="language-text">[background|card] field "{field-name}"<br>[background|card] field id {id-number}<br>[background|card] field {sequence-number}</code></pre><p>TODO: Can you add &quot;in stack {stack-name}&quot; to these?</p><p>If neither <code>background</code> nor <code>card</code> is specified, it defaults to <code>background</code>.</p><p>The sequence-number option is not recommended because those can change.</p><p>Quotes around field names are optional if the name doesn't contain special characters such as spaces. The keyword &quot;background&quot; can be abbreviated to &quot;bkgnd&quot; or &quot;bg&quot;.</p><p>The <code>put</code> command can be used to change the contents of a field. It has the syntax <code>put {value} into {field-ref}</code>. It the value is a literal string, it must be surrounded by quotes if it contains special characters such as spaces.</p><h3 id="chunk-expressions" tabindex="-1">Chunk Expressions</h3><p>Chunk expressions identify a substring within a string using the keywords <code>char</code>, <code>item</code>, <code>word</code>, and <code>line</code>. Those keywords can be combined in a single expression.</p><p>Indexes for characters, words and lines are all one-based.</p><p>Words are delimited by any number of consecutive spaces and carriage returns. The resulting words never have leading or trailing spaces or carriage returns.</p><p>Items are delimited by some character which is a comma by default. The delimiter character is stored in <code>the itemDelimiter</code>. Items include spaces and carriage returns between the delimiters. The resulting items can have leading and trailing spaces and carriage returns. Items can be used to simulate an array.</p><p>Lines are delimited by carriage return characters. Lines can also be used to simulate an array.</p><p>The following table summarize all the expressions related to chunk expressions.</p><table><thead><tr><th>Operation</th><th>Script</th></tr></thead><tbody><tr><td>character by index</td><td><code>char i of s</code></td></tr><tr><td>substring by index range</td><td><code>char i to j of s</code></td></tr><tr><td>substring by item</td><td><code>item i of s</code></td></tr><tr><td>substring by item range</td><td><code>item i to j of s</code></td></tr><tr><td>substring by word</td><td><code>word i of s</code></td></tr><tr><td>substring by word range</td><td><code>word i to j of s</code></td></tr><tr><td>substring by line</td><td><code>line i of s</code></td></tr><tr><td>substring by line range</td><td><code>line i to j of s</code></td></tr><tr><td>get the item delimiter</td><td><code>the itemDelimiter</code></td></tr><tr><td>set item delimiter</td><td><code>set the itemDelimiter to &quot;{char}&quot;</code></td></tr></tbody></table><p>The following script displays the string &quot;green&quot; in a dialog:</p><pre class="language-text"><code class="language-text">set the itemDelimiter to ";"<br>put "red;green;blue" into colors<br>answer item 2 of colors</code></pre><p>The following expression evaluates to <code>3</code>:</p><pre class="language-text"><code class="language-text">the number of lines in ("red" & return & "green" & return & "blue")</code></pre><p>Suppose the background field named &quot;source&quot; contains the following:</p><pre class="language-text"><code class="language-text">item 1,apple banana cherry date,item3<br>line 2</code></pre><p>In the expression:</p><pre class="language-text"><code class="language-text">char 2 of word 3 of item 2 of line 1 of field "source"</code></pre><p><code>line1</code> is &quot;item 1,apple banana cherry date,item3&quot;<br>and <code>item 2</code> of that is &quot;apple banana cherry date&quot;<br>and <code>word 3</code> of that is &quot;cherry&quot;<br>and <code>char 2</code> of that is &quot;h&quot;.</p><p>The indexes used with the <code>char</code>, <code>item</code>, <code>word</code>, and <code>line</code> keywords can be positive integers OR any of the following keywords:</p><ul><li><code>first</code></li><li><code>mid</code> or <code>middle</code></li><li><code>last</code></li><li><code>any</code> for a random selection</li><li>other ordinal positions including <code>second</code>, <code>third</code>, <code>fourth</code>, <code>fifth</code>, <code>sixth</code>, <code>seventh</code>, <code>eighth</code>, <code>ninth</code>, and <code>tenth</code></li></ul><p>In addition to retrieving text, chunk expressions can be used to modify text. For example, suppose the card field named &quot;fullName&quot; contains &quot;Richard Roy Volkmann&quot;. The following command replaces &quot;Roy&quot; with &quot;Mark&quot;:</p><pre class="language-text"><code class="language-text">put "Mark" into the second word of card field "fullName"`.</code></pre><p>The <code>get</code> command can copy a chunk into the variable <code>it</code>. For example:</p><pre class="language-text"><code class="language-text">put "red,green,blue" into colors<br>get the second item of colors<br>-- it is now "green"</code></pre><p>The <code>put</code> command can update a chunk in a string.</p><pre class="language-text"><code class="language-text">put {source} into {chunk}<br>put {source} before {chunk}<br>put {source} after {chunk}</code></pre><p>Use <code>into</code> to replace a chunk. For example:</p><pre class="language-text"><code class="language-text">put "red,green,blue" into colors<br>put "yellow" into the second item in colors<br>-- colors is now "red,yellow,blue"</code></pre><p>When using <code>before</code> to insert a new chunk, include the appropriate delimiter at the end of the source. For example:</p><pre class="language-text"><code class="language-text">put "red,blue" into colors<br>put "green," before the last item in colors<br>-- colors is now "red,green,blue"</code></pre><p>When using <code>after</code> to insert a new chunk, include the appropriate delimiter at the before of the source. For example:</p><pre class="language-text"><code class="language-text">put "red,blue" into colors<br>put ",green" after the first item in colors<br>-- colors is now "red,green,blue"</code></pre><p>The <code>delete</code> command can delete a chunk from a string. For example:</p><pre class="language-text"><code class="language-text">put "red,green,blue" into colors<br>delete the second item from colors<br>-- colors is now "red,blue"</code></pre><p>The <code>sort</code> command can be used to sort the items or lines within a string. Suppose the card field &quot;colors&quot; contains &quot;red,green,blue&quot;. The command <code>sort items of card field &quot;colors&quot;</code> changes the field value to &quot;blue,green,red&quot;. If the commas in the field value are replaced by carriage return characters then the command <code>sort lines of card field &quot;colors&quot;</code> changes the field value to &quot;blue&quot; &amp; return &amp; &quot;green&quot; &amp; return &amp; &quot;red&quot;.</p><p>An expression can be added to the end of the <code>sort</code> command to specify the value on which to sort. For example, to sort the colors above on their length, use the command <code>sort items of card field &quot;colors&quot; by length(each)</code>.</p><p>See the &quot;Cards - Sorting Cards&quot; section for more details on the <code>sort</code> command.</p><p>When referring to a range, if the end of the range is greater than the number of elements available, the elements up to the end are used and no error is reported.</p><h3 id="scripts" tabindex="-1">Scripts</h3><p>A HyperCard script is a collection of message handler and function definitions. Those contain <a href="https://en.wikipedia.org/wiki/HyperTalk?v=1.1.1" rel="noopener" target="_blank">HyperTalk</a> (most common) or AppleScript commands. Both have an English-like syntax.</p><p>Scripts are associated with a specific object such as a button, field, card, background, or stack.</p><p>To stop a running script, press cmd-period.</p><p>Since you cannot control which scripts will exist in the Home stack or HyperCard app of the users of your stacks, it is risky to depend on those.</p><p>A collection of useful scripts can be found in the Home stack under Stack Kit ... Power Tools ... Script Library.</p><h3 id="script-editor" tabindex="-1">Script Editor</h3><p>To open a Script editor for any kind of object, open its &quot;Info&quot; window and click the &quot;Script...&quot; button.</p><p><img alt="HyperCard Script editor" style="width: 80%" src="/blog/assets/hypercard-script-editor.png?v=1.1.1"></p><p>The title bar describes the object whose script is being edited.</p><p>The following keyboard shortcuts remove the need to open an &quot;Info&quot; window and directly open the Script editor for a given object:</p><table><thead><tr><th>Object Type</th><th>Keyboard Shortcut</th></tr></thead><tbody><tr><td>Button</td><td>select Browse or Button tool and cmd-option-click the button</td></tr><tr><td>Button</td><td>select Button tool and shift-double-click the button</td></tr><tr><td>Field</td><td>select Browse tool and cmd-option-shift click the field</td></tr><tr><td>Field</td><td>select Field tool and shift-double-click the field</td></tr><tr><td>Field</td><td>select Field tool and cmd-option-click the field</td></tr><tr><td>Background</td><td>cmd-option-b</td></tr><tr><td>Card</td><td>cmd-option-c</td></tr><tr><td>Stack</td><td>cmd-option-s</td></tr></tbody></table><p>Often a script only contains a single handler definition. However, to aid in finding a definition inside a long script, the Script editor includes dropdowns in the upper-right for selecting and scrolling to a selected handler or function.</p><p>When editing a script, press the tab key to format it, which indents the lines properly. This uses two-space indentation, but any indentation (including none) will work.</p><p>To select an entire line, triple click it.</p><p>Commands cannot be broken across multiple lines by inserting carriage returns. Instead, press option-return to insert a continuation character. Continuation characters cannot be used in the Message Box.</p><p>To save the changes made to a script, select File ... Save Script or press cmd-s.</p><p>To close the Script editor, click its close box, select File ... Close Script, or press cmd-w.</p><p>To both save and close, press the enter key on the numeric keypad.</p><p>To close all open Script editors, hold down the option key and select File ... Close All Scripts.</p><p>When a Script editor opens, it defaults to being centered horizontally on the screen and being the full height of the screen. The window can be resized and moved.</p><p>HyperCard remembers the last set of Script editor window sizes and positions in the global variable <code>scriptWindowRects</code>. Those are reused when Script editors are closed and later others are opened. The value of <code>scriptWindowRects</code> is a string where each rect is separated by a carriage return and each line has the syntax &quot;{left},{top},{right},{bottom}&quot;.</p><p>The value of <code>scriptWindowRects</code> is last when the HyperCard app is quit. Consider setting it in the Home stack script &quot;startUp&quot; message handler in order to always have Script editors open in preferred locations and sizes. For example:</p><pre class="language-text"><code class="language-text">on startUp<br>  global scriptWindowRects<br>  put "7,289,300,595" into line 1 of scriptWindowRects -- lower-left corner<br>  put "491,289,794,595" into line 2 of scriptWindowRects -- lower-right corner<br>end startUp</code></pre><h3 id="script-menu" tabindex="-1">Script Menu</h3><p>When a Script window is open, the menus change to contain script-related items. The File menu contains &quot;Close Script&quot;, &quot;Save Script&quot;, &quot;Revert to Saved&quot;, and &quot;Print Script...&quot;. The Edit menu contains &quot;Undo&quot;, &quot;Cut&quot;, &quot;Copy&quot;, &quot;Paste&quot;, &quot;Clear&quot;, and &quot;Select All&quot;. The Go menu contains a menu item to jump to each open script window. The Script menu contains the following:</p><ul><li><p>&quot;Find...&quot; (cmd-f)</p><p>This opens the Find dialog shown below.</p><p><img alt="HyperCard Find dialog" style="width: 45%" src="/blog/assets/hypercard-find-dialog.png?v=1.1.1"></p><p>If there are no occurrences then a beep is played.</p></li><li><p>&quot;Find Again&quot; (cmd-g)</p><p>This jumps to the next occurrence of the text searched previously. If there are no more occurrences and the &quot;Wraparound Search&quot; checkbox was not checked then a beep is played.</p></li><li><p>&quot;Enter &quot;Find&quot; String&quot; (cmd-e)</p><p>TODO: What does this do?</p></li><li><p>&quot;Find Selection&quot; (cmd-h)</p><p>This jumps to the next occurrence of the selected text. If there are no more occurrences then a beep is played.</p></li><li><p>&quot;Replace...&quot; (cmd-r)</p><p>This opens the Replace dialog shown below.</p><p><img alt="HyperCard Replace dialog" style="width: 45%" src="/blog/assets/hypercard-replace-dialog.png?v=1.1.1"></p><p>If there are no occurrences then a beep is played.</p></li><li><p>&quot;Replace Again&quot; (cmd-t)</p><p>This replaces the next occurrence. If there are no more occurrences and the &quot;Wraparound Search&quot; checkbox was not checked then a beep is played.</p></li><li><p>&quot;Comment&quot; (cmd-dash)</p><p>This adds <code>--</code> to the beginning of each selected line.</p></li><li><p>&quot;Uncomment&quot; (cmd-equal)</p><p>This removes <code>--</code> from the beginning of each selected line.</p></li><li><p>&quot;Check Syntax&quot; (cmd-k):</p><p>This is only enabled when AppleScript selected instead of HyperTalk. It reports errors in AppleScript syntax.</p></li><li><p>&quot;Set Checkpoint&quot; or &quot;Clear Checkpoint&quot; (cmd-d)</p><p>This toggles whether there is a checkpoint on the line under the cursor. See the &quot;Debugging&quot; section below for details.</p></li></ul><h3 id="debugging" tabindex="-1">Debugging</h3><p>&quot;Checkpoints&quot; mark lines in scripts where execution will stop if reached while running the application. Most other programming languages refer to these &quot;breakpoints&quot;.</p><p>To toggle whether there is a checkpoint on a line within a script window, click anywhere in the line and press cmd-d. Alternatively, this can be done by clicking in the left gutter. All checkpoints are lost when the HyperCard app is quit.</p><p>When there are checkpoints in the scripts and one of them is reached while running the app, two things happen. First, a Script window opens to the display the script containing the checkpoint that was reached. Second, the debug menu appears which is represented by a bug. Once the debug menu is present, the debugging session must be run to completion or be aborted before HyperCard can be quit.</p><p>The debug menu contains the following menu items:</p><ul><li><p>Step (cmd-s)</p><p>This executes the current line and stops at the beginning of the next line.</p></li><li><p>Step Into (cmd-i)</p><p>This steps into a message handler or function that is invoked by the current line. If the handler or function is another script, a script window for that script is opened</p></li><li><p>Trace</p><p>This traces execution of all remaining script lines. Before selecting this, select &quot;Trace Delay...&quot; to set it to a non-zero value, select &quot;Variable Watcher&quot; to open that dialog, and select &quot;Message Watcher&quot; to open that dialog</p></li><li><p>Trace Into (cmd-t)</p><p>TODO: How does this differ from Trace? It seems to do the same thing.</p></li><li><p>Go (cmd-g)</p><p>This continues execution until the initial handler that triggered execution completes or another checkpoint is reached</p></li><li><p>Trace Delay...</p><p>This opens a dialog where the delay in ticks between trace steps can be entered. It defaults to zero, so there is no delay. This means that only the final state of variables can be observed. For a delay of one second, enter 60 and click the OK button. This value resets to zero when the HyperCard app is restarted.</p></li><li><p>Clear Checkpoint (cmd-d)</p><p>This toggles the checkpoint on the current line.</p></li><li><p>Abort (cmd-a)</p><p>This aborts execution of the initial handler that triggered execution.</p></li><li><p>Variable Watcher</p><p>This opens a &quot;Variable Watcher&quot; window where the values of all variables in scope are displayed.</p><p><img alt="HyperCard Variable Watcher" style="width: 45%" src="/blog/assets/hypercard-variable-watcher.png?v=1.1.1"></p><p>To change the values of variables:</p><ol><li>Click the name or value of the variable which copies the value to the bottom pane.</li><li>Modify the value in the bottom pane.</li><li>Press the enter key, not the return key.</li><li>Repeat the steps above for other variables to be modified.</li><li>Continue execution with the Step, Step Into, or Go command to use the new variable values.</li></ol><p>At the end of execution, only global variables are displayed.</p></li><li><p>Message Watcher</p><p>This opens a &quot;Message Watcher&quot; window which logs the names of all messages that are sent.</p><p><img alt="HyperCard Message Watcher" style="width: 45%" src="/blog/assets/hypercard-message-watcher.png?v=1.1.1"></p></li></ul><h3 id="messages" tabindex="-1">Messages</h3><p>HyperCard sends messages for pretty much everything that happens in a session. Messages can be &quot;trapped&quot; by writing message handlers in HyperTalk scripts. These enable acting on messages and optionally preventing their default behavior. For example, the &quot;quit&quot; messages can be trapped to perform cleanup activities before quitting the application, and possibly prevent HyperCard from quitting.</p><p>Messages are generated in HyperCard in the following ways:</p><ol><li>A system event occurs such as opening a stack, opening a card, or clicking a button.</li><li>A script executes a HyperTalk command.</li><li>A script sends a custom message.</li><li>A script explicitly sends a message to a given object with the <code>send</code> command.</li><li>The user sends a message from the Message Box.</li></ol><p>Some actions generate multiple messages. For example, when a new stack is created and the &quot;Open stack in new window&quot; checkbox is not checked, the following messages are sent:</p><ol><li><code>closeCard</code> for the current card of the current stack</li><li><code>closeBackground</code> for the background of the current card</li><li><code>closeStack</code> for the current stack</li><li><code>newStack</code> to create a new stack</li><li><code>newBackground</code> to create the first background in the new stack</li><li><code>newCard</code> to create the first card in the new stack</li><li><code>openStack</code> to open the new stack</li><li><code>openBackground</code> to open the background of the first card in the new stack</li><li><code>openCard</code> to open the first card in the new stack</li></ol><p>For more actions that generate multiple events, see page 446 in &quot;The Complete HyperCard 2.2 Handbook&quot;.</p><p>Messages travel through the object hierarchy, searching for an object that handles them. The levels of the object hierarchy from bottom to top are:</p><ul><li>target button or field</li><li>current card</li><li>current background</li><li>current stack</li><li>Home stack</li><li>HyperCard app</li></ul><p>This is also the order in which scripts are most commonly defined, with button scripts being the most common and Home stack scripts being the least common. It is not possible to add or modify scripts in the HyperCard app itself.</p><p>Each message has a specific entry point which is the object that first has an opportunity to handle the message. For example, the <code>mouseUp</code> message begins at the clicked object (often a button), the <code>openCard</code> message begins at the current card, and the <code>openStack</code> message begins at the current stack.</p><p>If a matching message handler is found at the message entry point, the commands in the handler are executed. Those commands often send additional messages. Processing of the message stops after executing the handler unless it ends with the <code>pass</code> command which forwards the message up to the next level in the object hierarchy.</p><p>If a matching message handler is not found, the search continues at the next level higher in the object hierarchy. If the top of the object hierarchy is reached and no handler is found, the message is ignored and HyperCard carries on, waiting for the next message.</p><p>For more detail, see the section &quot;Message Handlers&quot; below.</p><h4 id="messages-only-for-buttons" tabindex="-1">Messages only for buttons</h4><ul><li><p><code>deleteButton</code></p><p>This is sent when a button is deleted from a card or background.</p></li><li><p><code>newButton</code></p><p>This is sent when a button is added to a card or background.</p></li></ul><h4 id="messages-only-for-fields" tabindex="-1">Messages only for fields</h4><ul><li><p><code>closeField</code></p><p>This is sent when a focus leaves the field and its contents were modified. Also see <code>exitField</code>.</p></li><li><p><code>deleteField</code></p><p>This is sent when a field is deleted from a card or background.</p></li><li><p><code>enterInField</code></p><p>This is sent when the focus is in a field and the enter key (on the numeric keypad) is pressed. Also see <code>returnInField</code>.</p></li><li><p><code>exitField</code></p><p>This is sent when a focus leaves the field and its contents were not modified. Also see <code>closeField</code>.</p></li><li><p><code>newField</code></p><p>This is sent when a field is added to a card or background.</p></li><li><p><code>openField</code></p><p>This is sent when a focus moves into the field.</p></li><li><p><code>returnInField</code></p><p>This is sent when the focus is in a field and the return key is pressed. One reason to trap this message is to prevent users from entering multiple lines of text in a field. In that case, consider adding the <code>beep</code> command to the handler to let the user know that the keystroke was not accepted. Another reason to trap this message is to validate what has been entered so far. Also see <code>enterInField</code>.</p></li><li><p><code>tabKey</code></p><p>This is sent when the focus is in a field and the tab key is pressed. By default this moves the focus to the next field on the current card, or the first field when focus is in the last field. To trap this message and also perform the default behavior, add <code>pass tabKey</code> to the end of the handler.</p></li></ul><h4 id="messages-only-for-cards" tabindex="-1">Messages only for cards</h4><ul><li><p><code>arrowKey</code></p><p>This is sent when any arrow key is pressed. The parameter gives the direction as &quot;left&quot;, &quot;right&quot;, &quot;up&quot;, or &quot;down&quot;.</p></li><li><p><code>close</code></p><p>This is sent when the window containing the card is closed by clicking the close box in the upper left. It is not sent if the user presses cmd-w to close the stack window. A handler prevent the window from being closed by not including the command <code>pass close</code>.</p></li><li><p><code>closeCard</code></p><p>This is sent when leaving a card. To get the name of the card being left, use the expression <code>the name of this card</code>.</p></li><li><p><code>controlKey</code></p><p>This is sent when the control key is pressed in conjunction with another key. The parameter gives the code for the other key pressed where a=1, z=26, 0=48, 1=49, and 9=57. For more codes, see the table under <code>keyDown</code> below. Holding down the shift key does not change the code that is passed.</p></li><li><p><code>deleteCard</code></p><p>This is sent when a card is deleted from its stack.</p></li><li><p><code>functionKey</code></p><p>This is sent when any function key is pressed. The parameter gives the function key number 1 to 15.</p></li><li><p><code>idle</code></p><p>This is sent every tick (1/60th of a second) when no handlers are running. Some commands prevent field editing when executed in this handler. For example, if the handler uses the <code>put</code> command to update another field, that moves focus out of the field in which the user is typing. The user will not be able to continue typing in that field unless they click back into it to regain focus.</p><p>The following handler demonstrates one way to handle this. It updates a field with the current time whenever it changes.</p><pre class="language-text"><code class="language-text">on idle<br>  global gPreviousTime<br>  put the time into currentTime<br>  if currentTime is not gPreviousTime then<br>    put the selectedField into field<br>    put currentTime into card field "timeField"<br>    put currentTime into gPreviousTime<br>    if field is not empty then<br>      do "click at the location of" && field<br>    end if<br>  end if<br>end idle</code></pre><p>This message and <code>mouseWithin</code> are sent in alternating fashion.</p></li><li><p><code>newCard</code></p><p>This is sent when a new card is added to a stack.</p></li><li><p><code>openCard</code></p><p>This is sent when arriving at a different card. To get the name of the card arrived at, use the expression <code>the name of this card</code>.</p></li><li><p><code>returnKey</code></p><p>This is sent when the return key is pressed.</p></li></ul><h4 id="messages-for-buttons-and-fields" tabindex="-1">Messages for buttons and fields</h4><ul><li><p><code>mouseWithin</code></p><p>This is sent every time the mouse moves inside the target. To get the mouse cursor coordinates, use the functions <code>the mouseLoc</code>, <code>the mouseH</code>, and <code>the mouseV</code>.</p></li></ul><h4 id="messages-for-fields-and-cards" tabindex="-1">Messages for fields and cards</h4><ul><li><p><code>commandKeyDown</code></p><p>This is sent when the command key is pressed in conjunction with another key. The parameter gives the character of the other key that was pressed. See <code>keyDown</code> below for details on testing the key.</p></li><li><p><code>enterKey</code></p><p>This is sent when the enter key on the numeric keypad is pressed. TODO: Is this really only sent for cards and not for fields like returnKey?</p></li><li><p><code>keyDown</code></p><p>This is sent when any key is pressed. The parameter gives the key that was pressed. For letter and digit keys, the parameter value is the character. To test for other keys, use the <code>charToNum</code> or <code>numToChar</code> functions to determine the key. For example, to test for the delete key, use one of the following:</p><pre class="language-text"><code class="language-text">if which is numToChar(8) ...<br>if charToNum(which) is 8 ...</code></pre><p>The following table provides some of the key codes.</p><table><thead><tr><th>Key</th><th>Code</th></tr></thead><tbody><tr><td>home</td><td>1</td></tr><tr><td>help</td><td>5</td></tr><tr><td>delete</td><td>8</td></tr><tr><td>tab</td><td>9</td></tr><tr><td>all function keys</td><td>16</td></tr><tr><td>clear</td><td>27</td></tr><tr><td>left arrow</td><td>28</td></tr><tr><td>right arrow</td><td>29</td></tr><tr><td>up arrow</td><td>30</td></tr><tr><td>down arrow</td><td>31</td></tr></tbody></table></li><li><p><code>tabKey</code></p><p>This is sent when the tab key is pressed.</p></li></ul><h4 id="messages-for-buttons%2C-fields%2C-and-cards" tabindex="-1">Messages for buttons, fields, and cards</h4><ul><li><p><code>mouseDoubleClick</code></p><p>This is sent when the mouse button is double clicked while over the target. Before this message is sent, the messages <code>mouseDown</code> and <code>mouseUp</code> are sent.</p></li><li><p><code>mouseDown</code></p><p>This is sent when the mouse button is pressed while over the target.</p></li><li><p><code>mouseEnter</code></p><p>This is sent when the mouse cursor enters the target.</p></li><li><p><code>mouseLeave</code></p><p>This is sent when the mouse cursor leaves the target.</p></li><li><p><code>mouseStillDown</code></p><p>This is sent repeatedly while the mouse button is held down. The frequency of the messages is much more than one per tick.</p></li><li><p><code>mouseUp</code></p><p>This is sent when the mouse button is released while over the target only if it was also pressed on the same target.</p></li></ul><h4 id="messages-for-backgrounds" tabindex="-1">Messages for backgrounds</h4><ul><li><p><code>closeBackground</code></p><p>This is sent before navigating to another card that uses a different background.</p></li><li><p><code>deleteBackground</code></p><p>This is sent when the last card that uses the current background is deleted. It is immediately followed by an <code>openBackground</code> message for the background of the next card that is displayed.</p></li><li><p><code>newBackground</code></p><p>This is sent when a new background is created. It is immediately followed by an <code>openBackground</code> message.</p></li><li><p><code>openBackground</code></p><p>This is after before navigating to another card that uses a different background.</p></li></ul><h4 id="messages-for-stacks" tabindex="-1">Messages for stacks</h4><p>Keep in mind when reading the descriptions below that one stack window is always open. It is not possible to close all of them.</p><p>A reasonable location the handlers for each of these messages is in the Home stack script.</p><ul><li><p><code>closeStack</code></p><p>This is sent when a stack is closed, which can be done by clicking the close box in the upper-left corner of its window or by selecting File ... Close Stack. It is followed by a <code>resumeStack</code> message for the stack that is now active.</p></li><li><p><code>deleteStack</code></p><p>This is sent when a stack is deleted which can be done by selecting File ... Delete Stack... It is preceded by a <code>closeStack</code> message because the current stack is closed before it is deleted. If no other stack is open, it is followed by an <code>openStack</code> message for the Home stack because some stack must be open at all times. If another stack is open, it is followed by an <code>resumeStack</code> message because that stack is made active.</p></li><li><p><code>moveWindow</code></p><p>This is sent when a window that displays a stack is moved.</p></li><li><p><code>newStack</code></p><p>This is sent when a stack is created, which can be done by selecting File ... New Stack... If the &quot;Open stack in new window&quot; checkbox is checked, it is preceded by a <code>suspendStack</code> message for the current stack. Otherwise it is followed by a <code>closeStack</code> message for the current stack. It is followed by an <code>openStack</code> message.</p></li><li><p><code>openStack</code></p><p>This is sent when a stack that is not current opened in a window is opened.</p></li><li><p><code>resumeStack</code></p><p>This is sent when a stack window gains focus. This can happen when a non-active window for an already open stack is clicked, making it the active stack.</p></li><li><p><code>sizeWindow</code></p><p>This is sent when the size of a stack is changed. One way to do this is to select Objects ... Stack Info..., click the &quot;Resize...&quot; button, select a different value from the &quot;Card size&quot; dropdown, and click the &quot;OK&quot; button. Another way is to execute the command <code>set rect of card window to {x}, {y}, {width}, {height}</code>. If the values for x or y differ from their current value, the <code>moveWindow</code> message is also triggered. To get the current location and size of the window, open the Message Box and enter <code>answer rect of card window</code>.</p></li><li><p><code>suspendStack</code></p><p>This is sent in two scenarios which both involve a stack window losing focus. The first is when another stack is opened in a new window In this case the current stack is suspended and an <code>openStack</code> message is sent for the newly opened stack. The second is when another stack window is clicked to make it the active stack. In this case the current stack is suspended and a <code>resumeStack</code> message is sent for the clicked stack.</p></li></ul><h4 id="messages-for-pictures" tabindex="-1">Messages for pictures</h4><p>Pictures are windows that are opened with the <code>picture</code> command. See the &quot;picture Command&quot; section below.</p><p>The following messages are sent to the current card.</p><ul><li><p><code>closePicture</code></p><p>This is sent when a picture window is closed. The first parameter is the picture name. The second parameter is the picture ID.</p><p>A picture window can be closed by clicking its close box or executing the command <code>close window &quot;{name}&quot;</code>.</p></li><li><p><code>mouseDownInPicture</code></p><p>This is sent when the mouse button is pressed down in a picture window. The first parameter gives the window name. The second parameter gives the location of the mouse cursor within the window as a string with the format &quot;{x},{y}&quot;.</p></li><li><p><code>mouseUpInPicture</code></p><p>This is sent when the mouse button is released in a picture window where it was pressed. The first parameter gives the window name. The second parameter gives the location of the mouse cursor within the window as a string with the format &quot;{x},{y}&quot;.</p></li><li><p><code>openPicture</code></p><p>This is sent when a picture window is opened. The first parameter is the picture name. The second parameter is the picture ID.</p></li></ul><p>Getting the mouse cursor location enables implementing actions for clickable regions within a picture.</p><h4 id="messages-for-palettes" tabindex="-1">Messages for palettes</h4><p>Palettes are collections of buttons that are defined by a PLTE resource and matching PICT resource (same name and ID). The PICT resource provides the graphics for the entire palette, including all the buttons. The PLTE resource defines clickable regions (buttons) in the graphic and the commands to execute when each region is clicked.</p><p>The HyperCard app provides three palettes which are Tools, Patterns, and Navigator. The Tools and Patterns palettes are special in that they are not defined by PLTE/PICT resource pairs and do not send messages when opened or closed.</p><p>The Home stack does not define any PLTE resources.</p><p>Custom palettes can be implemented.</p><ul><li><p><code>closePalette</code></p><p>This is sent when a picture window is closed. The parameter is the palette name.</p><p>A palette can be closed by clicking its close box or executing the command <code>close window &quot;{name}&quot;</code>. This does not work with &quot;Tools&quot; or &quot;Patterns&quot;.</p></li><li><p><code>openPalette</code></p><p>This is sent when a palette is opened. The parameter is the palette name.</p><p>For example, the command <code>palette Navigator</code> opens the Navigator palette.</p></li></ul><h4 id="messages-for-the-hypercard-app" tabindex="-1">Messages for the HyperCard app</h4><ul><li><p><code>quit</code></p><p>This is sent immediately before the HyperCard app is quit.</p></li><li><p><code>resume</code></p><p>This is only sent when running in Mac OS 6. It indicates that another app was the active application, but HyperCard is about to become the active application.</p></li><li><p><code>startup</code></p><p>This is sent to the first card in the stack that is opened when HyperCard is started. It is not sent again during that session.</p><p>When HyperCard is started by double clicking its icon, the Home stack is opened. Adding a handler for the <code>startup</code> message to another stack (either in its first card script or its stack script) will only trap this message if that stack was the first one opened in a HyperCard session.</p></li><li><p><code>suspend</code></p><p>This is only sent when running in Mac OS 6. It indicates that HyperCar is the active application, but another app is about to become the active application.</p></li></ul><h4 id="messages-for-menu-selections" tabindex="-1">Messages for menu selections</h4><ul><li><p><code>doMenu</code></p><p>This is sent when a menu item is selected, either using the menu or typing its keyboard shortcut. The first parameter gives the text of the menu item. The second parameter gives the name of the menu containing the menu item. Typically it is not necessary to check the menu name because the menu items are unique across all the menus.</p><p>Trapping this message can be used to disable menu items or add functionality to them. To allow the default functionality of all or most of the menu items to be performed, add the command <code>pass doMenu</code>. If this is not done, the stack will become nearly unusable. To recover, press cmd-option-s to open the stack script and add the command <code>pass doMenu</code>.</p></li><li><p><code>help</code></p><p>This is sent by selecting Go ... Help, pressing cmd-?, or pressing the help key (below the F13 key).</p></li></ul><h3 id="message-handlers" tabindex="-1">Message Handlers</h3><p>A script is a associated with a single object which can be a button, field, background, card, or stack. Each script can define any number of message handlers. These begin with <code>on {message-name}</code> and end with <code>end {message-name}</code>. Each message handler listens for (or traps) a specific kind of message and executes the commands inside it when triggered.</p><p>Suppose a button has the following script:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  help -- opens the "HyperCard Help" stack in a new window<br>end mouseUp</code></pre><p>All HyperTalk commands, including <code>help</code>, send a message. If the <code>help</code> message is not handled by scripts in the current stack, it is handled by the HyperCard application.</p><p>The following can be added to the button script above to trap <code>help</code> messages and provide custom handling.</p><pre class="language-text"><code class="language-text">on help<br>  answer "No soup for you!" -- displays test in a dialog<br>end help</code></pre><p>To exit a message handler early, use the <code>exit</code> command with an argument that is the message name. For example, the handler above could use <code>exit help</code>.</p><p>Only one message handler at a time runs. If one runs for a long time, perhaps by using the <code>wait</code> command, no other messages are handled until the currently running message handler completes. Some messages are queued and processed later. For some messages, only the last queued message of that type is processed later. Some queued messages seem to not be processed. TODO: This is confusing!</p><p>Unlike functions, message handlers cannot return a value.</p><p>For example, in a stack with two cards where the first card contains a button:</p><ol><li><p>Open the stack. The first card is displayed.</p></li><li><p>Select the Button tool.</p></li><li><p>Double-click the button.</p></li><li><p>Click the &quot;Script&quot; button.</p></li><li><p>Enter the following:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  go to next card<br>end mouseUp</code></pre></li><li><p>Press cmd-s to save the changes.</p></li><li><p>Press cmd-w to close the script window.</p></li><li><p>Select Objects ... Card Info...</p></li><li><p>Click the &quot;Script&quot; button.</p></li><li><p>Enter the following:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  beep<br>end mouseUp</code></pre></li><li><p>Select Objects ... Stack Info...</p></li><li><p>Click the &quot;Script&quot; button.</p></li><li><p>Enter the following:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  flash<br>end mouseUp</code></pre></li><li><p>Select the Browse tool.</p></li><li><p>Click outside the button.</p></li><li><p>Notice that the <code>beep</code> command runs because the card script is run.</p></li><li><p>Click the button.</p></li><li><p>Notice that it navigates to the next card because the button script is run.</p></li><li><p>While on the next card, click anywhere inside it except on a button or field.</p></li><li><p>Notice that the window flashes because the stack script is executed. The <code>flash</code> command alternates the color of every pixel on the card between white and black two times.</p></li></ol><p>Another interesting example:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  get the length of card field "user name"<br>  multiply it by 2<br>  answer it<br>end mouseUp</code></pre><p>When changes to a script are saved, the script is not checked for possible errors. Any errors are only found when the script is run.</p><p>Message handlers for custom message names can be implemented in any script. For example:</p><pre class="language-text"><code class="language-text">on doubleBeep<br>  beep<br>  beep<br>end doubleBeep</code></pre><p>To send a message, just use its name. For example, <code>doubleBeep</code>. If no handler is found for the message, a dialog that says &quot;Can't understand {message}.&quot; will open.</p><p>Message handlers can have parameters that appear after the message name in a comma-separated list. For example:</p><pre class="language-text"><code class="language-text">on add n1, n2<br>  answer "The sum is" && (n1 + n2) & "."<br>end add</code></pre><p>To invoke this, use an expression like <code>add 2, 3</code>.</p><h3 id="constants" tabindex="-1">Constants</h3><p>Constants are variables whose values cannot be changed. HyperTalk defines the following predefined constants:</p><ul><li>Boolean values <code>true</code> and <code>false</code></li><li>special characters <code>quote</code>, <code>return</code>, <code>space</code>, and <code>tab</code></li><li><code>pi</code>: approximately 3.14159265359</li><li><code>empty</code>: empty string</li><li>directions <code>up</code>, <code>down</code>, <code>left</code>, and <code>right</code></li><li>horizontal positions <code>left</code>, <code>center</code>, and <code>right</code></li><li>vertical positions <code>top</code>, <code>middle</code>, and <code>bottom</code></li><li><code>the screenRect</code>: size of screen in a string with the content <code>left,top,right,bottom</code> (It seems that left and top are always zero.)</li></ul><h3 id="variables" tabindex="-1">Variables</h3><p>Variables provide a way to store a value and use it later. The value can be a Boolean, number, or string. String values can have any number of lines separated by the carriage return character. The value of a variable can be changed any number of times to any type. Recall that Booleans and numbers are actually stored as strings.</p><p>Variable names must begin with a letter and contain letters, digits, and underscores. By convention, variable names composed of multiple words are written in camelCase. That cannot match a reserved word which includes all commands, functions, properties, and keywords defined by HyperTalk.</p><p>If a variable is used before being set, it will evaluate to a string that is the name of the variable, not an empty string.</p><p>Variables exist in two scopes, local to a specific handler and global across all handlers in all stacks.</p><p>Local variables are not declared and spring into existence when a value is assigned to them. The value of a local variables is lost when the message handler or function in which it is assigned ends.</p><p>Global variables are shared across all cards in all stacks. They must be declared in all handlers and functions where they are used, before they are used. This is done with the <code>global</code> command which is followed by a comma-separated list of names. For example, <code>global gFavoriteColor, gMaxTemperature, gTaxRate</code>. Typically <code>global</code> commands appears at the beginning of handlers and functions.</p><p>It is a common convention to begin the names of all global variables with the letter &quot;g&quot;.</p><p>The values of global variables are not lost when the message handler or function in which they are assigned ends. But their values are lost when the HyperCard app is quit.</p><p>To assign a value to a variable, use the <code>put</code> command. For example, <code>put 3.14159265 into pie</code> (<code>pi</code> is a predefined constant)</p><p>It's a good idea to initialize all global variables used by a stack in the <code>openStack</code> handler associated with the stack. This avoids using values assigned by other stacks.</p><p>HyperTalk can store the name or id of a button/field in a variable, but it cannot store a button or field object in a variable.</p><h3 id="special-variables" tabindex="-1">Special Variables</h3><p>The following variables are set by HyperCard and cannot be modified:</p><ul><li><p><code>it</code>: stores the result of some commands such as <code>answer</code>, <code>ask</code>, <code>get</code>, and <code>read from file</code>.</p></li><li><p>modifier keys state <code>commandKey</code>, <code>optionKey</code>, and <code>shiftKey</code></p></li><li><p><code>me</code>: refers to the current object</p></li><li><p><code>the clickLoc</code>: location of the last mouse click</p></li><li><p><code>the [short|long] date</code>: the current date in two formats (default is short)</p></li><li><p><code>the mouseLoc</code>: current location of the mouse pointer</p></li><li><p>mouse positions <code>mouseH</code> and <code>mouseV</code></p></li><li><p><code>the params</code>: inside a message handler this is set to a string that is a comma-separated list of all the parameter values</p></li><li><p><code>the result</code>: stores the result of some operations such as the following:</p><ul><li><code>go</code>: Sets result to an error message if the card/stack can't be found</li><li><code>visual effect</code>: if the effect can't be completed</li><li><code>open file</code> - sets result to an error message if the file can't be opened</li><li><code>close file</code> - sets result if there's an error closing the file</li><li><code>read from file</code> - sets result to &quot;EOF&quot; when the end of file is reached</li><li><code>write to file</code> - sets result if the write operation fails</li><li>external commands (XCMDs) to indicate success or failure</li><li>external functions (XFCNs) to indicate success or failure</li><li><code>create stack</code>: if an error occurs</li><li><code>save stack</code>: if an error occurs</li><li><code>create</code> - if object creation fails</li><li><code>delete</code> - if object deletion fails</li><li><code>answer</code>: sets to the button that was clicked</li><li><code>do</code>: sets to any error message from the executed script</li><li><code>value</code>: sets if the expression cannot be evaluated</li></ul><p>Typically <code>result</code> is empty if an operation succeeds and is set to an error message if it fails.</p></li><li><p><code>the target</code>: in a handler this refers to the object that initially received the message</p></li><li><p><code>ticks</code>: number of ticks (1/60th of a second) since system startup</p></li></ul><p>The following variables are set by HyperCard and CAN be modified:</p><ul><li><code>the cursor</code>: current cursor shape</li><li><code>the lockScreen</code>: a Boolean that determines whether screen updates will appear during script execution. Setting this to false can improve performance.</li><li><code>the userLevel</code>: current user level from 1 to 5</li></ul><h3 id="commands" tabindex="-1">Commands</h3><p>HyperTalk commands tend to read like English sentences that begin with a verb. Some commands support shorter forms that are less English-like.</p><p>Many commands operate on any kind of container.</p><p>Some HyperTalk commands accept arguments. Arguments can be required or optional. The notation used below shows:</p><ul><li>required arguments in curly braces ({arg})</li><li>optional arguments in square brackets ([arg])</li><li>choices separated by vertical bars (this|that)</li></ul><p>Command names and keywords are not surrounded by any delimiter characters.</p><h4 id="add-command" tabindex="-1">add Command</h4><p>The <code>add</code> command adds a number to the number in a given container. The numeric value of an empty container is zero. An &quot;Expected number here&quot; error occurs if the container is not empty and does not contain a number.</p><p>The following commands add numbers using the <code>it</code> variable:</p><pre class="language-text"><code class="language-text">get 2<br>add 3 to it<br>answer it -- displays 5 in a dialog</code></pre><p>The following commands add the values in two fields and place the result in a third field:</p><pre class="language-text"><code class="language-text">put card field "n1" into result<br>add card field "n2" to result<br>put result into card field "sum"</code></pre><h4 id="answer-command" tabindex="-1">answer Command</h4><p>The <code>answer</code> command display a value in a dialog that contains buttons that can be clicked to close the dialog. If no button labels are specified, an &quot;OK&quot; button is supplied by default. For example, <code>answer &quot;Hello, World!&quot;</code>.</p><p>The first argument is an expression that gives the text display. The value must be 254 characters. Only the first 14 lines are displayed.</p><p>Add the <code>with</code> keyword to specify one, two, or three button labels. For example, <code>answer &quot;Do you like this card?&quot; with &quot;Yes&quot; or &quot;No&quot; or &quot;Maybe&quot;</code>. The last button is styled as the default button that is selected if the return key is pressed.</p><p>The variable <code>it</code> is set to the label of the selected button.</p><p>The value displayed and the button labels all use the Geneva font with a size of 12 and those cannot be changed.</p><p>The width of the <code>answer</code> dialog is fixed, so there is a limit on the width of the buttons. Button labels should be no wider than the width of seven capital &quot;M&quot; characters. Button labels are centered in their button, so labels that are too long to fit will be cropped at their beginning and end.</p><h4 id="answer-file-command" tabindex="-1">answer file Command</h4><p>The <code>answer file</code> command opens a file selection dialog for selecting an existing file. It can restrict the user to only allow selecting a file with a given type. The syntax is <code>answer file {prompt} [of type {file-type}]</code>.</p><p>The file type can be to four file types separated by the keyword <code>or</code>. Each file type can be a creator code (ex. <code>TEXT</code> or <code>STAK</code>) or one of the following keywords: <code>application</code>, <code>paint</code>, <code>painting</code>, <code>picture</code>, <code>stack</code>, or <code>text</code>.</p><p>The variable <code>it</code> is set to the selected file path.</p><p>For example:</p><pre class="language-text"><code class="language-text">answer file "Select a graphic file." of type "TEXT" or "picture".<br>-- Do something with it.<br><br>answer file "Select an application to launch." of type "APPL".<br>if it is not empty then open it</code></pre><h4 id="ask-command" tabindex="-1">ask Command</h4><p>The <code>ask</code> command displays a dialog box that asks the user a question and includes a field where they can type an answer, along with OK and Cancel buttons.</p><p>See the &quot;Dialogs&quot; section for more detail.</p><h4 id="ask-file-command" tabindex="-1">ask file Command</h4><p>The <code>ask file</code> command opens a file selection dialog that prompts the user to specify the path and name of a new file to be created. Existing files cannot be selected. The syntax is <code>ask file {prompt} [with {default-name-expr}</code>.</p><p>The variable <code>it</code> is set to the selected file path.</p><h4 id="beep-command" tabindex="-1">beep Command</h4><p>The <code>beep</code> command plays the System beep sound a given number of times, defaulting to 1. It is commonly used to grab the attention of the user to let them know about a problem such as a keystroke not being accepted.</p><p>To beep 3 times, use <code>beep 3</code>.</p><h4 id="choose-command" tabindex="-1">choose Command</h4><p>The <code>choose</code> command chooses a tool by name (preferred) or number. The &quot;Tools Palette&quot; section gives the names and numbers of each of the tools.</p><p>When a number is used, it identifies a position in the Tools palette where the numbers go across each row and then down. So the &quot;Browse&quot; tool is 1 and the &quot;Polygon&quot; tool is 18.</p><p>For example:</p><pre class="language-text"><code class="language-text">choose Browse tool<br>choose Button tool<br>choose Field tool<br>choose tool 4 -- Select tool</code></pre><p>When a script creates a button, the Button tool is automatically selected.</p><p>When a script creates a field, the Field tool is automatically selected.</p><p>To get the name of the currently selected tool, use the function <code>the tool</code>. When a script changes the selected tool, it is recommended to first get the name of the currently selected tool, and restore that selection at the end of the script.</p><h4 id="click-command" tabindex="-1">click Command</h4><p>The <code>click</code> command simulates clicking the mouse button at a specific pixel location. The syntax is:</p><pre class="language-text"><code class="language-text">click at {x}, {y} [with {modifier1}[, {modifier2}[, {modifier3}]]]</code></pre><p>where the modifiers are <code>shiftKey</code>, <code>commandKey</code> (alias <code>cmdKey</code>), or <code>optionKey</code>.</p><p>For example, to simulate clicking a button, use one of the following approaches:</p><pre class="language-text"><code class="language-text">get the location of button id 19<br>click at it<br><br>OR<br><br>send mouseUp to button id 19</code></pre><p>TODO: Determine why the &quot;Draw House&quot; button doesn't work in &quot;My First Stack&quot;.</p><h4 id="close-command" tabindex="-1">close Command</h4><p>The <code>close</code> command closes another application or a document that was opened in another application. See the <code>open</code> command for opening another application or document.</p><p>For example:</p><pre class="language-text"><code class="language-text">put "Macintosh HD:Applications:Mac Paint 2.0" into application<br>-- This quits the application.<br>-- If there are unsaved changes to document,<br>-- it will prompt the user to save them.<br>close application<br><br>put "Macintosh HD:Documents:Paintings:Masterpiece" into document<br>-- This closes the document, but does not quit the application.<br>-- If there are unsaved changes to the document,<br>-- it will prompt the user to save them.<br>close document with application</code></pre><p>Check the return value of <code>the result</code> for possible error messages. For example, when closing a MacPaint document this returns &quot;Not handled by target program.&quot;</p><p>The <code>close window &quot;{name}&quot;</code> command closes a given window. The name can be that of a stack. For example, after opening the Navigator with the <code>nav</code> command, use the command <code>close window Navigator</code> to close it.</p><h4 id="close-file-command" tabindex="-1">close file Command</h4><p>The <code>close file</code> command closes a file that was opened for reading or writing. See the &quot;File I/O section for more detail.</p><h4 id="convert-command" tabindex="-1">convert Command</h4><p>The <code>convert</code> command converts a date or time to a different format. See examples in the sections &quot;Dates&quot; and &quot;Times&quot; above.</p><h4 id="create-menu-command" tabindex="-1">create menu Command</h4><p>The <code>create stack</code> command creates a new menu. See the section &quot;Customizing Menus&quot; for more detail.</p><h4 id="create-stack-command" tabindex="-1">create stack Command</h4><p>The <code>create stack</code> command creates a new stack. It optionally includes a given background from the current stack. It optionally opens in a new window rather than replacing the current stack in its window.</p><p>The syntax is <code>create stack {path} [with {background-expr}] [in [a] new window]</code>.</p><p>If the path argument is only a name, the stack is created in the same directory as the current stack.</p><p>The function <code>the result</code> returns an error message if saving a copy failed.</p><p>This command does not make the newly created stack active. After creating a stack, use the <code>go stack</code> command to make it the active stack.</p><p>This command is useful in a script that creates a set of cards from known data. For example, a stack of flash cards can be created.</p><h4 id="debug-checkpoint-command" tabindex="-1">debug checkpoint Command</h4><p>The <code>debug checkpoint</code> command adds a debugging checkpoint in a handler or function that persists when the HyperCard app is quit. This differs from debug checkpoints that are added by clicking in the left margin of a script. Those debug checkpoints are lost when the HyperCard application is quit.</p><h4 id="delete-command" tabindex="-1">delete Command</h4><p>The <code>delete</code> command can delete the following:</p><ol><li>a button</li><li>a field</li><li>the entire contents of a container</li><li>a &quot;chunk&quot; from a container</li><li>a menu and all its menu items</li><li>a menu item</li></ol><p>The <code>delete button</code> command deletes a button by its name or ID, but does not trigger a UI update. For example:</p><pre class="language-text"><code class="language-text">delete button "Some Name"<br>go to this card -- updates the UI</code></pre><p>The <code>delete field</code> command deletes a field by its name or ID, but does not trigger a UI update. For example:</p><pre class="language-text"><code class="language-text">delete card field "Some Name"<br>go to this card -- updates the UI</code></pre><p>The <code>delete menu</code> command deletes an entire menu. The <code>delete menuItem</code> command deletes a menu item from a menu. See the section &quot;Customizing Menus&quot; for more detail.</p><p>To delete the entire contents of a container, use the <code>put</code> command to put <code>empty</code> into it. For example, <code>put empty into field &quot;firstName&quot;</code>.</p><p>See the section &quot;Chunk Expressions&quot; for examples of deleting a chunk of container content.</p><p>See the section &quot;Customizing Menus&quot; for examples of deleting a menu or a menu item.</p><h4 id="divide-command" tabindex="-1">divide Command</h4><p>The <code>divide</code> command divides the number in a given container by a number. The numeric value of an empty container is zero. An &quot;Expected number here&quot; error occurs if the container is not empty and does not contain a number.</p><p>The following commands divides numbers using the <code>it</code> variable:</p><pre class="language-text"><code class="language-text">get 6<br>divide it by 2<br>answer it -- displays 3 in a dialog</code></pre><p>The following commands divides the values in two fields and place the result in a third field:</p><pre class="language-text"><code class="language-text">put card field "n1" into result<br>divide result by card field "n2"<br>put result into card field "quotient"</code></pre><p>If the value after the <code>by</code> keyword evaluates to zero, the result is the string &quot;INF&quot;. No error is reported.</p><h4 id="do-command" tabindex="-1">do Command</h4><p>The <code>do</code> command takes any container as a parameter. The value of the container must be a string of HyperTalk commands, each on their own line (separated by carriage returns). This enables creating a script by concatenating strings and then evaluating the result.</p><p>For example, suppose we have a ca76543rd field named &quot;code&quot; and a card button named &quot;Execute&quot;. Users can enter HyperTalk commands on separate lines in the field and execute them by clicking the Execute button which would have the following script:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  do card field "code"<br>end mouseUp</code></pre><p>The <code>do</code> command can also be used to set a variable whose name is defined dynamically. For example, the following code places the value of all background fields in the current card into the variables <code>value1</code>, <code>value2</code>, and so on:</p><pre class="language-text"><code class="language-text">repeat with index = 1 to the number of fields<br>  do "put field" && index && "into value" & index<br>end repeat</code></pre><h4 id="domenu-command" tabindex="-1">doMenu Command</h4><p>The <code>doMenu</code> command executes a menu item as if it were selected by the user. It can be used to execute HyperCard menu items and those on the Apple menu (ex. &quot;Calculator&quot; and &quot;Sherlock 2&quot;). It can even be used when you have deleted the menu containing the menu item or you have opted to hide the menu bar.</p><p>The menus that are present and the items in them can change based on the current state of the application. This includes the type of object that is selected. For example, the &quot;Objects&quot; menu is only present when the Browse, Button, or Field tool is selected. The &quot;Paint&quot; menu is only present when one of the paint tools is selected.</p><p>In some cases the text of menu item changes based on what is selected. For example, the Edit menu contains a &quot;Copy&quot; menu item whose text is:</p><ul><li>&quot;Copy Card&quot; when nothing is selected</li><li>&quot;Copy Button&quot; when a button is selected</li><li>&quot;Copy Field&quot; when a field is selected</li><li>&quot;Copy Picture&quot; when pixels on the paint layer are selected</li></ul><p>It can be easier to select a menu item using the <code>type</code> command to generate its keyboard shortcut. For example, the Copy menu item has the keyboard shortcut cmd-c which can be generated with <code>type &quot;c&quot; with commandKey</code>.</p><p>The syntax is <code>doMenu {menu-item}, [{menu-name}] [without dialog] [with {key1} [, {key2}]]</code>. A commonly used example is <code>doMenu &quot;New Card&quot;</code>.</p><p>The specified menu item must exactly match what is displayed in the menu. Specifying the menu name is only necessary if the same menu item appears in more than one menu, which is uncommon. Adding <code>without dialog</code> suppresses the confirmation dialog normally presented by some commands such as &quot;Delete Stack...&quot; and &quot;Cut Field...&quot; (only when a background field is selected).</p><p>The values for <code>key1</code> and <code>key2</code> describe the modifier keys that should be simulated as being down when the menu item is invoked. They include <code>shiftKey</code>, <code>controlKey</code>, <code>optionKey</code>, and <code>commandKey</code> (or <code>cmdKey</code>).</p><h4 id="drag-command" tabindex="-1">drag Command</h4><p>The <code>drag</code> command simulates dragging the mouse button from one pixel location to another. The syntax is:</p><pre class="language-text"><code class="language-text">drag from {x1}, {y1} to {x2}, {y2} [with {modifier1}[, {modifier2}[, {modifier3}]]]</code></pre><p>where the modifiers are <code>shiftKey</code>, <code>commandKey</code> (alias <code>cmdKey</code>), or <code>optionKey</code>.</p><p>The following code uses the <code>drag</code> command to draw a rectangle:</p><pre class="language-text"><code class="language-text">choose "Rectangle" tool<br>drag from 100, 100 to 300, 200</code></pre><p>The following code animates dragging a button to a new location each time it is clicked:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put the location of me into point<br>  put the first item of point into x<br>  put the second item of point into y<br>  choose "Button" tool<br>  set the dragSpeed to 100<br>  drag from point to x - 50, y + 50<br>  set the dragSpeed to 0<br>  choose Browse Tool<br>end mouseUp</code></pre><h4 id="exit-command" tabindex="-1">exit Command</h4><p>The <code>exit</code> command has two variations.</p><p>The <code>exit {handler-name}</code> command can only be used in a handler and the handler name specified must match that of the handler in which it is used. If the handler that executes this command was invoked by another handler, control returns to the invoking handler.</p><p>The <code>exit to HyperCard</code> command terminates all pending handlers and returns to the idle state. This command can be used in a handler or a function.</p><h4 id="find-command" tabindex="-1">find Command</h4><p>See the &quot;Cards - Finding Cards&quot; section.</p><h4 id="flash-command" tabindex="-1">flash Command</h4><p>The <code>flash</code> command alternates the color of every pixel on the card between white and black two times. An optional argument specifies the number of times to flash. This is useful for calling attention to a condition.</p><h4 id="get-command" tabindex="-1">get Command</h4><p>The <code>get</code> command gets the value of any expression and sets the value of the special variable <code>it</code> to that value. The expression can be a container reference or a property reference.</p><p>The command <code>get {expression}</code> is equivalent to <code>put {expression} into it</code>. To put the expression value into another variable, use the <code>put</code> command instead.</p><p>The following are examples of using the <code>get</code> command:</p><pre class="language-text"><code class="language-text">get 2 + 3<br>get the short date -- e.g. 4/12/25; short is the default and can be omitted<br>get the long date -- e.g. Saturday, April 12, 2025<br>get [the value of] card field "My Foreground Field"<br>get [the value of] background field "My Background Field"<br>get the name of button id 19 -- name is a button property<br>get the hilite of button "My Checkbox" -- hilite is a button property<br>get item 2 of colorList -- where colorList is a comma-delimited string<br>get word 1 of "some long string"<br>get line 3 of field "My Text Area"</code></pre><p>Once the variable <code>it</code> is set by using the <code>get</code> command, it can be used in subsequent expressions. For example, <code>multiply it by 2</code>.</p><p>See more examples of using the <code>get</code> command in the &quot;Chunk Expressions&quot; section.</p><h4 id="edit-script-command" tabindex="-1">edit script Command</h4><p>The <code>edit script</code> command opens a script editor window for a given object. For example:</p><pre class="language-text"><code class="language-text">edit script of button id 19<br>edit script of field "firstName"<br>edit script of this card<br>edit script of this background<br>edit script of this stack<br>edit script of "some stack name"</code></pre><h4 id="export-paint-command" tabindex="-1">export paint Command</h4><p>The <code>export paint</code> command creates a MacPaint-compatible file that contains everything that is visible in the current card. This includes buttons, fields, and the paint layer of both the background and card.</p><p>The syntax is <code>export paint to file {file-path}</code>.</p><p>This command is similar to the menu item File ... Export Paint... which is only present if a paint tool is selected.</p><h4 id="import-paint-command" tabindex="-1">import paint Command</h4><p>The <code>import paint</code> command copies the contents of a MacPaint-compatible file and uses it to replace the paint layer of the current card or background. If the paint layer of a card is replaced, its background paint layer is completely blocked from view.</p><p>The syntax is <code>import paint from file {file-path}</code>.</p><p>This command is similar to the menu item File ... Import Paint... which is only present if a paint tool is selected.</p><h4 id="global-command" tabindex="-1">global Command</h4><p>The <code>global</code> command declares that specified names used in a handler or function refer to global variables. See the section &quot;Variables&quot; for more detail.</p><h4 id="go-command" tabindex="-1">go Command</h4><p>The <code>go</code> command supports going to another card (most common case), background, or stack. It can be followed by the optional preposition &quot;to&quot; which is omitted in the examples below.</p><p>The <code>go</code> command supports many arguments described below.</p><ul><li><p>Ordinal</p><ul><li><code>go first [[marked] card]</code> - 1st card in current stack</li><li><code>go second [[marked] card]</code> - 2nd card in current stack</li><li><code>go third [[marked] card]</code> - 3rd card in current stack</li><li><code>go last [[marked] card]</code> - last card in current stack</li><li><code>go [marked] card {n}</code> - nth card in current stack</li></ul></li><li><p>Positional</p><ul><li><code>go next [[marked] card]</code> - next card</li><li><code>go prev[ious] [[marked] card]</code> - previous card</li><li><code>go this [card]</code> - stay on current card</li></ul></li><li><p>Other ways to go to another card in the current stack</p><ul><li><code>go any [[marked] card]</code> - randomly selects a card?</li><li>`go bkgnd &quot;{background-name}&quot;</li></ul></li><li><p>Other ways to go to another card, possibly in another stack</p><ul><li><p><code>go card id {card-id} [of stack &quot;{stack-name}]</code></p></li><li><p><code>go card &quot;{card-name}&quot; [of stack &quot;{stack-name}]</code></p><p>e.g. <code>go to card &quot;User Preferences&quot; of stack Home</code></p><p>To check for the existence of a card before attempting to go to it, use <code>if there is a card &quot;{card-name}&quot; ...</code></p></li><li><p><code>go back</code> - previously visited card</p></li><li><p><code>go bkgnd &quot;{background-name}&quot; [of stack &quot;{stack-name}&quot;]</code></p><p>To check for the existence of a background before attempting to go to it, use <code>if there is a background &quot;{background-name}&quot; ...</code></p></li><li><p><code>go forth</code> - opposite of <code>go back</code> used after that command</p></li><li><p><code>go home</code> - Home stack</p></li><li><p><code>go stack {stack-name}</code> - first card in a given stack</p></li></ul></li></ul><p>When going to another stack, by default that stack replaces the current stack using the existing window. To instead open it in a new window, add <code>in [a] new window</code>.</p><p>When going to another stack, if the stack cannot be found then by default a file dialog opens to allow the user to locate the stack. To instead handle the error in a script, add <code>without dialog</code>. Check the return value of the function <code>the result</code> which will return an empty string if the stack is found and the string &quot;No such stack&quot; otherwise.</p><p>Another approach is to check whether the stack exists before attempting to go to it. For example:</p><pre class="language-text"><code class="language-text">put "Some Stack Name" into stackName<br>if there is a stack stackName<br>then go to stack stackName<br>else answer "The stack" && stackName && "was not found."</code></pre><p>All the <code>go</code> commands above implement &quot;hard links&quot; that do not depend on other data.</p><p>&quot;Soft links&quot; depend on other data. For example, suppose we have a stack where specific dogs are described on their own card and the card name is the dog name. The first card in the stack can contain a field where a dog name can be entered (named &quot;dogName&quot;) and a button that navigates to the matching card when clicked.</p><p>Add the following script to the stack to define a handler for a custom action that is triggered by the clicking the button or by pressing the return key while in the field:</p><pre class="language-text"><code class="language-text">on findDog name<br>  if there is a card name then<br>    go to card name<br>  else<br>    answer "No matching dog was found."<br>  end if<br>end findDog</code></pre><p>Add the following script to the button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  findDog card field "dogName"<br>end mouseUp</code></pre><p>Add the following script to the field so pressing the return key after ending a dog name has the same effect as clicking the button:</p><pre class="language-text"><code class="language-text">on returnInField<br>  findDog me<br>end returnInField</code></pre><p>A card reference can be stored in a variable and used in <code>go</code> command that is evaluated with the <code>do</code> command. For example:</p><pre class="language-text"><code class="language-text">put "card id 123" into cardRef<br>do "go to" && cardRef<br><br>put "card myCardName" into cardRef<br>do "go to" && cardRef</code></pre><h4 id="help-command" tabindex="-1">help Command</h4><p>The <code>help</code> command opens the &quot;HyperCard Help&quot; stack in a new window.</p><h4 id="hide-command" tabindex="-1">hide Command</h4><p>The <code>hide</code> command hides a button, field, stack title bar, window, menu bar, picture layer, or the Message Box. See the &quot;Hiding and Showing&quot; section for more detail.</p><p>The <code>hide groups</code> command hides the gray underlines under text in fields that has the &quot;Group&quot; style. See the &quot;Groups&quot; section for more detail.</p><p>The <code>hide menuBar</code> command hides all the menus by hiding the menu bar at the top of the screen.</p><h4 id="lock-error-dialogs-command" tabindex="-1">lock error dialogs Command</h4><p>The <code>lock error dialogs</code> command prevents error dialogs from being displayed when errors occur. Instead the message <code>errorDialog {message}</code> is sent to the current card. This sets the global variable <code>lockErrorDialogs</code> to true.</p><p>For example, suppose we have a card with fields named &quot;menuItem&quot; and &quot;errorMessage&quot;, and a button named &quot;Do Menu Item&quot;. When the button is clicked, we want to trigger the menu item whose name is entered in the &quot;menuItem&quot; field. If no such menu item exists, we want to display an error message in the &quot;errorMessage&quot; field.</p><p>Add the following script to the button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put empty into card field "errorMessage"<br>  lock error dialogs<br>  doMenu card field "menuItem"<br>  unlock error dialogs<br>end mouseUp</code></pre><p>Add the following script to the card:</p><pre class="language-text"><code class="language-text">on errorDialog message<br>  put message into card field "errorMessage"<br>end errorDialog</code></pre><h4 id="lock-messages-command" tabindex="-1">lock messages Command</h4><p>The <code>lock messages</code> command prevents the messages <code>openStack</code>, <code>closeStack</code>, <code>suspendStack</code>, and <code>resumeStack</code> from being sent. It sets the global variable <code>lockMessages</code> to true.</p><p>This can be useful in scripts that navigate to other stacks to gather information or update them. When finished, execute the <code>unlock messages</code> command to reenable the effected messages.</p><h4 id="lock-screen-command" tabindex="-1">lock screen Command</h4><p>The <code>lock screen</code> command prevents screen updates during the execution of a handler. Updates resume when the <code>unlock screen</code> command is executed or when the handler ends. Both commands change the value of the global Boolean property <code>lockScreen</code>.</p><p>The <code>lock screen</code> command is frequently used at the beginning of handlers that make multiple modifications to the current card or go to other cards to gather data and then return to the current card.</p><p>See the examples of using the <code>lock screen</code> and <code>unlock screen</code> commands in the &quot;Drawing&quot; and &quot;Demos&quot; sections.</p><h4 id="multiply-command" tabindex="-1">multiply Command</h4><p>The <code>multiply</code> command multiplies the number in a given container by a number. The numeric value of an empty container is zero. An &quot;Expected number here&quot; error occurs if the container is not empty and does not contain a number.</p><p>The following commands multiplies numbers using the <code>it</code> variable:</p><pre class="language-text"><code class="language-text">get 2<br>multiply it by 3<br>answer it -- displays 6 in a dialog</code></pre><p>The following commands multiply the values in two fields and place the result in a third field:</p><pre class="language-text"><code class="language-text">put card field "n1" into result<br>multiply result by card field "n2"<br>put result into card field "product"</code></pre><h4 id="open-command" tabindex="-1">open Command</h4><p>The <code>open</code> command opens another application or a document in another application. See the <code>close</code> command for closing another application or document.</p><p>For example:</p><pre class="language-text"><code class="language-text">put "Macintosh HD:Applications:Mac Paint 2.0" into application<br>open application<br><br>put "Macintosh HD:Documents:Paintings:Masterpiece" into document<br>open document with application</code></pre><p>If the application or document is not found at the given path, a file dialog will open asking the user to find it.</p><p>If the application path is not specified, it will search the directories listed in the Home stack &quot;Search Paths - Applications&quot; card. That includes &quot;Macintosh HD:Applications (Mac OS 9):&quot; by default. Note the trailing colon. Modify this field to add more application paths.</p><p>Similarly, if the document path is not specified, it will search the directories listed in the Home stack &quot;Search Paths - Documents&quot; card. Modify this field to add more document paths.</p><p>The Calculator is a &quot;desk accessory&quot;, not an application. To open it with HyperTalk, select it from the Apple menu with <code>doMenu Calculator</code>.</p><h4 id="open-file-command" tabindex="-1">open file Command</h4><p>The <code>open file</code> command opens a file for reading or writing. See the &quot;File I/O section for more detail.</p><h4 id="palette-command" tabindex="-1">palette Command</h4><p>The <code>palette</code> command displays a &quot;PLTE&quot; resource and its associated &quot;PICT&quot; resource. The &quot;PICT&quot; resource is a picture of a rectangular set of buttons. The &quot;PLTE&quot; resource specifies the clickable regions in the picture and the message to send when each region is clicked.</p><p>An example of a provided palette is the Navigator palette. It can be opened by opening the Message Box and entering <code>nav</code> or <code>palette Navigator</code>. The palette appears near the upper-left corner of the stack window. To specify another location, add <code>, &quot;{x}, {y}&quot;</code> to the end of the <code>palette</code> command.</p><p>To create a new palette:</p><ol><li>Open the Home stack.</li><li>Click the &quot;Stack Kit&quot; button.</li><li>Click &quot;Power Tools&quot;.</li><li>Click &quot;Palette Maker&quot;.</li><li>Follow the steps on that card.</li></ol><h4 id="pass-command" tabindex="-1">pass Command</h4><p>The <code>pass</code> command is used in a message handler to forward the message it trapped up to the next level up in the object hierarchy. The syntax is <code>pass {messageName}</code>. The message name must match that of the containing handler. The parameters passed to the containing handler are automatically included in the forwarded message.</p><p>Once the <code>pass</code> command is executed, no other commands in the current handler are executed. For this reason, the <code>pass</code> command should be the last command in its handler.</p><p>The <code>pass</code> command can only be used in the handler that initially trapped the message, not in other handlers or functions invoked by that handler.</p><h4 id="picture-command" tabindex="-1">picture Command</h4><p>The <code>picture</code> command displays an image in a separate window. It takes up to six arguments.</p><ol><li><p>The name of a file in the same directory as the current stack OR the resource name or ID of a PICT resource in any stack currently open, the Home stack, or the HyperCard app</p></li><li><p>The picture type which can be &quot;file&quot; (default), &quot;resource&quot;, or &quot;clipboard&quot;.</p></li><li><p>The window style which can be one of the following:</p><ul><li>plain: has a title bar containing a close box, but no zoom box or scroll bars</li><li>zoom (default): has a title bar containing a close box, zoom box, and scroll bars</li><li>document: has a title bar containing a close box and scroll bars, but no zoom box</li><li>windoid: like plain, but has a shorter title bar and smaller close box</li><li>roundRect: rounded rectangle with a title bar</li><li>rect: rectangle with no title bar and a thin, black border</li><li>dialog:</li><li>shadow</li></ul><p>In window styles that have a title bar, the file name or resource name are displayed there. Resizable windows cannot be resized to be larger than the picture. The scroll bars are activated when a resizable window is resized to be smaller than the picture.</p></li><li><p>A boolean indicating whether the picture should be immediately visible, defaulting to &quot;true&quot;.</p></li><li><p>The bit depth of the picture from 1 to 32, defaulting to 32.</p></li><li><p>Whether the window should be floating, defaulting to false. This seems like a bad default value! A value of true places the window in the palette domain so it always floats on top of stack windows. A value of false places the window in the document domain so it is on the same level and stack windows and can be partially or fully hidden behind them.</p></li></ol><p>For example:</p><ul><li><code>picture racoon</code> looks for the file &quot;racoon&quot; in the directory of the current stack and displays it in a zoom style window.</li><li><code>picture 137, resource</code> displays the PICT resource found in the HyperCard app using a &quot;zoom&quot; style window.</li><li><code>picture 137, resource, shadow, true, 32, true</code> specifies all the arguments.</li></ul><p>The <code>picture</code> command sets the value returned by the function <code>the result</code> to describe any errors that occurred while attempting to render the picture.</p><p>A picture window can be closed by clicking its close box or executing the command <code>close window &quot;{name}&quot;</code>. The latter is especially useful for window styles that do not include a close box.</p><p>The properties of picture objects include:</p><table><thead><tr><th>Property</th><th>Value</th></tr></thead><tbody><tr><td><code>bitDepth</code></td><td>1 to 32 (cannot set)</td></tr><tr><td><code>dithering</code></td><td>true or false</td></tr><tr><td><code>globalLoc</code></td><td>top-left point in screen coordinates</td></tr><tr><td><code>globalRect</code></td><td>rectangle in screen coordinates</td></tr><tr><td><code>loc</code></td><td>top-left point in stack window coordinates</td></tr><tr><td><code>pictureHeight</code></td><td>in pixels</td></tr><tr><td><code>pictureWidth</code></td><td>in pixels</td></tr><tr><td><code>rect</code></td><td>rectangle in stack window coordinates</td></tr><tr><td><code>scale</code></td><td>-5 to 5, defaulting to 0 (1 doubles the size)</td></tr><tr><td><code>scroll</code></td><td>point in picture that is in the upper-left corner of the window</td></tr><tr><td><code>visible</code></td><td>true or false</td></tr><tr><td><code>zoom</code></td><td>&quot;in&quot; or &quot;out&quot; (state of the zoom box)</td></tr><tr><td><code>properties</code></td><td>list of all the property names above, used to iterate over them</td></tr></tbody></table><p>To get and set properties of picture windows, use the following commands where name is the file name, resource name, or resource id that was specified in the <code>picture</code> command:</p><pre class="language-text"><code class="language-text">get {property} of window {name}<br>set {property} of window {name} to {value}</code></pre><p>For example:</p><pre class="language-text"><code class="language-text">set globalLoc of window "My File" to 17, 50 -- near upper-left of screen<br><br>set loc of window "My File" to 0, 0 -- upper-left of stack window</code></pre><p>If the floating argument is &quot;false&quot;, the picture will be behind the stack window if the stack window is clicked.</p><p>The most common property to set is <code>visible</code> to hide and show the picture.</p><h4 id="play-command" tabindex="-1">play Command</h4><p>The <code>play</code> command plays a series of notes. See the &quot;Sounds&quot; section for more detail.</p><h4 id="pop-command" tabindex="-1">pop Command</h4><p>This removes the card reference that was placed on the stack using the <code>push</code> command AND navigates to that card.</p><p>To remove a card reference from the stack without navigating to that card and place the card reference in a variable, use <code>pop card into someVariable</code>. To navigate to that card later, use <code>do &quot;go to&quot; &amp;&amp; someVariable</code>.</p><h4 id="print-command" tabindex="-1">print Command</h4><p>The <code>print</code> command prints a file from another application. It does not print information found in HyperCard stacks. The syntax is `print {path} with {application}.</p><h4 id="push-command" tabindex="-1">push Command</h4><p>This adds a card reference to the top of the stack, making it easy to return to that card later using the <code>pop</code> command. The card reference is a string with the syntax 'card id {someID} of stack &quot;some-stack-path&quot;'. The stack has a maximum size of 20 card references.</p><p>There are two ways to use this command:</p><ol><li><p>Push the current card onto the stack and then navigate to another card.</p><pre class="language-text"><code class="language-text">push [this] card [of {stack}]</code></pre></li><li><p>Navigate to another card and then push the previous card onto the stack.</p><pre class="language-text"><code class="language-text">push recent card</code></pre></li></ol><h4 id="put-command" tabindex="-1">put Command</h4><p>The <code>put</code> command sets the value of a container. The syntax is <code>put {expression} [into|after|before {container-ref}]</code>. If no container is specified, it defaults to the Message Box.</p><p>For example:</p><pre class="language-text"><code class="language-text">put "Hello World!" -- replaces the Message Box contents<br><br>put "def" into letters -- replaces previous value if any<br>put "abc" before letters -- now set to "abcdef"<br>put "ghi" after letters -- now set to "abcdefghi"<br><br>put "Mark" into card field "first name" -- sets a field by name<br>put "Mark" into card field id 10 -- sets a field by id<br><br>put card field "first name" into firstName -- sets a variable to field contents</code></pre><p>If the keyword <code>field</code> is used and it is not preceded by <code>card</code>, it will default to looking for a background field.</p><p>See more examples of using the <code>put</code> command in the &quot;Chunk Expressions&quot; section.</p><h4 id="put-into-menu-command" tabindex="-1">put into menu Command</h4><p>The <code>put into stack</code> command adds menu items to a menu. See the section &quot;Customizing Menus&quot; for more detail.</p><h4 id="read-from-file-command" tabindex="-1">read from file Command</h4><p>The <code>read from file</code> command reads text from a file that was opened with the <code>open file</code> command. It can optionally begin reading at a specified character index. It can read until:</p><ul><li>the end of the file is reached</li><li>a given number of characters are read</li><li>a given character is encountered</li></ul><p>The syntax is one of:</p><pre class="language-text"><code class="language-text">read from file {file-path-expr} [at {start-index}] for {character-count}<br>read from file {file-path-expr} [at {start-index}] until {character}</code></pre><p>The <code>until</code> character can be <code>EOF</code> or <code>end</code> to read to the end of the file. It can be the constant <code>return</code> to read to the end of the current line.</p><p>The variable <code>it</code> is set to the text that is read or <code>empty</code> if there is no more to read.</p><p>The index of the last character read is maintained. The next <code>read from file</code> command begins reading after that by default. To read from the beginning of the file again, close and reopen the file.</p><p>See the example in the section &quot;File I/O&quot;.</p><h4 id="reset-menubar-command" tabindex="-1">reset menuBar Command</h4><p>The <code>reset menuBar</code> command restores all the menus and their menu items to the default contents. See the section &quot;Customizing Menus&quot; for more detail.</p><h4 id="reset-paint-command" tabindex="-1">reset paint Command</h4><p>The <code>reset paint</code> command resets all paint properties to their default values. This command is typically used at the end of handlers that modify paint properties.</p><p>The pie chart example in the &quot;Drawing&quot; section uses this command in a <code>mouseUp</code> handler.</p><h4 id="save-stack-command" tabindex="-1">save stack Command</h4><p>The <code>save stack</code> command saves a copy of a given stack. The syntax is <code>save stack {stack-expr} as {path}</code>.</p><p>If the path argument is only a name, the stack copy is created in the same directory as the current stack.</p><p>The function <code>the result</code> returns an error message if saving a copy failed.</p><p>This command does not make the newly created stack active.</p><h4 id="select-command" tabindex="-1">select Command</h4><p>The <code>select</code> command selects a button or field. Once a button or field is selected, it is ready to drag to a new location, copy, cut, or delete.</p><p>For example:</p><pre class="language-text"><code class="language-text">select button id 19<br>select field "firstName"<br>select me -- in a button or field handler<br>select target -- in a function called from a button or field handler</code></pre><p>The <code>select target</code> command is useful in functions and in handlers at a higher level in the message hierarchy. For example, when a button is clicked, a <code>mouseUp</code> handler in its card, background, or stack can use this to select the button.</p><p>If a button is selected then the current tool changes to the Button tool, which displays an outline around all the buttons in card. If a field is selected then the current tool changes to the Field tool, which displays an outline around all the fields in card. To avoid having users see those outlines, execute the <code>lock screen</code> command before the <code>select</code> command.</p><h4 id="select-text-of-command" tabindex="-1">select text of Command</h4><p>The <code>select text of</code> command selects a subset of the text in field or positions the text cursor. Either can be specified with a chunk expression.</p><p>When text is selected, the user can begin typing to replaced it.</p><p>For example:</p><pre class="language-text"><code class="language-text">-- Select all the current field.<br>select text of me<br><br>-- Select all the text in a field.<br>select text of card field "story"<br><br>-- Place the text cursor at the beginning of a field.<br>select before text of card field "story"<br><br>-- Place the text cursor at the end of a field.<br>select after text of card field "story"<br><br>-- Select words 2, 3, and 4 in a field.<br>select word 2 to 4 of card field "story"<br><br>-- Place the text cursor between characters 2 and 3 of a field.<br>select before char 3 of card field "story"<br><br>-- Place the text cursor between characters 3 and 4 of a field.<br>select after char 3 of card field "story"</code></pre><p>The function <code>the selectedText</code> returns the selected text.</p><p>Each field can have only one contiguous range of selected characters.</p><p>To unselect the currently selected text, use the command <code>select empty</code>.</p><h4 id="send-command" tabindex="-1">send Command</h4><p>The <code>send</code> command manually sends a message to a specific object. It is often used to simulate user actions such as clicking a button. Its syntax is <code>send &quot;messageName [{parameterList}]&quot; to {objectReference}</code>. The <code>objectReference</code> can refer to a button, field, card, background, stack (including the <code>Home</code> stack), or the <code>HyperCard</code> application.</p><p>For example:</p><pre class="language-text"><code class="language-text">send "mouseUp" to button "myButton"</code></pre><p>The <code>send</code> command should not be used to send a message to the current object. For example, the command <code>send &quot;mouseUp&quot; to me</code> is equivalent to the command <code>mouseUp</code>.</p><p>The <code>send</code> command can also be use used to bypass handlers in the object hierarchy. For example, suppose the current stack has a <code>doMenu</code> handler. We can use the <code>doMenu</code> command and bypass that handler with a command like <code>send &quot;doMenu New Card&quot; to HyperCard</code>.</p><h4 id="set-command" tabindex="-1">set Command</h4><p>The <code>set</code> command sets the value of a global or object property. The object can be a button, field, card, background, or stack. The syntax is <code>set {property-ref} [of {object-ref}] to {value}</code>.</p><p>For example:</p><pre class="language-text"><code class="language-text">set the visible of button "save" to false</code></pre><p>There are around 40 global properties. To view the current value of a global property, open the Message Box and enter <code>answer the {global-property-name}</code>.</p><p>Highlights of the global properties include:</p><ul><li><code>cursor</code>: current mouse cursor shape (see the &quot;Mouse Cursor&quot; section)</li><li><code>dragSpeed</code>: controls how fast the mouse cursor moves when the <code>drag</code> command is executed; defaults to <code>0</code> which jumps immediately to the target point</li><li><code>itemDelimiter</code>: delimiter character between items in fields</li><li><code>scriptTextFont</code>: font family used in script editor windows; defaults to Monaco</li><li><code>scriptTextSize</code>: font size used in script editor windows; defaults to 9</li><li><code>stacksInUse</code>: list of paths to stacks currently in the message hierarchy</li><li><code>textArrows</code>: Boolean indicating if the arrow keys can be used to move the text cursor in fields</li><li><code>userLevel</code>: 1 to 5</li></ul><h4 id="show-command" tabindex="-1">show Command</h4><p>The <code>show</code> command shows a button, field, stack title bar, window, menu bar, picture layer, or the Message Box. See the &quot;Hiding and Showing&quot; section for more detail.</p><p>The <code>show groups</code> command displays gray underlines under text in fields that has the &quot;Group&quot; style. See the &quot;Groups&quot; section for more detail.</p><h4 id="sort-command" tabindex="-1">sort Command</h4><p>The <code>sort</code> command sorts cards within a stack. See the &quot;Cards - Sorting Cards&quot; section.</p><h4 id="start-using-command" tabindex="-1">start using Command</h4><p>The <code>start using</code> command inserts a given stack into the message hierarchy. Inserting the same stack into multiple other stacks allows them to share functions, handlers, and resources like icons and sounds.</p><p>The stack is inserted before the Home stack and before the last inserted stack in the message hierarchy. For example, after executing the commands <code>start using stack &quot;Alpha&quot;</code> and <code>start using stack &quot;Beta&quot;</code>, the object hierarchy from top to bottom becomes:</p><ul><li>HyperCard</li><li>Home stack</li><li>Alpha stack</li><li>Beta stack</li><li>current stack</li><li>current background</li><li>current card</li><li>a button or field</li></ul><p>Up to ten stacks can be inserted into the message hierarchy.</p><h4 id="stop-using-command" tabindex="-1">stop using Command</h4><p>The <code>stop using</code> command removes a given stack from the message hierarchy. For example, <code>stop using stack &quot;Alpha&quot;</code>. See the description of the <code>start using</code> command above.</p><h4 id="subtract-command" tabindex="-1">subtract Command</h4><p>The <code>subtract</code> command subtracts a number from the number in a given container. The numeric value of an empty container is zero. An &quot;Expected number here&quot; error occurs if the container is not empty and does not contain a number.</p><p>The following commands subtract numbers using the <code>it</code> variable:</p><pre class="language-text"><code class="language-text">get 5<br>subtract 2 from it<br>answer it -- displays 3 in a dialog</code></pre><p>The following commands subtracts the values in two fields and place the result in a third field:</p><pre class="language-text"><code class="language-text">put card field "n1" into result<br>subtract card field "n2" from result<br>put result into card field "difference"</code></pre><h4 id="type-command" tabindex="-1">type Command</h4><p>The <code>type</code> command simulates the user typing text. The syntax is:</p><pre class="language-text"><code class="language-text">type {string-expression} [with {modifier1}[, {modifier2}[, {modifier3}]]]</code></pre><p>This command can be used to type a keyboard shortcut. For example, as an alternative to using <code>doMenu First</code> to go to the first card in the current stack, use <code>type &quot;1&quot; with commandKey</code>. As an alternative to using <code>doMenu &quot;Cut Text&quot;</code> to cut selected text, use <code>type &quot;x&quot; with commandKey</code>.</p><p>To type into a field, first use the <code>select</code> command to move focus to the target field and position the text cursor.</p><p>For example:</p><pre class="language-text"><code class="language-text">select after text of card field "story"<br>put "The quick brown fox jumps over the lazy dog." into text<br>type text</code></pre><p>This adds the text so quickly that there is no perceptible difference between using the <code>type</code> command and the following:</p><pre class="language-text"><code class="language-text">put text into card field "story"</code></pre><p>The following code types the characters one at a time with a short delay between each:</p><pre class="language-text"><code class="language-text">repeat with i = 1 to length(text)<br>  type char i of text<br>  wait 5 ticks<br>end repeat</code></pre><h4 id="unlock-error-dialogs-command" tabindex="-1">unlock error dialogs Command</h4><p>The <code>unlock error dialogs</code> command resumes allowing error dialogs to be displayed when an error occurs. This sets the global variable <code>lockErrorDialogs</code> to false. See the example in the description of the <code>lock error dialogs</code> command.</p><h4 id="unlock-messages-command" tabindex="-1">unlock messages Command</h4><p>The <code>unlock messages</code> command allows messages that are prevented by the <code>lock messages</code> command to be sent again. It sets the global variable <code>lockMessages</code> to false.</p><h4 id="unlock-screen-command" tabindex="-1">unlock screen Command</h4><p>The <code>unlock screen</code> command resumes updates to the screen after the <code>lock screen</code> command has been executed. See the description of the <code>lock screen</code> command above.</p><p>The <code>unlock screen</code> command takes optional arguments to specify a visual effect to be applied. This is useful when the current card was modified after the <code>lock screen</code> command was executed. The modifications could include scripted use of the painting tools and adding/modifying/removing buttons and fields.</p><p>The &quot;Drawing&quot; section contains an example of drawing a pie chart that includes the following commands:</p><pre class="language-text"><code class="language-text">lock screen<br>-- Make modifications to the current card.<br>unlock screen with dissolve slow</code></pre><h4 id="visual-command" tabindex="-1">visual Command</h4><p>The <code>visual</code> command specifies a transition effect that occurs on card navigation. See the &quot;Cards - Card Transitions&quot; section for more details on the <code>visual</code> command.</p><h4 id="wait-command" tabindex="-1">wait Command</h4><p>The <code>wait</code> command has three variations. The syntax to pause for a given amount of time is:</p><pre class="language-text"><code class="language-text">wait [for] {n} [tick|ticks|second|seconds]</code></pre><p>If no unit is specified, it defaults to <code>ticks</code>. A tick is approximately 1/60th of a second.</p><p>For example, <code>wait for 2 seconds</code>.</p><p>The syntax to iterate until a given Boolean expression becomes true is:</p><pre class="language-text"><code class="language-text">wait until {boolean-expression}</code></pre><p>For example, <code>wait until the shiftKey is down</code>.</p><p>The syntax to iterate while a given Boolean expression is true is:</p><pre class="language-text"><code class="language-text">wait while {boolean-expression}</code></pre><p>For example, <code>wait while the shiftKey is up</code>.</p><h4 id="write-to-file-command" tabindex="-1">write to file Command</h4><p>The <code>write to file</code> command writes text to a file that was opened with the <code>open file</code> command. It can optionally begin writing at a specified character index where zero is the index for writing the first character. To append to an existing file, end the command with <code>at end</code>.</p><p>The syntax is <code>write {string-expr} to file {file-path-expr} [at {start-index}]</code>.</p><p>This command can be used create any kind of text file, including CSV files with comma or tab delimiters.</p><p>See the example in the section &quot;File I/O&quot;.</p><h4 id="xy-command" tabindex="-1">xy Command</h4><p>The <code>xy</code> command is helping in determining the coordinates to use in other commands. Type <code>xy</code> in the Message Box and press return. The cursor will change to a crosshair. Move the mouse over the active stack to see the mouse coordinates update in real time inside the Message Box. Click the mouse to end the updates.</p><h3 id="math" tabindex="-1">Math</h3><p>HyperCard supports the arithmetic infix binary operators <code>+</code>, <code>-</code>, <code>*</code>, <code>\</code>, and <code>mod</code>. Normal precedence rules apply. Parentheses can be used to change the evaluation order.</p><p>A &quot;container&quot; is a variable or field.</p><p>To add a number to a container that already contains a number, use the <code>add</code> command. For example, <code>add 3 to total</code>.</p><p>To subtract a number from a container that already contains a number, use the <code>subtract</code> command. For example, <code>subtract 3 from total</code>.</p><p>To multiply a number in a container that already contains a number, use the <code>multiply</code> command. For example, <code>multiply total by 3</code>.</p><p>To divide a number in a container that already contains a number, use the <code>divide</code> command. For example, <code>divide total by 3</code>.</p><p>The built-in mathematical functions include <code>abs</code>, <code>annuity</code>, <code>atan</code>, <code>average</code>, <code>cos</code>, <code>ln</code>, <code>ln1</code>, <code>log2</code>, <code>exp</code>, <code>exp1</code>, <code>exp2</code>, <code>ln</code>, <code>ln1</code>, <code>log2</code>, <code>max</code>, <code>min</code>, <code>random</code>, <code>round</code>, <code>sin</code>, <code>sqrt</code>, <code>sum</code>, <code>tan</code>, and <code>trunc</code></p><h3 id="conditional-logic" tabindex="-1">Conditional Logic</h3><p>Conditional logic can be implemented with an if-then-else statement. When the branches only contain single statements, the following syntax can be used:</p><pre class="language-text"><code class="language-text">if condition1<br>then statement1<br>else if condition2<br>then statement2<br>else statement3</code></pre><p>In this form, <code>end if</code> is not allowed.</p><p>When the branches can contain multiple statements, the following syntax can be used:</p><pre class="language-text"><code class="language-text">if condition1 then<br>  statements1<br>else if condition2 then<br>  statements2<br>else<br>  statements3<br>end if</code></pre><p>In this form, <code>end if</code> is required.</p><p>Conditions can use the following &quot;operators&quot;:</p><ul><li><code>is</code> or <code>=</code></li><li><code>is not</code> or <code>&lt;&gt;</code></li><li><code>&lt;</code></li><li><code>&gt;</code></li><li><code>&lt;=</code></li><li><code>&gt;=</code></li></ul><p>For example, <code>is empty</code> checks for an empty string.</p><p>Conditions can be combined with <code>and</code> and <code>or</code>.</p><p>Conditions can be negated with <code>not</code>.</p><h3 id="iteration" tabindex="-1">Iteration</h3><p>To repeat a set of statements forever, or until <code>exit repeat</code> is reached, use a <code>repeat</code> statement. For example:</p><pre class="language-text"><code class="language-text">repeat [forever]<br>  ...<br>  if condition then exit repeat<br>  ...<br>end repeat</code></pre><p>To repeat a set of statements a given number of times use a <code>repeat for</code> statement. For example:</p><pre class="language-text"><code class="language-text">repeat [for] 5 [times]<br>  ...<br>end repeat</code></pre><p>To repeat a set of statements until a condition is true use a <code>repeat until</code> statement. For example:</p><pre class="language-text"><code class="language-text">repeat until cowsComeHome<br>  ...<br>end repeat</code></pre><p>To repeat a set of statements while a condition is true use a <code>repeat while</code> statement. For example:</p><pre class="language-text"><code class="language-text">repeat while cowsAreGone<br>  ...<br>end repeat</code></pre><p>To iterate over a range of integers, use a <code>repeat with</code> statement. For example:</p><pre class="language-text"><code class="language-text">repeat with name = start [down] to end<br>  ...<br>end repeat</code></pre><h3 id="hiding-and-showing" tabindex="-1">Hiding and Showing</h3><p>The <code>hide</code> and <code>show</code> commands set the <code>visible</code> property of a button, field, stack title bar, window, or menu bar.</p><p>The <code>hide</code> and <code>show</code> commands set the <code>showPict</code> property of a picture layer in a card or background.</p><p>For example, a button can toggle between hiding and showing a field with the following script:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put "card field help" into ref<br>  if the visible of ref then<br>    hide ref<br>    set the name of me to "Show Help"<br>  else<br>    show ref<br>    set the name of me to "Hide Help"<br>  end if<br>  -- Here is another way to toggle visibility.<br>  -- set the visible of ref to not the visible of ref<br>end mouseUp</code></pre><p>Following table summarizes the visibility commands.</p><table><thead><tr><th>Target</th><th>To Hide</th><th>To Show</th></tr></thead><tbody><tr><td>a button</td><td><code>hide {button-ref}</code></td><td><code>show {button-ref}</code></td></tr><tr><td>a field</td><td><code>hide {field-ref}</code></td><td><code>show {field-ref}</code></td></tr><tr><td>stack title bar</td><td><code>hide titleBar</code></td><td><code>show titleBar</code></td></tr><tr><td>a window</td><td><code>hide window {name}</code></td><td><code>show window {name}</code></td></tr><tr><td>menu bar</td><td><code>hide menuBar</code></td><td><code>show menuBar</code></td></tr><tr><td>picture layer</td><td><code>hide card|background picture</code></td><td><code>show card|background picture</code></td></tr><tr><td>Message Box</td><td><code>hide message box</code></td><td><code>show message box</code></td></tr></tbody></table><p>Hiding the title bar removes the ability of users to drag the window to a new location.</p><p>Other names that can be used in place of &quot;message box&quot; include &quot;message window&quot;, &quot;message&quot;, and &quot;msg&quot;.</p><p>A stack name can be used to hide and show its window without closing the stack.</p><p>Provided window names include &quot;Tools&quot; and &quot;Patterns&quot;.</p><p>The show command can include &quot;at {x},{y}&quot; to show anything but the menu bar and title bar at a specific location. If the object is already showing, it is moved to the specified location. For buttons and fields, the coordinates are relative to the upper-left of the stack window content area. For all other objects, the coordinates are relative to the upper-left of the screen.</p><h3 id="mouse-cursor" tabindex="-1">Mouse Cursor</h3><p>The mouse cursor can be changed to any of the following strings: <code>arrow</code> (standard), <code>busy</code>, <code>cross</code>, <code>hand</code>, <code>ibeam</code> (when text can be entered), <code>none</code>, <code>plus</code>, or <code>watch</code>. For example, <code>set cursor to watch</code>. The cursor is automatically reset to the appropriate value when no message handler is running (idle).</p><p>The current value of the global property <code>cursor</code> cannot be retrieved with the expression <code>the cursor</code>.</p><h3 id="mouse-messages" tabindex="-1">Mouse Messages</h3><p>The following mouse-related messages are automatically triggered:</p><ul><li><code>mouseDoubleUp</code> - double click</li><li><code>mouseDown</code> - pressed but not released</li><li><code>mouseEnter</code> - entered</li><li><code>mouseLeave</code> - exited</li><li><code>mouseStillDown</code> - triggered continuously while over</li><li><code>mouseUp</code> - released</li><li><code>mouseWithin</code> - triggered on every move within</li></ul><h3 id="functions" tabindex="-1">Functions</h3><p>Functions are similar to message handlers, but always return a value. They must be called in a context where a value is required.</p><p>When a function is called, the search to find its definition follows the same path as searching for a message handler. It searches up the object hierarchy starting with the script making the call.</p><p>HyperCard defines many functions that are invoked with &quot;the {name}&quot; and a few that do not begin with &quot;the&quot; (<code>me</code>, <code>offset</code>, and <code>target</code>). Custom functions can be defined inside scripts. Like message handlers, they can have parameters.</p><p>Function definitions have the following syntax:</p><pre class="language-text"><code class="language-text">function fnName -- no parameters<br>  ...<br>end fnName<br><br>function fnName param1, param2 -- parameters separated by commas<br>  ...<br>end fnName</code></pre><p>The <code>return</code> command is used to return a value from a function. Any number of these can be used inside a function, including none in functions that only cause side effects. Commands in a function body that follow an unconditional <code>return</code> are never executed.</p><p>Functions are called with the following syntax. The open and closing parentheses are required, even if no arguments are being passed.</p><pre class="language-text"><code class="language-text">fnName()<br>fnName(arg1, arg2)</code></pre><p>The following function takes two numbers and returns their sum. This can be defined in any script. If it is defined in the stack script of the current stack, it can be invoked from any card using the Message Box.</p><pre class="language-text"><code class="language-text">function sum n1, n2<br>  return n1 + n2<br>end sum</code></pre><p>To call this function and display its result in a dialog, enter the following in the Message Box.</p><pre class="language-text"><code class="language-text">answer sum(2, 3)</code></pre><h3 id="built-in-functions" tabindex="-1">Built-in Functions</h3><p>HyperCard provides many built-in functions, most of which are prefixed with the keyword &quot;the&quot;. Examples of these functions include:</p><p>TODO: Finish summarizing what each of these do.</p><ul><li><p><code>the abbreviated date</code>: e.g. Tue, May 13, 2025</p><p><code>abbreviated</code> can be shortened to <code>abbrev</code> or <code>abbr</code>.</p></li><li><p><code>the clickChunk</code></p><p>When a locked field is clicked, its <code>mouseUp</code> handler can use the function <code>the clickChunk</code> to get a chunk expression that describes the range of characters that contains the clicked word. It will have a value like &quot;char 26 to 33 of card field 3&quot;. Also see <code>the clickLine</code> and <code>the clickText</code>.</p></li><li><p><code>the clickH</code>: x coordinate of the last mouse click</p></li><li><p><code>the clickLine</code></p><p>When a locked field is clicked, its <code>mouseUp</code> handler can use the function <code>the clickLine</code> to get a chunk expression that describes the range of characters that contains the clicked word. It will have a value like &quot;line 2 of card field 3&quot;. Also see <code>the clickChunk</code> and <code>the clickText</code>.</p></li><li><p><code>the clickLoc</code>: string containing x and y coordinates from upper-left of window separated by a comma of the last mouse click</p></li><li><p><code>the clickText</code></p><p>When a locked field is clicked, its <code>mouseUp</code> handler can use the function <code>the clickText</code> to get the word that was clicked. Also see <code>the clickChunk</code> and <code>the clickLine</code>.</p></li><li><p><code>the clickV</code>: y coordinate of the last mouse click</p></li><li><p><code>the commandKey</code>: <code>up</code> or <code>down</code></p></li><li><p><code>the date</code>: e.g. 5/13/25</p></li><li><p><code>the destination</code></p></li><li><p><code>the foundChunk</code></p></li><li><p><code>the foundField</code></p></li><li><p><code>the foundLine</code></p></li><li><p><code>the foundText</code></p></li><li><p><code>the length of {string}</code>: number of characters in string</p></li><li><p><code>the length of {field-ref}</code>: number of characters in field content</p></li><li><p><code>the long date</code>: e.g. Tuesday, May 13, 2025</p></li><li><p><code>the long time</code>: e.g. 8:20:52 PM</p></li><li><p><code>me</code>: evaluates to the value the object whose handler is being executed; can use in handlers, but not in functions</p></li><li><p><code>the menus</code>: a string containing all the menu names separated by newlines; includes the system menus Apple, Help, and Application</p></li><li><p><code>the mouse</code>: <code>up</code> or <code>down</code></p></li><li><p><code>the mouseClick</code></p></li><li><p><code>the mouseH</code>: x coordinate of the current mouse location</p></li><li><p><code>the mouseLoc</code>: string containing x and y coordinates of the current mouse location from upper-left of window separated by a comma of the current mouse location</p></li><li><p><code>the mouseV</code>: y coordinate of the current mouse location</p></li><li><p><code>the number of [card|bkgnd] buttons</code></p></li><li><p><code>the number of [card|bkgnd] fields</code></p></li><li><p><code>the number of backgrounds</code></p></li><li><p><code>the number of cards [of {bkgnd-expr}]</code></p></li><li><p><code>the number of marked cards</code>: in the current stack; To mark a card, open its &quot;Card Info&quot; dialog and check the &quot;Card Marked&quot; checkbox.</p></li><li><p><code>the number of menuItems of {menu-expr}</code></p></li><li><p><code>the number of menus</code>: includes the system menus Apple, Help, and Application</p></li><li><p><code>the number of windows</code>: TODO: result is higher than expected</p></li><li><p><code>the optionKey</code>: <code>up</code> or <code>down</code></p></li><li><p><code>the param</code></p></li><li><p><code>the paramCount</code></p></li><li><p><code>the params</code></p></li><li><p><code>the random</code></p></li><li><p><code>the result</code></p></li><li><p><code>the screenRect</code></p></li><li><p><code>the sec[ond]s</code>: e.g. 3830012502; seconds since ?</p></li><li><p><code>the selectedButton</code></p></li><li><p><code>the selectedChunk</code></p></li><li><p><code>the selectedField</code></p></li><li><p><code>the selectedLine[s] of [{field-ref}|{button-ref}]</code></p></li><li><p><code>the selectedLoc</code></p></li><li><p><code>the selectedText [of [{field-ref}|{button-ref}]</code></p></li><li><p><code>the shiftKey</code>: <code>up</code> or <code>down</code></p></li><li><p><code>the sound</code></p></li><li><p><code>the stacks</code></p></li><li><p><code>the sum</code></p></li><li><p><code>the systemVersion</code></p></li><li><p><code>[the] target</code>: reference to the object that triggered the message being processed, such as a specific button or field; can use in handlers and functions</p></li><li><p><code>the ticks</code></p></li><li><p><code>the time</code>: e.g. 8:20 PM</p></li><li><p><code>the tool</code>: e.g. &quot;browse tool&quot;</p></li><li><p><code>the value</code></p></li><li><p><code>the version</code>: of HyperCard; e.g. 2.41</p></li><li><p><code>the windows</code></p></li></ul><h3 id="dialogs" tabindex="-1">Dialogs</h3><p>To display a dialog box that displays specified text and includes an &quot;OK&quot; button that can be clicked to dismiss it, use the <code>answer</code> command. For example:</p><pre class="language-text"><code class="language-text">answer "Good morning!"</code></pre><p>To display a dialog box that asks the user a question and includes a set of buttons they can click, use the <code>answer</code> command. By default, the buttons &quot;OK&quot; and &quot;Cancel&quot; are included. The result will be in a variable named <code>result</code>. For example:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  answer "Are you happy?" with Yes or No or Maybe<br>  put it into card field "user name" -- can change card to background<br>end mouseUp</code></pre><p>To hide the value entered by the user, use <code>answer password</code>.</p><p>To display a dialog box that asks the user a question and includes a field where they can type an answer, along with OK and Cancel buttons, use the <code>ask</code> command. The response is placed in the <code>it</code> variable. For example, the following script can be attached to a button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  ask "What is your name?"<br>  put "Hello," && it & "!" into greeting<br>  put greeting into card field "user name"<br>end mouseUp</code></pre><p>To supply a default response in the dialog, add the <code>with</code> keyword followed by an expression that evaluates to the default value. The default value will appear in the dialog field and will be selected so the user can just begin typing to replace it. For example, <code>ask &quot;What is your favorite color?&quot; with &quot;yellow&quot;</code>.</p><p>The default value can be just a string that shows the required format of the value. For example, <code>ask &quot;When is your birthday?&quot; with &quot;month day&quot;</code>.</p><p>To hide the user response from onlookers, use the <code>ask password</code> command. This displays filled circles in the field in place of the characters that are typed. By default, the response saved in the <code>it</code> variable as an encrypted, integer value.</p><p>Enter the correct password once in order to get its integer value. Then store that value in a hidden text field that will be compared to the value for the password that the user enters. One way to hide a field is to place an opaque button over it that does not display its name.</p><p>Add the <code>clear</code> keyword to the <code>ask password</code> command to instead save the password in clear text.</p><p>To require entering a password in order to open a stack, see the &quot;Stack - Stack Protection&quot; section.</p><p>The following code demonstrates implementing password protection to the functionality of a button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  ask password "Password"<br>  if it is card field "encryptedPassword" then<br>    -- Do the protected thing.<br>  else<br>    flash<br>    answer "Incorrect password"<br>  end if<br>end mouseUp</code></pre><p>Using the <code>put</code> command to set <code>message</code> or <code>msg</code> also opens the Message Box and puts it there.</p><h3 id="icons-from-scripts" tabindex="-1">Icons from Scripts</h3><p>To get the id of the icon used by a button, use the expression <code>the icon of {button-ref}</code>.</p><p>To change the icon used by as button, use the command <code>set the icon of {button-ref} to {icon-id}</code>.</p><h3 id="function-keys" tabindex="-1">Function Keys</h3><p>The handler &quot;on functionKey {whichKey}&quot; can be used to act on presses of function keys. However, the operating system intercepts all the function keys by default which prevents the handler from being invoked. To fix this:</p><ol><li>Open the Keyboard control panel.</li><li>Click the &quot;Function Keys...&quot; button.</li><li>Uncheck the &quot;Enable Hot Function Keys&quot; checkbox.</li><li>Click the &quot;OK&quot; button.</li><li>Close the control panel.</li></ol><p>The handlers registered in the &quot;Stack Info...&quot; script of the Home stack are active for all stacks. To register function keys to choose the Browse, Button, and Field tools in all stacks, even if the Tools palette is not open:</p><ol><li><p>Launch HyperCard.</p></li><li><p>Open the Home stack.</p></li><li><p>Select Objects ... Stack Info...</p></li><li><p>Click the &quot;Script...&quot; button.</p></li><li><p>Add the following to the end of the existing script. I chose the function keys F9, F10, and F11, but others can be used instead.</p><pre class="language-text"><code class="language-text">on functionKey whichKey<br>  if whichKey is 9 then choose browse tool<br>  else if whichKey is 10 then choose button tool<br>  else if whichKey is 11 then choose field tool<br>  else pass functionKey<br>end functionKey</code></pre></li></ol><h3 id="drawing" tabindex="-1">Drawing</h3><p>All the painting tools can be used from scripts to draw on a card or background.</p><p>The following code demonstrates drawing a pie chart when a &quot;Draw&quot; button is clicked:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  lock screen<br><br>  -- Draw a circle<br>  choose oval tool<br>  set lineSize to 2<br>  set centered to true<br>  put "205,135" into center<br>  drag from center to 285,215<br>  set centered to false<br><br>  -- Draw lines to create pie wedges.<br>  choose line tool<br>  drag from center to 205,55<br>  drag from center to 275,175<br>  drag from center to 130,115<br><br>  -- Fill the pie wedges with different patterns.<br>  choose bucket tool<br>  set pattern to 14<br>  click at 240,95<br>  set pattern to 22<br>  click at 170,170<br>  set pattern to 13<br>  click at 170,95<br><br>  -- Reset all the paint tool properties that were modified above.<br>  -- They include the lineSize, centered, and pattern properties.<br>  reset paint<br><br>  choose browse tool<br><br>  unlock screen with dissolve slow<br>end mouseUp</code></pre><p>Add a &quot;Clear&quot; button with the following script to erase what was drawn above:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  lock screen<br><br>  choose select tool<br>  drag from 120,50 to 290,220<br>  doMenu "Clear Picture"<br>  -- This also works but is more obscure.<br>  -- keyDown numToChar(8) -- delete key<br>  choose browse tool<br><br>  unlock screen with dissolve slow<br>end mouseUp</code></pre><h3 id="groups" tabindex="-1">Groups</h3><p>Selected text in fields can be marked as a group. This enables treating the text as a hyperlink. The steps to implement a hyperlink are:</p><ol><li><p>Create a field.</p></li><li><p>Enter text in the field.</p></li><li><p>Select some or all of the text.</p></li><li><p>Select Style ... Group or press cmd-shift-g.</p></li><li><p>Optionally select additional styles such as Underline or Bold.</p></li><li><p>Open the &quot;Field Info&quot; dialog for the field.</p></li><li><p>Check the &quot;Lock Text&quot; checkbox. When a field is clicked, the message <code>mouseUp</code> is only sent if the field is locked.</p></li><li><p>Edit the script for the field.</p></li><li><p>Add a <code>mouseUp</code> handler similar to the following:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  if the clickText is "some group text" then<br>    -- Act on the hyperlink click,<br>    -- perhaps by navigating to another card.<br>  end if<br>end mouseUp</code></pre></li></ol><p>To display gray underlines under every group in every stack, execute the <code>show groups</code> command. This can be done in the <code>openStack</code> handler.</p><p>To remove the gray underlines, execute the <code>hide groups</code> command. This can be done in the <code>closeStack</code> handler to avoid enabling this preference in other stacks.</p><p>To change the style of all group text in all fields of all cards in the current stack add the following handler to the stack script:</p><pre class="language-text"><code class="language-text">on styleCharsIn domain, fieldNum<br>  put "italic,underline,group" into newStyles<br>  put domain && "field" && fieldNum into fieldRef<br>  repeat with i = 1 to the number of chars in fieldRef<br>    -- Test if the style contains "group".<br>    put "char" && i && "of" && fieldRef into charRef<br>    do "put the textStyle of" && charRef && "into style"<br>    if offset("group", style) > 0 then<br>      do "set the textStyle of" && charRef && "to" && newStyles<br>    end if<br>  end repeat<br>end styleCharsIn<br><br>on changeGroupStyle<br>  put the number of this card into currentCardNum<br>  repeat with cardNum = 1 to the number of cards<br>    go to card cardNum<br>    repeat with fieldNum = 1 to the number of card fields<br>      styleCharsIn "card", fieldNum<br>    end repeat<br>  end repeat<br>  repeat with bgNum = 1 to the number of backgrounds<br>    go to background bgNum<br>    repeat with fieldNum = 1 to the number of background fields<br>      styleCharsIn "background", fieldNum<br>    end repeat<br>  end repeat<br>  go to card currentCardNum<br>end changeGroupStyle</code></pre><p>Then open the Message Box and enter <code>changeGroupStyle</code>.</p><h3 id="customizing-menus" tabindex="-1">Customizing Menus</h3><p>A stack can add custom menus, remove menus, and remove specific menu items using HyperTalk. For example, the Home stack adds the Home menu and the Addresses stack adds the Utilities menu.</p><p>To see how this is done:</p><ul><li>Open the Home stack.</li><li>Select Objects ... Stack Info...</li><li>Click the Script... button.</li><li>Examine the handler <code>createTheMenus</code>, the function <code>homeMenuItems</code>, and the function <code>homeMenuMsgs</code>.</li></ul><p>Adding menu items for functionality that is specific to a stack is an alternative to adding buttons that consumes less screen real estate.</p><p>The command <code>create menu</code> adds a new menu with no menu items. The first new menu appears to the right of the Style menu. Other new menus appear to the right of the last new menu that was added. For example, <code>create menu &quot;Custom&quot;</code>.</p><p>The command <code>put into menu</code> adds one or more menu items to an existing menu. Do not include spaces around the menu item names. For example:</p><pre class="language-text"><code class="language-text">put "Calculator,Greet" into menu "Custom" -- replaces any existing menu items<br>put "Foo,Bar" after menuItem "Calculator" of menu "Custom"<br>put "Baz,Qux" before menuItem "Greet" of menu "Custom"<br>put "Hello" into menuItem "Greet" of menu "Custom" -- replaces a menu item</code></pre><p>The <code>put into menu</code> command can also specify a message to be sent to the current card when each menu item is selected. If the current card does not handle the message, it bubbles up to the current stack. For example, <code>put &quot;Calculator,Greet&quot; into menu &quot;Custom&quot; with menuMessages &quot;doMenu Calculator,greet&quot;</code>. Alternatives to the keyword <code>menuMessages</code> include <code>menuMessage</code>, <code>menuMsg</code>, and <code>menuMsgs</code>.</p><p>If the menu contains divider lines, leave empty messages in the list of messages at those positions.</p><p>If a message requires commas for passing multiple arguments, add only one menu item at a time.</p><p>To add horizontal divider lines between menu items, add dashes in the list of menu items. For example, to add a divider between the &quot;Calculator&quot; and &quot;Greet&quot; menu items, change the command above to use <code>&quot;Calculator,-,Greet&quot;</code>.</p><p>Alternatively, a <code>doMenu</code> handler can detect the selected menu item and act upon it as demonstrated in the example below. If a <code>doMenu</code> handler handles a menu item selection, the message specified using <code>menuMessages</code> for that menu item is not sent.</p><p>The <code>delete menu</code> command deletes an entire menu. This can simplify a stack for users by reducing the number of exposed menus and menu items. For example, <code>delete menu &quot;Font&quot;</code>. The Apple menu and the Help menu cannot be deleted.</p><p>The <code>delete menuItem</code> command deletes a specific menu item. One use is to delete menu items that may be dangerous for users to select. For example, <code>delete menuItem &quot;Delete Stack...&quot; from menu &quot;File&quot;</code>. This does not prevent the menu item from being invoked using its shortcut key or the <code>doMenu</code> command.</p><p>The following provided menus cannot be modified: application (far right list of running apps), Font, Help, Patterns, and Tools.</p><p>The <code>hide menuBar</code> command hides all the menus by hiding the menu bar at the top of the screen.</p><p>The <code>reset menuBar</code> command resets the menu bar to the default set of menus and menu items.</p><p>The following stack script adds a menu named &quot;Custom&quot; with the menu items &quot;Calculator&quot; and &quot;Greet&quot;. Selecting &quot;Calculator&quot; opens that desktop accessory just like selecting it from the Apple menu. Selecting the &quot;Greet&quot; menu item prompts for the user's name and then displays a greeting in a dialog.</p><pre class="language-text"><code class="language-text">on openStack<br>  create menu "Custom"<br>  put "Calculator,Greet" into menu "Custom"<br>end openStack<br><br>on closeStack<br>  reset menuBar<br>end closeStack<br><br>on resumeStack<br>  create menu "Custom"<br>  put "Calculator,Greet" into menu "Custom"<br>end resumeStack<br><br>on suspendStack<br>  reset menuBar<br>end suspendStack<br><br>on doMenu menuItem<br>  if menuItem is "Calculator" then<br>    -- Bypass this handler to avoid infinite recursion.<br>    send "doMenu Calculator" to HyperCard<br>  else if menuItem is "Greet" then<br>    greet<br>  else<br>    pass doMenu<br>  end if<br>end doMenu<br><br>on greet<br>  ask "What is your name?"<br>  if it is not empty<br>  then answer "Hello," && it & "!"<br>end greet</code></pre><p>Menus and menu items can be referred to by number instead of by name. The numbers begin at 1, not 0. The Apple menu is <code>menu 1</code>. When determining a menu item number, divider lines are also counted.</p><p>A <code>doMenu</code> handler can override the functionality of provided menu items. For example:</p><pre class="language-text"><code class="language-text">on doMenu menuItem<br>  if menuItem is "Delete Stack..." then<br>    answer "I don't think you should do that!"<br>    pass doMenu -- This allows the default functionality.<br>  end if<br>end doMenu</code></pre><p>Menu items have the following properties:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>displayed text</td></tr><tr><td><code>textStyle</code></td><td>text styles (see below)</td></tr><tr><td><code>commandChar</code> or <code>cmdChar</code></td><td>keyboard shortcut (letter after command key)</td></tr><tr><td><code>enabled</code></td><td>Boolean</td></tr><tr><td><code>checkMark</code></td><td>Boolean</td></tr><tr><td><code>markChar</code></td><td>character to display when <code>checkMark</code> is true</td></tr><tr><td><code>menuMessage</code> or <code>menuMsg</code></td><td>message to send when selected</td></tr></tbody></table><p>The value of the <code>textStyle</code> property is either a command-separated list of style names or a number. Commonly used numbers include <code>0</code> for plain, <code>1</code> for bold, <code>2</code> for italic, and <code>4</code> for underline. These numbers can be added for multiple styles. For example, to change the text of a menu item be both bold and italic, specify either <code>bold,italic</code> or <code>3</code>. Most applications leave the text style of all menu items set to <code>plain</code>.</p><p>Set the <code>enabled</code> property to <code>false</code> when it is not applicable in the current state and reset it to <code>true</code> when it becomes applicable again. The command <code>enable menuItem {name} of menu {name}</code> sets this property to <code>true</code>. and the command <code>disable menuItem {name} of menu {name}</code> sets this property to <code>false</code>.</p><p>The following command sets the variable <code>it</code> to the value of a menu item property:</p><pre class="language-text"><code class="language-text">get {property} of menuItem {name} of menu {name}</code></pre><p>The following command changes the value of a menu item property:</p><pre class="language-text"><code class="language-text">set {property} of menuItem {name} of menu {name} to {value}</code></pre><p>The following command assigns the keyboard shortcut cmd-g to the &quot;Greet&quot; menu item:</p><pre class="language-text"><code class="language-text">set "commandChar" of menuItem "Greet" of menu "Custom" to "g"</code></pre><p>Menus also support the <code>enabled</code> property. Setting this to <code>false</code> dims the menu. It does not prevent its menu items from being displayed when the menu is clicked, but it does disable all of them. The command <code>enable menu {name}</code> sets this property to <code>true</code>. and the command <code>disable menu {name}</code> sets this property to <code>false</code>.</p><h2 id="applescript" tabindex="-1">AppleScript</h2><p>AppleScript can be used as an alternative to HyperTalk for implementing scripts. Change &quot;Scripting language&quot; from &quot;HyperTalk&quot; to &quot;AppleScript&quot;. For example, the following script displays a dialog when its associated button is clicked.</p><pre class="language-text"><code class="language-text">on mouseUp<br>  display dialog "got click"<br>end mouseUp</code></pre><p>When the language is AppleScript, the &quot;Check Script&quot; menu item in the &quot;Script&quot; menu becomes enabled. Selecting that checks the script for errors and reports them in a dialog.</p><h2 id="speaking-text" tabindex="-1">Speaking Text</h2><p>To speak the words in a string, use the <code>speak</code> command. For example, <code>speak &quot;Happy Birthday!</code>.</p><h3 id="menu-items" tabindex="-1">Menu Items</h3><p>To execute a menu item, use the command <code>doMenu</code> with argument that is the menu item label. For example, a button can create a new card with the following handler:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  doMenu "New Card"<br>end mouseUp</code></pre><p>The new card is inserted immediately after the current card.</p><h3 id="long-running-tasks" tabindex="-1">Long Running Tasks</h3><p>For scripts that run for a bit, it is a good idea to change the cursor to a watch until the script completes. The supported cursor names include <code>arrow</code>, <code>busy</code>, <code>cross</code>, <code>hand</code>, <code>iBeam</code>, <code>none</code>, <code>plus</code>, <code>wait</code>, and <code>watch</code>.</p><p>Here's an example:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  set cursor to watch<br>  wait 2 seconds<br>  set cursor to hand -- default<br>  answer "Finished!"<br>end mouseUp</code></pre><h2 id="search-paths" tabindex="-1">Search Paths</h2><p>HyperCard searches specific directories to find stacks, applications, and documents. To view and edit these directory lists:</p><ul><li>Open the Home stack by pressing cmd-h.</li><li>Click the left-pointing triangle in the lower-left two times to navigate to one of the &quot;Search Paths&quot; card.</li><li>Click one of the buttons labeled Stacks, Applications, or Documents to navigate to a specific &quot;Search Paths&quot; card.</li><li>Optionally edit the list of directories.</li></ul><p>An alternative to modifying the directory lists is to move your files into one of the directories already in the lists.</p><h2 id="user-levels" tabindex="-1">User Levels</h2><p>HyperCard supports the following five user levels:</p><ul><li>5 Browsing: read-only</li><li>4 Typing: can enter text in fields</li><li>3 Painting: can use tools to draw and paint on cards</li><li>2 Authoring: can add and modify buttons and fields on cards</li><li>1 Scripting: can add and modify scripts associated with any object</li></ul><p>The user level affects the menu items that are present and the functionality available to the user.</p><p>To set the level for the HyperCard application as a whole:</p><ul><li>Open the Home stack by pressing cmd-h.</li><li>Go the last card by pressing cmd-4 or by clicking the left-pointing triangle in the lower-left.</li><li>Select a level by clicking it or by dragging the right-pointing triangle up and down.</li></ul><p>Alternative, open the Message Box and enter <code>set [the] userLevel to n</code> where n is a number from 1 to 5.</p><p>Each stack can specify its own user levels. To do this:</p><ul><li><p>Set the HyperCard-wide user level to 5 (see above).</p></li><li><p>Open the stack whose user level will be changed.</p></li><li><p>Select Objects ... Stack Info.</p></li><li><p>In the Stack Info dialog, click the &quot;Script...&quot; button.</p></li><li><p>Enter the following which runs every time a user opens the stack:</p><pre class="language-text"><code class="language-text">on openStack<br>  set [the] userLevel to n -- replace n with a number from 1 to 5<br>end openStack</code></pre></li></ul><p>To restore the highest user level for a stack with a restricted level, open the Message Box (cmd-m) and enter <code>set [the] userLevel to 5</code>.</p><h2 id="file-i%2Fo" tabindex="-1">File I/O</h2><p>HyperTalk can read and write text files. All of the commands related to file handling support resolving aliases.</p><p>The <code>answer file</code> command opens a file selection dialog that prompts the user to select an existing file. The path to the existing file is placed in the <code>it</code> variable.</p><p>The <code>ask file</code> command opens a file selection dialog that prompts the user to specify the path and name of a new file to be created. Existing files cannot be selected. The path to the new file is placed in the <code>it</code> variable.</p><p>The <code>open file {path-expr}</code> command opens a text file for reading or writing. If the file does not exist, it is created. If the path only contains a name, the file must be in the same directory as the HyperCard application. This command verifies that the file is not already open by another application. The function <code>the result</code> returns an error message if the file could not be opened.</p><p>The <code>read from file</code> command reads until a given character is encountered or for a given number of characters.</p><p>The <code>write to file</code> command writes text to a given file, optionally beginning at a given character index in an existing file.</p><p>The following example card contains two buttons and two fields. The &quot;Open&quot; button prompts for a text file to open using the standard file dialog. The selected file path is displayed in the first field and the contents of the file are displayed in the second field. The second field allows the contents to be edited. The &quot;Save&quot; button saves the modified content back to the text file.</p><p><img alt="HyperCard read/write files" style="width: 70%" src="/blog/assets/hypercard-read-write-files.png?v=1.1.1"></p><p>The following message handler is for the &quot;Open&quot; button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  global gFilePath<br><br>  answer file "Select file to open" of type text<br>  if the result is not empty then<br>    if the result is not "Cancel" then answer the result<br>    exit mouseUp<br>  end if<br><br>  put it into gFilePath<br>  put gFilePath into card field filePath<br>  open file gFilePath<br>  if the result is not empty then<br>    answer the result<br>    exit mouseUp<br>  end if<br><br>  read from file gFilePath until end<br>  put it into card field "contents"<br>  close file gFilePath<br>end mouseUp</code></pre><p>The following message handler is for the &quot;Save&quot; button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  global gFilePath<br><br>  open file gFilePath<br>  if the result is not empty then<br>    answer the result<br>    exit mouseUp<br>  end if<br><br>  write card field "contents" to file gFilePath<br>  close file gFilePath<br>  answer "Saved changes to" && gFilePath<br>end mouseUp</code></pre><h2 id="printing" tabindex="-1">Printing</h2><p>See the &quot;iMac G3&quot; page for details on using Adobe Acrobat PDFWriter as a printer.</p><p>To print all marked cards in the current stack, use the command <code>print marked cards</code>.</p><p>TODO: Add more detail about all the printing options.</p><h2 id="palettes" tabindex="-1">Palettes</h2><p>The Power Tools stack contains a &quot;Palette Maker&quot; card that is used to create custom palettes. It supports creating the required PICT resource that is a single picture containing all the buttons. It also supports defining transparent buttons over the buttons in the PICT. Each button has a script that specifies the command to execute when clicked.</p><h2 id="popular-stacks" tabindex="-1">Popular Stacks</h2><ul><li><a href="https://macintoshgarden.org/games/the-haunted-house?v=1.1.1" rel="noopener" target="_blank">The Haunted House</a> by Mark Klink</li></ul><h2 id="power-tools" tabindex="-1">Power Tools</h2><p>The &quot;Power Tools&quot; stack provides a collection of tools for developing stacks. To access this stack, go the Home stack, click the &quot;Stack Kit&quot; button, and click &quot;Power Tools&quot;.</p><p><img alt="HyperCard Power Tools" style="width: 80%" src="/blog/assets/hypercard-Power-Tools.png?v=1.1.1"></p><p>The following subsections describe each of the tools.</p><h3 id="super-grouper" tabindex="-1">Super Grouper</h3><p>Super Grouper adds a palette of buttons that can be used to group objects, move them on their card, align them, adjust their spacing, duplicate them, and delete them.</p><p>To open the palette, click &quot;Super Grouper&quot; and click the &quot;Show Palette&quot; button.</p><p><img alt="HyperCard Super Grouper" style="width: 80%" src="/blog/assets/hypercard-Super-Grouper.png?v=1.1.1"></p><p>To &quot;Group Objects&quot;:</p><ul><li>Navigate to the card containing the objects.</li><li>Click the top left button in the &quot;Super Grouper&quot; palette to enter grouping mode.</li><li>Click each object to be added to the group.</li><li>Exit grouping mode by clicking on the card background (not on a button or field) OR by clicking the top left button again.</li><li>The group will remain in effect after each of the operations below to enable applying any number of them.</li></ul><p>To &quot;Move Objects&quot; in the group:</p><ul><li>Click the top middle button in the &quot;Super Grouper&quot; palette to enter move mode.</li><li>Begin dragging from within the top middle button.</li><li>Release the mouse button when the objects are at the desired location to exit move mode.</li></ul><p>To &quot;Align Objects&quot; in the group:</p><ul><li>Click the top right button in the &quot;Super Grouper&quot; palette.</li><li>In the dialog that appears, click the &quot;Vert&quot; or &quot;Horz&quot; button.</li><li>Another dialog will appear. If &quot;Horz&quot; was selected then click the &quot;Right&quot; or &quot;Left&quot; button. If &quot;Vert&quot; was selected then click the &quot;Bottom&quot; or &quot;Top&quot; button.</li><li>Click the object in the group that should not be moved. All the other objects in the group will move to align with that one.</li></ul><p>To &quot;Align Object Spacing&quot; in the group:</p><ul><li><p>Click the bottom left button in the &quot;Super Grouper&quot; palette.</p></li><li><p>In the dialog that appears, click the &quot;Vert&quot; or &quot;Horz&quot; button.</p><p>If &quot;Vert&quot; is selected, the topmost object will not move, but the others will move to have the requested spacing.</p><p>If &quot;Horz&quot; is selected, the leftmost object will not move, but the others will move to have the requested spacing.</p></li><li><p>In the dialog that appears, enter the desired number of pixels between the objects which defaults to 5.</p></li><li><p>Click the &quot;OK&quot; button.</p></li></ul><p>To &quot;Duplicate Objects&quot; in the group:</p><ul><li>Click the bottom middle button in the &quot;Super Grouper&quot; palette.</li><li>In the dialog that appears, click the &quot;OK&quot; button.</li><li>The new objects will be directly on top of the group objects. To move the group objects out from under the new objects, follow the steps for &quot;Move Objects&quot; above.</li></ul><p>To &quot;Delete Objects&quot; in the group:</p><ul><li>Click the bottom right button in the &quot;Super Grouper&quot; palette.</li><li>In the dialog that appears, click the &quot;OK&quot; button.</li></ul><h3 id="window-manager" tabindex="-1">Window Manager</h3><p>TODO: Add details about this.</p><h3 id="paint-palettes" tabindex="-1">Paint Palettes</h3><p>TODO: Add details about this.</p><h3 id="export-a-stack's-scripts" tabindex="-1">Export a Stack's Scripts</h3><p>To export all the scripts in a stack to a single text file for analyzing outside of HyperCard:</p><ol><li>Press cmd-h to open the Home stack.</li><li>Click the &quot;Stack Kit&quot; button.</li><li>Click the &quot;Power Tools&quot; button.</li><li>Click &quot;Export a Stack's Scripts&quot;.</li><li>Click the &quot;Export Stack Scripts&quot; button. See the script of this button for tips on how to iterate through all the scripts in a stack.</li><li>In the file selection dialog that appears, locate and select the stack whose scripts are to be exported.</li><li>Click the &quot;Open&quot; button.</li><li>In the next file selection dialog that appears, select a destination directory and enter a name of the file to create.</li><li>Click the &quot;Save&quot; button.</li><li>In the dialog that appears and says &quot;Export done&quot;, click the &quot;OK&quot; button.</li><li>Open the file that is created with any text editor such as SimpleText or BBEdit</li></ol><p>There is no support for modifying the exported script file and importing it back into HyperCard.</p><h3 id="function-and-control-keys" tabindex="-1">Function and Control Keys</h3><p>TODO: Add details about this.</p><h3 id="stack-menus" tabindex="-1">Stack Menus</h3><p>TODO: Add details about this.</p><h3 id="listobjects" tabindex="-1">ListObjects</h3><p>TODO: Add details about this.</p><h3 id="picture-xcmd" tabindex="-1">Picture XCMD</h3><p>TODO: Add details about this.</p><h3 id="search-container-xfcn" tabindex="-1">Search Container XFCN</h3><p>TODO: Add details about this.</p><h3 id="show-xfcn" tabindex="-1">Show XFCN</h3><p>TODO: Add details about this.</p><h3 id="multiple-scrolling-fields" tabindex="-1">Multiple Scrolling Fields</h3><p>TODO: Add details about this.</p><h3 id="script-library" tabindex="-1">Script Library</h3><p>TODO: Add details about this.</p><h3 id="export-to-textfile" tabindex="-1">Export to TextFile</h3><p>TODO: Add details about this.</p><h3 id="palette-maker" tabindex="-1">Palette Maker</h3><p>TODO: Add details about this.</p><h3 id="menu-maker" tabindex="-1">Menu Maker</h3><p>TODO: Add details about this.</p><h3 id="resource-mover" tabindex="-1">Resource Mover</h3><p>TODO: Add details about this.</p><h2 id="creating-applications" tabindex="-1">Creating Applications</h2><p>To create a double-clickable application from a HyperCard stack:</p><ul><li>Open the stack in HyperCard.</li><li>Select File ... Save a Copy...</li><li>Select the directory where the application will be saved.</li><li>Enter a name for the application.</li><li>In the &quot;File type&quot; dropdown, select &quot;Application&quot;.</li><li>Click the &quot;Save&quot; button.</li><li>Enter a version string like &quot;1.0&quot;.</li><li>Click the &quot;OK&quot; button.</li></ul><h2 id="demos" tabindex="-1">Demos</h2><h3 id="card-numbering" tabindex="-1">Card Numbering</h3><p>To display a card number on each card in a stack:</p><ul><li><p>Add the following field to each background:</p><p><img alt="HyperCard card number field" style="width: 60%" src="/blog/assets/hypercard-card-number-field.png?v=1.1.1"></p></li><li><p>Add the following script to each background:</p><pre class="language-text"><code class="language-text">on openCard<br>  put the number of this card into field "cardNumber"<br>end openCard</code></pre></li></ul><h3 id="experimenting-with-hypertalk" tabindex="-1">Experimenting With HyperTalk</h3><p><img alt="HyperCard Experimenting" style="width: 60%" src="/blog/assets/hypercard-experimenting.png?v=1.1.1"></p><p>Create a Field where arbitrary HyperTalk statements can be entered. Set its Field Name to &quot;code&quot; and set its Style to &quot;Scrolling&quot;.</p><p>Create a Button that executes the code using the following script:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  do card field "code"<br>end mouseUp</code></pre><h3 id="counter" tabindex="-1">Counter</h3><p>Let's create a read-only field that displays an integer and buttons that increment and decrement the value. Start by creating the following objects:</p><ul><li>&quot;-&quot; button to decrement the counter</li><li>field to display the counter value</li><li>&quot;+&quot; button to increment the value</li></ul><p><img alt="HyperCard Counter" style="width: 20%" src="/blog/assets/hypercard-counter.png?v=1.1.1"></p><p>The following screenshot shows the field configuration:</p><p><img alt="HyperCard Counter field" style="width: 60%" src="/blog/assets/hypercard-counter-field.png?v=1.1.1"></p><p>Add the following script to the card to reset the state every time to card is opened:</p><pre class="language-text"><code class="language-text">on openCard<br>  put 0 into cd fld counter<br>  set enabled of cd button "-" to false<br>end openCard</code></pre><p>Add the following script to the &quot;+&quot; button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put cd fld "counter" + 1 into cd fld "counter"<br>  set enabled of cd button "-" to true<br>end mouseUp</code></pre><p>Add the following script to the &quot;-&quot; button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put cd fld "counter" - 1 into counter<br>  put counter into cd fld "counter"<br>  if counter is 0 then<br>    set enabled of cd button "-" to false<br>  end if<br>end mouseUp</code></pre><h3 id="dice-button" tabindex="-1">Dice Button</h3><p>Let's create a button whose icon is a dice face. Each time the button is clicked, its icon changes to 10 random values, before settling on a new value.</p><p><img alt="HyperCard Dice Button" style="width: 6%" src="/blog/assets/hypercard-dice-button.png?v=1.1.1"></p><p>Create the following button with its icon set to any of the dice icons:</p><p><img alt="HyperCard Dice Button Info" style="width: 55%" src="/blog/assets/hypercard-dice-button-info.png?v=1.1.1"></p><p>Add the following script to the button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  repeat 10 times<br>    -- The dice icon IDs are 2101 to 2106.<br>    put the icon of me - 2101 into index<br>    put (index + random(6)) mod 6 into index<br>    set the icon of me to 2101 + index<br>    wait for 5 ticks<br>  end repeat<br>end mouseUp</code></pre><h3 id="previous-and-next-buttons" tabindex="-1">Previous and Next Buttons</h3><p>It is common for the background of all cards in a stack to contain buttons that can be clicked to go the next and previous cards. There are several provided icons that are typically used for this purpose. The screenshot below shows a common choices that often appear at the bottom of each card.</p><p><img alt="HyperCard Previous and Next Buttons" style="width: 70%" src="/blog/assets/hypercard-prev-next-buttons.png?v=1.1.1"></p><p>To implement buttons like these:</p><ul><li><p>Press cmd-b to enter background mode.</p></li><li><p>Add the following buttons in the lower-left and lower-right corners:</p><p><img alt="HyperCard Previous Button" style="width: 49%" src="/blog/assets/hypercard-prev-button.png?v=1.1.1"> <img alt="HyperCard Next Button" style="width: 49%" src="/blog/assets/hypercard-next-button.png?v=1.1.1"></p></li><li><p>Create the following field between the buttons:</p><p><img alt="HyperCard Card Number Field" style="width: 49%" src="/blog/assets/hypercard-card-number-field.png?v=1.1.1"></p></li><li><p>Select Objects .. Bkgnd Info...</p></li><li><p>Click the Script button.</p></li><li><p>Add the following script:</p><pre class="language-text"><code class="language-text">on openCard<br>  put the number of this card into cardNum<br>  put the number of cards into cardCount<br>  put cardNum && "of" && cardCount into field "cardNumber"<br><br>  put cardNum &lt;&gt; 1 into showPrev<br>  set the visible of bg button "prevButton" to showPrev<br><br>  put cardNum &lt;&gt; cardCount into showNext<br>  set the visible of bg button "nextButton" to showNext<br>end openCard</code></pre><p>An alternative approach is to:</p><ul><li>Omit the script above.</li><li>Allow <code>prevButton</code> and <code>nextButton</code> to be visible on all cards.</li><li>Draw an opaque button over the <code>prevButton</code> in the card layer of the first card.</li><li>Draw an opaque button over the <code>nextButton</code> in the card layer of the last card.</li></ul></li><li><p>Press cmd-b to exit background mode.</p></li><li><p>Test the new buttons. These should appear on every card, with the exceptions that:</p><ul><li>The previous button will not appear on the first card.</li><li>The next button will not appear on the last card.</li></ul></li></ul><h3 id="adding-numbers" tabindex="-1">Adding Numbers</h3><p>Let's create a field where the user can type any number of lines. When the &quot;Add Number&quot; button is clicked, a dialog is displayed which prompts the user to enter a number. Whatever they enter, number or not, is added as a new line in the field. The field can also be directly edited.</p><p>When the &quot;Total&quot; button is clicked, the total of all the numbers entered on separate lines in the field is computed and displayed inside the field. When the &quot;Clear&quot; button is clicked, the contents of the field is cleared.</p><p><img alt="HyperCard Adding Numbers" style="width: 50%" src="/blog/assets/hypercard-adding-numbers.png?v=1.1.1"></p><pre class="language-text"><code class="language-text">-- Script for "Add Number" button<br>on mouseUp<br>  ask "Number"<br>  put it & return after card field "numbers"<br>end mouseUp<br><br>-- Script for "Total" button<br>on mouseUp<br>  put 0 into total<br>  put the number of lines in card field "numbers" into lines<br><br>  repeat with i = 1 to lines<br>    put line i of card field "numbers" into line<br>    if line is a number then add line to total<br>  end repeat<br><br>  put return & "total =" && total after card field "numbers"<br>end mouseUp<br><br>-- Script for "Clear" button<br>on mouseUp<br>  put empty into card field "numbers"<br>end mouseUp</code></pre><h3 id="number-fields" tabindex="-1">Number Fields</h3><p>In the Home stack Preferences card, check the &quot;Arrow Keys in Text&quot; checkbox.</p><p>Add the following script to the stack to support fields where:</p><ul><li>Only a positive integer can be entered.</li><li>The left and right arrow keys can be used to move the text cursor inside the field.</li><li>The up and down arrow keys can be used to increment and decrement the value by one.</li><li>The zero key is not allowed when the field is empty.</li><li>The zero key is not allowed when characters are selected that include the first character.</li></ul><pre class="language-text"><code class="language-text">function startsWith s, prefix<br>  return char 1 to length of prefix of s is prefix<br>end startsWith<br><br>on incrementField<br>  get target<br>  put it + 1 into the target<br>  select after text of the target<br>end incrementField<br><br>on decrementField<br>  get target<br>  if it &gt; 1 then<br>    put it - 1 into the target<br>    select after text of the target<br>  end if<br>end decrementField<br><br>-- This returns true if the handler should<br>-- pass the keyDown message up the hierarchy.<br>function shouldPassKeyDown which<br>  put charToNum(which) into asciiCode<br>  if asciiCode is 8 then return true -- delete key<br>  if asciiCode is 9 then return true -- tab key<br>  if asciiCode is 28 then return true -- left arrow key<br>  if asciiCode is 29 then return true -- right arrow key<br><br>  if asciiCode is 30 then -- up arrow key<br>    incrementField<br>    return false<br>  end if<br><br>  if asciiCode is 31 then -- down arrow key<br>    decrementField<br>    return false<br>  end if<br><br>  put true into valid<br>  if which &lt; 0 or which &gt; 9 then put false into valid -- not a digit key<br>  if contents is empty and which = 0 then put false into valid -- cannot start with zero<br>  -- Cannot replace first character with zero.<br>  if startsWith(the selectedChunk, "char 1 ") and which is 0 then put false into valid<br>  if not valid then beep<br>  return valid<br>end shouldPassKeyDown</code></pre><p>Add the following script to each field where only a positive integer can be entered:</p><pre class="language-text"><code class="language-text">on keyDown which<br>  if shouldPassKeyDown(which) then pass keyDown<br>end keyDown</code></pre><h3 id="compound-interest" tabindex="-1">Compound Interest</h3><p>The card shown below computes compound interest.</p><p><img alt="HyperCard Compound Interest" style="width: 25%" src="/blog/assets/hypercard-compound-interest.png?v=1.1.1"></p><p>The stack has the script described above in the &quot;Number Fields&quot; section.</p><p>The first three fields have the names &quot;principal&quot;, &quot;interest&quot;, and &quot;periods&quot;. Each of them have the following script:</p><pre class="language-text"><code class="language-text">on keyDown which<br>  if shouldPassKeyDown(which) then pass keyDown -- defined in stack script<br>end keyDown</code></pre><p>The final field has the name &quot;future&quot;, has its &quot;Lock Text&quot; checkbox checked, and does not have a script.</p><p>The &quot;Compute&quot; button has the following script:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put card field "principal" into principal<br>  put card field "interest" into interest<br>  put card field "periods" into periods<br>  put principal * compound(interest / 100, periods) into result<br><br>  set the numberFormat to "0.00"<br>  put result into card field "future"<br>end mouseUp</code></pre><h3 id="list-selection" tabindex="-1">List Selection</h3><p>This demonstrates using a field to display a list of options. When the user clicks an option, it is highlighted by reversing the background and foreground colors of the selected line. The option text is also copied to another field to demonstrate that is was captured.</p><p>We need a way to remember the previously selected option. When an option is selected, if it was already selected then the option is deselected.</p><p>We can't associate a value with a container like a stack, card, button, or field. We can store a value in a hidden field or in a global variable. Neither option is ideal, but using a global variable seems best.</p><p>There is a non-strict convention where global variables begin with the letter &quot;g&quot; and are followed by a CamelCase name. So we will use the global variable <code>gColorListIndex</code>.</p><p><img alt="HyperCard List Selection" style="width: 30%" src="/blog/assets/hypercard-list-selection.png?v=1.1.1"></p><p>Create fields like the following:</p><p><img alt="HyperCard field #1 for list selection" style="width: 49%" src="/blog/assets/hypercard-field1-for-list-selection.png?v=1.1.1"> <img alt="HyperCard field #2 for list selection" style="width: 49%" src="/blog/assets/hypercard-field2-for-list-selection.png?v=1.1.1"></p><p>Note that currently &quot;Lock Text&quot; is not checked in the &quot;colorList&quot; field. Enter the options in the &quot;colorList&quot; field on separate lines. Then open the Field Info dialog for the &quot;colorList&quot; field and check the &quot;Lock Text&quot; checkbox so users cannot modify it.</p><p>Add the following script to the &quot;colorList&quot; field:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  global gCurrentColor<br>  get the selectedText of me<br>  if it is gCurrentColor then<br>    put empty into gColorListIndex<br>    put empty into card field "selectedColor"<br>    -- select empty -- should clear the selection, but doesn't!<br>    select line 0 of me<br>  else<br>    put it into gCurrentColor<br>    put it into card field "selectedColor"<br>  end if<br>end mouseUp</code></pre><p>Clicking a line in the first field highlights it and sets the content of the second field to that line. Clicking a line that is already highlighted removes the highlighting and clears the second field.</p><h3 id="automatic-table-of-contents" tabindex="-1">Automatic Table of Contents</h3><p>Here's a recipe for making the first card in a stack act as a clickable table of contents. This works well when each card that follows has a name that is suitable for appearing in the table of contents. It updates automatically each time it is displayed to account for newly added and deleted cards.</p><ol><li><p>Create a first card that will hold the table of contents and has a different background from the remaining cards.</p></li><li><p>Add the following script to the first card.</p><pre class="language-text"><code class="language-text">function cardName<br>  -- "the name of this card" returns a string like<br>  -- card "name".<br>  -- We want the name without the quotes.<br>  put word 2 of the name of this card into name<br>  delete the first char of name -- removes leading quote<br>  delete the last char of name -- removes trailing quote<br>  return name<br>end cardName<br><br>on openCard<br>  -- Prevent screen updates while visiting all the cards.<br>  lock screen<br><br>  -- Build a string containing the name of<br>  -- each card after this card on separate lines.<br>  put empty into toc<br>  repeat with cardNum = 2 to the number of cards<br>    go to card cardNum<br>    put cardName() after toc<br>    put return after toc<br>  end repeat<br>  delete char length(toc) of toc<br><br>  -- Return to this card without trigger this handler again.<br>  lock messages<br>  go to first card<br>  unlock messages<br><br>  -- Update the tableOfContents field.<br>  put toc into card field tableOfContents<br>end openCard</code></pre></li><li><p>Add a field to the new first card named &quot;tableOfContents&quot;.</p></li><li><p>Set its Style to &quot;Scrolling&quot;.</p></li><li><p>Check its &quot;Lock Text&quot; checkbox.</p></li><li><p>Check its &quot;Auto Select&quot; checkbox which will automatically select its &quot;Don't Wrap&quot; checkbox.</p></li><li><p>Click its &quot;Script&quot; button and add the following:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put the selectedText of me into cardName<br>  go to card cardName<br>end mouseUp</code></pre></li><li><p>Position and size the &quot;tableOfContents&quot; field on the first card.</p></li><li><p>Go to the first card after the table of contents card.</p></li><li><p>Press cmd-b to edit the background of the card.</p></li><li><p>Add a transparent button with a home icon.</p></li><li><p>Add the following script to that button to return to the table of contents card.</p><pre class="language-text"><code class="language-text">on mouseUp<br>  go to first card<br>end mouseUp</code></pre></li></ol><h3 id="dropdown-list" tabindex="-1">Dropdown List</h3><p>Let's create a custom dropdown for selecting a color. This is an alternative to using a button with the style &quot;Popup&quot;, which is typically preferred. Implementing a custom dropdown requires much more work, but may be worthwhile in order to have more control over the styling.</p><p>The screenshots below show this in its collapsed and expanded forms.</p><div style="display: flex; align-items: start"><img alt="HyperCard color dropdown collapsed" style="width: 14%" src="/blog/assets/hypercard-color-dropdown-collapsed.png?v=1.1.1"> <img alt="HyperCard color dropdown expanded" style="width: 15%" src="/blog/assets/hypercard-color-dropdown-expanded.png?v=1.1.1"></div><ol><li><p>Create a field to hold and display the selected value.</p><p><img alt="HyperCard color dropdown value" style="width: 60%" src="/blog/assets/hypercard-color-dropdown-value.png?v=1.1.1"></p></li><li><p>Add the following script to the field which toggles the visibility of the list when it is clicked:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put the visible of card field "colorDropDownList" into visible<br>  set the visible of card field "colorDropDownList" to not visible<br>end mouseUp</code></pre></li><li><p>Create a field to allow selection of a color from a list.</p><p><img alt="HyperCard color dropdown list" style="width: 60%" src="/blog/assets/hypercard-color-dropdown-list.png?v=1.1.1"></p></li><li><p>Add the following script to the field which displays the selected value and hides the list when a color in the list is clicked:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  get the selectedText of me<br>  put it into card field "colorDropDownValue"<br>  set the visible of me to false<br>end mouseUp</code></pre></li><li><p>Add the color names in the <code>colorDropDownList</code> field.</p></li><li><p>Open the &quot;Field Info&quot; dialog for the <code>colorDropDownList</code> field, check the &quot;Lock Text&quot; checkbox, and click the &quot;OK&quot; button.</p></li><li><p>Create a button that can be clicked to toggle display of the color list.</p><p><img alt="HyperCard color dropdown toggle" style="width: 50%" src="/blog/assets/hypercard-color-dropdown-toggle.png?v=1.1.1"></p></li><li><p>Edit the button icon to match the following. This can be created by copying an existing icon that is similar, rotating it 90 degrees, and modifying the pixels slightly in the &quot;Icon Editor&quot;.</p><p><img alt="HyperCard color dropdown button icon" style="width: 40%" src="/blog/assets/hypercard-color-dropdown-button-icon.png?v=1.1.1"></p></li><li><p>Add the following script to the button, which is identical to the script in the first field:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  put the visible of card field "colorDropDownList" into visible<br>  set the visible of card field "colorDropDownList" to not visible<br>end mouseUp</code></pre></li><li><p>Resize and position the fields and the button to match the expanded screenshot above.</p></li></ol><h3 id="detecting-duplicates-in-a-list" tabindex="-1">Detecting Duplicates in a List</h3><p>In a field where multiple items can be entered on separate lines, we can prevent duplicates from being entered. To do this, create a field with its &quot;Style&quot; set to &quot;Scrolling&quot; and &quot;Don't Wrap&quot; checked. Then add the following script:</p><pre class="language-text"><code class="language-text">on returnInField<br>  get me -- saves copy of field contents in "it"<br>  delete last line of it<br>  if last line of me is in it then<br>    answer "Duplicate names cannot be entered."<br>    select last line of me<br>  else<br>    pass returnInField -- allows newline to be added<br>  end if<br>end returnInField</code></pre><h3 id="disclosure-buttons" tabindex="-1">Disclosure Buttons</h3><p>For an example of the script handlers and functions necessary to implement a button that toggles the display of a field:</p><ol><li>Open the &quot;Home&quot; stack.</li><li>Click the &quot;Stack Kit&quot; button.</li><li>Click &quot;Readymade Buttons&quot;.</li><li>Click &quot;Create pop-up fields&quot;.</li><li>Select the Button tool.</li><li>Double-click the &quot;Things To Do&quot; or &quot;HyperCard Notes&quot; button.</li><li>Click the &quot;Script...&quot; button.</li><li>Study the script</li></ol><h3 id="dynamically-creating-buttons-and-fields" tabindex="-1">Dynamically Creating Buttons and Fields</h3><p>A script can create new buttons and fields.</p><p>The following code creates and configures a new button:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  lock screen<br>  doMenu "New Button"<br>  put "button" && the number of buttons into ref<br>  set the name of ref to "Dynamic"<br>  set the location of ref to 100, 100<br>  set the script of ref to<br>    "on mouseUp" & return &<br>    "  answer" && quote & "Got click" & quote & return &<br>    "end mouseUp"<br>  choose browse tool<br>  unlock screen<br>end mouseUp</code></pre><p>The following code creates and configures a new field:</p><pre class="language-text"><code class="language-text">on mouseUp<br>  lock screen<br>  doMenu "New Field"<br>  put "card field" && the number of card fields into ref<br>  set the name of ref to "dynamicField"<br>  set the location of ref to 100, 300<br>  set the width of ref to 100<br>  set the height of ref to 20<br>  set the dontWrap of ref to true<br>  choose browse tool<br>end mouseUp</code></pre><h2 id="books" tabindex="-1">Books</h2><p>The book &quot;The Complete HyperCard 2.2 Handbook&quot; volumes 1 and 2 are widely seen as the best documentation on HyperCard. But these books do not cover improvements made in HyperCard 2.3 and 2.4. The following subsections describe those improvements.</p><h3 id="hypercard-2.3" tabindex="-1">HyperCard 2.3</h3><p>This version of HyperCard ...</p><ul><li>added limited color capabilities through XCMD extensions and better integration with ColorTools</li><li>enhanced support for QuickTime movies and sound resources (more than 30 standard media file types are supported)</li><li>improved AppleScript support, allowing HyperCard to be controlled by other applications</li><li>added optimizations for faster script execution and card rendering</li><li>added support for running on the PowerPC Macintosh models, though not as a native PowerPC application</li><li>enhanced printing capabilities</li><li>improved the Script editor</li><li>improved debugging tools</li><li>added external commands (XCMDs) and functions (XFCNs).</li><li>included bug fixes</li></ul><h3 id="hypercard-2.4" tabindex="-1">HyperCard 2.4</h3><p>This version of HyperCard ...</p><ul><li>improved support for styled text</li><li>improved the painting tools</li><li>added ability to use a palette of 256 colors</li><li>added improvements to the HyperTalk language</li><li>added support for over 30 standard media file types, including PICT files</li><li>added support stacks that span multiple monitors</li><li>improved multimedia controls, making it possible to resize, flip, mirror, rotate, or skew QuickTime movies in real-time, as well as loop movies for continuous play</li><li>added QuickTime integration which enables linking HyperCard stacks to QuickTime movies, QuickTime VR scenes, and the World Wide Web</li><li>included bug fixes</li></ul><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://en.wikipedia.org/wiki/HyperCard?v=1.1.1" rel="noopener" target="_blank">HyperCard on Wikipedia</a></li><li><a href="https://hypercard.org?v=1.1.1" rel="noopener" target="_blank">hypercard.org</a></li><li><a href="https://www.youtube.com/watch?v=fFX1otbE_wU?v=1.1.1" rel="noopener" target="_blank">NOTACON 5: Wasn't HyperCard Cool?</a> by Drew Ivan</li><li><a href="https://www.youtube.com/playlist?list=PL1GQPxft2cQh_KsYz399Hlq7FHPp7XhBJ?v=1.1.1" rel="noopener" target="_blank">Eric's Edge</a> YouTube videos on HyperCard</li><li><a href="https://hcsimulator.com?v=1.1.1" rel="noopener" target="_blank">HyperCard Simulator</a> - web-based</li><li><a href="https://beyondloom.com/decker?v=1.1.1" rel="noopener" target="_blank">Decker</a> open-source, web-based HyperCard clone</li><li><a href="https://www.youtube.com/watch?v=x-FkNd5DkOQ?v=1.1.1" rel="noopener" target="_blank">[LIVE '21] Modifiable Software Systems: Smalltalk and HyperCard</a> YouTube video</li><li><a href="https://hypercard.org/HyperTalk%20Reference%202.4.pdf?v=1.1.1" rel="noopener" target="_blank">HyperTalk Reference</a> - a PDF containing screenshots of most of the pages of the HyperTalk Reference stack that came with HyperCard 2.4 (362 pages!) To see this inside HyperCard, open the Message Box and enter `go &quot;HyperCard Help&quot;.</li><li><a href="https://cancel.fm/stuff/share/HyperCard_Script_Language_Guide_1.pdf?v=1.1.1" rel="noopener" target="_blank">HyperCard Script Language Guide</a></li><li><a href="https://www.hypercard.center/HyperTalkReference?v=1.1.1" rel="noopener" target="_blank">HyperTalk Reference</a> - another reference with links for each command</li><li><a href="https://archive.org/details/AppleMacintoshSystem753?v=1.1.1" rel="noopener" target="_blank">Macintosh System 7.5.3</a> on Internet Archive; click to begin; includes HyperCard</li><li><a href="https://archive.org/details/hypercardstacks?v=1.1.1" rel="noopener" target="_blank">HyperCard Stacks</a></li><li><a href="https://livecode.com?v=1.1.1" rel="noopener" target="_blank">LiveCode</a> active, commercial alternative to HyperCard</li><li><a href="https://www.vipercard.net?v=1.1.1" rel="noopener" target="_blank">ViperCard</a> - an open source recreation and re-imagination of HyperCard</li></ul></article>