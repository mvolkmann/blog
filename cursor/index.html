<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Cursor</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#starting">Starting</a></li><li><a href="#security">Security</a></li><li><a href="#functionality">Functionality</a></li><li><a href="#paid-vs.-free-versions">Paid vs. Free Versions</a></li><li><a href="#advice">Advice</a></li><li><a href="#chat-attempt-%231---fail!">Chat Attempt #1 - FAIL!</a></li><li><a href="#chat-attempt-%232">Chat Attempt #2</a></li><li><a href="#chat-attempt-%233">Chat Attempt #3</a></li><li><a href="#resources">Resources</a></li></ol></nav></aside><article><style>img {
        border: 1px solid gray;
    }</style><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://www.cursor.com.?v=1.1.1" rel="noopener" target="_blank">Cursor</a> is anu &quot;AI Code Editor&quot; that aims to make developers &quot;extraordinarily productive&quot;.</p><h2 id="installing" tabindex="-1">Installing</h2><p>Click a download button on the <a href="https://www.cursor.com.?v=1.1.1" rel="noopener" target="_blank">Cursor home page</a>. Double-click the downloaded installer and follow the directions.</p><h2 id="starting" tabindex="-1">Starting</h2><p>Double-click the app to start it. On first launch it will prompt for:</p><ul><li><p>Keyboard</p><p>The options are Default (VS Code), Vim, Jetbrains, Emacs, Sublime, and Atom.</p></li><li><p>Language for AI - defaults to English</p></li><li><p>Codebase-wide</p><p>This allows Cursor to index the entire code base of the current project.</p></li><li><p>Add Terminal Command</p><p>This enables launching Cursor from a terminal by entering <code>code</code>, <code>cursor</code>, or both.</p></li><li><p>VS Code Extensions</p><p>Click &quot;Use Extensions&quot; to install all the extensions currently being used in VS Code, or click &quot;Start from Scratch&quot; to begin with no extensions installed.</p></li><li><p>&quot;Cursor.app&quot; would like to access files in your Documents folder.</p><p>Click &quot;Don't Allow&quot; or &quot;Allow&quot; (preferred).</p></li><li><p>Data Preferences</p><p>Select &quot;Help Improve Cursor&quot; (to share usage data) or &quot;Privacy Mode&quot; (to not share usage data).</p></li><li><p>Click &quot;Log In&quot; (if you already have an account) or &quot;Sign Up&quot;.</p></li></ul><h2 id="security" tabindex="-1">Security</h2><p>See <a href="https://www.cursor.com/security?v=1.1.1" rel="noopener" target="_blank">Security</a> for details on how Cursor keeps your source code and development environment secure.</p><p>Enabling &quot;Privacy Mode&quot; makes it so none of your code will be stored by Cursor. This setting can be found at Cursor ... Settings ... Cursor Settings ... General ... Privacy mode. It seems this is enabled by default, but double-check it.</p><p>Cursor depends on several &quot;subprocessors&quot; where code is sent in order to respond to queries. So Cursor is only as secure as those subprocessors which include:</p><ul><li>AWS - hosts Cursor infrastructure</li><li>Fireworks - hosts custom AI models on servers in the United States, Tokyo, and London.</li><li>Open AI - provides models that are used to give AI responses</li><li>Anthropic - provides models that are used to give AI responses</li><li>Google Cloud Vertex API - provides Gemini models that are used to give AI responses</li><li>Turbopuffer - stores obfuscated code on Google Cloud servers in the United States</li><li>Exa and SerpApi - used for web searches</li><li>MongoDB - used for analytics data when privacy mode is not enabled</li><li>Datadog</li><li>Databricks</li><li>Foundary</li><li>Voltage Park</li><li>Slack</li><li>Google Workspace</li><li>Pinecone</li><li>Amplitude</li><li>Hashicorp</li><li>Stripe</li><li>Vercel</li><li>WorkOS</li></ul><p>TODO: Finish document what each subprocessor above is used for.</p><p>TODO: Explain what enabling privacy mode does.</p><p>TODO: Add more detail from <a href="https://www.cursor.com/security">https://www.cursor.com/security</a>.</p><p>TODO: Can Cursor be configured to never upload any of our source code?</p><p>TODO: Can Cursor be configured to not use our source code to train its models?</p><h2 id="functionality" tabindex="-1">Functionality</h2><p>Cursor provides the following functionality:</p><ul><li>Predicts your next edit which can be accepted by pressing the tab key.</li><li>Answers questions about the codebase of your current project.</li><li>Enables writing code with natural language instead of specific programming language syntax.</li></ul><h2 id="paid-vs.-free-versions" tabindex="-1">Paid vs. Free Versions</h2><p>TODO: What features does the paid version add?</p><h2 id="advice" tabindex="-1">Advice</h2><p>For best results, make detailed requests rather than general ones. For example, requesting &quot;Write a todo app&quot; is too general. Have a clear vision of what you want to build.</p><h2 id="chat-attempt-%231---fail!" tabindex="-1">Chat Attempt #1 - FAIL!</h2><p>Press cmd-i (macOS) or ctrl-i (others) to open Chat mode. Requests entered here can create and/or edit multiple source files. For example, &quot;Create a web application that allows users to select a kind of food such as Chinese or Mexican from a drop-down menu. Then display on a Google Map all the matching restaurants within 10 miles of the current location of the user. Use the latest version of Svelte.&quot;</p><p>This will prompt for permission to run specific commands. If this runs for a long time, it may be prompting for more information or there may be an error. To see this, click &quot;Pop out terminal&quot;.</p><p>In my case it told me &quot;create-svelte has been deprecated&quot; and that &quot;npm create svelte&quot; has been replaced with &quot;npx sv create&quot;. So I entered the following in the chat: &quot;You tried to use &quot;npm create svelte@latest&quot;, but create-svelte has been deprecated. You need to use &quot;npx sv create&quot; instead.&quot;</p><p>I once again had to click &quot;Pop out terminal&quot; where I was asked several questions related to creating a new Svelte project. After answering them, the project was created in my home directory in a new directory named &quot;restaurant-finder&quot;.</p><p>Instructions for running the project were output. These included optional commands to create a local git repository. It did not suggest running <code>npm install</code>, but that is required.</p><p>The command to run the app failed due to an issue with optional dependencies. I had to delete the <code>package-lock.json</code> file and the <code>node_modules</code> directory, and then run <code>npm install</code> again which worked.</p><p>Enhance the project code with followup requests. For example, &quot;Instead of displaying default map markers for each restaurant, display their Yelp rating.&quot;</p><p>Back in Cursor I clicked the &quot;Open Project&quot; button and selected the new project directory. This contained a fresh Svelte project with none of the code I requested.</p><p>I requested the following in the chat: &quot;Modify the web application to allow users to select a kind of food such as Chinese or Mexican from a drop-down menu. Then display on a Google Map all the matching restaurants within 10 miles of the current location of the user.&quot; This ran for a couple of minutes. Then I press cmd-return to accept all the changes.</p><p>This output the following request: &quot;Also, please make sure to provide your Google Maps API key by replacing the empty string in the Map.svelte component. The application won't work without a valid API key.&quot;</p><p>I asked it &quot;How can I put the Google Maps API key in a .env file that is not commited to Git so I can keep it secret?&quot; It created a <code>.env</code> file for me and modified <code>Map.svelte</code> to use it. I modified the <code>.env</code> file to use a Google Maps API key from a previous project.</p><p>I ran <code>npm install</code> again to install new dependencies that were added.</p><p>I ran <code>npm run dev</code> to start a local web server and browsed localhost:3000.</p><h2 id="chat-attempt-%232" tabindex="-1">Chat Attempt #2</h2><p>Open a chat. One way is to open the command palette and select &quot;New Chat&quot;. Another way is to press cmd-i (macOS) or ctrl-i (others).</p><p>Requests entered here can create and/or edit multiple source files. For example, &quot;Create a Svelte project in a directory named &quot;restaurant-finder&quot;. This will suggest commands to run to create the project. For each command, click the &quot;Run command&quot; button (or press cmd-return) to run it. Click &quot;Pop out terminal&quot; in order to answer questions being asked by <code>npx sv create</code>.</p><p>Ask Cursor to customize the default application. For example, &quot;Change the main page to contain a drop-down from which users can select a kind of food such as Chinese or Mexican.&quot;</p><h2 id="chat-attempt-%233" tabindex="-1">Chat Attempt #3</h2><p>Creating a new SvelteKit project is somewhat complicated at the moment, so I did that manually and then opened that project in Cursor.</p><p>I entered the following in the chat:</p><ul><li>Create a component that renders a drop-down for selecting a cuisine like Chinese or Mexican and use it in the main page.</li><li>Alphabetize the cuisines in the drop-down.</li><li>Prettier complains that CuisineSelector.svelte should include a key for each block. Fix that.</li><li>When a cuisine is selected, display a map that shows all the restaurants of that type that are within 10 miles of the current location of the user.</li><li>Change the code to use Google Maps instead of mapbox.</li></ul><p>The last step output the following:</p><blockquote><p>To get this working, you'll need to:</p><ol><li>Get a Google Maps API key:<ul><li>Go to the Google Cloud Console (<a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>)</li><li>Create a new project or select an existing one</li><li>Enable the Maps JavaScript API</li><li>Create credentials (API key)</li><li>Replace YOUR_GOOGLE_MAPS_API_KEY in the main page with your actual API key</li></ul></li></ol></blockquote><ul><li><p>Get the Google Maps API key from a .env file.</p><p>This created a <code>.env</code> at the root of the project. I edited that file and set PUBLIC_GOOGLE_MAPS_API_KEY to my API key.</p></li><li><p>I ran the app again and selected &quot;Mexican&quot; from the cuisine drop-down. It opened a dialog that said &quot;<a href="http://localhost:5173">http://localhost:5173</a> wants to know your location.&quot; I clicked the &quot;Allow while visiting this site&quot; button. It rendered a map with the caption &quot;Showing Mexican restaurants near you&quot; and a dialog that said &quot;This page can't load Google Maps correctly. Do you own this website?&quot; I clicked the &quot;OK&quot; button. In the DevTools console I saw the following messages:</p><ul><li>&quot;Google Maps JavaScript API has been loaded directly without loading=async. This can result in suboptimal performance.&quot;</li><li>&quot;Google Maps JavaScript API warning: InvalidKey&quot;</li><li>&quot;As of February 21st, 2024, google.maps.Marker is deprecated. Please use google.maps.marker.AdvancedMarkerElement instead. At this time, google.maps.Marker is not scheduled to be discontinued, but google.maps.marker.AdvancedMarkerElement is recommended over google.maps.Marker.&quot;</li></ul></li><li><p>I see a message in the DevTools console that says &quot;Google Maps JavaScript API has been loaded directly without loading=async. This can result in suboptimal performance.&quot; Please fix that.</p><p>Cursor attempted to fix this, but the changes it made did not make the warning go away.</p></li><li><p>google.maps.Marker is deprecated. Please use google.maps.marker.AdvancedMarkerElement instead.</p><p>The changes removed the warning about google.maps.Marker being deprecated, but introduced these new issues:</p><ul><li>Please use addEventListener('gmp-click', ...) instead of addEventListener('click', ...).</li><li>The map is initialized without a valid Map ID, which will prevent use of Advanced Markers.</li></ul></li><li><p>Please use addEventListener('gmp-click', ...) instead of addEventListener('click', ...).</p><p>The changes removed the warning about addEventListener.</p></li><li><p>The map is initialized without a valid Map ID, which will prevent use of Advanced Markers. Please initialize the map with a valid map id.</p><p>This make changes and output the following:</p><p>To get this working, you'll need to:</p><ol><li>Create a Map ID in the Google Cloud Console:<ul><li>Go to <a href="https://console.cloud.google.com/google/maps-apis/maps">https://console.cloud.google.com/google/maps-apis/maps</a></li><li>Click &quot;Create Map ID&quot;</li><li>Give your map a name</li><li>Copy the generated Map ID</li></ul></li><li>Update your .env file with your Map ID: PUBLIC_GOOGLE_MAPS_ID=your_map_id_here</li></ol><p>The URL given to create a map id is incorrect. The correct URL is <a href="https://console.cloud.google.com/google/maps-apis/studio/maps">https://console.cloud.google.com/google/maps-apis/studio/maps</a>. I browsed that URL and did the following:</p><ul><li>click &quot;Create map ID&quot; button</li><li>enter a name and description</li><li>selected &quot;JavaScript&quot; for the Map type</li><li>accepted the default of Raster rather than Vector</li><li>clicked the &quot;Save&quot; button</li><li>copied the &quot;Map ID&quot; that was displayed</li><li>modified <code>PUBLIC_GOOGLE_MAPS_ID</code> in the <code>.env</code> file to have that value</li></ul></li><li><p>When I restart the Svelte server, I'm getting the error &quot;No loader is configured for '.node' files: node_modules/fsevents/fsevents.node&quot;. Please fix this.</p></li><li><p>Now I get SyntaxError: Identifier '<strong>vite</strong>injectQuery' has already been declared in app.js. Please fix this.</p></li><li><p>The changes you made did not fix the problem. Please try again.</p></li><li><p>That didn't fix the problem either. Do you have another idea?</p></li><li><p>Check my SvelteKit version and ensure it's compatible with your Vite version.</p><p>This output the following:</p><p>I see the issue now. You're using some very recent versions that might have compatibility issues. The problem is that you're using Svelte 5 (which is still in beta) along with Vite 6 (which is also very new). Let's downgrade to more stable versions. I'll update your package.json.</p></li><li><p>Now I get the error &quot;Top-level await is not available in the configured target environment&quot; Can you fix this?</p></li><li><p>That did not fix the problem. The file node_modules/vitefu/src/index.js uses a top-level await.</p></li><li><p>It's back to giving me &quot;SyntaxError: Identifier '<strong>vite</strong>injectQuery' has already been declared&quot;. Can you fix that?</p></li><li><p>Now I get SyntaxError: Invalid left-hand side in assignment in hook.js. Can you fix that?</p></li><li><p>Now we are back to ERROR: Top-level await is not available in the configured target environment. It seems that your fixes are going in circles. Is it time to give up?</p></li></ul><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://www.youtube.com/watch?v=ocMOZpuAMw4?v=1.1.1" rel="noopener" target="_blank">Cursor Tutorial for Beginners</a></li><li></li></ul></article>