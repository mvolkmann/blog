<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Hyperscript</h2><aside><nav class="toc"><ol><li><a href="#foreword">Foreword</a></li><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#using-_hyperscript">Using _hyperscript</a></li><li><a href="#using-vs-code">Using VS Code</a></li><li><a href="#underscore-attribute">Underscore Attribute</a></li><li><a href="#features">Features</a></li><li><a href="#variables">Variables</a></li><li><a href="#commands">Commands</a></li><li><a href="#keywords">Keywords</a></li><li><a href="#syntax">Syntax</a></li><li><a href="#terminology">Terminology</a></li><li><a href="#errors">Errors</a></li><li><a href="#logging">Logging</a></li><li><a href="#comments">Comments</a></li><li><a href="#attributes">Attributes</a></li><li><a href="#strings">Strings</a></li><li><a href="#arrays">Arrays</a></li><li><a href="#objects">Objects</a></li><li><a href="#dom-access">DOM Access</a></li><li><a href="#operators">Operators</a><ol><li><a href="#comparison-operators">Comparison Operators</a></li><li><a href="#math-operators">Math Operators</a></li></ol></li><li><a href="#conversions">Conversions</a></li><li><a href="#conditional-logic">Conditional Logic</a></li><li><a href="#iteration">Iteration</a></li><li><a href="#resources">Resources</a></li><li><a href="#todo">TODO</a></li></ol></nav></aside><article><figure style="width: 60%"><img alt="_hyperscript logo" style="border: 0" src="/blog/assets/hyperscript-logo.png?v=1.1.1"></figure><h2 id="foreword" tabindex="-1">Foreword</h2><p>This page is incomplete.</p><p>I'm giving up on _hyperscript for now. The language feels a bit too hard to write because it is significantly different from most programming languages, including JavaScript. I had difficulty getting some basic examples to work. My questions on the htmx Discord channel went unanswered.</p><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://hyperscript.org?v=1.1.1" rel="noopener" target="_blank">_hyperscript</a> is small programming language that can be used in HTML files to implement interactive features such as event handling. It also supports asynchronous operations such as fetching data from a server by sending an HTTP request.</p><p>_hyperscript is based on the <a href="https://en.wikipedia.org/wiki/HyperTalk?v=1.1.1" rel="noopener" target="_blank">HyperTalk</a> language which was used in Apple's <a href="https://en.wikipedia.org/wiki/HyperCard?v=1.1.1" rel="noopener" target="_blank">HyperCard</a>. From Wikipedia, HyperCard &quot;is among the first successful hypermedia systems predating the World Wide Web.&quot;</p><p>Like HyperTalk, _hyperscript uses an English-like syntax. It emphasizes readability, but may feel more difficult to write at first because the syntax is quite different from typical programming languages.</p><p>_hyperscript is similar to <a href="https://alpinejs.dev?v=1.1.1" rel="noopener" target="_blank">Alpine</a> and <a href="https://htmx.org?v=1.1.1" rel="noopener" target="_blank">HTMX</a> in that they add attributes to HTML. But hyperscript only adds one attribute, the underscore.</p><p>Placing code on HTML elements favors locality of behavior over separation of concerns much like <a href="https://tailwindcss.com?v=1.1.1" rel="noopener" target="_blank">Tailwind</a>, Alpine, and HTMX.</p><p>_hyperscript was created by Carson Gross who also created <a href="https://htmx.org?v=1.1.1" rel="noopener" target="_blank">HTMX</a>. As of March 2024 it had not yet reached version 1.0.</p><h2 id="installing" tabindex="-1">Installing</h2><p>To use _hyperscript, just including the following <code>script</code> tag in each HTML page that needs it.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/hyperscript.org@0.9.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>Version 0.9.12 was released in October 2023.</p><p>_hyperscript cannot be installed from npm.</p><h2 id="using-_hyperscript" tabindex="-1">Using _hyperscript</h2><p>To use _hyperscript, add an attribute to HTML elements whose name is an underscore. The names <code>script</code> and <code>data-script</code> can also be used. For example:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/hyperscript.org@0.9.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>on click alert('got click')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="using-vs-code" tabindex="-1">Using VS Code</h2><p>The <a href="https://marketplace.visualstudio.com/items?itemName=dz4k.vscode-hyperscript-org?v=1.1.1" rel="noopener" target="_blank">_hyperscript</a> extension from dz4k provides syntax highlighting of _hyperscript code embedded in HTML files and in standalone files. Unfortunately, it often messes up the syntax highlighting of HTML that follows. This issue was reported in April 2022, so it seems it will not be fixed.</p><h2 id="underscore-attribute" tabindex="-1">Underscore Attribute</h2><p>The value of the <code>_</code> attribute is a string of _hyperscript code. The name <code>script</code> or <code>data-script</code> can be used in place of <code>_</code>.</p><p>The code must begin with a feature command. These are described in the next section.</p><h2 id="features" tabindex="-1">Features</h2><p>Each HTML element can only have one underscore attribute.</p><p>Each underscore attribute can describe one or more features.</p><p>The <code>init</code> feature is executed when the associated element is initialized.</p><p>The <code>on</code> feature lists the events that will cause the commands that follow to be executed. Multiple event names are separated by the <code>or</code> keyword.</p><p>The following code demonstrates using the <code>init</code> and <code>on</code> features.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/hyperscript.org@0.9.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    See output in the DevTools console.<br><br>    <span class="token comment">&lt;!-- This demonstrates defining multiple features in one _ value. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><br>      <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><br>      init log 'initialized'<br>      on click log 'got click'<br>      on mouseover log 'got mouseover'<br>    <span class="token punctuation">"</span></span><br>    <span class="token punctuation">></span></span><br>      mouseover and click to execute features<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>    <span class="token comment">&lt;!-- This demonstrates using the "js" feature. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>js console.log('ran JS code')<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ran JS code<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>The most commonly used features are <code>init</code> and <code>on</code>. Other supported features include:</p><ul><li><code>behavior</code>/<code>install</code> to define and use named sets of commands</li><li><code>def</code> to define functions that execute commands</li><li><code>eventsource</code> for working with Server-Sent Events (SSE)</li><li><code>js</code> for embedding JavaScript code</li><li><code>set</code> for setting an element-scoped variable</li><li><code>socket</code> for working with WebSockets</li><li><code>worker</code> for working with Web Workers</li></ul><h2 id="variables" tabindex="-1">Variables</h2><p>Hyperscript can access JavaScript variables that are declared with the <code>var</code> keyword, but not those declared with the <code>const</code> or <code>let</code> keywords.</p><p>Hyperscript can declare and use its own variables. These have three scopes.</p><p>Global variables can be used in any _hyperscript command. There are two ways to create a global variable.</p><ul><li><code>set ${name} to {value}</code></li><li><code>set global {name} to {value}</code></li></ul><p>Element variables are scoped to an element, but can be accessed in any of its features. Their names must start with <code>:</code>.</p><p>All other variables are local and can only be used in their current feature.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/hyperscript.org@0.9.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br>      <span class="token comment">// _hyperscript cannot access variables declared with const or let.</span><br>      <span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    See output in the DevTools console.<br><br>    <span class="token comment">&lt;!-- This demonstates accessing a JavaScript variable. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init log 'j =', j<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>logged JS variable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>    <span class="token comment">&lt;!-- These demonstrate defining a global-scoped variable<br>         and accessing it in multiple elements. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init set global g to 3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>set g<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init log '$g =', $g<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>logged g<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init set my.textContent to g<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>    <span class="token comment">&lt;!-- This demonstrates setting an element-scoped variable<br>         and accessing it in other features. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><br>      <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><br>      init set :e to 4 then log 'init :e =', :e<br>      on click log 'click :e =', :e -- can access because it's element-scoped<br>      on mouseover log 'mouseover :e =', :e<br>    <span class="token punctuation">"</span></span><br>    <span class="token punctuation">></span></span><br>      mouseover and click for element-scoped variable<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>    <span class="token comment">&lt;!-- This demonstrates setting a local-scoped variable<br>         and not being able to access it in other features. --></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><br>      <span class="token attr-name">_</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><br>      init set l to 5 then log 'init l =', l<br>      on click log 'click l =', l -- undefined because it's local-scoped<br>    <span class="token punctuation">"</span></span><br>    <span class="token punctuation">></span></span><br>      click for local-scoped variable<br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h2 id="commands" tabindex="-1">Commands</h2><p>_hyperscript is a programming language with its own set of commands and keywords.</p><p>Each _hyperscript command is described in the following table.</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>add</code></td><td>adds an attribute, CSS class, or CSS property to an element</td></tr><tr><td><code>append</code></td><td>appends a string to another string, a value to an array, or element to another element</td></tr><tr><td><code>async</code></td><td>executes a command or block of commmands asynchronously</td></tr><tr><td><code>beep!</code></td><td>prints the source, result, and type of an expression to the console</td></tr><tr><td><code>break</code></td><td>exits a <code>repeat</code> loop</td></tr><tr><td><code>call</code></td><td>evaluates an expression and places the result in the <code>it</code> variable</td></tr><tr><td><code>continue</code></td><td>continues to the next iteration of a <code>repeat</code> loop</td></tr><tr><td><code>decrement</code></td><td>decrements a variable, property, or attribute (see <code>by</code> keyword)</td></tr><tr><td><code>default</code></td><td>sets the default value of a variable or property</td></tr><tr><td><code>exit</code></td><td>exits a function or event handler without returning a value</td></tr><tr><td><code>fetch</code></td><td>fetches text, JSON, HTML, or raw data from an HTTP endpoint and places the result in the <code>it</code> variable</td></tr><tr><td><code>for</code></td><td>iterates over items in an expression; specifies target of <code>take</code></td></tr><tr><td><code>from</code></td><td>specifies source of <code>take</code></td></tr><tr><td><code>get</code></td><td>an alias for <code>call</code>, used when it reads better</td></tr><tr><td><code>go</code></td><td>navigates to a URL, back to the previous page, or scrolls an element into view</td></tr><tr><td><code>halt</code></td><td>prevents an event from bubbling</td></tr><tr><td><code>hide</code></td><td>hides an element by changing its CSS <code>display</code>, <code>visibility</code>, or <code>opacity</code> property</td></tr><tr><td><code>if</code></td><td>provides conditional control flow</td></tr><tr><td><code>increment</code></td><td>increments a variable, property, or attribute (see <code>by</code> keyword)</td></tr><tr><td><code>js</code></td><td>embeds JavaScript code; terminated by <code>end</code></td></tr><tr><td><code>log</code></td><td>writes using <code>console.log</code> unless another variant is specified after <code>with</code> keyword</td></tr><tr><td><code>make</code></td><td>creates an instance of a DOM class (an element)</td></tr><tr><td><code>measure</code></td><td>gets measurements from an element</td></tr><tr><td><code>on</code></td><td>specifies events (separated by <code>or</code>) that trigger the commands that follow</td></tr><tr><td><code>pick</code></td><td>gets array elements using the <code>slice</code> method</td></tr><tr><td><code>put</code></td><td>inserts content into a variable, property, or the DOM</td></tr><tr><td><code>remove</code></td><td>removes an element from the DOM or a class/property from an element</td></tr><tr><td><code>render</code></td><td>clones a <code>template</code> element and populates it; result goes in <code>result</code> and <code>it</code></td></tr><tr><td><code>repeat</code></td><td>iterates over items in an expression, a number of times, or <code>forever</code></td></tr><tr><td><code>return</code></td><td>returns a value from a function or exits from an event handler</td></tr><tr><td><code>send</code></td><td>sends an event to a target element</td></tr><tr><td><code>set</code></td><td>sets a variable or element property</td></tr><tr><td><code>settle</code></td><td>synchronizes on a CSS transition of an element</td></tr><tr><td><code>show</code></td><td>shows an element by changing its CSS <code>display</code>, <code>visibility</code>, or <code>opacity</code> property</td></tr><tr><td><code>take</code></td><td>removes a class or attribute from elements and adds it to another element</td></tr><tr><td><code>tell</code></td><td>temporarily changes the default target for a command</td></tr><tr><td><code>throw</code></td><td>throws an exception</td></tr><tr><td><code>toggle</code></td><td>toggles CSS classes, an attribute, or the visibility of an element</td></tr><tr><td><code>transition</code></td><td>transitions properties on an element from one value to another</td></tr><tr><td><code>trigger</code></td><td>alias for <code>send</code></td></tr><tr><td><code>wait</code></td><td>blocks until an event occurs or for a given amount of time</td></tr></tbody></table><h2 id="keywords" tabindex="-1">Keywords</h2><p>Each _hyperscript keyword is described in the following table. Many of the keywords are used in &quot;pseudo-commands&quot; that treat an object method as a top-level command.</p><table><thead><tr><th>Keyword</th><th>Description</th></tr></thead><tbody><tr><td><code>and</code></td><td>used in logical expressions</td></tr><tr><td><code>at</code></td><td>used in pseudo-commands</td></tr><tr><td><code>back</code></td><td>modifier for the <code>go</code> command</td></tr><tr><td><code>bottom</code></td><td>indicates a relative position</td></tr><tr><td><code>by</code></td><td>modifier for the <code>decrement</code> and <code>increment</code> commands which default to <code>1</code></td></tr><tr><td><code>center</code></td><td>indicates a relative position</td></tr><tr><td><code>character</code></td><td>specifies getting a single character with the <code>pick</code> command</td></tr><tr><td><code>characters</code></td><td>specifies getting multiple characters with the <code>pick</code> command</td></tr><tr><td><code>do</code></td><td>begins a block of commmands</td></tr><tr><td><code>else</code></td><td>optionally used with <code>if</code></td></tr><tr><td><code>empty</code></td><td>comparison value</td></tr><tr><td><code>end</code></td><td>ends a block of commmands</td></tr><tr><td><code>for</code></td><td>used in <code>repeat</code> commands</td></tr><tr><td><code>forever</code></td><td>used in <code>repeat</code> commands</td></tr><tr><td><code>from</code></td><td>used in pseudo-commands</td></tr><tr><td><code>in</code></td><td>used in <code>repeat</code> commands</td></tr><tr><td><code>into</code></td><td>used in pseudo-commands</td></tr><tr><td><code>is</code></td><td>comparison operator</td></tr><tr><td><code>item</code></td><td>specifies the kind of result to get with the <code>pick</code> command</td></tr><tr><td><code>items</code></td><td>specifies the kind of result to get with the <code>pick</code> command</td></tr><tr><td><code>its</code></td><td>possessive that refers to another element</td></tr><tr><td><code>left</code></td><td>indicates a relative position</td></tr><tr><td><code>match</code></td><td>specifies getting a regular expression match with the <code>pick</code> command</td></tr><tr><td><code>matches</code></td><td>specifies getting a regular expression matches with the <code>pick</code> command</td></tr><tr><td><code>me</code></td><td>possessive that refers to the current element</td></tr><tr><td><code>middle</code></td><td>indicates a relative position</td></tr><tr><td><code>my</code></td><td>alias for <code>me</code></td></tr><tr><td><code>next</code></td><td>finds the next element of a given type</td></tr><tr><td><code>not</code></td><td>used in logical expressions</td></tr><tr><td><code>of</code></td><td>makes commands more readable</td></tr><tr><td><code>on</code></td><td>used in pseudo-commands</td></tr><tr><td><code>or</code></td><td>used in logical expressions</td></tr><tr><td><code>otherwise</code></td><td>alias for <code>else</code>; used with <code>if</code></td></tr><tr><td><code>previous</code></td><td>finds the previous element of a given type</td></tr><tr><td><code>right</code></td><td>indicates a relative position</td></tr><tr><td><code>the</code></td><td>makes commands more readable</td></tr><tr><td><code>then</code></td><td>separates multiple commands; optionally used with <code>if</code></td></tr><tr><td><code>times</code></td><td>indicates the number of times a <code>repeat</code> block will execute</td></tr><tr><td><code>to</code></td><td>used with <code>append</code>, <code>go</code>, and pseudo-commands</td></tr><tr><td><code>top</code></td><td>indicates a relative position</td></tr><tr><td><code>until</code></td><td>used in <code>repeat</code> commands</td></tr><tr><td><code>while</code></td><td>used in <code>repeat</code> commands</td></tr><tr><td><code>with</code></td><td>specifies the <code>console</code> method that <code>log</code> should use; also used in pseudo-commands</td></tr></tbody></table><h2 id="syntax" tabindex="-1">Syntax</h2><p>Single-line comments begin with <code>--</code> (preferred) or <code>//</code>. Multi-line comments are delimited by <code>/*</code> and <code>*/</code>.</p><h2 id="terminology" tabindex="-1">Terminology</h2><ul><li><p>script: composed of features</p></li><li><p>feature: a series of commands</p><p>One kind of feature is an event handler.</p></li><li><p>command: a series of expressions</p><p>Multiple commands can be separated by the <code>then</code> keyword or a newline character.</p><p>Commands with bodies, such as <code>if</code> and <code>on</code> are terminated by the <code>end</code> keyword, but that is not required if the script ends or another feature starts. In practice the <code>end</code> keyword is rarely used.</p></li><li><p>expressions: can include three kinds of values</p><ul><li>numbers</li><li>strings in single or double quotes</li><li>array literals with the syntax <code>[value1, value2, ...]</code></li><li>element id references: <code>#some-id</code></li><li>CSS class references: <code>.some-class</code></li><li>attribute references: <code>@some-attribute</code></li><li>query references: <code>&lt;somename /&gt;</code></li></ul></li><li><p>variables</p><p>To set a variable, use <code>set {name} to {value}</code>. The <code>put</code> keyword can be used in place of <code>set</code>, but <code>set</code> is preferred.</p><p>There are three variable scopes:</p><ul><li><code>local</code>: scoped to a feature within a script</li><li><code>element</code>: scoped to the element associated with the script</li><li><code>global</code>: available to all scripts</li></ul><p>To specify the scope of a variable, precede its name with one of these keywords and space. Alternative, precede the name with a <code>$</code> for global scope or a <code>:</code> for element scope. If no scope is specified, the variable defaults to <code>local</code> scope.</p></li></ul><h2 id="errors" tabindex="-1">Errors</h2><p>When syntax errors are encountered, error messages are written to the DevTools Console. They are quite descriptive.</p><h2 id="logging" tabindex="-1">Logging</h2><p>To write to the DevTools Console, use <code>log {value}</code></p><h2 id="comments" tabindex="-1">Comments</h2><p>Single-line comments begin with <code>--</code> followed by at least one whitespace character.</p><p>For now, <code>//</code> for single-line comments and <code>/* ... */</code> for multi-line comments are also supported, but those may not be supported in the future.</p><h2 id="attributes" tabindex="-1">Attributes</h2><p>To get the value of an attribute on the current element, use <code>@attr-name</code>. The value will always be a string.</p><p>To set the value of an attribute on the current element, use <code>set @attr-name to {value}</code>. If the value is not a string, it will be converted to a string.</p><h2 id="strings" tabindex="-1">Strings</h2><p>Literal strings are delimited with single or double quotes. Strings can be concatenated with the <code>+</code> operator. Interpolation is performed in the same way as in JavaScript. For example:</p><pre class="language-text"><code class="language-text">set fullName to `${firstName} ${lastName}`</code></pre><h2 id="arrays" tabindex="-1">Arrays</h2><p>The following code demonstrates operating on arrays.</p><pre class="language-text"><code class="language-text">set scores to [7, 19, 12]<br>log the first of scores -- 7<br>log the last of scores -- 12<br>log random in scores -- one of the values</code></pre><h2 id="objects" tabindex="-1">Objects</h2><p>Objects are created with the same literal syntax as in JavaScript. For example:</p><pre class="language-text"><code class="language-text">set dog to {name: "Comet", breed: "Whippet"}<br>log `${dog.name} is a ${dog.breed}`</code></pre><p>There are multiple ways to access a property of an object.</p><ul><li><code>dog.name</code></li><li><code>dog['name']</code></li><li><code>dog's name</code></li><li><code>the name of dog</code></li></ul><h2 id="dom-access" tabindex="-1">DOM Access</h2><p>Possessive expressions can be used to get and set DOM content. For example:</p><pre class="language-text"><code class="language-text">get the first <li> then<br>set my innerHTML to its innerHTML</code></pre><h2 id="operators" tabindex="-1">Operators</h2><h3 id="comparison-operators" tabindex="-1">Comparison Operators</h3><p>_hyperscript supports all the comparison operators in JavaScript. It also supports many comparison keywords.</p><ul><li><code>x is y</code> is the same as <code>x == y</code></li><li><code>x is not y</code> is the same as <code>x != y</code></li><li><code>no x</code> and <code>x exists</code> are the same as <code>x == null</code>, <code>x == undefined</code>, and <code>[[x.length]] == 0</code>?</li><li><code>x is less then y</code> is the same as <code>x &lt; y</code></li><li><code>x is greater then y</code> is the same as <code>x &gt; y</code></li></ul><p>Other operators with no direct comparison to JavaScript include the following:</p><ul><li><code>{collection} is empty</code></li><li><code>{element} matches {selector}</code></li></ul><h3 id="math-operators" tabindex="-1">Math Operators</h3><p>_hyperscript supports most JavaScript math operators. It does not support the <code>%</code> operator for modulo, but the <code>mod</code> keyword can be used instead.</p><p>_hyperscript evaluates all operators from left to right and doesn't apply operator precedence. Parentheses must be used when an expression uses multiple operators.</p><p>The <code>increment</code> and <code>decrement</code> keywords modify the value of a number as their name implies.</p><h2 id="conversions" tabindex="-1">Conversions</h2><p>To convert a string to a number, follow it with <code>as an Int</code>.</p><h2 id="conditional-logic" tabindex="-1">Conditional Logic</h2><pre class="language-text"><code class="language-text">if {condition}<br>  ...<br>end</code></pre><h2 id="iteration" tabindex="-1">Iteration</h2><p>_hyperscript supports many kinds of loops. The <code>break</code> and <code>continue</code> keywords can be used in all of them.</p><pre class="language-text"><code class="language-text">for {var} in {collection}<br>  ...<br>end<br><br>for {var} in {collection} index {i}<br>  ...<br>end<br><br>repeat forever<br>  ...<br>end<br><br>repeat in {collection} -- sets the "it" variable<br>  ...<br>end<br><br>repeat while {condition}<br>  ...<br>end<br><br>repeat until {condition}<br>  ...<br>end<br><br>repeat {n} times<br>  ...<br>end</code></pre><p>Some commands automatically operate on all items in a collection. For example, <code>add .some-class to &lt;li/&gt;</code> adds the CSS class <code>some-class</code> to all <code>li</code> elements.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://hyperscript.org?v=1.1.1" rel="noopener" target="_blank">_hyperscript home page</a></li><li><a href="https://hyperscript.org/docs/?v=1.1.1" rel="noopener" target="_blank">_hyperscript Documentation</a></li><li><a href="https://hyperscript.org/cookbook/?v=1.1.1" rel="noopener" target="_blank">_hyperscript Cookbook</a></li><li><a href="https://hyperscript.org/reference/?v=1.1.1" rel="noopener" target="_blank">_hyperscript Reference</a></li><li><a href="?v=1.1.1" rel="noopener" target="_blank"></a></li></ul><h2 id="todo" tabindex="-1">TODO</h2><p>Organize this content:</p><p>can combine with tailwind in order to use provided classes like hidden. how good are the error messages if there is something wrong in the syntax? Do error messages appear in the Dev tools console? Do error messages appear on page load or only when hyperscript is triggered? see the control flow section in the docs for conditional logic and iteration. maybe Alpine is better for this because it allows using JavaScript syntax. The then keyword allows specifying a sequence of hyperscript statements. what is the difference between if else and if otherwise?</p><p>on click toggle .some-class on selector click is an event. toggle is an action</p><p>List all the supported events. click, load, … List all the supported keywords and describe each one. toggle, transition, on, my, over to, seconds, then, … is there a keyword that runs two things at once unlike the then keyword that runs them serially? selectors can use the keyword me.</p><p>make sure you understand what the defer attribute does on a script tag. resetting a form can be done in a single attribute with hyper script, but requires three things with Alpine, x-data, x-on, and an id on the form.</p></article>