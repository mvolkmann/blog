---
eleventyNavigation:
  key: SvelteKit
  parent: Svelte
  order: 1
layout: topic-layout.njk
---

## Overview

SvelteKit is a framework that leverages Svelte
an is a replacement for previous framework Sapper.
It is similar to Next for React and Nuxt for Vue.

The main features of SvelteKit are:

- file-based page routing
- file-based endpoints (REST services)
- layouts (ex. common page header, footer, and nav)
- error page
- code splitting for JS and CSS
- page visits only load the JS and CSS they need
- hot reloading (provided by Vite; very fast!)
- static sites and individual static pages
- CLI tool that provides:
  - setup of TypeScript
  - setup of Sass or Less CSS preprocessors
  - setup of ESLint
  - setup of Prettier
- adapters for specific deployment targets

## Path Aliases

SvelteKit provides directory aliases.
These can only be used in import path strings.
They are not variables.

`$app` is used to import various modules described below.

`$lib` is an alias to the `src/lib` directory.
It is used to import your own source files
without using relative paths.

## Provided Modules

### `$app/env`

To use this module, import the desired items as follows:

`import { amp, browser, dev } from '$app/env';`

`amp` is a boolean that indicates whether the app uses
{% aTargetBlank "https://developers.google.com/amp",
"Accelerated Mobile Pages (AMP)" %} created by Google.

`browser` is a boolean that indicates whether
the code is running in the browser.
When the value is `false`, the code is running on the server.

`dev` is a boolean that indicates whether
the code is running in development mode.
When the value is `false`, the code is running in production mode.

### `$app/navigation`

To use this module, import the desired items as follows:

`import { goto, prefetch, prefetchRoutes } from '$app/navigation';`

`goto` is a function that programmatically navigates to a new route.
This is preferred over setting `location.href`.

`prefetch` is a function that programmatically
prefetches the page at a given route.
It can be called before calling `goto` to improve performance.
This is appropriate when it can be anticipated
that the user will want to go to the page soon.
It is the same functionality that is triggered by
hovering over a link that uses the `sveltekit:prefetch` attribute.

`prefetchRoutes` is a function that programmatically
prefetches a set of pages at given routes or all pages.

### `$app/paths`

To use this module, import the desired items as follows:

`import { base, assets } from '$app/paths';`

These are directory paths that are relative to the root project directory.
The default to that directory, but can be modified in `svelte.config.cjs`
at the property paths `kit.paths.assets` and `kit.paths.base`.
Changing these doesn't seem very useful.

### `$app/stores`

To use this module, import the desired items as follows:

`import { getStores, navigating, page, session } from '$app/stores';`

`getStores` is a function that returns
an object containing the other three values.
This doesn't seem useful.

`navigating` is a readable store whose value is `null` when not navigating
and an object with `from` and `to` properties when navigating.
TODO: Why does this seem to always be null?

`page` is a readable store that holds the data passed to page `load` functions,
including `host`, `path`, `params`, and `query`
for getting information about a request.

`session` is a writable store that holds session data.
However, setting it doesn't not cause data to be persisted on the server.
If desired, that must be implemented.

### `$service-worker`

To use this module, import the desired items as follows:

`import { build, files, timestamp } from '$service-worker';`

`build` is an array of URLs for the files generated by Vite.
These files can be cached by calling `cache.addAll(build)`.

`files` is an array of URLs for the files in directory specified by
`kit.files.assets` in the `svelte.config.cjs` file which defaults to `static`.

`timestamp` is the value of `Date.now()` (milliseconds) at build time.
It can be used generate a unique cache name which enables
invalidating the caches of subsequent deploys.

## Adapters

The provided adapter targets currently include
Node.js, static, Begin, Netlify, and Vercel.
New SvelteKit projects default to using the Node adapter.
To change the adapter, modify the `svelte.config.cjs` file.

TODO: Finish this
