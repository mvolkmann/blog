<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Claude Code</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#starting">Starting</a></li><li><a href="#security">Security</a></li><li><a href="#functionality">Functionality</a></li><li><a href="#paid-vs.-free-versions">Paid vs. Free Versions</a></li><li><a href="#examples">Examples</a><ol><li><a href="#web-component">Web Component</a></li><li><a href="#wrec-library">wrec Library</a></li><li><a href="#cycling-app">Cycling App</a></li><li><a href="#nim-game">Nim Game</a></li></ol></li><li><a href="#resources">Resources</a></li></ol></nav></aside><article><style>img {
        border: 1px solid gray;
    }</style><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://docs.anthropic.com/en/docs/agents-and-tools/claude-code/overview?v=1.1.1" rel="noopener" target="_blank">Claude Code</a> is &quot;an agentic coding tool made by Anthropic. Currently in beta as a research preview.&quot;</p><p>The cost is based on usage, not on a flat monthly fee. Reports so far claim it is quite expensive, perhaps four times the cost of using Cursor.</p><h2 id="installing" tabindex="-1">Installing</h2><p>npm install -g @anthropic-ai/claude-code</p><h2 id="starting" tabindex="-1">Starting</h2><ul><li>Create a directory for a project.</li><li>cd to the directory.</li><li>Enter <code>claude</code>.</li><li>You'll be prompted to create an account.</li><li>A credit card is required to buy credits.</li></ul><h2 id="security" tabindex="-1">Security</h2><h2 id="functionality" tabindex="-1">Functionality</h2><h2 id="paid-vs.-free-versions" tabindex="-1">Paid vs. Free Versions</h2><p>TODO: What features does the paid version add?</p><h2 id="examples" tabindex="-1">Examples</h2><h3 id="web-component" tabindex="-1">Web Component</h3><p>I ran the following from my dev/web-components/wrec directory:</p><p>'Create a speedometer dial web component using the wrec library defined in this directory. The web component should accept the attribute &quot;min&quot; which defaults to zero, the attribute &quot;max&quot; which defaults to 100, and the attribute &quot;value&quot; which defaults to the value of the &quot;min&quot; attribute.'</p><p>I approved all of its suggestions This took around 3 minutes to complete and used n tokens.</p><p>&quot;The red hand in the dial always points down. I want the minimum value to be around 7 o'clock on a clock face, the maximum value to be around 5 o'clock on a clock face, and the values between to progress clockwise between those.&quot;</p><p>&quot;The css string includes references to this.value, this.min, and this.max. The wrec library does not support that. Those references can only appear in the html string and in methods of the class SpeedometerDial.&quot;</p><p>&quot;The tick marks on the dial should begin at the min value and end at the max value. Create tick marks between those at meaningful intervals. For example, if the range is 0 to 100, place a tick mark at every increment of 10. If the range is 0 to 1000, place a tick mark at every increment of 100.&quot;</p><p>&quot;The tick marks are still not at the correct locations. The first tick mark representing the min value should be at 7 o'clock. The last tick mark representing the max value should be at 5 o'clock. The remaining tick marks should be between those, progressing in clockwise order.&quot;</p><p>&quot;The min tick mark is at 4 o'clock and the max tick mark is at 12 o'clock. Update the code to place the min tick mark at 7 o'clock and the max tick mark at 5 o'clock.&quot;</p><p>&quot;The tick marks are off by 90 degrees. Add 90 degrees to their current positions.&quot;</p><p>Finally the tick marks look correct!</p><p>'Move the static &quot;css&quot; and static &quot;html&quot; properties to after the static &quot;properties&quot; property.'</p><p>&quot;The tick marks are too close to the center of the dial. Move them to be on the edge of the dial.&quot;</p><p>&quot;Allow users to change the speedometer value by dragging the needle.&quot;</p><p>&quot;The needle is now rotated 90 degrees to far. It was correct earlier.&quot;</p><p>&quot;The needle is now rotated correctly, but now all the tick marks need to rotated 90 degrees more. They were correct earlier.&quot;</p><p>&quot;When I drag the needle, it doesn't remain under the mouse cursor. It jumps to 90 degrees less than the cursor position and remains 90 degrees behind while I drag the mouse.&quot;</p><p>&quot;Now the needle position is off by 180 degrees when dragged. Your correction went in the wrong direction.&quot;</p><p>&quot;Now it is back to being 90 degrees behind the drag position. Please add 90 degrees to that calculation.&quot;</p><p>I got this message: &quot;Credit balance too low Â· Add funds: <a href="https://console.anthropic.com/settings/billing">https://console.anthropic.com/settings/billing</a>&quot;</p><p>I ran &quot;/login&quot; and logged in. That seems to have fixed the balance issue.</p><p>I ran the previous request again and it worked!</p><p>&quot;In the display of the current value near the bottom of the dial, do not show any decimal places.&quot;</p><p>&quot;Now it always shows &quot;NaN&quot; for the curren value. Please show the actual value rounded to the nearest integer.&quot;</p><p>&quot;Add a small, red circle to the end of the needle and make that be the only part of the needle that can be dragged to change the value.&quot;</p><p>&quot;Add support for optional attributes to the SpeedometerDial component that customize the background color, tick color, and needle color.&quot;</p><p>&quot;Change the attributes you added (backgroundColor, tickColor, and needleColor) to use kebab-case (background-color, tick-color, and needle-color).&quot;</p><p>&quot;Add small labels to the tick marks that indicate their value, rounded to the nearest integer.&quot;</p><p>&quot;I want small labels on all the tick marks, not just the min, max, and major ones.&quot;</p><h3 id="wrec-library" tabindex="-1">wrec Library</h3><p>&quot;There have been many updates to the wrec library since you last examined it. Summarize the new features.&quot;</p><p>It described six features, but only these were actually new features:</p><ul><li>Computed Properties</li><li>Enhanced Data Binding (ex. value:input attribute)</li><li>Property-to-attribute name caching</li></ul><p>It missed the new feature that enables JavaScript expressions in CSS variable values.</p><h3 id="cycling-app" tabindex="-1">Cycling App</h3><p>I quit <code>claude</code>, cd'ed to a different directory, created the directory &quot;cycling-app&quot;, restarted <code>claude</code>, and entered the following:</p><p>'Build a web app that tracks my bike workouts including location, miles, times, and elevation gain. Use the npm packages &quot;wrec&quot; and &quot;htmx&quot;.'</p><p>It generated the app, but it has these issues:</p><ul><li>It is using htmx 1.9.12 instead of the latest version which is 2.0.6.</li><li>It is trying to use wrec as a server-side library, but that is only for use in browsers.</li></ul><p>&quot;wrec is a client-side JavaScript library for building web components. The file server.js try to use it as a substitute for something like Express, but it cannot be used that way. Change server.js to use the Hono library.</p><p>The summary of the changes included this:</p><p>Client-side improvements (index.html):</p><ul><li>Added wrec script for web components</li><li>Created a custom<workout-stats>web component using standard Web Components API</workout-stats></li></ul><p>However, it is not actually using the wrec library and the web component &quot;workout-stats&quot; is defined inside index.html instead of it a separate JavaScript file.</p><p>&quot;Move the definition of the web component &quot;workout-stats&quot; from index.html to a separate JavaScript file and use the wrec library to implement it.&quot;</p><p>&quot;You are misunderstanding how to implement web components using the wrec library. Please review the documentation at <a href="https://mvolkmann.github.io/blog/wrec/">https://mvolkmann.github.io/blog/wrec/</a> and the code examples at <a href="https://github.com/mvolkmann/wrec/tree/main/examples">https://github.com/mvolkmann/wrec/tree/main/examples</a>. Then revise the file components/workout-stats.js to properly use the wrec library.&quot;</p><p>The implementation is much better now.</p><p>&quot;After a workout is entered, clear the form.&quot;</p><p>&quot;In the WorkoutStats web component, it is not necessary to specify the value property for each of the properties because wrec automatically assigns a default value based on the property type.&quot;</p><p>&quot;Add a summary of the total miles, total time, and total elevation gain of all workouts above the list of recent workouts.&quot;</p><p>The app looks good!</p><p>&quot;Store the workouts in a SQLite database instead of a JSON file.&quot;</p><p>&quot;Where is the workouts.db file stored?&quot;</p><p>It told me the file is in the root directory of the project. I had to restart the server to get it to create that file.</p><p>&quot;Add all the data from the workouts.json file that was used by the app previously to the SQLite database.&quot;</p><p>&quot;Change the import of wrec in workout-stats.js to just import from &quot;wrec&quot;, not a path into the node_modules directory.&quot;</p><p>&quot;Create a public GitHub repository for the app. Add the appropriate files and push.&quot;</p><p>It created the local repository, but did not create the remote repository or push to it.</p><p>&quot;Change the GitHub user id from volkmannm to mvolkmann.&quot;</p><p>After this, I had to manually create the remote repository and push to it.</p><p>&quot;Add ability to enter a date for each workout. Set the date for all existing workouts to today in the database.&quot;</p><p>&quot;Move the &quot;Workout Statistics&quot; section to above the &quot;Recent Workouts&quot; section. Remove the total statistics from the &quot;Recent Workout&quot; section because they just duplicate what is in the &quot;Workout Statistics&quot; section.&quot;</p><p>&quot;Sort the workouts from newest to oldest.&quot;</p><p>&quot;Add pagination to the list of workouts so only five are displayed at a time.&quot;</p><p>&quot;Add the ability to filter and sort the list of workouts on any of their properties.&quot;</p><p>&quot;The UI for filtering and sorting looks good, but there is no button to click that applies the specified filtering and sorting.&quot;</p><p>&quot;The filtering is not working. For example, I entered 20 for &quot;Min Miles&quot; and clicked the &quot;Apply Filters&quot; button, but all the workouts are still displayed, including ones with less than 20 miles.&quot;</p><p>I had to restart the server to get it to work. I seems like Claude Code should know when it makes a change that requires a server restart and do that for me.</p><h3 id="nim-game" tabindex="-1">Nim Game</h3><p>&quot;Create a web-based Nim game with columns containing 3, 5, and 7 items. Allow a human to play against the computer. Allow the human to choose which player makes the first move. The computer player should use the strategy described at <a href="https://wild.maths.org/play-win-nim">https://wild.maths.org/play-win-nim</a> to make its moves.&quot;</p><p>This generated a good version of the game in a single, index.html file.</p><p>&quot;When it was the computers turn and the remaining items were 1, 2, and 1, the computer made the wrong move. It removed 2 items from the second column which allowed the human to win. It should have removed only one item from the second column.&quot;</p><p>&quot;Add the code for this app to the GitHub repository at <a href="https://github.com/mvolkmann/nim-claude.">https://github.com/mvolkmann/nim-claude.</a>&quot;</p><p>&quot;Alphabetize the CSS rules based on their first letter character.&quot;</p><p>&quot;Format the code using Prettier.&quot;</p><p>&quot;Lint the code using oxlint and fix all errors.&quot;</p><p>No errors or warnings were generated by oxlint, so no changes were needed.</p><p>&quot;Change the way that the human player indicates the items to be removed so instead of entering a number for a specific column and clicking a &quot;Remove Items&quot; button, the player clicks one of the green circles to remove that item and all the items to its right.&quot;</p><p>&quot;Simplify the UI by removing the text that gives the column numbers and the number of items remaining. Instead, just show the green circles remaining in each column.&quot;</p><p>&quot;Remove the gray panels around each column of green circles.&quot;</p><p>&quot;In the updateGameStatus function, instead of creating a new span element by setting the innerHTML of the parent element, update the class attribute and textContent of the existing span element.&quot;</p><p>&quot;Currently the code uses the methods getElementById and querySelector repeatedly to find elements that need to be updated. Change this to find all those elements at the beginning and save them in variables so the search for them is only performed once.&quot;</p><p>&quot;It seems that the gameState property humanFirst is set, but never used. If that property isn't needed, remove it.&quot;</p><p>&quot;In the CSS properties, prefer rem units over px units. Use values that are multiples of 0.5.&quot;</p><p>&quot;Alphabetize the properties within each CSS rule.&quot;</p><p>&quot;It seems that the div elements with class=&quot;column&quot; are not needed because the div elements with class=&quot;items&quot; hold all the items. Remove the unnecessary div elements.&quot;</p><p>I manually removed some excessive blank lines.</p><p>'Instead of using the gameState property &quot;currentPlayer&quot; with a string value of &quot;human&quot; or &quot;computer&quot;, use the gameState property &quot;computerMove&quot; with a Boolean value.'</p><p>&quot;Alphabetize the function definitions.&quot;</p><p>&quot;Currently the updateDisplay function blows away all the div elements inside itemsContainer and creates new ones from scratch every time it is called. This is inefficient. Instead just remove the items selected in the last move and update the remaining div elements as needed.&quot;</p><p>&quot;When the remaining items are 0, 1, and 2, at it is the computers turn to move, it removes 1 item from the column containing 2 which allows the human to win. Fix this.&quot;</p><p>&quot;In the calculateOptimalMove function, the if statement that tests pilesWithOne contains two return statements. Replace this with a single return statement that uses the ternary operator to get the value of the count property being returned.&quot;</p><p>&quot;If the computer wins, display a large sad face emoji. If the human wins, fire a confetti cannon.&quot;</p><p>&quot;Your confetti implementation wasn't great. Use an existing library for that instead of implementing it yourself.&quot;</p><p>&quot;Deploy this as a web app to Cloudflare.&quot;</p><p>This created the files worker.js and wrangler.toml for me. I followed the instructions from Claude Code which included the following:</p><ul><li>Commit and push the new files.</li><li>Browse <a href="https://dash.cloudflare.com/">https://dash.cloudflare.com/</a>.</li><li>Log in.</li><li>It said to &quot;Navigate to Pages in the sidebar&quot;, but that doesn't exist.</li><li>It said to click &quot;Create a project&quot;, but I only see &quot;Create application&quot;, so I clicked that.</li><li>It said to select &quot;Connect to Git&quot;, but I only see &quot;Import a repository&quot;. I clicked the &quot;Get Started&quot; button for that.</li><li>I clicked the &quot;GitHub&quot; button which wasn't in the instructions.</li><li>I signed in to my GitHub account.</li><li>On the &quot;Install Cloudflare Workers and Pages&quot; page, I clicked my username.</li><li>I selected the &quot;Only select repositories&quot; radio button.</li><li>I selected my &quot;nim-claude&quot; repository.</li><li>I clicked the &quot;Install &amp; Authorize&quot; button.</li><li>I clicked &quot;Back to Compute (Workers) overview&quot;.</li><li>I do not see a new application!</li><li>I started over using &quot;Pages&quot; instead of &quot;Workers&quot;.</li><li>This worked! See <a href="https://nim-claude.pages.dev/">https://nim-claude.pages.dev/</a>.</li></ul><p>&quot;Make the UI responsive so it looks good on phones.&quot;</p><h2 id="resources" tabindex="-1">Resources</h2></article>