<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Svelte Book Errata</h2><aside><nav class="toc"><ol><li><a href="#chapter-1">Chapter 1</a></li><li><a href="#chapter-2">Chapter 2</a></li><li><a href="#chapter-3">Chapter 3</a></li><li><a href="#chapter-5">Chapter 5</a></li><li><a href="#chapter-6">Chapter 6</a></li><li><a href="#chapter-7">Chapter 7</a></li><li><a href="#chapter-8">Chapter 8</a></li><li><a href="#chapter-9">Chapter 9</a></li><li><a href="#chapter-10">Chapter 10</a></li><li><a href="#chapter-12">Chapter 12</a></li><li><a href="#chapter-13">Chapter 13</a></li><li><a href="#chapter-14">Chapter 14</a></li><li><a href="#chapter-16">Chapter 16</a></li><li><a href="#chapter-17">Chapter 17</a></li><li><a href="#chapter-18">Chapter 18</a></li><li><a href="#chapter-19">Chapter 19</a></li><li><a href="#chapter-20">Chapter 20</a></li><li><a href="#chapter-21">Chapter 21</a></li><li><a href="#appendix-a">Appendix A</a></li><li><a href="#appendix-b">Appendix B</a></li><li><a href="#appendix-e">Appendix E</a></li><li><a href="#appendix-f">Appendix F</a></li><li><a href="#index">Index</a></li></ol></nav></aside><article><p>This is an errata for the book &quot;<a href="https://www.manning.com/books/svelte-and-sapper-in-action">Svelte and Sapper in Action</a>&quot;. If you find additional issues, please email them to <a href="mailto:r.mark.volkmann@gmail.com?subject=Svelte book errata" target="_blank">me</a>.</p><p>Most of these corrections were published on 9/28/2020. They are included in the second printing, not the first. Errors discovered after this date are marked with a target printing in the form &quot;printing n&quot; where n &gt; 2.</p><h3 id="chapter-1" tabindex="-1">Chapter 1</h3><p>p. 11 Change the second paragraph in section 1.1.3 to:</p><p>&quot;Svelte is implemented in TypeScript, but until July 21, 2020 it did not support using TypeScript to define components out of the box. This could be achieved with a little configuration and added tooling. But now opting into the use of TypeScript is much easier. See <a href="https://svelte.dev/blog/svelte-and-typescript">https://svelte.dev/blog/svelte-and-typescript</a> for details.&quot;</p><p>p. 11 Replace &quot;It&quot; at the start of the the second sentence in the note with:</p><p>&quot;The official TypeScript support added in July, 2020 uses this. Chapter 20&quot;</p><p>p. 15 The following paragraph belongs with the bullet that precedes it:</p><p>&quot;Sites created this way are not required to be entirely static. They can still include JavaScript code and take advantage of Svelte reactivity for updating the DOM.&quot;</p><h3 id="chapter-2" tabindex="-1">Chapter 2</h3><p>p. 29 In the first bullet of section 2.1.6, change &quot;next section&quot; to &quot;section 2.1.8&quot;.</p><p>p. 31 In section 2.2.1 at the end of the paragraph about using Webpack, &quot;app-name&quot; should be in italic.</p><p>p. 32 Add the following after &quot;Enter <code>npm install</code> to install all the required dependencies from npm.&quot;</p><p>&quot;To use TypeScript instead of JavaScript, enter <code>node scripts/setupTypeScript.js</code>. This will modify the project to use TypeScript and delete the <code>scripts</code> directory.&quot;</p><p>p. 32 The sentence that starts with &quot;Note that the default Webpack&quot; belongs with step 5 above it.</p><p>p. 35 Add the following as a new second paragraph:</p><p>&quot;To use TypeScript instead of JavaScript inside a <code>script</code> element, change the opening tag to <code>&lt;script lang=&quot;ts&quot;&gt;</code>.&quot;</p><p>p. 36 In step 4, change &quot;listing 2.4&quot; to &quot;listing 2.5&quot;.</p><p>p. 36 In the paragraph that starts with &quot;The TodoList&quot;, add a space between &quot;TodoList&quot; and &quot;component&quot;.</p><p>p. 36 In the last sentence of the same paragraph, change &quot;component&quot; to &quot;components&quot;.</p><h3 id="chapter-3" tabindex="-1">Chapter 3</h3><p>p. 45 In the last paragraph, change &quot;this component&quot; to &quot;the Person component&quot;.</p><p>p. 48 In section 3.4 in the paragraph that starts with &quot;The following example&quot;, change &quot;always&quot; to &quot;only&quot;.</p><p>p. 54 In section 3.9 near the end of the first paragraph, change &quot;these&quot; to &quot;interpolations&quot;.</p><p>p. 56 In the first sentence, &quot;average&quot; should be in code font.</p><p>p. 58 Change the title of Listing 3.5 to &quot;Using module context in src/Demo.svelte&quot;.</p><p>p. 58 In listing 3.6, add the following line after the opening script tag:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>onMount<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span></code></pre><p>p. 58 In the call to &quot;console.log&quot; in listing 3.6, remove &quot;home.svelte on Mount: &quot;.</p><p>p. 59 In the second paragraph of section 3.12, &quot;Todo&quot; should be in code font.</p><h3 id="chapter-5" tabindex="-1">Chapter 5</h3><p>p. 85 In the paragraph that begins with &quot;The value of Boolean props&quot;, change &quot;listing 5.4&quot; to &quot;listing 5.5&quot;.</p><p>p. 87 Replace the first paragraph with the following:</p><p>&quot;TypeScript can be used to define the types of props and catch errors in passing props to components at compile time. If TypeScript is not used, prop types can be checked at run time.&quot;</p><p>p. 93 Remove two spaces of indentation from the line <code>$: triple = cValue \* 3;</code>.</p><p>p. 103 Steps 1 and 2 for Checklist.svelte are not really needed until before step 1 for Checklist.svelte on p. 104.</p><h3 id="chapter-6" tabindex="-1">Chapter 6</h3><p>p. 106 Change the description of &quot;Readable stores&quot; to &quot;do not allow components to change their data&quot; because the store itself can change its own data.</p><p>p. 112 The &quot;key&quot; attribute on the &quot;option&quot; element is not needed.</p><h3 id="chapter-7" tabindex="-1">Chapter 7</h3><p>p. 125 The closing brace after <code>{@html expression</code> can be on the same line and the book intended to show it that way.</p><h3 id="chapter-8" tabindex="-1">Chapter 8</h3><p>p. 146 Change &quot;Here is the Color component&quot; to &quot;Here is the ColorCycle&quot; component for consistency with the previous version on p. 145.</p><p>p. 146 In the title of Listing 8.6, change &quot;Color&quot; to &quot;ColorCycle&quot;.</p><p>p. 146 In Listing 8.6, add the following after the import statement to match code in Listing 8.4:</p><pre class="language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">let</span> text<span class="token punctuation">;</span></code></pre><p>p. 146 In Listing 8.6, change &quot;Some Title&quot; to &quot;{text}&quot; to match code in Listing 8.4.</p><p>p. 149 Code indentation in Listing 8.9 is wrong. All indentation should use two spaces like this:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>onMount<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'svelte'</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">onMountFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">onMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">></span><br>    input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">onMountLog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">onMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'mounted'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>p. 150 In the sentence that starts with &quot;The following listing&quot;, add a space between &quot;AgeEntry&quot; and &quot;or&quot;.</p><h3 id="chapter-9" tabindex="-1">Chapter 9</h3><p>p. 156 The comment before <code>} else if (newQuantity</code> is indented one space too far.</p><p>p. 156 The closing brace of the else block near the top of the page is indented one space too far.</p><p>p. 157 The <code>tr</code> element inside <code>tfoot</code> should have an empty <code>td</code> inserted between the two currently there to leave an empty cell in the &quot;Quantity&quot; column.</p><p>p. 157 The style tag and its content should be removed since it isn't doing anything.</p><p>p. 160 In Listing 9.9 at the bottom of the page, the content of the h1 should be &quot;Page Not Found&quot;.</p><h3 id="chapter-10" tabindex="-1">Chapter 10</h3><p>p. 171 The last paragraph, starting with &quot;Easing endings&quot; is wrong. It should say &quot;Easings ending in In are applied at the beginning of a transition. Easings ending in Out are applied to the ending of a transition. Easings ending in InOut are applied at both ends of a transition.&quot; (printing 3)</p><p>p. 184 Change the last sentence of the paragraph that starts with &quot;The function must&quot; to end with &quot;delay, duration, and easing options.&quot; (printing 3)</p><p>p. 185 In Listing 10.10, make the following changes to the &quot;spin&quot; function:</p><ul><li>Change the first line to `const {times = 1} = options;</li><li>Delete the line <code>const eased = easing(t);</code></li><li>Change the two occurrences of <code>eased</code> in the <code>return</code> statement to <code>t</code>.</li></ul><p>(printing 3)</p><h3 id="chapter-12" tabindex="-1">Chapter 12</h3><p>p. 202 Add the following to the end of the annotation in Listing 12.4 that begins with &quot;This waits&quot;:</p><p>It returns a Promise.</p><p>p. 204 In the second to last annotation in Listing 12.6, change &quot;fond&quot; to &quot;found&quot;.</p><p>p. 208 Near the end of the test output shown in Listing 12.11, change the indentation of the numbers after &quot;Tests:&quot;, &quot;Snapshots:&quot;, and &quot;Time:&quot; to match that of &quot;Test Suites:&quot;.</p><p>p. 220 in the second paragraph, change all letters in color hex codes to lowercase for consistency.</p><p>p. 223 Add a new first step in the list after the sentence that starts with &quot;To run WAVE&quot; that is &quot;Browse to the website to be tested.&quot;</p><p>p. 226 At the end of the bullet &quot;It adds the following npm scripts&quot;, add &quot;in package.json&quot; with &quot;package.json&quot; in code font.</p><p>p. 226 The command for adding Storybook to a Svelte app has changed. The new command is just <code>npx sb init</code>.</p><p>p. 226 The first npm script added by the command above is now <code>&quot;storybook&quot;: &quot;start-storybook -p 6006&quot;,</code></p><p>p. 226 Change <code>addons.js</code> to <code>main.js</code>.</p><p>p. 226 Change &quot;It creates the stories directory&quot; to &quot;It creates the src/stories directory&quot;.</p><p>p. 226 Change <code>index.stories.js</code> to <code>Button.stories.js</code>.</p><p>p. 227 Change <code>index.stories.js</code> to <code>Button.stories.js</code> in two places.</p><p>p. 227 In the sentence that begins with &quot;The two states&quot;, change &quot;two&quot; to &quot;four&quot; and change '&quot;Text&quot; and &quot;Emoji&quot;' to '&quot;Primary&quot;, &quot;Secondary&quot;, &quot;Large&quot;, and &quot;Small&quot;'.</p><h3 id="chapter-13" tabindex="-1">Chapter 13</h3><p>p. 240 In the second sentence, change &quot;Create-React-App&quot; to &quot;Create React App&quot; to match the Vercel website.</p><h3 id="chapter-14" tabindex="-1">Chapter 14</h3><p>p. 245 Delete the first comment in Listing 14.1 which just duplicates the annotation on the following line.</p><p>p. 245 Indent the <code>&lt;label&gt;</code> element inside the <code>{#each}</code> block by two spaces.</p><p>p. 250 In the first sentence of section 14.3, add a space between &quot;name&quot; and &quot;props&quot;.</p><p>p. 250 In the last sentence, change &quot;manual&quot; to &quot;hash&quot;.</p><p>p. 251 The NOTE should be indented so it appears to belong with the second bullet.</p><p>p. 252 In the sentence that begins with &quot;Add the following&quot;, delete the period before &quot;src/Checklist.svelte&quot;.</p><p>p. 253 Indent the NOTE so it appears to belong with the paragraph that precedes it.</p><p>p. 256 In Listing 14.4, change <code>options={options}</code> to <code>{options}</code>.</p><p>p. 259 Indent the Note so it appears to belong with step #5 that begins on the previous page.</p><p>p. 259 Step numbering should not have restarted. Change step 1 to step 6. Change step 2 to step 7. Change step 3 to step 8.</p><p>p. 259 Indent the gray box so it appears to belong with what is now step #6.</p><p>p. 259 The last two paragraphs should be combined into one paragraph because they address the same subject.</p><h3 id="chapter-16" tabindex="-1">Chapter 16</h3><p>p. 279 In Listing 16.3, line 3, delete &quot;, preloading, session&quot; because those variables are not used.</p><p>p. 287 Fix the indentation of the code in step 13. All but the first line are indented two spaces too far.</p><h3 id="chapter-17" tabindex="-1">Chapter 17</h3><p>p. 292 In Figure 17.1, change &quot;Ramsey&quot; to &quot;Ramsay&quot;.</p><p>p. 292 In the first bullet after the line &quot;With this UI we can&quot;, change &quot;a database&quot; to &quot;the database&quot;.</p><p>p. 294 In the second annotation, change the last word from <code>dogs</code> to <code>dogMap</code>.</p><p>p. 296 In the first button element near the top of the page, change <code>on:click|preventDefault={saveDog}</code> to <code>on:click={saveDog} type=&quot;button&quot;</code></p><p>p. 296 In the second button element near the top of the page, change <code>on:click|preventDefault={clearState}</code> to <code>on:click={clearState} type=&quot;button&quot;</code></p><p>p. 296 Delete the annotation that says &quot;Using preventDefault prevents a form submission.&quot; because setting the button types to &quot;button&quot; removes the need for this.</p><p>p. 300 In section 17.5 under &quot;Add the following import:&quot;, one reader reported that they needed to change the import of <code>body-parser</code> to <code>const {json} = require('body-parser');</code> But the <code>import</code> works for me. (printing 3)</p><p>p. 301 In step 7, change <code>routes/checklist.svelte</code> to <code>components/Category.svelte</code>.</p><p>p. 301 In the list under the bullet for &quot;src directory&quot; all the indentation was lost. It should be:</p><pre class="language-text"><code class="language-text">- `routes` directory<br>  - `categories` directory<br>    - `index.json.js`—`get` and `post` category<br>    - `[categoryId]` directory<br>      - `index.json.js`—`put` and `del` category<br>      - `items` directory<br>        - `index.json.js`—`post` item<br>        - `[itemId].json.js`—`put` and `del` item</code></pre><p>p. 306 In second paragraph, change &quot;that would be&quot; to &quot;that is&quot;.</p><h3 id="chapter-18" tabindex="-1">Chapter 18</h3><p>p. 316 In code near the top of the page, change</p><p><code>&lt;div class=&quot;left&quot;&gt;</code> to <code>&lt;div&gt;</code></p><h3 id="chapter-19" tabindex="-1">Chapter 19</h3><p>p. 323 In the paragraph that begins with &quot;Service workers do not&quot;, change &quot;Worker-postMessage&quot; (split across lines) to &quot;Worker postMessage&quot;, removing the dash. These are separate words.</p><p>p. 325 For consistency with other code comments, near the bottom of the page change</p><pre class="language-text"><code class="language-text">...use online in JavaScript code and {#if} blocks...</code></pre><p>to</p><pre class="language-js"><code class="language-js"><span class="token comment">// use online in JavaScript code and {#if} blocks</span></code></pre><p>p. 327 In section 19.4, step 1, change &quot;cache&quot; to code font.</p><p>p. 333 Indent the NOTE so it appears to belong to step 3.</p><p>p. 333 Step numbers should not reset to 1 after the NOTE. Change 1 to 4.</p><p>p. 334 Change 2 to 5. Change 3 to 6. Change 4 to 7. Change 5 to 8.</p><h3 id="chapter-20" tabindex="-1">Chapter 20</h3><p>p. 344 In the first paragraph of section 20.1, add a space between <code>String</code> and <code>replace</code>.</p><p>p. 350 Replace the 2nd, 3rd, and 4th paragraphs in section 20.2.5 with the following:</p><p>There are two ways to enable TypeScript support in a Svelte project. The easiest option is to use <code>npx degit sveltejs/template {project-name}</code> to start a project. Then cd to the directory created and enter <code>node scripts/setupTypeScript.js</code>. This configures the use of svelte-preprocess and a TypeScript plugin for Rollup. It also installs the svelte-check tool and adds a &quot;validate&quot; script in <code>package.json</code> to run it. Finally, it deletes the <code>setupTypeScript.js</code> file and also the <code>scripts</code> directory if there are no other files in it.</p><p>The svelte-check tool (<a href="http://mng.bz/4Agj">http://mng.bz/4Agj</a>) checks all <code>.svelte</code> files in a project and reports many kinds of errors, including TypeScript errors. To run it, enter <code>npm run validate</code>.</p><p>For existing Svelte applications, the use of TypeScript can be manually configured by following these steps:</p><ul><li><p>Install the required npm packages by entering the following:</p><pre class="language-text"><code class="language-text">npm install -D @rollup/plugin-typescript svelte-check tslib typescript</code></pre></li><li><p>Edit <code>rollup.config.js</code>:</p><ul><li><p>Add the following <code>import</code> near the top:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">'@rollup/plugin-typescript'</span><span class="token punctuation">;</span></code></pre></li><li><p>Add a call to <code>typescript()</code> in the <code>plugins</code> array:</p><pre class="language-json"><code class="language-json">plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>  svelte(<span class="token punctuation">{</span><br>    ...<br>    preprocess<span class="token operator">:</span> sveltePreprocess()<br>  <span class="token punctuation">}</span>)<span class="token punctuation">,</span><br>  typescript()<span class="token punctuation">,</span><br>  ...<br><span class="token punctuation">]</span></code></pre></li></ul></li><li><p>Edit <code>package.json</code> and add the following script:</p><pre class="language-json"><code class="language-json"><span class="token property">"validate"</span><span class="token operator">:</span> <span class="token string">"svelte-check"</span></code></pre></li></ul><p>If using VS Code, also install the Svelte for VS Code extension described in appendix F which catches TypeScript errors in opened <code>.svelte</code> files.</p><p>p. 350 Change the following sentence:</p><p>Here is a simple example of using TypeScript inside a component that illustrates where type checking occurs:</p><p>to</p><p>Here is a simple example of using TypeScript inside a component:</p><p>p. 350 Change the second code annotation to &quot;The same type error occurs here.&quot;</p><p>p. 351 Delete the sentence starting with &quot;To enable importing&quot; and delete all the text for steps 1 and 2 because all of this is now closer to the beginning of this section.</p><p>p. 351 Change the second code annotation to &quot;The same type error occurs here.&quot;</p><h3 id="chapter-21" tabindex="-1">Chapter 21</h3><p>p. 357 In the last sentence of section 21.1, change &quot;section 21.6&quot; to &quot;section 21.7&quot;.</p><p>p. 363 In the last sentence of section 21.1.6, change &quot;section 21.7&quot; to &quot;section 21.8&quot;.</p><p>p. 386 In the last code annotation on the page, change &quot;300&quot; to &quot;200&quot;.</p><p>p. 388 In the annotation in Listing 21.13, change &quot;This function can be preceded by&quot; to &quot;This function name can appear at the beginning of&quot;</p><h3 id="appendix-a" tabindex="-1">Appendix A</h3><p>p. 395 Remove the line for &quot;Gatsby&quot; because it would not be used in conjunction with Svelte.</p><h3 id="appendix-b" tabindex="-1">Appendix B</h3><p>p. 397 In the paragraph that starts with &quot;Let's walk through&quot;, change &quot;These functions&quot; to &quot;These services&quot;.</p><h3 id="appendix-e" tabindex="-1">Appendix E</h3><p>p. 409 Move the paragraph starting with &quot;Add the following&quot;, the line containing the &quot;format&quot; script, and the sentence starting with &quot;To run Prettier&quot; all to after Listing E.1 on the next page to be consistent with the placement in Appendix D.</p><h3 id="appendix-f" tabindex="-1">Appendix F</h3><p>p. 413 In Table F.1, in the description for &quot;s-if-else-block&quot;, change &quot;:else&quot; to &quot;{:else}&quot;.</p><p>p. 414 In the paragraph that begins with &quot;Completions for&quot;, change &quot;props&quot; to &quot;directives&quot; in the first AND second sentence.</p><h3 id="index" tabindex="-1">Index</h3><p>p. 419 Swap and correct the page numbers for &quot;action function&quot; and &quot;actions in Storybook&quot; to match the following:</p><p>action function 128-129</p><p>actions in Storybook 227-231</p><p>p. 419 Under &quot;block structures&quot;, delete the entry for &quot;Travel Packing app&quot; and all the entries nested below that. These can be found under &quot;Travel Packing app&quot; on p. 427 and do not need to be repeated here.</p></article>