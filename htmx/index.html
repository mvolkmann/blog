<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>HTMX</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#client-side-processing">Client-side Processing</a></li><li><a href="#json">JSON</a></li><li><a href="#history-and-future">History and Future</a></li><li><a href="#installing">Installing</a></li><li><a href="#requests">Requests</a></li><li><a href="#urls">URLs</a></li><li><a href="#triggers">Triggers</a></li><li><a href="#targets">Targets</a></li><li><a href="#indicators">Indicators</a></li><li><a href="#out-of-band-updates">Out-of-band Updates</a></li><li><a href="#events">Events</a></li><li><a href="#validation">Validation</a></li><li><a href="#other">Other</a></li><li><a href="#debugging">Debugging</a></li><li><a href="#animation">Animation</a></li><li><a href="#boosting">Boosting</a></li><li><a href="#websockets">WebSockets</a></li><li><a href="#server-sent-events">Server Sent Events</a></li><li><a href="#history">History</a></li><li><a href="#_hyperscript">_hyperscript</a></li><li><a href="#server-side-options">Server-Side Options</a></li><li><a href="#mobile-apps">Mobile Apps</a></li><li><a href="#resources">Resources</a></li><li><a href="#unorganized-content">Unorganized Content</a></li></ol></nav></aside><article><figure style="width: 60%"><img alt="HTMX logo" style="border: 0" src="/blog/assets/htmx-logo.png?v=1.0.22"></figure><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://htmx.org?v=1.0.22" rel="noopener" target="_blank">HTMX</a> is a client-side JavaScript library that adds support for new HTML attributes that make HTML more expressive.</p><p>The new HTML attributes enable responding to specific interactions (ex. click) with any HTML element by sending HTTP request using any verb (GET, POST, PUT, PATCH, or DELETE). The response from these HTTP must contain HTML. Rather than performing a complete page refresh, the returned HTML replaces an existing DOM element or is inserted relative to an existing DOM element.</p><p>Interest in HTMX exploded in 2023 after YouTube videos from ThePrimeagen and Fireship were released. See <a href="https://www.youtube.com/watch?v=zjHHIqI9lUY?v=1.0.22" rel="noopener" target="_blank">HTMX</a> and <a href="https://www.youtube.com/watch?v=r-GSGH2RxJs?v=1.0.22" rel="noopener" target="_blank">HTMX in 100 seconds</a>.</p><p>The fact that all HTML rendered by HTMX applications is either static or server rendered makes it great for SEO.</p><p>The HTMX library is implemented in JavaScript, not TypeScript, in a single source file. There are plans to add JSDoc TypeScript type definitions for better code editor support.</p><p>The server can be implemented using any programming language and server framework. The server typically plays two roles. First, it serves static files such as HTML, CSS, JavaScript, and images. Second, it responds to HTTP requests by returning dynamically generated HTML.</p><p>HTMX was created by <a href="https://bigsky.software/cv/?v=1.0.22" rel="noopener" target="_blank">Carson Gross</a>. He is a principal software engineer at <a href="https://bigsky.software/?v=1.0.22" rel="noopener" target="_blank">Big Sky Software</a> and a part-time CS instructor at Montana State University.</p><p>The HTMX approach is based on &quot;Hypermedia As The Engine Of Application State&quot; (<a href="https://htmx.org/essays/hateoas/?v=1.0.22" rel="noopener" target="_blank">HATEOAS</a>) which is a specific use of the REST architecture where services return hypermedia. REST is described in chapter 5 of the famous PhD dissertation by Roy Fielding &quot;<a href="https://ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf?v=1.0.22" rel="noopener" target="_blank">Architectural Styles and the Design of Network-based Software Architectures</a>&quot;.</p><p>HTMX simplifies state management because all the state is in one place, on the server.</p><h2 id="client-side-processing" tabindex="-1">Client-side Processing</h2><p>HTMX is not appropriate for all features of web apps. Using HTMX to update the UI on every mouse move or drag would be too slow since each movement would trigger a new HTTP request. Examples of apps that require this kind of functionality include Google Maps and many games.</p><p>HTMX can be used in conjunction with other approaches, so it can be used for the parts of apps that do not require constant reaction to mouse movements.</p><p>Options for implementing client-side processing include vanilla JavaScript, <a href="https://alpinejs.dev?v=1.0.22" rel="noopener" target="_blank">Alpine</a>, and <a href="https://hyperscript.org?v=1.0.22" rel="noopener" target="_blank">_hyperscript</a>.</p><p>Like HTMLx, Alpine and _hyperscript are client-side JavaScript libraries. Alpine adds support for many new HTML attributes. _hyperscript adds support for one new HTML attribute whose name is a single underscore (<code>_</code>) and whose value is _hyperscript code. Both differ from HTMX in that they focus on client-side interactions.</p><h2 id="json" tabindex="-1">JSON</h2><p>While HTMX applications do not require implementing and using REST APIs that returns JSON data, it may still be desirable to implement them. For example, Android and iOS mobile apps may wish to use such APIs. To use these in HTMX apps, call them from HTTP endpoints that use the data to generate HTML responses.</p><p>Alternatively, write functions that return the desired data and call them from both the endpoints that return JSON and the endpoints that return HTML.</p><h2 id="history-and-future" tabindex="-1">History and Future</h2><p>Carson Gross been working on the approach of simplifying web development by adding attributes to HTML for a long time.</p><p>The predecessor of HTMX, also created by Carson Gross, is <a href="https://intercoolerjs.org?v=1.0.22" rel="noopener" target="_blank">intercooler.js</a>. The first version of intercooler.js was released in April, 2014. Intercooler had a dependency on jQuery, but HTMX does not.</p><p>The first version of HTMX was released in May, 2020. The 1.0 version was released in November, 2020. The latest version as of December 2023 is 1.9.9. It is 15K gzipped and 47K unzipped.</p><p>HTMX 2.0 is expected in late 2023 or early 2024. It will remove legacy support for things like IE, old style WebSockets, and old style server sent events. There will also be some changes to default behavior such as not enabling CORS by default. Other changes are not expected to be dramatic.</p><p>HTMX has an extensive set of integration tests implemented in Mocha.</p><h2 id="installing" tabindex="-1">Installing</h2><h2 id="requests" tabindex="-1">Requests</h2><p>Interacting with any HTML element can trigger an HTTP request.</p><p>hx-get hx-post hx-put hx-patch hx-delete</p><p>hx-sync hx-params</p><p>The <code>hx-confirm</code> attribute specifies a message to display in a confirmation dialog. An HTTP request is only sent and processed if the user clicks the OK button.</p><h2 id="urls" tabindex="-1">URLs</h2><p>HTMX endpoints return HTML, not JSON. Their URLs are based on user interface functionality, not resource paths. For example, <code>/todos/:id/toggle</code> is a reasonable URL path for an endpoint that toggles the completed status of todo and returns HTML for the updated todo item.</p><h2 id="triggers" tabindex="-1">Triggers</h2><p>hx-trigger</p><h2 id="targets" tabindex="-1">Targets</h2><p>Content returned from HTTP endpoints can be placed at a specific target location in the DOM.</p><p>The <code>hx-target</code> attribute specifies a target DOM element. Supported values include:</p><ul><li><code>this</code> targets current element (default)</li><li><code>{css-selector}</code> targets first element that matches</li><li><code>closest {css-selector}</code> targets closest ancestor element or itself that matches</li><li><code>find {css-selector}</code> targets first descendant element that matches</li><li><code>next</code> targets next sibling element</li><li><code>next {css-selector}</code> targets next matching element</li><li><code>previous</code> targets previous sibling element</li><li><code>previous {css-selector}</code> targets previous matching sibling</li></ul><p>The new content can replace existing content or be inserted relative to existing content. This is specified with the <code>hx-swap</code> attribute. Supported values include:</p><ul><li><code>outerHTML</code>: replace target element</li><li><code>innerHTML</code>: replace content of target element (default)</li><li><code>beforebegin</code>: insert before target element</li><li><code>afterbegin</code>: insert before first child of target element</li><li><code>beforeend</code>: insert after last child of target element</li><li><code>afterend</code>: insert after target element</li><li><code>delete</code>: delete target element; new content is not used</li><li><code>none</code>: do not change the DOM; new content is not used</li></ul><p>The <code>hx-swap</code> attribute also supports the following space-separated modifiers:</p><ul><li><code>focus-scroll</code>: enables scrolling to a focused input</li><li><code>ignoreTitle</code>: disables default behavior of updating the page title when the content contains a <code>title</code> element</li><li><code>scroll</code>: smoothly scrolls the page to the <code>top</code> or <code>bottom</code> of the target element or a specified element</li><li><code>settle</code>: specifies the time between the swap and settle (?) logic</li><li><code>show</code>: abruptly scrolls the page to the <code>top</code> or <code>bottom</code> of the target element or a specified element</li><li><code>swap</code>: specifies time to wait after receiving new content before swapping/inserting it</li><li><code>transition</code>: uses the View Transitions API</li></ul><p>hx-select hx-preserve</p><h2 id="indicators" tabindex="-1">Indicators</h2><p>The <code>hx-indicator</code> attribute specifies a CSS selector that matches one or more elements. Those elements will have their opacity changed from 0 to 1 while an associated HTTP request is being processed.</p><p>The <code>hx-disabled-elt</code> attribute specifies a CSS selector that matches one or more elements. Those elements will have the <code>:disabled</code> CSS pseudo-class applied while an associated HTTP request is being processed.</p><p>The following HTML demonstrates showing an indicator and disabling the &quot;Add&quot; button while waiting for a new todo to be added. Note how the spinner image has the CSS class <code>htmx-indicator</code>.</p><pre class="language-html"><code class="language-html">&lt;form<br>  hx-post="/todos"<br>  hx-swap="afterend"<br>  hx-disabled-elt="#add-btn"<br>  hx-indicator="#spinner"<br>  _="on submit target.reset()" // resets form using _hyperscript<br>><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add-btn<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span><br>    <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading...<span class="token punctuation">"</span></span><br>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>htmx-indicator h-6 w-6<span class="token punctuation">"</span></span><br>    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>spinner<span class="token punctuation">"</span></span><br>    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/public/spinner.gif<span class="token punctuation">"</span></span><br>  <span class="token punctuation">/></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></code></pre><h2 id="out-of-band-updates" tabindex="-1">Out-of-band Updates</h2><p>TODO: Try this. hx-swap-oob hx-select-oob</p><h2 id="events" tabindex="-1">Events</h2><p>TODO: Try this. hx-on</p><h2 id="validation" tabindex="-1">Validation</h2><p>TODO: Try this. hx-validate</p><h2 id="other" tabindex="-1">Other</h2><p>hx-boost hx-disinherit hx-encoding hx-vals hx-vars</p><h2 id="debugging" tabindex="-1">Debugging</h2><p>TODO: Try this.</p><h2 id="animation" tabindex="-1">Animation</h2><p>TODO: Try this.</p><h2 id="boosting" tabindex="-1">Boosting</h2><p>TODO: Try this.</p><h2 id="websockets" tabindex="-1">WebSockets</h2><p>TODO: Try this. hx-ws</p><h2 id="server-sent-events" tabindex="-1">Server Sent Events</h2><p>TODO: Try this. hx-sse</p><h2 id="history" tabindex="-1">History</h2><p>hx-history-elt hx-push-url</p><h2 id="_hyperscript" tabindex="-1">_hyperscript</h2><p><a href="https://hyperscript.org?v=1.0.22" rel="noopener" target="_blank">_hyperscript</a> is &quot;an easy &amp; approachable language for modern web front-ends&quot;. It can be used in conjunction with HTMX.</p><p>To enable use of _hyperscript, add a script tag like the following:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://unpkg.com/hyperscript.org@0.9.12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre><p>One use of _hyperscript is to clear form inputs after a form is submitted. Specify the code to run as the value of the underscore attribute on the <code>form</code> element. For example:</p><pre class="language-html"><code class="language-html">_="on submit target.reset()"</code></pre><h2 id="server-side-options" tabindex="-1">Server-Side Options</h2><p>The server that responds to the HTTP requests triggered by interactions with HTML elements can be implemented using any programming language and any server framework. This is referred to as HowEver you Would Like (HOWL). A downside is that there are no canonical examples of implementing the backend services for an HTMX application.</p><p>Desirable characteristics include:</p><ul><li>good performance</li><li>ability to construct HTML responses using some kind of templating rather than string concatenation</li><li>editor tooling that can validate proper HTML elements, attributes, and nesting</li></ul><p>One option is to use <a href="https://bun.sh?v=1.0.22" rel="noopener" target="_blank">Bun</a> (Node.js alternative) and <a href="https://elysiajs.com?v=1.0.22" rel="noopener" target="_blank">ElysiaJS</a> (Express alternative). ElysiaJS supports constructing HTML using JSX syntax. JSX is only used to create strings of HTML. A virtual DOM is not used.</p><p>When combined with <a href="https://turso.tech?v=1.0.22" rel="noopener" target="_blank">Turso</a> (SQLite deployed at the edge), this is referred to as the BETH stack (Bun, Elysia, Turso, and HTMX).</p><p>Another popular option is to use Python with either <a href="https://www.djangoproject.com?v=1.0.22" rel="noopener" target="_blank">Django</a> or <a href="https://flask.palletsprojects.com/?v=1.0.22" rel="noopener" target="_blank">Flask</a>.</p><h2 id="mobile-apps" tabindex="-1">Mobile Apps</h2><p>The hypermedia approach used by HTMX to build web applications can also be used to build mobile apps. See <a href="https://hyperview.org?v=1.0.22" rel="noopener" target="_blank">Hyperview</a> which builds on React Native.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><p><a href="https://htmx.org?v=1.0.22" rel="noopener" target="_blank">HTMX Home Page</a></p></li><li><p><a href="https://htmx.org/docs/?v=1.0.22" rel="noopener" target="_blank">HTMX Documentation</a></p></li><li><p><a href="https://htmx.org/reference/?v=1.0.22" rel="noopener" target="_blank">HTMX Reference</a></p></li><li><p><a href="https://htmx.org/examples/?v=1.0.22" rel="noopener" target="_blank">HTMX Examples</a></p></li><li><p><a href="https://htmx.org/essays/?v=1.0.22" rel="noopener" target="_blank">HTMX-related Essays</a></p></li><li><p><a href="https://htmx.org/discord?v=1.0.22" rel="noopener" target="_blank">HTMX Discord Channel</a></p></li><li><p><a href="https://hypermedia.systems?v=1.0.22" rel="noopener" target="_blank">Hypermedia Systems</a> book</p></li><li><p><a href="https://bigsky.software?v=1.0.22" rel="noopener" target="_blank">Big Sky Software</a></p></li><li><p><a href="https://twitter.com/htmx_org?v=1.0.22" rel="noopener" target="_blank">Carson Gross on Twitter</a></p></li></ul><h2 id="unorganized-content" tabindex="-1">Unorganized Content</h2><ul><li>Learn how to automatically refresh browser on code save.</li><li>Should you use auto focus for the new to do input?</li><li>Can you use JavaScript code in place of hyper script code?</li><li>Study how HTMX supports dialogue boxes.</li><li>Study Alpine JS and consider using it with HTMX</li><li>Read essays by Carson Gross on the HTMX website.</li></ul><p>hx-push-url=“true” gives history support, so the back button can go to a previous state of the UI. Try this! it does this by snapshoting the entire DOM and saving it in localstorage. this uses the standard history API. writing to localstorage can be disabled if desired. use the hx-request HTTP header to determine how to render a page when the browser is refreshed. this enables support for deep links. this is useful when HTMX has replaced portions of a page.</p><p>see the htmxLogAll method to enable debug logging. Is this on the server side? One way of debugging is to use an unminified version of the HMTX library, and set breakpoints in its functions. HTMX can work with JavaScript disabled … progressive enhancement and hx-boost=“true”. How is that possible?</p><p>Carson Gross wishes that the functionality of HTMX would just be folded into HTML. swapping a chunk of HTML with a new chunk is called transclusion.</p><p>see <a href="http://unpoly.com">unpoly.com</a> which is a competitor to HTMX. supposedly it is better at progressive enhancement. Carson Gross picked Alpine JS to call out in the podcast. It works well in combination with HTMX. it is much lighter weight than react and is great for implementing client side interactivity.</p></article>