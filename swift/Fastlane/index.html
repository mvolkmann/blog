<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Fastlane</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#configuring">Configuring</a></li><li><a href="#generating-screenshots">Generating Screenshots</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://fastlane.tools/?v=1.0.20" rel="noopener" target="_blank">Fastlane</a> is a command-line tool that simplifies Android and iOS mobile app deployment. It can run tests, generate screenshots, deploy iOS apps to TestFlight, deploy iOS apps to the App Store, and more.</p><p>Fastlane is primarily implemented in Ruby.</p><p>Fastlane workflows can be customized with actions and plugins.</p><p>This page focuses on usage for iOS apps.</p><h2 id="installing" tabindex="-1">Installing</h2><p>Option #1 - using homebrew</p><p>Enter <code>brew install fastlane</code></p><p>Option #2 - manual</p><ol><li><p>Verify that Ruby 2.5 or newer is installed by entering <code>ruby --version</code>.</p></li><li><p>Install Bundler by entering <code>sudo gem install bundler</code>.</p></li><li><p>Create the file <code>Gemfile</code> in the root directory of a project containing the following:</p><pre class="language-ruby"><code class="language-ruby">source <span class="token string-literal"><span class="token string">"https://rubygems.org"</span></span><br>gem <span class="token string-literal"><span class="token string">"fastlane"</span></span></code></pre></li><li><p>Enter <code>sudo gem update --system 3.2.3</code></p></li><li><p>Enter <code>sudo bundle update</code></p></li><li><p>Enter <code>git add Gemfile Gemfile.lock</code></p></li><li><p>Enter <code>git commit</code></p></li></ol><h2 id="configuring" tabindex="-1">Configuring</h2><ol><li>Enter <code>fastlane init</code>.</li><li>Select one of the following options:<ul><li>Automate screenshots</li><li>Automate beta distribution to TestFlight</li><li>Automate App Store distribution</li><li>Manual setup</li></ul></li><li>Follow the steps in the instructions that are printed.</li><li>Answer many more questions including your Apple ID and password and whether fastlane should upload screenshots to AppStoreConnect.</li></ol><p>As of February 2023 the instructions are:</p><pre class="language-text"><code class="language-text">Open your Xcode project and make sure to do the following:<br>1) Add a new UI Test target to your project<br>2) Add the ./fastlane/SnapshotHelper.swift to your UI Test target<br>   You can move the file anywhere you want<br>3) Call `setupSnapshot(app)` when launching your app<br><br>  let app = XCUIApplication()<br>  setupSnapshot(app)<br>  app.launch()<br><br>4) Add `snapshot("0Launch")` to wherever you want to trigger screenshots<br>5) Add a new Xcode scheme for the newly created UITest target<br>6) Add a Check to enable the `Shared` box of the newly created scheme<br><br>More information: https://docs.fastlane.tools/getting-started/ios/screenshots/<br>If you want more details on how to setup automatic screenshots, check out<br>https://docs.fastlane.tools/getting-started/ios/screenshots/#setting-up-snapshot</code></pre><p>This results in a new directory named <code>fastlane</code>. When the option &quot;Automate screenshots&quot; is selected, this directory will contain the files <code>Appfile</code>, <code>Fastfile</code>, <code>Snapfile</code>, and <code>SnapshotHelper.swift</code>.</p><h2 id="generating-screenshots" tabindex="-1">Generating Screenshots</h2><p>Enter <code>fastlane screenshots</code>.</p></article>