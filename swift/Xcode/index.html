<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Xcode</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#panels">Panels</a></li><li><a href="#navigator">Navigator</a></li><li><a href="#editor">Editor</a><ol><li><a href="#multiple-editor-panes">Multiple Editor Panes</a></li><li><a href="#matching-braces">Matching Braces</a></li><li><a href="#code-completion">Code Completion</a></li><li><a href="#spell-checking">Spell Checking</a></li><li><a href="#code-folding">Code Folding</a></li><li><a href="#multiple-cursors">Multiple Cursors</a></li><li><a href="#replacing-a-rectangular-selection">Replacing a Rectangular Selection</a></li><li><a href="#rename-all-in-scope">Rename All in Scope</a></li></ol></li><li><a href="#console">Console</a></li><li><a href="#playgrounds">Playgrounds</a></li><li><a href="#projects">Projects</a></li><li><a href="#building">Building</a></li><li><a href="#clean-builds">Clean Builds</a></li><li><a href="#running">Running</a></li><li><a href="#previews">Previews</a></li><li><a href="#files">Files</a></li><li><a href="#themes">Themes</a></li><li><a href="#column-marker">Column Marker</a></li><li><a href="#code-folding-1">Code Folding</a></li><li><a href="#vim-support">Vim Support</a></li><li><a href="#duplicating-files">Duplicating Files</a></li><li><a href="#app-name">App Name</a></li><li><a href="#new-files">New Files</a></li><li><a href="#header-comments">Header Comments</a></li><li><a href="#mapping-files-to-targets">Mapping Files to Targets</a></li><li><a href="#schemes">Schemes</a></li><li><a href="#hot-reload">Hot Reload</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://developer.apple.com/xcode/?v=1.0.20" rel="noopener" target="_blank">Xcode</a> is an IDE from Apple for creating apps for iPhone, iPad, macOS, Apple Watch, and Apple TV.</p><h2 id="panels" tabindex="-1">Panels</h2><p>The Xcode user interface contains many panels that are described below:</p><table><thead><tr><th>Area</th><th>Location</th><th>Purpose</th><th>Toggle With</th></tr></thead><tbody><tr><td>Navigator</td><td>left</td><td>display files, search results, and more</td><td>View ... Navigators ... {Hide|Show Navigator} or cmd-zero</td></tr><tr><td>Editor</td><td>center left</td><td>view and edit code and data in selected files</td><td>none</td></tr><tr><td>Canvas</td><td>center right</td><td>view and interact with Previews</td><td>Editor ... Canvas or cmd-option-return</td></tr><tr><td>Minimap</td><td>right</td><td>display zoomed out view of entire file</td><td>Editor ... Minimap or cmd-ctrl-shift-m</td></tr><tr><td>Inspector</td><td>right</td><td>view and editing details about selected item</td><td>View ... Inspectors ... {Hide|Show Inspector} or cmd-option-zero</td></tr><tr><td>Debug</td><td>bottom</td><td>display print output and more</td><td>View ... Debug Area ... {Hide|Show Debug Area} or cmd-shift-y</td></tr></tbody></table><h2 id="navigator" tabindex="-1">Navigator</h2><p>The Navigator has nine icon buttons at the top.</p><ul><li><p>folder icon (first)</p><p>This displays a tree view of files in the project.</p><p>Files can be organized into groups. To create a new group, right-click on an existing group or file and select &quot;New Group&quot;. This creates a group and a directory on the file system named &quot;New Group&quot; which can be renamed. Existing files can then be dragged into the new group. Another option is to select all the files to be moved to a subdirectory, right-click one of them, and select &quot;New Group From Selection&quot;.</p><p>To open a file, click its name. To &quot;quickly open&quot; a file by typing part of its name, select File ... Open Quickly...&quot; or press cmd-shift-o. Both of these open a temporary view of the file, indicated by the file name in the tab being in italic. If there is already a temporary view tab and another file is opened, the temporary view content will be replaced by the new file content. To change the temporary view to a permanent view, double click its tab or edit its contents.</p><p>To sort the files displayed in a directory shown in the Navigator, right-click the directory and select &quot;Sort by Name&quot; or &quot;Sort by Type&quot;.</p></li><li><p>&quot;x&quot; in square icon (second)</p><p>This displays a list of files that have been modified (M) or added (A).</p><p>Click a file to see its contents.</p><p>Click the button in the upper-right containing a right and left arrow to see diffs.</p><p>Click the button to the right of that one containing horizontal lines to display a menu of options including &quot;Inline Comparison&quot; and &quot;Side by Side Comparison&quot; (preferred). Oddly, in &quot;Side by Side&quot; mode the current version of the file is shown on the left and the previous version is shown on the right. See the &quot;Source Control&quot; section below for the steps to fix this.</p><p>To discard all changes to a file, right-click the file name in the Navigator and select &quot;Discard Changes in ...&quot;.</p><p>Right-click a file to see a pop-up menu that includes the options &quot;Commit&quot; and &quot;Discard Changes&quot;. Oddly it seems the only way to commit multiple files at once is to select &quot;Commit...&quot; from the &quot;Source Control&quot; menu.</p></li><li><p>tree diagram icon (third)</p><p>This displays an alphabetized list of files. Click a file to expand it to a list of the properties and methods it defines. These can be clicked to navigate to their definition. The &quot;Hierarchical&quot; and &quot;Flat&quot; options at the top of the list seem identical.</p></li><li><p>magnifier glass icon (fourth)</p><p>This is used to find and replace text in the project.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator.png?v=1.0.20"></p><p>Click the magnifier glass icon to see a dropdown containing past searches that can be clicked to recall them.</p><p>Click &quot;Find&quot; to optionally switch to &quot;Replace&quot; mode.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator-dropdown1.png?v=1.0.20"></p><p>Click &quot;Text&quot; to optionally switch to searching for &quot;References&quot;, &quot;Definitions&quot;, &quot;Regular Expression&quot;, or &quot;Call Hierarchy&quot;.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator-dropdown2.png?v=1.0.20"></p><p>Click &quot;Containing&quot; to optionally switch to &quot;Matching Word&quot;, &quot;Starting With&quot;, or &quot;Ending With&quot;.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator-dropdown3.png?v=1.0.20"></p><p>Click &quot;In Project&quot; to optionally limit the search to a specific project directory and select &quot;New Scope...&quot; for advanced options.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator-dropdown4.png?v=1.0.20"></p><p>Click &quot;Ignoring Case&quot; to optionally switch to &quot;Matching Case&quot;.</p><p><img alt="Xcode Find" class="keep-size" src="/blog/assets/xcode-find-navigator-dropdown5.png?v=1.0.20"></p></li><li><p>warning icon (triangle icon containing exclamation point; fifth)</p><p>This displays &quot;Buildtime&quot; and &quot;Runtime&quot; issues.</p></li><li><p>diamond containing minus (sixth)</p><p>This displays a list of tests. TODO: Can they be run individually from here?</p></li><li><p>spray can icon (seventh)</p><p>This displays information about CPU, Memory, Disk, and Network usage. Click each of these to see detailed information. For example, clicking &quot;CPU&quot; displays information about thread usage.</p></li><li><p>tag icon (eighth)</p><p>This displays debugging breakpoints. TODO: Can they be disabled and/or deleted here?</p></li><li><p>document icon (ninth)</p><p>This displays historical information on recent project builds, including error messages. Click a build to see details.</p></li></ul><h2 id="editor" tabindex="-1">Editor</h2><p>Code entered in an editor pane is checked for errors while typing. Saving is not required.</p><p>Lines with errors are indicated with red bars in the right gutter. By default these contains the number of errors on the line, an error icon (circle containing an &quot;X&quot;), and the first error message. Click anywhere in the red bar to fully display all the error messages. Sometimes errors contain a &quot;Fix&quot; button that can be clicked to automatically fix the error.</p><p>To hide the first error message, only displaying the number of errors and the error icon, select Preferences ... General ... Issues ... Show Minimized. With this setting, click anywhere on a red bar, to see the text for all the errors on the line.</p><p>To see basic documentation of a name in code, option-click it. For more detail, click the &quot;Open in Developer Documentation&quot;. Alternatively, click the circled question mark at the top of the Inspector. The Inspector will then display help for anything name under the cursor in the Code Editor.</p><p>Command-click a name to display a context menu that can include the following options:</p><ul><li>Jump to Definition - same as cmd-ctrl-click to bypass context menu</li><li>Fold - collapses a code block to an ellipsis; double-click the ellipsis to re-open</li><li>Show Quick Help - same as option-click to bypass context menu</li><li>Callers...</li><li>Edit All in Scope - with Vim keybindings must be in insert mode</li><li>Rename</li><li>Show SwiftUI Inspector - opens inspector in a dialog as an alternative to using Inspector on right side</li><li>Extract Subview - creates a new view named &quot;ExtractedView&quot; that renders the selected view</li><li>Embed in HStack</li><li>Embed in VStack</li><li>Embed in ZStack</li><li>Embed in List</li><li>Group - embeds in a <code>Group</code></li><li>Make Conditional - surrounds in an <code>if</code>/<code>else</code></li><li>Repeat - surrounds in a <code>ForEach</code> loop</li><li>Embed... - embeds in a placeholder view named <code>Container</code> that must be renamed to a real view</li><li>Extract to a Variable</li><li>Extract to a Method</li><li>Extract All Occurrences</li></ul><p>Note that the &quot;Extract Subview&quot; option and the &quot;Embed in *&quot; options only appear a preview is displayed and a view name is command-clicked.</p><p>In the past there was a &quot;Rename...&quot; option in this menu. It was moved to Editor ... Refactor ... Rename.</p><h3 id="multiple-editor-panes" tabindex="-1">Multiple Editor Panes</h3><p>To open a file in a new split pane, hold down the option key and click the file in the Navigator. If the file is already open, to open another view of the file in a new split pane hold down the option key and click the existing editor tab.</p><p>To choose editor window where the file will be opened, hold down the option and shift keys and click the file in the Navigator. Then release the keys, hover over where the file should be opened. Potential locations are highlighted as you hover. Click when the desired location is highlighted.</p><p>Alternatively, click the button the upper-right that is a rectangle containing a vertical line and a &quot;+&quot; to open a split pane containing the same file in the the currently editor pane.</p><p>To open a new split below the current one instead of to the right, open down the option key before clicking the button.</p><p>The dropdown menu to the left of this button enables toggling the display of the Canvas area and much more.</p><h3 id="matching-braces" tabindex="-1">Matching Braces</h3><p>To find the matching brace for a given brace, hold down the command key and hover over a brace.</p><h3 id="code-completion" tabindex="-1">Code Completion</h3><p>Xcode provides great intellisense and code completion.</p><p>When accepting a function completion, only non-dimmed arguments are included. To also include the dimmed arguments, hold down the option key before selecting a completion. To include a selected subset of the arguments, type the beginning of each of their names in a single string and press return. For example, <code>.frame(mina</code> gives <code>.frame(minWidth: , alignment: )</code>.</p><p>For function calls, press tab after entering each argument to advance to the next argument. If the last argument is a closure, press return to automatically turn it into a trailing closure.</p><h3 id="spell-checking" tabindex="-1">Spell Checking</h3><p>To configure Xcode to check spelling while typing, select Edit ... Format ... Spelling and Grammar ... Check Spelling While Typing. A faint red line will be displayed under all misspelled words.</p><h3 id="code-folding" tabindex="-1">Code Folding</h3><p>To enable code folding, select Xcode ... Preferences ... Text Editing and check the checkbox for &quot;Code folding ribbon&quot;.</p><p>To fold the code in any construct (function, argument list, struct, class, ...), click the corresponding section in the code folding ribbon.</p><p>To unfold code, click the &quot;&gt;&quot; in the code folding ribbon or double-click &quot;...&quot; in the code.</p><p>To enable code folding,</p><h3 id="multiple-cursors" tabindex="-1">Multiple Cursors</h3><p>To get multiple cursors so the same changes can be made in multiple locations simultaneously:</p><ul><li>Move the cursor to the first location.</li><li>If using Vim keybindings, enter insert mode.</li><li>Hold down the ctrl and shift keys and click additional locations.</li><li>Type the changes.</li></ul><h3 id="replacing-a-rectangular-selection" tabindex="-1">Replacing a Rectangular Selection</h3><ul><li>If using Vim keybindings, enter insert mode.</li><li>Hold down the option key and select a rectangular region using the mouse or trackpad.</li><li>Type the text that will replace the selected portion of each line.</li></ul><h3 id="rename-all-in-scope" tabindex="-1">Rename All in Scope</h3><p>One approach is to use refactoring as follows:</p><ul><li>Right-click one occurrence.</li><li>Select Refactor ... Rename from the context menu.</li><li>Make the change in the current instance and all instances will change.</li><li>Click the &quot;Rename&quot; button in the upper-right.</li></ul><p>Another approach is to use &quot;Edit All in Scope&quot; as follows:</p><ul><li>Place the cursor on one of the occurrences.</li><li>Press cmd-ctrl-e.</li><li>Make the change in the current instance and all instances will change.</li><li>Press the return key or click outside the change.</li></ul><h2 id="console" tabindex="-1">Console</h2><p>The bottom section is not visible by default. Drag the status row at the bottom up to expose it.</p><p>The bottom section has two subsections. The left side of the bottom section is for the debugging. The right side of the bottom section is for the console output such as that from <code>print</code> function calls.</p><p>Click the trashcan icon in the lower-right to clear the output. The output from <code>print</code> calls only appears when running in the debug mode.</p><p>Xcode used to support debug mode in Previews, but now it is only supported in the Simulator. This is why <code>print</code> output never appears when running in Preview. This is really bad because the Simulator takes much longer to start than Preview!</p><p>To make the console area appear automatically when new text is written to it, select Xcode ... Preferences... ... Behaviors ... Generates output, click the &quot;Show&quot; checkbox, and select &quot;Variables &amp; Console View&quot;.</p><h2 id="playgrounds" tabindex="-1">Playgrounds</h2><p>Playgrounds are great for experimenting with the Swift programming language.</p><p>To create and use a Playground:</p><ul><li>Select File ... New ... Playground...</li><li>Select a template such as &quot;Blank&quot; and press &quot;Next&quot;.</li><li>Enter a name for the playground.</li><li>Select the directory where it will be saved.</li><li>Enter code in the provided text editor.</li><li>To run all of the code, click the blue triangle in the gutter after the last line, press cmd-shift-return, or select Editor ... Run Playground.</li><li>To run only the code up to and including a specific line, hover over the line and click the play button that appears.</li><li>Output from <code>print</code> calls appears in the console area at the bottom. The <code>print</code> function takes any number of arguments and outputs them with a space between each.</li><li>If the console area is not visible, drag up from the bottom to expose it.</li></ul><p>Xcode is slow at evaluating a playground. It can take several seconds after saving a change for it to identify syntax errors and run the code.</p><p>Playgrounds treat files under “Sources” as separate, unnamed modules. To expose things defined in those files to the main playground code, declare them as <code>public</code>. They do not need to be &quot;imported&quot;.</p><h2 id="projects" tabindex="-1">Projects</h2><p>To develop an app:</p><ul><li><p>Select File ... New ... Project... or press cmd-shift-n.</p></li><li><p>Select a target platform such as &quot;iOS&quot;.</p></li><li><p>Select a template and press &quot;Next&quot;. The templates are organized by types which include &quot;Multiplatform&quot; (for apps that run in multiple OSes), &quot;iOS&quot;, &quot;macOS&quot;, &quot;watchOS&quot;, &quot;tvOS&quot;, &quot;DriverKit&quot;, and &quot;Other&quot;. The templates are further divided into the categories &quot;Application&quot;, &quot;Framework &amp; Library&quot;, and &quot;Other&quot;. Usually &quot;App&quot; under the &quot;Application&quot; category is the desired template.</p></li><li><p>Enter a product name, select a team, enter an &quot;Organization Identifier&quot; (can be your email address), and press &quot;Next&quot;.</p></li><li><p>Select the directory where the project should be saved and press &quot;Create&quot;.</p></li></ul><p>To open an existing app, select File ... Open Recent ... {project-path} or select File ... Open, navigate to the project directory, and click &quot;Open&quot;. Another way to open an existing Xcode project is to double-click its <code>.xcodeproj</code> file.</p><h2 id="building" tabindex="-1">Building</h2><p>To build a project, select Product ... Build or press cmd-b.</p><p>To hear sounds that indicate whether the build was successful or failed, select Xcode ... Preferences ... Behaviors. Then select &quot;Succeeds, check &quot;Play sound&quot;, and select a sound. Repeat for &quot;Fails&quot; and select a different sound.</p><p>To see how long it takes each build to complete after the text &quot;Build Succeeded&quot; in the title bar, enter the following command in a terminal window:</p><pre class="language-bash"><code class="language-bash">defaults <span class="token function">write</span> com.apple.dt.Xcode ShowBuildOperationDuration <span class="token parameter variable">-bool</span> YES</code></pre><h2 id="clean-builds" tabindex="-1">Clean Builds</h2><p>Occasionally it is useful to delete all generated files and start over. To do this, select Product ... Clean Build Folder or press cmd-shift-k.</p><h2 id="running" tabindex="-1">Running</h2><p>To run an app:</p><ul><li>Select a simulator device or real device from the dropdown in the top center.</li><li>Select Product ... Run or press cmd-r.</li></ul><p>Devices must be connected to the computer via a cable unless they have been configured to run wirelessly. To configure a device to run apps wirelessly:</p><ul><li>Attach the device to the computer with a cable.</li><li>Select Window ... Devices and Simulators.</li><li>In the window that appears, select the device.</li><li>Check the &quot;Connect via network&quot; checkbox.</li><li>Ensure that the device is on the same Wi-Fi network as the computer.</li></ul><p>To run an app on the device wirelessly:</p><ul><li>Disconnect the device from the computer.</li><li>Select the device from the dropdown in the top center.</li><li>Run the app.</li></ul><h2 id="previews" tabindex="-1">Previews</h2><p>Previews allow testing a single view outside of the Simulator or a real device.</p><h2 id="files" tabindex="-1">Files</h2><p>To open a file within a project in an editor pane, select File ... Open Quickly... (or press cmd-shift-o), enter part of the file name (at least three characters), and click the file within the list that appears. This also works with any kind of name including types, variables, functions, structs, classes, properties, and methods. It even works with framework types.</p><h2 id="themes" tabindex="-1">Themes</h2><p>To choose a different theme, select Xcode ... Preferences ... Themes. From here you can add, delete, and select themes. I like the &quot;Classic (Dark)&quot; theme. This only affects editor windows. To change the entire Xcode UI to use a dark theme regardless of the system setting, select Preferences ... General and select &quot;Dark&quot; from the Appearance dropdown.</p><h2 id="column-marker" tabindex="-1">Column Marker</h2><p>To add a vertical line at a given column width, select Xcode ... Preferences ... Text Editing, check &quot;Page guide column at:&quot;, and choose a column number. The indentation amount and type (spaces vs. tabs) can also be specified here.</p><h2 id="code-folding-1" tabindex="-1">Code Folding</h2><p>To enable code folding, select Preferences ... Text Editing ... Display ... Code Folding Ribbon. This adds a code folding ribbon on the left side of editor panes. Click in the ribbon to fold the code at the corresponding line. To unfold, click again or double-click the ellipsis in the code.</p><h2 id="vim-support" tabindex="-1">Vim Support</h2><p>To enable use of many Vim key bindings, select Editor ... Vim Mode. Dot commands and keyboard macros are not yet supported.</p><h2 id="duplicating-files" tabindex="-1">Duplicating Files</h2><p>To duplicate a source file, select it in the Navigator and click File ... Duplicate. Oddly the context sensitive menu that is displayed when a file in the Navigator is right clicked does not include this option.</p><h2 id="app-name" tabindex="-1">App Name</h2><p>To give the app a different name from the project:</p><ul><li>In the Navigator, select the root project directory.</li><li>In the editor that appears, select the first entry under &quot;Targets&quot;.</li><li>Rename &quot;Development Assets&quot; under &quot;Development&quot;.</li><li>In the General tab under Identity, modify the &quot;Display Name&quot;.</li><li>In the Navigator, rename the root directory and the directory below that with the same name.</li><li>TODO: I'm not confident all of these steps are correct or required.</li></ul><h2 id="new-files" tabindex="-1">New Files</h2><p>To create a new file within a project, select File ... New ... File... or press cmd-n. This will display a dialog that prompts for a file type followed by another that prompts for the file name and directory where it should be saved.</p><p>When a new <code>.swift</code> file is created, by default it includes comment lines at the top like these where several placeholders are replaced:</p><pre class="language-swift"><code class="language-swift"><span class="token comment">//</span><br><span class="token comment">//  ___FILENAME___</span><br><span class="token comment">//  ___PACKAGENAME___</span><br><span class="token comment">//</span><br><span class="token comment">//  Created by ___FULLUSERNAME___ on ___DATE___.</span><br><span class="token comment">//  ___COPYRIGHT___</span><br><span class="token comment">//</span></code></pre><h2 id="header-comments" tabindex="-1">Header Comments</h2><p>To prevent Xcode from adding the comment lines above to new files, edit the file <code>/Applications/Xcode.app/Contents/Developer/Library/Xcode/Templates/File Templates/Multiplatform/Source/Swift File.xctemplate/__FILEBASENAME__.swift</code> and delete the line <code>//___FILEHEADER__</code> and the blank line that follows.</p><h2 id="mapping-files-to-targets" tabindex="-1">Mapping Files to Targets</h2><p>By default files are only accessible from their associated target. If an app has multiple targets and a source file should be shared between them, select the file in the Navigator, open the Inspector on the right, and check the checkboxes for each target that should have access to the file.</p><h2 id="schemes" tabindex="-1">Schemes</h2><p>A &quot;scheme&quot; defines a target to build, the configuration settings to use when building it, and a set of tests to run after the target is built.</p><p>Every project begins with a default scheme whose name matches the project name.</p><p>To access the schemes of a project, click the project name in the top center (just to the left of the device dropdown). This opens a dropdown menu that contains a menu item for each existing scheme and the following options:</p><ul><li><p>&quot;Edit Scheme...&quot;</p><p>This opens a dialog where the currently selected scheme can be edited.</p></li><li><p>&quot;New Scheme...&quot;</p><p>This opens a dialog where a new scheme for a selected target can be created.</p></li><li><p>&quot;Manage Schemes...&quot;</p><p>This opens a dialog that lists the existing schemes, allows them to be deleted, allows new schemes to be created, and allows importing schemes from other projects.</p></li></ul><p>Schemes are defined by six phases that include Build, Run, Test, Profile, Analyze, and Archive.</p><p>The Build phase specifies:</p><ul><li>shell scripts to run BEFORE the build begins (pre-actions)</li><li>emails to send BEFORE the build begins (pre-actions)</li><li>build options</li><li>shell scripts to run AFTER the build ends (post-actions)</li><li>emails to send AFTER the build ends (post-actions)</li></ul><p>The Run phase specifies many things including:</p><ul><li><p>shell scripts to run BEFORE the run begins (pre-actions)</p></li><li><p>emails to send BEFORE the run begins (pre-actions)</p></li><li><p>run options including:</p><ul><li><p>whether to run the app in a debug or release build configuration</p></li><li><p>argument to be passed to the executable</p><p>TODO: Are these only boolean flags (present or not)?</p><p>TODO: Do the names need to begin with a dash?</p><p>Access these in the <code>App</code> subclass <code>init</code> method with <code>CommandLine.arguments</code> or <code>ProcessInfo.processInfo.arguments</code> which have the type <code>[String]</code>.</p></li><li><p>environment variables to be set before executing</p><p>Each environment variable has a name and a value.</p><p>Access these in the <code>App</code> subclass <code>init</code> method with <code>ProcessInfo.processInfo.environment</code> which has the type <code>[String:String]</code>.</p></li><li><p>diagnostics to collect while the target executes</p></li></ul></li><li><p>shell scripts to run AFTER the run ends (post-actions)</p></li><li><p>emails to send AFTER the run ends (post-actions)</p></li></ul><p>The Test phase specifies:</p><ul><li><p>shell scripts to run BEFORE the tests begin (pre-actions)</p></li><li><p>emails to send BEFORE the tests begin (pre-actions)</p></li><li><p>test options including:</p><ul><li><p>whether to run the tests in a debug or release build configuration</p></li><li><p>argument to be passed to the tests when they are executed</p><p>These can also be set in test code by assigning a <code>[String]</code> to <code>app.launchArguments</code>.</p></li><li><p>environment variables to be set before the tests are executed</p><p>These can also be set in test code by assigning a <code>[String:String]</code> to <code>app.launchEnvironment</code>.</p></li><li><p>the user language (ex. Spanish)</p></li><li><p>the user region (ex. Americas ... Mexico)</p></li><li><p>whether screenshots should be collected</p></li><li><p>whether screenshots for successful tests should be deleted</p></li><li><p>whether code coverage data should be collected</p></li><li><p>diagnostics to collect while the tests execute</p></li></ul></li><li><p>shell scripts to run AFTER the tests end (post-actions)</p></li><li><p>emails to send AFTER the tests end (post-actions)</p></li></ul><p>The Profile phase specifies:</p><ul><li><p>shell scripts to run BEFORE profiling begins (pre-actions)</p></li><li><p>emails to send BEFORE profiling begins (pre-actions)</p></li><li><p>profiling options including:</p><ul><li>argument to be passed to the executable</li><li>environment variables to be set before executing</li></ul></li><li><p>shell scripts to run AFTER profiling ends (post-actions)</p></li><li><p>emails to send AFTER profiling ends (post-actions)</p></li></ul><p>The Analyze phase only specifies whether a Debug or Release build configuration should used. TODO: What does this phase do?</p><p>The Archive phase specifies the archive name and whether a Debug or Release build configuration should used. TODO: What is an &quot;archive&quot;?</p><h2 id="hot-reload" tabindex="-1">Hot Reload</h2><p>While Previews usually automatically update when changes to a project file are saved, this behavior is inconsistent. Also, some app features are not supported when running in a preview.</p><p>For these reasons it would be great if apps running in the Simulator could automatically build and reload when changes to a project file are saved. By default Xcode does not do this automatically, but it can be configured.</p><p>Krzysztof Zabłocki describes a way to implement this in his article <a href="https://www.merowing.info/hot-reloading-in-swift/?v=1.0.20" rel="noopener" target="_blank">Hot Reloading in Swift</a>. This uses his <a href="https://github.com/krzysztofzablocki/Inject?v=1.0.20" rel="noopener" target="_blank">Inject</a> package. The solution involves installing an app that watches specified directories for file changes. When a file change is detected, it is rebuilt and injected into the app without rebuilding the entire app. The updated version of the app is then loaded into the Simulator.</p><p>The one-time steps are:</p><ol><li>Browse the GitHub repo <a href="https://github.com/johnno1962/InjectionIII/releases?v=1.0.20" rel="noopener" target="_blank">InjectionIII</a> and download the file <code>InjectionIII.app.zip</code>. The file <code>InjectionIII.app</code> will appear in the <code>Downloads</code> directory.</li><li>Drag the downloaded app to the <code>Applications</code> directory.</li><li>Double-click the app to run it. This is a menu bar app that adds an icon. This app MUST BE RUNNING for hot reloading to work! Clicking the icon opens a menu of options. Verify that &quot;File Watcher&quot; is selected.</li></ol><p>The per-project steps are:</p><ol><li>Open an iOS project in Xcode.</li><li>Select File ... Add Packages...</li><li>Enter &quot;Inject&quot; in the search input or paste the URL &quot;<a href="https://github.com/krzysztofzablocki/Inject">https://github.com/krzysztofzablocki/Inject</a>&quot;.</li><li>Select &quot;Inject&quot; in the list of matching packages.</li><li>Click the &quot;Add Package&quot; button.</li><li>Click the next &quot;Add Package&quot; button.</li><li>Select the top item in the Navigator.</li><li>Select the main target.</li><li>Click the &quot;Build Settings&quot; tab.</li><li>Enter &quot;Other Linker Flags&quot; in the filter input.</li><li>Expand the &quot;Other Linking Flags&quot; row.</li><li>For the value of the &quot;Debug&quot; row, paste <code>-Xlinker -interposable</code></li><li>Open the <code>ContentView.swift</code> file.</li><li>Add <code>import Inject</code></li><li>Add the property <code>@ObservedObject private var iO = Inject.observer</code></li><li>Chain a call to <code>.enableInjection()</code> at the end of what <code>body</code> returns.</li><li>Click the InjectionIII menu bar icon and select &quot;Open Project&quot;. If the menu bar icon is not present, double-click the InjectionIII app to launch it.</li><li>Select the directory that contains the <code>.xcodeproj</code> project file.</li><li>Click the &quot;Select Project Directory&quot; button.</li><li>Run the project in the Simulator.</li></ol><p>Note that the added code does not need to be removed before releasing the app to production because it does nothing unless it is run in debug mode.</p><p>If the directory being watched is nested inside the <code>Desktop</code> or <code>Documents</code> directory, another dialog map appear requesting permission to access files in those directories.</p><p>After making code changes and saving them, make the Simulator the active app in order to trigger updating and reloading the app. To do this, click the Simulator or press cmd-tab to toggle to it. The need to do this is annoying, but it does allow multiple files to be updated before the app is reloaded in the Simulator. See this <a href="https://github.com/johnno1962/InjectionIII/issues/426?v=1.0.20" rel="noopener" target="_blank">issue</a>.</p><p>It seems that some changes do not get injected into the running app. For example changes to property initial values do not take effect. See this <a href="https://github.com/johnno1962/InjectionIII/issues/425?v=1.0.20" rel="noopener" target="_blank">issue</a>. In the code below, hot reload will not pick up a change to the value of the <code>name</code> property.</p></article>