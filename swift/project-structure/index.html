<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Project Structure</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#groups">Groups</a></li><li><a href="#group-and-file-order">Group and file order</a></li><li><a href="#file-name-suffixes-within-groups">File name suffixes within groups</a></li><li><a href="#when-to-use-view-models">When to use View Models</a></li><li><a href="#when-to-use-services">When to use Services</a></li><li><a href="#defining-constants">Defining Constants</a></li><li><a href="#indentation-and-wrapping-style">Indentation and wrapping style</a></li><li><a href="#use-swiftlint">Use SwiftLint</a></li><li><a href="#use-swiftformat">Use SwiftFormat</a></li><li><a href="#preference-for-async%2Fawait-over-completion-handlers-(callbacks)">Preference for async/await over completion handlers (callbacks)</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p>This post documents my recommended structure for SwiftUI projects.</p><h2 id="groups">Groups</h2><p>Most files in a project should be placed in a group. Group names typically begin with an uppercase letter and do not contain spaces.</p><p>Recommended group names include:</p><ul><li><p>Config</p><p>This group includes files like <code>Assets.xcassets</code> and <code>.plist</code> files</p></li><li><p>Extensions</p><p>This group contains files that define extensions to builtin structs like <code>Date</code>, <code>String</code>, and <code>View</code>. These tend to be copied from project to project as they evolve.</p></li><li><p>Models</p><p>This group contains files that define model structs, classes, and enums. These hold all the data used by the app.</p></li><li><p>Screens</p><p>This group contains files that implement entire screens of the app as opposed to sections of a screen. Screens typically use views defined in the Views group.</p></li><li><p>Services</p><p>This group contains files that abstract away the details of network communication and interactions of packages like Core Data, CloudKit, and HealthKit.</p></li><li><p>Views</p><p>This group contains files that define views used by screens and other views.</p></li><li><p>ViewModels</p><p>This group contains files that define classes that inherit from <code>ObservableObject</code>, define <code>@Published</code> properties, and define methods that operate on the data they encapsulate. Views can use the properties and methods in these classes.</p></li></ul><h2 id="group-and-file-order">Group and file order</h2><p>Files not in any group, such as the main <code>*App.swift</code> belong above all the groups. The groups follow these files and should be in alphabetical order. The files within each group should be in alphabetical order.</p><h2 id="file-name-suffixes-within-groups">File name suffixes within groups</h2><p>The names of files in the &quot;Extensions&quot; group should end with &quot;Extension&quot;. The names of files in the &quot;Screens&quot; group should end with &quot;Screen&quot;. The names of files in the &quot;Services&quot; group should end with &quot;Service&quot;. The names of files in the &quot;ViewModels&quot; group should end with &quot;ViewModel&quot;. The names of files in all other groups do not need to end with a particular suffix.</p><h2 id="when-to-use-view-models">When to use View Models</h2><p>In strict implementations of the MVVM pattern, views get all their state data from view models and delegate all their non-view logic to view models.</p><p>In less strict implementations of the MVVM pattern, state data and logic that is specific to a single view is implemented in the view using <code>@State</code> properties.</p><h2 id="when-to-use-services">When to use Services</h2><p>Services are <code>.swift</code> files that abstract away the details of network communication and interactions of packages like Core Data, CloudKit, and HealthKit. Prefer using methods of services instead of directly coding such interactions in view models or views.</p><h2 id="defining-constants">Defining Constants</h2><p>The Swift naming convention for constants is the same as for variables. They begin with a lowercase letter and use camel-case, unlike many other programming languages that use all uppercase There are several ways to define constants in Swift.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> myConstant1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"some value"</span></span><br><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> myConstant2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"other value"</span></span><br><br><span class="token keyword">enum</span> <span class="token class-name">MyConstants</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">let</span> <span class="token keyword">static</span> <span class="token keyword">let</span> myConstant1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"some value"</span></span><br>    <span class="token keyword">static</span> <span class="token keyword">let</span> <span class="token keyword">static</span> <span class="token keyword">let</span> myConstant2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"other value"</span></span><br><span class="token punctuation">}</span><br><br><span class="token keyword">enum</span> <span class="token class-name">MyConstants</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> myConstant1 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"some value"</span></span><br>    <span class="token keyword">case</span> myConstant2 <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"other value"</span></span><br><span class="token punctuation">}</span></code></pre><p>kk## Order of sections within files and use of pragma marks</p><h2 id="indentation-and-wrapping-style">Indentation and wrapping style</h2><p>Use 4-space indentation.</p><p>Most lines that are longer than 80 characters should be wrapped to be no longer than that in order to allow comfortably viewing two or three files side-by-side.</p><p>Function signatures and calls that do not fit on a single line (80 characters) should place each parameter/argument on a separate line indented by four additional spaces. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function-definition function">myVeryLongFunctionName</span><span class="token punctuation">(</span><br>    veryLongLabelNumber1<span class="token punctuation">:</span> <span class="token class-name">Type1</span><span class="token punctuation">,</span><br>    veryLongLabelNumber2<span class="token punctuation">:</span> <span class="token class-name">Type2</span><span class="token punctuation">,</span><br>    veryLongLabelNumber3<span class="token punctuation">:</span> <span class="token class-name">Type3</span><br><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">ReturnType</span> <span class="token punctuation">{</span><br>    <span class="token operator">...</span> code goes here <span class="token operator">...</span><br><span class="token punctuation">}</span><br><br><span class="token function">myVeryLongFunctionName</span><span class="token punctuation">(</span><br>    veryLongLabelNumber1<span class="token punctuation">:</span> veryLongValueNumber1<span class="token punctuation">,</span><br>    veryLongLabelNumber2<span class="token punctuation">:</span> veryLongValueNumber2<span class="token punctuation">,</span><br>    veryLongLabelNumber3<span class="token punctuation">:</span> veryLongValueNumber3<br><span class="token punctuation">)</span></code></pre><h2 id="use-swiftlint">Use SwiftLint</h2><p>See <a href="./SwiftLint/">SwiftLint</a>.</p><h2 id="use-swiftformat">Use SwiftFormat</h2><p>See <a href="./SwiftFormat/">SwiftFormat</a>.</p><h2 id="preference-for-async%2Fawait-over-completion-handlers-(callbacks)">Preference for async/await over completion handlers (callbacks)</h2><p>Many older APIs provide asynchronous functions that take completion handler functions, otherwise known as callbacks. Callers pass in a function that is invoked when the asynchronous processing completes.</p><p>Newer APIs utilize the Swift <code>async</code> and <code>await</code> keywords.</p><p>Calls to functions that take a completion handler can be wrapped in an <code>async</code> function so they can be used in a more modern way. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token constant">TODO</span><span class="token punctuation">:</span> <span class="token constant">ADD</span> <span class="token constant">THIS</span><span class="token operator">!</span></code></pre></article>