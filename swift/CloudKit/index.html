<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>CloudKit</h2><aside></aside><article><p>Using CloudKit requires an Apple Developer account.</p><p>CloudKit supports three kinds of databases.</p><ul><li>Public is for databases that are shared between all users of an application.</li><li>Private is for databases that are only for the current user of an application.</li><li>Shared is for databases that are shared between multiple ???.</li></ul><p>A database has a collection of &quot;record types&quot; which are like tables in a relational database. Each record type has a collection of fields.</p><p>&quot;Zones&quot; are used to segregate the data in databases. A default zone named &quot;_defaultZone&quot; is provided.</p><p>&quot;Subscriptions&quot; all apps to subscribe to a database in order to be notified about changes.</p><p>&quot;Indexes&quot; improve query performance, removing the need to search through records sequentially.</p><p>&quot;Security Roles&quot; restrict database access.</p><p>When testing in the Simulator, sign in to your iCloud by opening the Settings app, clicking &quot;Sign in to your iPhone&quot;, and entering your Apple ID and password. When prompted about merging contacts, click &quot;Don't Merge&quot;.</p><p>The record type &quot;Users&quot; is provided by default and is a collection of iCloud user accounts.</p><p>A container is a space in the cloud that stores all of your saved data. Each application can have its own container or a container can be shared between multiple apps. Each container has development and production databases.</p><p>The web-based CloudKit Console supports querying, creating, updating, and deleting records.</p><p>To add the use of CloudKit to a project:</p><ol><li>Click the top item in the Navigator.</li><li>Click the main target.</li><li>Click the &quot;Signing and Capabilities&quot; tab.</li><li>Click the &quot;+&quot; in the upper-right to add a capability.</li><li>Double-click &quot;iCloud&quot;.</li><li>Under &quot;Services&quot;, check the &quot;CloudKit&quot; checkbox. Also check &quot;Key-value storage&quot; and/or &quot;iCloud Documents&quot;</li><li>Click the &quot;CloudKit Console&quot; button to open a web page at <a href="https://icloud.developer.apple.com/dashboard/home/teams/%7Byour-team-id%7D">https://icloud.developer.apple.com/dashboard/home/teams/{your-team-id}</a>.</li><li>Click the &quot;+&quot; under &quot;Containers&quot; and enter a name for the new container. This needs to be unique among all CloudKit containers, so consider using the bundle id of the app.</li><li>Periodically click the refresh button below the list of containers until the new container name changes color from red to white, indicating that the container has been created. This can take a couple of minutes.</li><li>Click the &quot;CloudKit Console&quot; button.</li><li>Sign in using your Apple Developer account</li><li>Click the big &quot;CloudKit Database&quot; button.</li></ol><p>After the first record is saved in the container, make the records of that type queryable.</p><ol><li>Click the top item in the Navigator.</li><li>Click the first target.</li><li>Click the &quot;Signing and Capabilities&quot; tab.</li><li>Click the &quot;CloudKit Console&quot; button</li><li>In the left nav under &quot;Schemas&quot;, click &quot;Indexes&quot;.</li><li>Click the name of the new record type.</li><li>Click &quot;Add Basic Index&quot;.</li><li>In the &quot;Select an option&quot; dropdown, select &quot;recordName&quot;.</li><li>It should be marked as &quot;Queryable&quot;.</li><li>Click the &quot;Save Changes&quot; button.</li><li>In the left nav under &quot;Data&quot;, click &quot;Records&quot;.</li><li>In the &quot;Record Types&quot; dropdown, select the new record name.</li><li>Click the &quot;Query Records&quot; button to display all the records of that type.</li></ol></article>