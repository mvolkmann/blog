<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Swift</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#installing">Installing</a></li><li><a href="#using-xcode">Using Xcode</a></li><li><a href="#using-the-interpreter">Using the Interpreter</a></li><li><a href="#comments">Comments</a></li><li><a href="#operators">Operators</a></li><li><a href="#protocols">Protocols</a></li><li><a href="#functions">Functions</a></li><li><a href="#closures">Closures</a></li><li><a href="#type-aliases">Type Aliases</a></li><li><a href="#built-in-primitive-types">Built-in Primitive Types</a></li><li><a href="#numbers">Numbers</a><ol><li><a href="#characters-and-strings">Characters and Strings</a></li><li><a href="#ranges">Ranges</a></li></ol></li><li><a href="#enumerations">Enumerations</a></li><li><a href="#built-in-collection-types">Built-in Collection Types</a><ol><li><a href="#arrays">Arrays</a></li><li><a href="#sets">Sets</a></li><li><a href="#dictionaries">Dictionaries</a></li><li><a href="#tuples">Tuples</a></li></ol></li><li><a href="#variables">Variables</a></li><li><a href="#optionals">Optionals</a></li><li><a href="#control-structures">Control Structures</a><ol><li><a href="#conditional-logic">Conditional Logic</a></li><li><a href="#iteration">Iteration</a></li></ol></li><li><a href="#structs">Structs</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p>THIS IS A WORK IN PROGRESS!</p><p><a href="https://swift.org?v=1.0.18" rel="noopener" target="_blank">Swift</a> is an open source programming language created by Apple. Key facts about Swift include the following:</p><ul><li>introduced by Apple at the 2014 WWDC conference</li><li>became open source under an Apache license in December 2015</li><li>goals are to be safe, fast, and expressive</li><li>strongly typed with type inference</li><li>supports both object-oriented and functional programming</li><li>built on <a href="https://llvm.org?v=1.0.18" rel="noopener" target="_blank">LLVM</a> (Low Level Virtual Machine)</li><li>interoperates with <a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/?v=1.0.18" rel="noopener" target="_blank">Objective-C</a> code</li><li>can be used to build applications for macOS, iOS, and Watch OS</li><li>can be used to build command-line applications</li><li>can be used to build server-side applications</li><li>a compiled language, but there is also an interpreter</li><li>supports closures, tuples, and generics</li><li>includes a <a href="https://developer.apple.com/documentation/swift/swift_standard_library?v=1.0.18" rel="noopener" target="_blank">Standard Library</a></li></ul><h2 id="resources">Resources</h2><ul><li>main site - <a href="https://swift.org?v=1.0.18" rel="noopener" target="_blank">https://swift.org</a></li><li><a href="https://docs.swift.org/swift-book/?v=1.0.18" rel="noopener" target="_blank">The Swift Programming Language Book</a></li><li><a href="https://cs193p.sites.stanford.edu?v=1.0.18" rel="noopener" target="_blank">Stanford CS193p - Developing Apps for iOS</a> course by Paul Hegarty - free</li><li><a href="https://www.hackingwithswift.com/100?v=1.0.18" rel="noopener" target="_blank">100 Days of Swift</a> by Paul Hudson - free</li><li><a href="https://www.udemy.com/course/ios-13-app-development-bootcamp/?v=1.0.18" rel="noopener" target="_blank">iOS &amp; Swift - The Complete iOS App Development Bootcamp</a> Udemy course by Angela Yu - $14.99</li><li><a href="https://www.apple.com/swift/playgrounds/?v=1.0.18" rel="noopener" target="_blank">Swift Playgrounds</a> iOS app - free</li></ul><h2 id="installing">Installing</h2><p>Swift can be installed on macOS, Windows 10, Amazon Linux 2, CentOS, and Ubuntu.</p><p>To install Swift on macOS, install Xcode from the macOS App Store. For other operating systems, download it from <a href="https://swift.org/download/?v=1.0.18" rel="noopener" target="_blank">Download Swift</a>.</p><h2 id="using-xcode">Using Xcode</h2><p><a href="https://developer.apple.com/xcode/?v=1.0.18" rel="noopener" target="_blank">Xcode</a> is an IDE from Apple for creating apps for iPhone, iPad, Mac, Apple Watch, and Apple TV.</p><p>To experiment with Swift:</p><ul><li>select File ... New ... Playground...</li><li>select a template such as &quot;Blank&quot; and press &quot;Next&quot;</li><li>enter a name for the playground</li><li>select the directory where it will be saved</li><li>enter code in the provided text editor</li><li>to run all of the code, click the square at the top of the console area</li><li>to run only the code up to and including a specific line, hover over the line and click the play button that appears</li><li><code>print</code> output appears in the console area at the bottom</li></ul><p>To developing an app:</p><ul><li>select one of the following:<ul><li>&quot;Create a new Xcode project&quot;</li><li>&quot;Clone an existing project&quot;</li><li>&quot;Open a project or file&quot;</li></ul></li></ul><h2 id="using-the-interpreter">Using the Interpreter</h2><p>To start the interpreter as a REPL (Read Eval Print Loop), enter <code>swift</code>. Then enter Swift statements to be evaluated. For example, enter <code>print(1 + 2)</code>.</p><p>To run the interpreter on lines of code in a file, enter <code>swift &lt; file-path</code>. For example, create the file <code>greet.swift</code> containing <code>print(&quot;Hello, World!&quot;)</code> and enter <code>swift &lt; greet.swift</code> to run it.</p><p>Interpreter commands begin with a colon. The most commonly used commands are described in the table below.</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>:exit</code></td><td>exits the interpreter</td></tr><tr><td><code>:help</code></td><td>prints help on all REPL commands</td></tr></tbody></table><h2 id="comments">Comments</h2><p>Single-line comments begin with <code>//</code>. Multi-line comments are delimited by <code>/*</code> and <code>*/</code>. Multi-line comments can be nested which makes it easy to comment out blocks of code that contain multi-line comments.</p><h2 id="operators">Operators</h2><table><thead><tr><th>Category</th><th>Operators</th></tr></thead><tbody><tr><td>equal</td><td><code>==</code> (equal), <code>!=</code> (not equal)</td></tr><tr><td>identical</td><td><code>===</code> (identical), <code>!==</code> (not identical)</td></tr><tr><td>relational</td><td><code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>&gt;</code></td></tr><tr><td>pattern match</td><td><code>~=</code></td></tr><tr><td>logical</td><td><code>&amp;&amp;</code> (and), <code>||</code>, (or), <code>!</code> (not)</td></tr><tr><td>ternary</td><td>condition <code>?</code> true-value <code>:</code> false-value</td></tr><tr><td>mathematical</td><td><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code> (mod)</td></tr><tr><td>assignment</td><td><code>=</code>, <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code></td></tr><tr><td>concatenation</td><td><code>+</code></td></tr><tr><td>unary sign</td><td><code>+</code> (positive), <code>-</code> (negative)</td></tr><tr><td>closed range</td><td><code>a...b</code> (inclusive upper), <code>a..&lt;b</code> (exclusive upper)</td></tr><tr><td>open range</td><td><code>a...</code>, <code>...b</code>, <code>..&lt;b</code></td></tr><tr><td>nil-coalescing</td><td>a <code>??</code> b (value is a if not nil and b otherwise)</td></tr><tr><td>bit shift</td><td><code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>&amp;&lt;&lt;</code>, <code>&amp;&gt;&gt;</code></td></tr><tr><td>bitwise</td><td><code>&amp;</code> (and), <code>|</code> (or), <code>^</code> (xor)</td></tr><tr><td>types</td><td><code>is</code> (type check), <code>as</code>, <code>as?</code>, <code>as!</code> (type cast)</td></tr></tbody></table><p>The nil coalescing operator in <code>a ?? b</code> is shorthand for <code>a != nil ? a! : b</code>.</p><p>Swift supports optional chaining so chains of references to optional values do not have to check for nil values. See the example in the Structs section.</p><h2 id="protocols">Protocols</h2><p>A protocol is like an interface in other programming languages. It describes a set of method signatures and properties. Properties can be constant (<code>let</code>) or variable (<code>var</code>).</p><p>Examples of built-in protocols include <code>Collection</code>, <code>Comparable</code>, <code>Equatable</code>, <code>Hashable</code>, <code>Identifiable</code>, <code>Numeric</code>, and <code>Sequence</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">protocol</span> <span class="token builtin">Shape</span> <span class="token punctuation">{</span><br>    <span class="token keyword">func</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Double</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Structs can implement protocols,</span><br><span class="token comment">// but cannot inherit from other structs or classes.</span><br><span class="token keyword">struct</span> <span class="token builtin">Triangle</span> <span class="token punctuation">:</span> <span class="token builtin">Shape</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> base<span class="token punctuation">:</span> <span class="token builtin">Double</span><br>    <span class="token keyword">var</span> height<span class="token punctuation">:</span> <span class="token builtin">Double</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>base<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>base <span class="token operator">=</span> base<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        base <span class="token operator">*</span> height <span class="token operator">*</span> <span class="token number">0.5</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Classes can implement protocols</span><br><span class="token comment">// and they can inherit from other classes.</span><br><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">:</span> <span class="token builtin">Shape</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> height<span class="token punctuation">:</span> <span class="token builtin">Double</span><br>    <span class="token keyword">var</span> width<span class="token punctuation">:</span> <span class="token builtin">Double</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        width <span class="token operator">*</span> height<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Any object that implements the Shape protocol can be passed.</span><br><span class="token comment">// Calling getArea on a shape demonstrates polymorphism because</span><br><span class="token comment">// what the call does is determined by the receiver type.</span><br><span class="token keyword">func</span> <span class="token function">logShape</span><span class="token punctuation">(</span><span class="token number">_</span> shape<span class="token punctuation">:</span> <span class="token builtin">Shape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>"area <span class="token operator">=</span> \<span class="token punctuation">(</span>shape<span class="token punctuation">.</span><span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>"<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token function">logShape</span><span class="token punctuation">(</span><span class="token function">Triangle</span><span class="token punctuation">(</span>base<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// area = 6</span><br><span class="token function">logShape</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// area = 20</span></code></pre><h2 id="functions">Functions</h2><p>Functions are defined using the <code>func</code> keyword, followed by the function name, the parameter list in parentheses, and an optional return type preceded by <code>-&gt;</code>. The parentheses are required even for functions that have no parameters.</p><p>When the return type of a function cannot be inferred and no return type is specified, it defaults to <code>Void</code> which is an empty tuple (<code>()</code>).</p><p>To call a function, specify the function name followed by arguments in parentheses. The parentheses are required even when not passing any arguments.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// outputs Hello, World!</span></code></pre><p>Parameters must have a name and type. They can also have an &quot;argument label&quot; that is the name callers must use when providing a value. The argument label defaults to the parameter name. Typically argument labels are omitted and callers use the parameter names.</p><p>When an argument label is underscore, the function must be called with only a value for that parameter. Otherwise calls must include the argument label. A function can have a mixture of parameters with argument labels and parameters with none (indicated by <code>_</code>).</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">_</span> n1<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> n2<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Int</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<br><span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 5</span></code></pre><p>If the body of the function is a single expression, the <code>return</code> keyword` is not required to return its value. The previous function can rewritten as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">_</span> n1<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> n2<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Int</span> <span class="token punctuation">{</span><br>    n1 <span class="token operator">+</span> n2<br><span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 5</span></code></pre><p>If the return type can be inferred, the return type can be omitted. The previous function can rewritten as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">_</span> n1<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> n2<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    n1 <span class="token operator">+</span> n2<br><span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 5</span></code></pre><p>A parameter can specify a default value by including an equal sign (<code>=</code>) followed by a value after the type. Doing so makes the corresponding argument optional. All parameters with default values must follow those that do not have a default value.</p><p>Calls to a function must provided all the required arguments. Each argument is specified by the argument label, a colon, and a value. These must appear in the same orders as the corresponding parameters. The rationale for this is that it can make some calls more expressive, almost like sentences. It is useful to think of the argument labels as being part of the function name.</p><p>Here is an example of a function where it is useful for argument labels to differ from parameters names. It uses the types <code>Ingredient</code> and <code>Food</code> that are not defined here.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">getDailyPercentage</span><span class="token punctuation">(</span>of ingredient<span class="token punctuation">:</span> <span class="token builtin">Ingredient</span><span class="token punctuation">,</span> <span class="token keyword">in</span> food<span class="token punctuation">:</span> <span class="token builtin">Food</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Float</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Perhaps look up the value in a Dictionary and return it.</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> sugar <span class="token operator">=</span> <span class="token function">Ingredient</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"sugar"</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> frostedFlakes <span class="token operator">=</span> <span class="token function">Food</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Frosted Flakes"</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> dailySugarPct <span class="token operator">=</span> <span class="token function">getDailyPercentage</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> sugar<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> frostedFlakes<span class="token punctuation">)</span></code></pre><p>Code hints provided by Xcode help developers know the argument labels and types that must be provided.</p><p>A &quot;variadic&quot; parameter accepts multiple values of the same type. The parameter value will be a constant array of values.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">displaySum</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> numbers<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>label<span class="token delimiter variable">)</span></span> = <span class="token interpolation"><span class="token delimiter variable">\(</span>sum<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>Function names can be overloaded based on their parameter types.</p><p>To return multiple values, return a tuple by returning a list of values inside parentheses.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">getAvgSum</span><span class="token punctuation">(</span><span class="token number">_</span> numbers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Float</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token builtin">Float</span><span class="token punctuation">,</span> <span class="token builtin">Float</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> sum <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">+</span> $<span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token keyword">let</span> avg <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token function">Float</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token punctuation">)</span><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span>avg<span class="token punctuation">,</span> sum<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getAvgSum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// (4.0, 12.0)</span><br><br><span class="token comment">// This defines a "tuple" type and assigns a name to it.</span><br><span class="token keyword">typealias</span> <span class="token constant">RGB</span> <span class="token operator">=</span> <span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><br><br><span class="token keyword">let</span> rgbDict<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span> <span class="token punctuation">:</span> <span class="token constant">RGB</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token string">"red"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token number">255</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token string">"green"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token number">255</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token string">"blue"</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>red<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> green<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> blue<span class="token punctuation">:</span> <span class="token number">255</span><span class="token punctuation">)</span><br><span class="token punctuation">]</span><br><br><span class="token keyword">func</span> <span class="token function">getRgb</span><span class="token punctuation">(</span><span class="token number">_</span> color<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token constant">RGB</span><span class="token operator">?</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> rgbDict<span class="token punctuation">[</span>color<span class="token punctuation">]</span><br><span class="token punctuation">}</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getRgb</span><span class="token punctuation">(</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// (red: 255, green: 0, blue: 0)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getRgb</span><span class="token punctuation">(</span><span class="token string">"green"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// (red: 0, green: 255, blue: 0)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getRgb</span><span class="token punctuation">(</span><span class="token string">"pink"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// nill</span></code></pre><p>By default, parameters cannot be modified in function bodies. Adding the keyword <code>inout</code> before their type changes this. Modifying the values of these parameters changes the value of the corresponding argument in the caller. This only works if the value passed in is a variable (<code>var</code>) rather than a constant (<code>let</code>). This seems like a feature to avoid!</p><p>The type of a function is describe by its parameter types and return type. For example, the type of the <code>displaySum</code> function above is <code>(String, Int) -&gt; Void</code>. Function types can be used for variable, parameter, and return types. This means that compatible functions can be assigned variables, passed to functions, and returned from functions.</p><p>Functions can defined in the bodies of other functions to scope their usage. Otherwise they are global and can be called from anywhere. Nested functions can be returned by their enclosing function to allow them to be called from outside.</p><h2 id="closures">Closures</h2><p>Anonymous functions (a.k.a closures) can be used as the values of variables and arguments. They are written with the following syntax: <code>{ (parameter-list) -&gt; return-type in statements }</code>. The return type can be omitted when it can be inferred. Note the use of the <code>in</code> keyword to mark the beginning of the statements.</p><p>The following code defines and calls several anonymous functions.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// This function has no parameters.</span><br><span class="token keyword">let</span> printTime <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// now</span><br>    <span class="token keyword">let</span> dateFormatter <span class="token operator">=</span> <span class="token function">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    dateFormatter<span class="token punctuation">.</span>dateFormat <span class="token operator">=</span> <span class="token string">"M/d/yyyy"</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>dateFormatter<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><span class="token function">printTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// This function specifies all the types.</span><br><span class="token keyword">let</span> product <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Double</span> <span class="token keyword">in</span> a <span class="token operator">*</span> b<span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><br><span class="token comment">// This function omits the return type because it can be inferred.</span><br><span class="token keyword">let</span> product2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token keyword">in</span> a <span class="token operator">*</span> b<span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>If the parameter types of an anonymous function can be inferred from usage, the parameter list can be omitted and the parameter values can be referred to by index using the names <code>$0</code>, <code>$1</code>, and so on.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><br><span class="token keyword">let</span> doubled <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [2, 6, 14]</span></code></pre><p>If the last parameters to a function or method are functions, calls can be written using &quot;trailing closures&quot;. Typically this is only done for the last argument. For example, these are equivalent:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> prices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.23</span><span class="token punctuation">,</span> <span class="token number">2.34</span><span class="token punctuation">,</span> <span class="token number">3.45</span><span class="token punctuation">]</span><br><span class="token keyword">let</span> total <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">in</span> result <span class="token operator">+</span> price<span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> total <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token punctuation">(</span>result<span class="token punctuation">,</span> price<span class="token punctuation">)</span> <span class="token keyword">in</span> result <span class="token operator">+</span> price<br><span class="token punctuation">}</span><br><span class="token keyword">let</span> total <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">+</span> $<span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Closures can be passed as arguments to other functions. If the receiving function has asynchronous behavior that invokes the closure after the function returns, the closure parameter must be declared to be <code>@escaping</code>. Why is this required? Are non-escaping closures handled in an optimized way that discards their context after the function returns?</p><h2 id="type-aliases">Type Aliases</h2><p>A type alias assigns an alternate name to another type.</p><p>One uses is to provide additional documentation for primitive types. For example, the following documents the expected format of a <code>String</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">typealias</span> <span class="token constant">MMDDYYYY</span> <span class="token operator">=</span> <span class="token builtin">String</span><br><span class="token keyword">var</span> date<span class="token punctuation">:</span> <span class="token constant">MMDDYYYY</span> <span class="token operator">=</span> <span class="token string">"04161961"</span></code></pre><p>The type of an anonymous function can be assigned to a <code>typealias</code> to avoid repeating it and the possibility for typos. This is also useful for declaring the types of functions that are passed as arguments to other functions. For example, the product function above can be written as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">typealias</span> doublePairToDouble <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">Double</span><span class="token punctuation">,</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Double</span><br><span class="token keyword">let</span> product<span class="token punctuation">:</span> doublePairToDouble <span class="token operator">=</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">*</span> $<span class="token number">1</span><span class="token punctuation">}</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>A <code>typealias</code> can be used to give a name to a combination of protocols. For example, the following type alias is defined by Swift.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">typealias</span> <span class="token builtin">Codable</span> <span class="token operator">=</span> <span class="token builtin">Decodble</span> <span class="token operator">&amp;</span> <span class="token builtin">Encodable</span></code></pre><p>Instances of types that implement this protocol can be serialized and deserialized to and from formats like JSON.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Sport</span> <span class="token punctuation">:</span> <span class="token builtin">Codable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">let</span> playerCount<span class="token punctuation">:</span> <span class="token builtin">Int</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> hockey <span class="token operator">=</span> <span class="token function">Sport</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Hockey"</span><span class="token punctuation">,</span> playerCount<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">)</span><br><br><span class="token keyword">let</span> encoder <span class="token operator">=</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> decoder <span class="token operator">=</span> <span class="token function">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token keyword">do</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">try</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>hockey<span class="token punctuation">)</span><br>    <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> data<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span><span class="token operator">!</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token comment">// {"name":"Hockey","playerCount":6}</span><br><br>    <span class="token comment">// The first argument to decode specifies the type to be created.</span><br>    <span class="token keyword">let</span> newSport <span class="token operator">=</span> <span class="token keyword">try</span> decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token builtin">Sport</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> data<span class="token punctuation">)</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>newSport<span class="token punctuation">)</span> <span class="token comment">// Sport(name: "Hockey", playerCount: 6)</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>TODO: Add a section on error handling.</p><p>Why is the <code>try</code> keyword necessary? Can a <code>do</code> block contain more than one use of the <code>try</code> keyword? Why are <code>catch</code> blocks not supplied with an error object that describes the error?</p><p>There can be more than one <code>catch</code> block where each matches a different kind of error.</p><h2 id="built-in-primitive-types">Built-in Primitive Types</h2><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>Bool</code></td><td>boolean; literal values are <code>true</code> and <code>false</code></td></tr><tr><td><code>UInt</code></td><td>unsigned integer; same number of bits as platform (32 or 64)</td></tr><tr><td><code>Int</code></td><td>signed integer; same number of bits as platform (32 or 64)</td></tr><tr><td><code>Float</code></td><td>32-bit floating point number</td></tr><tr><td><code>Double</code></td><td>64-bit floating point number</td></tr><tr><td><code>Character</code></td><td>single character</td></tr><tr><td><code>String</code></td><td>text</td></tr><tr><td><code>Range</code></td><td>interval from inclusive lower bound to exclusive upper bound</td></tr><tr><td><code>ClosedRange</code></td><td>interval from inclusive lower bound to inclusive upper bound</td></tr></tbody></table><p>Variables of these types cannot be set to <code>nil</code> unless a <code>?</code> follows the type to indicated that it is optional. See the &quot;Optionals&quot; section later.</p><p>The <code>try</code> function returns the type of its argument as a <code>String</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> c<span class="token punctuation">:</span> <span class="token builtin">Character</span> <span class="token operator">=</span> <span class="token string">"x"</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">type</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Character</span></code></pre><h2 id="numbers">Numbers</h2><p>The <code>Int</code>, <code>Float</code>, and <code>Double</code> types have some common properties and methods. But some are not shared by all of these types.</p><p>Global numeric constants include:</p><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>M_E</code></td><td>Double value of e</td></tr><tr><td><code>M_PI</code></td><td>Double value of pi</td></tr><tr><td><code>M_PI_2</code></td><td>Double value of half pi</td></tr></tbody></table><p>Static number properties include the following:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>greatestFiniteMagnitude</code></td><td>maximum value of <code>Float</code> or <code>Double</code> type</td></tr><tr><td><code>leastNonzeroMagnitude</code></td><td>minimum value of <code>Float</code> or <code>Double</code> type</td></tr><tr><td><code>max</code></td><td>maximum value of <code>Int</code> type</td></tr><tr><td><code>min</code></td><td>minimum value of <code>Int</code> type</td></tr><tr><td><code>pi</code></td><td>value of <code>Float</code> or <code>Double</code> Pi</td></tr></tbody></table><p>Static number methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>random(in: Range) -&gt; number</code></td><td>returns a random number in the given range</td></tr><tr><td><code>maximum(number, number) -&gt; Double</code></td><td>returns the larger of two floating point numbers</td></tr><tr><td><code>minimum(number, number) -&gt; Double</code></td><td>returns the smaller of two floating point numbers</td></tr></tbody></table><pre class="language-swift"><code class="language-swift"><span class="token comment">// Generate a random integer from 0 to 9.</span><br><span class="token comment">// This can also be used on the Float and Double types.</span><br><span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token builtin">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">)</span></code></pre><p>Number methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td>`abs(number) -&gt; number</td><td>returns absolute value</td></tr><tr><td>`isMultiple(of: Int) -&gt; Bool</td><td>determines if the Int receiver is a multiple of another Int</td></tr><tr><td><code>remainder(dividingBy: Double)</code></td><td>returns remainder</td></tr><tr><td><code>round()</code></td><td>mutates value to rounded value</td></tr><tr><td><code>rounded() -&gt; Double</code></td><td>returns rounded value</td></tr><tr><td><code>signum() -&gt; Int</code></td><td>returns -1, 0, or 1</td></tr><tr><td><code>squareRoot()</code></td><td>returns square root</td></tr></tbody></table><p>Many more math functions are defined in the &quot;Foundation&quot; framework. This &quot;provides a base layer of functionality for apps and frameworks, including data storage and persistence, text processing, date and time calculations, sorting and filtering, and networking. Many math functions can only be used if the Foundation framework is imported.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">Foundation</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token number">45.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0.8509...</span></code></pre><p>Numeric foundation functions include:</p><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>abs(number)</code></td><td>returns absolute value</td></tr><tr><td><code>ceil(number)</code></td><td>returns ceiling value</td></tr><tr><td><code>floor(number)</code></td><td>returns floor value</td></tr><tr><td><code>round(number)</code></td><td>returns rounded value</td></tr><tr><td><code>sign(number)</code></td><td>returns -1, 0, or 1</td></tr><tr><td><code>trunc(number)</code></td><td>returns truncated value</td></tr><tr><td><code>pow(base, exponent)</code></td><td>returns a number raised to a power</td></tr><tr><td><code>sqrt(number)</code></td><td>returns the square root of a number</td></tr><tr><td><code>exp(exponent)</code></td><td>returns e raised to a power</td></tr><tr><td><code>log(number)</code></td><td>returns the natural log of a number</td></tr><tr><td><code>log10(number)</code></td><td>returns the log base 10 value of a number</td></tr><tr><td><code>sin(number)</code></td><td>returns sine of angle in radians</td></tr><tr><td><code>cos(number)</code></td><td>returns cosine of angle in radians</td></tr><tr><td><code>tan(number)</code></td><td>returns tangent of angle in radians</td></tr><tr><td><code>asin(number)</code></td><td>returns arc sine in radians</td></tr><tr><td><code>acos(number)</code></td><td>returns arc cosine in radians</td></tr><tr><td><code>atan(number)</code></td><td>returns arc tangent in radians</td></tr></tbody></table><h3 id="characters-and-strings">Characters and Strings</h3><p>Literal <code>Character</code> and single-line <code>String</code> values are both delimited by double-quotes. Multi-line <code>String</code> values are delimited by triple double-quotes.</p><p>Strings are value types. This means that assigning a <code>String</code> variable to another makes a copy rather than assigning a reference to the same memory.</p><p>To insert expressions in string values use the string interpolation syntax.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> item <span class="token operator">=</span> <span class="token string">"milk"</span><br><span class="token keyword">let</span> price <span class="token operator">=</span> <span class="token number">2.59</span><br><span class="token keyword">let</span> taxRate <span class="token operator">=</span> <span class="token number">0.8</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"item <span class="token interpolation"><span class="token delimiter variable">\(</span>item<span class="token delimiter variable">)</span></span> costs <span class="token interpolation"><span class="token delimiter variable">\(</span>price <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> taxRate<span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span></code></pre><p>A new string can be created by concatenating existing strings using the <code>+</code> operator.</p><p>A string can be appended to an existing variable string using the <code>+=</code> operator.</p><p>To iterate over the characters in a <code>String</code>, use a <code>for-in</code> loop or the <code>forEach</code> method.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"Mark"</span><br><br><span class="token keyword">for</span> c <span class="token keyword">in</span> name <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br>name<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">(</span>c<span class="token punctuation">:</span> <span class="token builtin">Character</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token keyword">in</span> <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>name<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token function">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>Indexes into strings have the type <code>String.Index</code> rather than <code>Int</code>. This makes many string operations more verbose that in other languages because obtaining a <code>String.Index</code> value requires a method call.</p><p>For example, the following gets the 2nd and 3rd characters of a string.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"Mark"</span><br><span class="token keyword">let</span> start <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> end <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>end<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// "ar"</span></code></pre><p><code>String</code> properties include the following:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>count</code></td><td>number of current characters</td></tr><tr><td><code>first</code></td><td>first character</td></tr><tr><td><code>isEmpty</code></td><td><code>Bool</code> value indicating whether <code>count</code> is zero</td></tr><tr><td><code>last</code></td><td>last character</td></tr></tbody></table><p><code>String</code> methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>append(Character)</code></td><td>appends a given <code>Character</code> to the receiver</td></tr><tr><td><code>append(String)</code></td><td>appends a given <code>String</code> to the receiver</td></tr><tr><td><code>contains(Character) -&gt; Bool</code></td><td>determines if receiver contains a given character</td></tr><tr><td><code>dropFirst(Int) -&gt; Substring</code></td><td>returns substring not including first n characters</td></tr><tr><td><code>dropLast(Int) -&gt; Substring</code></td><td>returns substring not including last n characters</td></tr><tr><td><code>firstIndex(of: Character or String) -&gt; Int</code></td><td>returns index of first occurrence of a character or substring</td></tr><tr><td><code>hasPrefix(String) -&gt; Bool</code></td><td>determines if receiver begins with a substring</td></tr><tr><td><code>hasSuffix(String) -&gt; Bool</code></td><td>determines if receiver ends with a substring</td></tr><tr><td><code>insert(Character, at: index)</code></td><td>inserts a given <code>Character</code> in the receiver</td></tr><tr><td><code>lowercased() -&gt; String</code></td><td>returns lowercase version</td></tr><tr><td><code>popLast() -&gt; Character?</code></td><td>removes and returns last character</td></tr><tr><td><code>prefix(Int) -&gt; Substring</code></td><td>returns first n characters</td></tr><tr><td><code>remove(at: index)</code></td><td>removes and returns the character at a given index</td></tr><tr><td><code>removeAll()</code></td><td>removes all characters</td></tr><tr><td><code>removeFirst([n])</code></td><td>removes first n characters, defaulting to 1</td></tr><tr><td><code>removeLast([n])</code></td><td>removes last n characters, defaulting to 1</td></tr><tr><td><code>removeSubrange(Range)</code></td><td>removes characters in <code>Range</code></td></tr><tr><td><code>replaceSubrange(Range, with: String)</code></td><td>replaces characters in a given range</td></tr><tr><td><code>split(separator: Character) -&gt; [Substring]</code></td><td>returns <code>Array</code> of substrings delimited by a given character</td></tr><tr><td><code>sorted() -&gt; [Character]</code></td><td>returns <code>Array</code> of characters in sorted order</td></tr><tr><td><code>suffix(Int) -&gt; Substring</code></td><td>returns last n characters</td></tr><tr><td><code>uppercased() -&gt; String</code></td><td>returns uppercase version</td></tr></tbody></table><p>Getting the character at a given index requires using the <code>index</code> method which makes if quite verbose.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">"Mark"</span><br><span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span>name<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// "r"</span></code></pre><p>Fortunately we can override the subscript operator to make this easier.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token builtin">String</span> <span class="token punctuation">:</span> <span class="token builtin">BidirectionalCollection</span> <span class="token punctuation">{</span><br>    <span class="token keyword">subscript</span><span class="token punctuation">(</span>i<span class="token punctuation">:</span> <span class="token builtin">Index</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Character</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> characters<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// "r"</span></code></pre><h3 id="ranges">Ranges</h3><p>A literal <code>Range</code> including the numbers 2, 3, and 4 can be defined with <code>2..&lt;5</code> or <code>2...4</code>. This can be assigned to a variable.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">4</span></code></pre><p>To determine if a number is in a range, pass it to the <code>contains</code> method.</p><pre class="language-swift"><code class="language-swift"><span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span><br><span class="token function">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span></code></pre><p>To iterate over the values in a range, use a <code>for-in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> n <span class="token keyword">in</span> r <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><h2 id="enumerations">Enumerations</h2><p>Enumerations are declared with the <code>enum</code> keyword. They have a name and a list of possible cases. Each <code>case</code> has a name and an optional value that can be any type, though <code>Int</code>, and <code>String</code> are common types. By convention both <code>enum</code> names and <code>case</code> names use camel-case, but <code>enum</code> names begin uppercase and <code>case</code> names begin lowercase.</p><p>When <code>case</code> values are provided, their type must be specified after the <code>enum</code> name. These values are accessed with the <code>rawValue</code> property. Why doesn't an enum name evaluate to its value like in other languages so <code>rawValue</code> would not be needed? Why isn't this property just named <code>value</code>?</p><p>If a type is provided after the <code>enum</code> name, any cases without specified values are given default values. For example, if the type is <code>Int</code>, incrementing values starting with zero are assigned. And when the type is <code>String</code>, values matching the case name are assigned.</p><p>If no type is provided, the cases are not assigned default values. This differs from many other programming languages.</p><p>An enumeration <code>case</code> value can be a collection type such as a tuple or object. Like structs and classes, enumerations can define initializers and methods. All of this seems like a misuse of enumerations. It seems better to use a struct or class for these cases.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">Color</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Multiple cases can be specified on the same line.</span><br>    <span class="token keyword">case</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<br><span class="token punctuation">}</span><br><br><span class="token keyword">enum</span> <span class="token builtin">ColorHex</span><span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> red <span class="token operator">=</span> <span class="token string">"ff0000"</span><br>    <span class="token keyword">case</span> green <span class="token operator">=</span> <span class="token string">"00ff00"</span><br>    <span class="token keyword">case</span> blue <span class="token operator">=</span> <span class="token string">"0000ff"</span><br><span class="token punctuation">}</span></code></pre><p>When the type of a value can be inferred to be a specific <code>enum</code> type, a value can be specified with only a period followed by a <code>case</code> name as a shorthand.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> c1 <span class="token operator">=</span> <span class="token builtin">Color</span><span class="token punctuation">.</span>red<br><span class="token function">print</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>rawValue<span class="token punctuation">)</span> <span class="token comment">// ff0000</span><br><span class="token keyword">var</span> c2<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>red <span class="token comment">// using shorthand</span><br><span class="token function">print</span><span class="token punctuation">(</span>c2<span class="token punctuation">.</span>rawValue<span class="token punctuation">)</span> <span class="token comment">// ff0000</span><br><br><span class="token keyword">switch</span> c1 <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> <span class="token punctuation">.</span>red<span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"hot"</span><span class="token punctuation">)</span> <span class="token comment">// this prints</span><br>    <span class="token keyword">case</span> <span class="token punctuation">.</span>green<span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"warm"</span><span class="token punctuation">)</span><br>    <span class="token keyword">case</span> <span class="token punctuation">.</span>blue<span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"color"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>If an <code>enum</code> has the type <code>CaseIterable</code> then its cases will be held in the <code>allCases</code> property. This can be used to iterate over the cases. If a value type is also specified, it must appear before <code>CaseIterable</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">Color</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> red <span class="token operator">=</span> <span class="token string">"ff0000"</span><br>    <span class="token keyword">case</span> green <span class="token operator">=</span> <span class="token string">"00ff00"</span><br>    <span class="token keyword">case</span> blue <span class="token operator">=</span> <span class="token string">"0000ff"</span><br><span class="token punctuation">}</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>allCases<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token punctuation">)</span> <span class="token comment">// 3</span><br><span class="token keyword">for</span> color <span class="token keyword">in</span> <span class="token builtin">Color</span><span class="token punctuation">.</span>allCases <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token comment">// red, green, and blue</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of adding a method to an <code>enum</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">Color</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> red <span class="token operator">=</span> <span class="token string">"ff0000"</span><br>    <span class="token keyword">case</span> green <span class="token operator">=</span> <span class="token string">"00ff00"</span><br>    <span class="token keyword">case</span> blue <span class="token operator">=</span> <span class="token string">"0000ff"</span><br><br>    <span class="token keyword">func</span> <span class="token function">getGreenHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Substring</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> hex <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span>rawValue<br>        <span class="token keyword">let</span> start <span class="token operator">=</span> hex<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>hex<span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><br>        <span class="token keyword">let</span> end <span class="token operator">=</span> hex<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> hex<span class="token punctuation">[</span>start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>end<span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>red<span class="token punctuation">.</span><span class="token function">getGreenHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 00</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>green<span class="token punctuation">.</span><span class="token function">getGreenHex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ff</span></code></pre><h2 id="built-in-collection-types">Built-in Collection Types</h2><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>Array</code></td><td>indexed collection of values with the same type</td></tr><tr><td><code>Dictionary</code></td><td>collection of key/value pairs where all keys have the same type and all values have the same type</td></tr><tr><td><code>Set</code></td><td>unordered collection of values with the same type and no duplicates</td></tr><tr><td>tuple</td><td>fixed-length, ordered collection of values that have type that can differ</td></tr></tbody></table><p>When a variable is set to a collection, the elements in the collection can be modified. However, when a constant is initialized to a collection, the elements in the collection cannot be modified.</p><p>The class hierarchy of the built-in collections, including the protocols they implement, is:</p><ul><li><code>Sequence</code> protocol<ul><li><code>Collection</code> protocol<ul><li><code>Dictionary</code> struct</li><li><code>Range</code> struct</li><li><code>Set</code> struct</li><li><code>Slice</code> struct</li><li><code>MutableCollection</code> protocol<ul><li><code>Array</code> struct</li></ul></li></ul></li></ul></li></ul><p>The <code>Sequence</code> protocol defines operations for collections that &quot;provide sequential, iterated access to their elements&quot;. Iterating can be destructive to the elements.</p><p>The <code>Collection</code> protocol defines operations for collections that &quot;can be traversed multiple times, nondestructively, and accessed by an indexed subscript&quot;.</p><p>The <code>MutableCollection</code> protocol defines operations that change the values of elements. Methods include <code>reverse</code>, <code>shuffle</code>, and <code>sort</code>.</p><p>From &quot;The Swift Programming Language&quot;:</p><blockquote><p>Collections defined by the standard library like arrays, dictionaries, and strings use an optimization to reduce the performance cost of copying. Instead of making a copy immediately, these collections share the memory where the elements are stored between the original instance and any copies. If one of the copies of the collection is modified, the elements are copied just before the modification. The behavior you see in your code is always as if a copy took place immediately.</p></blockquote><h3 id="arrays">Arrays</h3><p>Arrays can be created by listing elements in square brackets, separated by commas.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment">// type is inferred to be [Int]</span><br><br><span class="token keyword">var</span> numbers<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// can't infer type, so must specify; uses short form</span><br><span class="token keyword">var</span> numbers<span class="token punctuation">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// same as previous line; uses long form</span><br><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// same as previous lines</span><br><br><span class="token keyword">var</span> zeros <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>repeating<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">count</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// array containing 5 zeros</span></code></pre><p>To append new elements to an array:</p><pre class="language-swift"><code class="language-swift">scores <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// now [2, 5, 10, 3]</span><br>scores<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// can only pass one value; now [2, 5, 10, 3, 9]</span></code></pre><p>To change values at specific indexes:</p><pre class="language-swift"><code class="language-swift">scores<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token comment">// now [4, 5, 10, 3, 9]</span><br>scores<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// inclusive range; now [4 5, 1, 2, 9]</span></code></pre><p>To iterate over the elements in an <code>Array</code>, use a <code>for</code>/<code>in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> score <span class="token keyword">in</span> scores <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To also access the index of each value, use the <code>enumerated</code> method.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> <span class="token punctuation">(</span>index<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token keyword">in</span> scores<span class="token punctuation">.</span><span class="token function">enumerated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"score <span class="token interpolation"><span class="token delimiter variable">\(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token delimiter variable">)</span></span>: <span class="token interpolation"><span class="token delimiter variable">\(</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>TODO: Does Swift support any form of destructuring? Probably not.</p><p><code>Array</code> properties include the following:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>capacity</code></td><td>number of elements that can be held without allocating more space</td></tr><tr><td><code>count</code></td><td>number of current elements</td></tr><tr><td><code>first</code></td><td>first element</td></tr><tr><td><code>isEmpty</code></td><td><code>Bool</code> value indicating whether <code>count</code> is zero</td></tr><tr><td><code>last</code></td><td>last element</td></tr></tbody></table><p><code>Array</code> methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>allSatisfy((Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if every element satisfies predicate; like JS <code>every</code></td></tr><tr><td><code>append(Element)</code></td><td>adds new element at end</td></tr><tr><td><code>append(contentsOf: S)</code></td><td>adds elements in <code>S</code> at end</td></tr><tr><td><code>compactMap&lt;T&gt;((Element) -&gt; T) -&gt; [T]</code></td><td>returns Array of non-nil values returned by function</td></tr><tr><td><code>contains(Element) -&gt; Bool</code></td><td>determines if an element is a member</td></tr><tr><td><code>contains(where: (Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if some element satisfies predicate; like JS <code>some</code></td></tr><tr><td><code>drop(while: (Element) -&gt; Bool) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of elements after those at beginning that match predicate</td></tr><tr><td><code>dropFirst(Int) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of elements after first n</td></tr><tr><td><code>dropLast(Int) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of elements before last n</td></tr><tr><td><code>enumerated(t) -&gt; EnumeratedSequence</code></td><td>returns subsequence of (n, x) pairs where n is an index and x is the element at that index</td></tr><tr><td><code>first(where: (Element) -&gt; Bool) -&gt; Element?</code></td><td>returns first element that satisfies predicate</td></tr><tr><td><code>firstIndex(of: Element) -&gt; Int?</code></td><td>returns index of first element matching given element</td></tr><tr><td><code>firstIndex(where: (Element) -&gt; Bool) -&gt; Int?</code></td><td>returns index of first element that satisfies predicate</td></tr><tr><td><code>flatMap&lt;T&gt;((Element) -&gt; T) -&gt; [T]</code></td><td>like <code>map</code>, but concatenates results</td></tr><tr><td><code>forEach((Element) -&gt; Void)</code></td><td>passes each element to given function</td></tr><tr><td><code>last(where: (Element) -&gt; Bool) -&gt; Element?</code></td><td>returns last element that matches a predicate</td></tr><tr><td><code>lastIndex(of: Element) -&gt; Int?</code></td><td>returns index of last element matching element</td></tr><tr><td><code>lastIndex(where: (Element) -&gt; Bool) -&gt; Int?</code></td><td>returns index of last element that matches a predicate</td></tr><tr><td><code>insert(Element, at: Int)</code></td><td>inserts new element at given index</td></tr><tr><td><code>joined(String) -&gt; String</code></td><td>returns concatenation of elements with separator between each</td></tr><tr><td><code>lazy</code></td><td>returns sequence that can be used lazily by another function</td></tr><tr><td><code>map&lt;T&gt;((Element) -&gt; T) -&gt; [T]</code></td><td>returns Array of results of calling a function on each element</td></tr><tr><td><code>max() -&gt; Element?</code></td><td>returns maximum element</td></tr><tr><td><code>max((Element, Element) -&gt; Bool) -&gt; Element?</code></td><td>returns maximum element as determined by a comparator</td></tr><tr><td><code>min() -&gt; Element?</code></td><td>returns minimum element</td></tr><tr><td><code>min((Element, Element) -&gt; Bool) -&gt; Element?</code></td><td>returns minimum element as determined by a comparator</td></tr><tr><td><code>partition(by: (Element) -&gt; Bool) -&gt; Int</code></td><td>reorders elements using a predicate so all false are before all true</td></tr><tr><td><code>popLast() -&gt; Element?</code></td><td>removes last element and returns it; returns nil if empty</td></tr><tr><td><code>prefix(Int) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of first n elements</td></tr><tr><td><code>prefix(while: (Element) -&gt; Bool) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of first elements that match a predicate</td></tr><tr><td><code>randomElement()</code></td><td>a random element</td></tr><tr><td><code>reduce(Result, (Result, Element) -&gt; Result) -&gt; Result</code></td><td>takes an initial value and a function; returns result of combining elements</td></tr><tr><td><code>remove(at: Int) -&gt; Element</code></td><td>removes element at given index and returns it</td></tr><tr><td><code>removeFirst() -&gt; Element</code></td><td>removes first element and returns it</td></tr><tr><td><code>removeFirst(Int)</code></td><td>removes given number of elements from beginning</td></tr><tr><td><code>removeLast() -&gt; Element</code></td><td>removes last element and returns it; crashes if empty</td></tr><tr><td><code>removeLast(Int)</code></td><td>removes given number of elements from end</td></tr><tr><td><code>removeSubrange(Range&lt;Int&gt;)</code></td><td>removes elements in range</td></tr><tr><td><code>removeAll(keepingCapacity: Bool)</code></td><td>removes all elements, optionally keeping the capacity</td></tr><tr><td><code>removeAll(where: (Element) -&gt; Bool)</code></td><td>removes all elements that match a predicate</td></tr><tr><td><code>replaceSubrange(Range&lt;Int&gt;, with: C)</code></td><td>replaces elements in the range with elements in <code>C</code></td></tr><tr><td><code>reserveCapacity(Int)</code></td><td>reserves enough space for at least the given number of elements</td></tr><tr><td><code>reverse()</code></td><td>reverses the elements in place</td></tr><tr><td><code>reversed() -&gt; ReversedCollection</code></td><td>returns view of elements in reverse order</td></tr><tr><td><code>shuffle()</code></td><td>shuffles elements in place</td></tr><tr><td><code>shuffled()</code></td><td>returns new array of elements in shuffled order</td></tr><tr><td><code>sort()</code></td><td>sorts elements in place</td></tr><tr><td><code>sort(by: (Element, Element) -&gt; Bool)</code></td><td>sorts elements in place using a given comparator</td></tr><tr><td><code>sorted() -&gt; [Element]</code></td><td>returns new array of elements in sorted order</td></tr><tr><td><code>sorted(by: (Element, Element) -&gt; Bool) -&gt; [Element]</code></td><td>returns new array of elements in sorted using a given comparator</td></tr><tr><td><code>subscript(Int)</code></td><td>element at given index</td></tr><tr><td><code>subscript(Range&lt;Int&gt;)</code></td><td><code>ArraySlice</code> of elements in given range</td></tr><tr><td><code>suffix(Int) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of last n elements</td></tr><tr><td><code>suffix(while: (Element) -&gt; Bool) -&gt; ArraySlice&lt;Element&gt;</code></td><td>returns subsequence of last elements that match a predicate</td></tr><tr><td><code>swapAt(Int, Int)</code></td><td>swaps elements at the given indexes</td></tr></tbody></table><h3 id="sets">Sets</h3><p>Sets can be created by passing elements to the <code>Set</code> function.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// The type of the following is inferred to be Set&lt;String>.</span><br><span class="token keyword">var</span> cards<span class="token punctuation">:</span> <span class="token builtin">Set</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"5C"</span><span class="token punctuation">,</span> <span class="token string">"KH"</span><span class="token punctuation">]</span> <span class="token comment">// 5 of clubs and King of hearts</span><br><br><span class="token keyword">var</span> cards <span class="token operator">=</span> <span class="token builtin">Set</span><span class="token operator">&lt;</span><span class="token builtin">String</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// starts empty; can't infer type so must specify</span></code></pre><p>To add an element, use the <code>insert</code> method:</p><pre class="language-swift"><code class="language-swift">cards<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"AD"</span><span class="token punctuation">)</span> <span class="token comment">// Ace of diamonds</span></code></pre><p>To iterate over the elements in a <code>Set</code>, use a <code>for</code>/<code>in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> card <span class="token keyword">in</span> cards <span class="token punctuation">{</span> <span class="token comment">// elements are unordered</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To iterate over the elements in a <code>Set</code> in sorted order, add use of the <code>sorted</code> method.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> card <span class="token keyword">in</span> cards<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>The <code>==</code> operator can be used to determine if two sets contain the same elements.</p><p><code>Set</code> properties include the following:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>capacity</code></td><td>number of elements that can be held without allocating more space</td></tr><tr><td><code>count</code></td><td>number of current elements</td></tr><tr><td><code>isEmpty</code></td><td><code>Bool</code> value indicating whether <code>count</code> is zero</td></tr></tbody></table><p><code>Set</code> methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>allSatisfy((Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if every element satisfies predicate; like JS <code>every</code></td></tr><tr><td><code>contains(Element) -&gt; Bool</code></td><td>determines if an element is a member</td></tr><tr><td><code>contains(where: (Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if some element satisfies predicate; like JS <code>some</code></td></tr><tr><td><code>insert(element)</code></td><td>adds an element</td></tr><tr><td><code>intersection(otherSet) -&gt; Set</code></td><td>returns new <code>Set</code> that is intersection of receiver with another</td></tr><tr><td><code>isDisjoint(with: otherSet) -&gt; Bool</code></td><td>true if receiver has no elements in common with <code>otherSet</code></td></tr><tr><td><code>isStrictSuperset(of: seq) -&gt; Bool</code></td><td>like <code>isSuperset</code>, but <code>false</code> when equal</td></tr><tr><td><code>isSubset(of: seq) -&gt; Bool</code></td><td>determines if receiver is a subset of a sequence</td></tr><tr><td><code>isSuperset(of: seq) -&gt; Bool</code></td><td>determines if receiver is a superset of a sequence</td></tr><tr><td><code>remove(element)</code></td><td>deletes an element</td></tr><tr><td><code>subtracting(otherSet) -&gt; Set</code></td><td>returns new <code>Set</code> containing elements in receiver not also in another</td></tr><tr><td><code>symmetricDifference(otherSet) -&gt; Set</code></td><td>returns new <code>Set</code> containing elements in either <code>Set</code>, but not in both</td></tr><tr><td><code>union(otherSet) -&gt; Set</code></td><td>returns new <code>Set</code> that is union of receiver with another</td></tr></tbody></table><h3 id="dictionaries">Dictionaries</h3><p>Dictionaries are hash tables that hold key/value pairs. They can be created by listing key/value pairs in square brackets, separated by commas. Keys and values are separated by colons. While typically the keys are strings, they can be any type that implements the <code>Hashable</code> protocol.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// When the type can't be inferred, it must be specified.</span><br><span class="token comment">// The syntax for an empty Dictionary includes a colon.</span><br><span class="token keyword">var</span> pairs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Int</span> <span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment">// uses short form of the type</span><br><span class="token keyword">var</span> pairs<span class="token punctuation">:</span> <span class="token builtin">Dictionary</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment">// same as previous line; uses long form</span><br><span class="token keyword">var</span> pairs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">Int</span> <span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// same as previous lines</span><br><br><span class="token comment">// The type of fruitColors is inferred to be [String : String].</span><br><span class="token keyword">var</span> fruitColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"banana"</span><span class="token punctuation">:</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">:</span> <span class="token string">"orange"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>To set the value of a given key, use the subscript operator <code>[]</code> and an assignment.</p><pre class="language-swift"><code class="language-swift">fruitColors<span class="token punctuation">[</span><span class="token string">"strawberry"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"red"</span></code></pre><p>To get the value of a given key, use the subscript operator <code>[]</code> which returns an <code>Optional</code>:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> color <span class="token operator">=</span> fruitColors<span class="token punctuation">[</span><span class="token string">"banana"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Optional("yellow")</span></code></pre><p>To delete a key pair:</p><pre class="language-swift"><code class="language-swift">fruitColors<span class="token punctuation">[</span><span class="token string">"banana"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">nil</span><br>fruitColors<span class="token punctuation">.</span><span class="token function">removeValue</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> <span class="token string">"banana"</span><span class="token punctuation">)</span></code></pre><p>To iterate over the keys and values in a <code>Dictionary</code>, use a <code>for</code>/<code>in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token keyword">in</span> fruitColors <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> is <span class="token interpolation"><span class="token delimiter variable">\(</span>color<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To iterate over the keys in a <code>Dictionary</code>, use a <code>for</code>/<code>in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> name <span class="token keyword">in</span> fruitColors<span class="token punctuation">.</span>keys <span class="token punctuation">{</span> <span class="token comment">// can add .sorted()</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"name is <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To iterate over the values in a <code>Dictionary</code>, use a <code>for</code>/<code>in</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">for</span> color <span class="token keyword">in</span> fruitColors<span class="token punctuation">.</span>values <span class="token punctuation">{</span> <span class="token comment">// can add .sorted()</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"color is <span class="token interpolation"><span class="token delimiter variable">\(</span>color<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p><code>Dictionary</code> properties include the following:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>capacity</code></td><td>number of pairs that can be held without allocating more space</td></tr><tr><td><code>count</code></td><td>number of current elements</td></tr><tr><td><code>isEmpty</code></td><td><code>Bool</code> value indicating whether <code>count</code> is zero</td></tr><tr><td><code>keys</code></td><td><code>Keys</code> <code>Collection</code> of keys</td></tr><tr><td><code>values</code></td><td><code>Values</code> <code>MutableCollection</code> of values</td></tr></tbody></table><p><code>Dictionary</code> methods include, but are not limited to the following:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>allSatisfy((Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if every element satisfies a predicate; like JS <code>every</code></td></tr><tr><td><code>contains(where: (Element) -&gt; Bool) -&gt; Bool</code></td><td>determines if some element satisfies a predicate; like JS <code>some</code></td></tr><tr><td><code>filter((Element) -&gt; Bool) -&gt; Bool) -&gt; Dictionary</code></td><td>returns new <code>Dictionary</code> containing pairs that satisfy predicate</td></tr><tr><td><code>forEach((Element)) -&gt; Void)</code></td><td>alternate way to iterate over pairs; elements have <code>key</code> and <code>value</code> properties</td></tr><tr><td><code>map&lt;T&gt;((Element) -&gt; T) -&gt; [T]</code></td><td>returns <code>Array</code> of values computed from elements</td></tr><tr><td><code>mapValues((Value) -&gt; newValue) -&gt; Dictionary</code></td><td>returns new <code>Dictionary</code> with same keys but transformed values</td></tr><tr><td><code>removeAll()</code></td><td>removes all pairs</td></tr><tr><td><code>removeValue(forKey: key) -&gt; prevValue</code></td><td>removes pair with given key and returns previous value or <code>nil</code></td></tr><tr><td><code>sorted(by: (Element, Element) -&gt; Bool) =&gt; [Element]</code></td><td>returns <code>Array</code> of elements sorted using a comparator function</td></tr><tr><td><code>updateValue(newValue, forKey: key) -&gt; prevValue</code></td><td>sets value of given key and returns previous value or <code>nil</code></td></tr></tbody></table><p>Here are examples of using some of these methods.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> scoreDict <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Mark"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">"Tami"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">"Amanda"</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">"Jeremy"</span><span class="token punctuation">:</span> <span class="token number">17</span><span class="token punctuation">]</span><br><span class="token keyword">let</span> allOdd <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">allSatisfy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token number">0</span><span class="token punctuation">.</span>value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// false</span><br><span class="token keyword">let</span> someOdd <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span><span class="token punctuation">.</span>value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// true</span><br><span class="token keyword">let</span> odds <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token number">0</span><span class="token punctuation">.</span>value <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// includes Mark &amp; Jeremy elements</span><br><span class="token keyword">let</span> upperNames <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token number">0</span><span class="token punctuation">.</span>key<span class="token punctuation">.</span><span class="token function">uppercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// array of uppercase names</span><br><span class="token keyword">let</span> doubledScoresDict <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">mapValues</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// scoreDict w/ doubled scores</span><br><span class="token comment">//scoreDict.removeValue(forKey: "Mark")</span><br><span class="token keyword">let</span> <span class="token builtin">sorted</span> <span class="token operator">=</span> scoreDict<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span><span class="token punctuation">.</span>value <span class="token operator">></span> $<span class="token number">1</span><span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// descending</span></code></pre><h3 id="tuples">Tuples</h3><p>To define a tuple type, provide a list of elements types in parentheses. These can be named or unnamed.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">typealias</span> <span class="token builtin">MyUnnamedTuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">Bool</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> t1<span class="token punctuation">:</span> <span class="token builtin">MyUnnamedTuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">"Mark"</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span>t1<span class="token punctuation">.</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 19</span><br><br><span class="token keyword">typealias</span> <span class="token builtin">MyNamedTuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span>happy<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token punctuation">,</span> score<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> t2<span class="token punctuation">:</span> <span class="token builtin">MyNamedTuple</span> <span class="token operator">=</span> <span class="token punctuation">(</span>happy<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> score<span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Mark"</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span>t2<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token comment">// 19</span></code></pre><h2 id="variables">Variables</h2><p>Variables are declared with the <code>let</code> (immutable) and <code>var</code> (mutable) keywords. Variable names can be followed by a colon and a type. They can also be followed by <code>=</code> and an initial value. The type can be omitted if the desired type can be inferred from the initial value.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> name1<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">"Mark"</span> <span class="token comment">// type and initial value</span><br><br><span class="token keyword">let</span> name2 <span class="token operator">=</span> <span class="token string">"Mark"</span> <span class="token comment">// only value; String type is inferred</span><br><br><span class="token keyword">var</span> score1<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token comment">// only type; can't use until initialized</span><br>score1 <span class="token operator">=</span> <span class="token number">19</span> <span class="token comment">// initializes</span><br><br><span class="token keyword">var</span> score2 <span class="token operator">=</span> <span class="token number">19</span> <span class="token comment">// only value; Int type is inferred</span></code></pre><p>Multiple variables can be declared on the same line.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2.3</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token string">"test"</span><br><br><span class="token keyword">var</span> e<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token operator">?</span><span class="token punctuation">,</span> f<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token operator">?</span><span class="token punctuation">,</span> g<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token operator">?</span><span class="token punctuation">,</span> h<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span><br>e <span class="token operator">=</span> <span class="token number">1</span><br>f <span class="token operator">=</span> <span class="token number">2.3</span><br>g <span class="token operator">=</span> <span class="token boolean">true</span><br>h <span class="token operator">=</span> <span class="token string">"test"</span></code></pre><h2 id="optionals">Optionals</h2><p>Variables must be assigned a value before they are accessed unless they have an optional type indicated by a <code>?</code> after the type name. This allows the value to be <code>nil</code>.</p><p>There are several ways to extract the value from a variable or property with an optional type.</p><ul><li><p><code>if let value = myOptional { ... }</code></p><p>If the value is <code>nil</code> the block is not executed. If the value is not <code>nil</code>, it is assigned to the variable <code>value</code> and the block is executed.</p></li><li><p><code>let value = myOptionalObject?.someProperty;</code></p><p>This uses the optional chaining operator <code>?.</code>. If <code>myOptionalObject</code> is <code>nil</code> the <code>value</code> will be set to <code>nil</code>. Otherwise it will be set to the value of <code>someProperty</code> in the object. This operator can also precede method calls to avoid calling them if the receiver is <code>nil</code>.</p></li><li><p><code>let value = myDictionary[someKey] ?? defaultValue</code></p><p>This uses the nil-coalescing operator <code>??</code> to handle cases where a key is not found in a dictionary.</p></li><li><p>`guard let value = myOptional else { ... }</p><p>This uses a &quot;guard&quot; to assign the value of the optional to a variable if it is not <code>nil</code> or run the code in the <code>else</code> block if it is <code>nil</code>.</p></li><li><p><code>if myOptional != nil { let value = myOptional!; ... }</code></p><p>This uses the <code>!</code> to &quot;force unwrap&quot; the optional. If the <code>!</code> operator is applied to an optional set to <code>nil</code> the program will crash with a fatal error. It is recommended to never use this operator.</p></li></ul><p>Here are more examples of working with optionals.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token comment">// optional type</span><br><br><span class="token comment">// Tests for a value AND unwraps into another variable if not nil.</span><br><span class="token comment">// It then executes a block of code depending on whether the value was nil.</span><br><span class="token keyword">if</span> <span class="token keyword">let</span> msg <span class="token operator">=</span> message <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span> <span class="token comment">// doesn't print</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"no message"</span><span class="token punctuation">)</span> <span class="token comment">// does print</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Print the message if it is set, otherwise do nothing.</span><br><span class="token keyword">func</span> <span class="token function">printMessage</span><span class="token punctuation">(</span><span class="token number">_</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">guard</span> <span class="token keyword">let</span> msg <span class="token operator">=</span> message <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br>message <span class="token operator">=</span> <span class="token string">"Hello, World!"</span><br><span class="token comment">// This uses the "force unwrap" operator.</span><br><span class="token function">print</span><span class="token punctuation">(</span>message <span class="token operator">==</span> <span class="token constant">nil</span> <span class="token operator">?</span> <span class="token string">"no message"</span> <span class="token punctuation">:</span> message<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token comment">// "Hello, World!"</span><br><span class="token function">printMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">// "Hello, World!"</span><br><br>message <span class="token operator">=</span> <span class="token constant">nil</span><br><span class="token function">print</span><span class="token punctuation">(</span>message <span class="token operator">==</span> <span class="token constant">nil</span> <span class="token operator">?</span> <span class="token string">"no message"</span> <span class="token punctuation">:</span> message<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token comment">// "no message"</span><br><span class="token function">printMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token comment">// no output</span></code></pre><h2 id="control-structures">Control Structures</h2><p>Swift does not require parentheses around conditions in control structures. It does require the code to be executed to be in a block surrounded by curly braces.</p><h3 id="conditional-logic">Conditional Logic</h3><p>Conditional logic is implemented with the <code>if</code> statement that can optionally include <code>else if</code> and <code>else</code> parts. Curly braces are required around all code blocks, even if they only contain a single statement.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">if</span> score1 <span class="token operator">==</span> <span class="token number">21</span><span class="token punctuation">,</span> score2 <span class="token operator">&lt;=</span> <span class="token number">19</span> <span class="token punctuation">{</span> <span class="token comment">// same as score1 == 21 &amp;&amp; score2 &lt;= 19</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Player 1 has won by at least 2."</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> score1 <span class="token operator">></span> score2 <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Player 1 is leading."</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Player 1 is not leading."</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To compare an expression against multiple values, use a <code>switch</code> statement. The expression can have any kind of value including enums and collections such as tuples. Unlike in many other languages, after executing the statements in the first matching <code>case</code> execution does not fall through to the next <code>case</code>. No <code>break</code> statement is needed to prevent this. If falling through is desired, add a <code>fallthrough</code> statement at the end of a <code>case</code> block.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">switch</span> <span class="token function">computeScore</span><span class="token punctuation">(</span>player1<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> <span class="token number">21</span><span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Winner!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">case</span> <span class="token number">18</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">20</span><span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Very good hand."</span><span class="token punctuation">)</span><br>    <span class="token keyword">default</span><span class="token punctuation">:</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Will likely lose."</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>If the <code>default</code> case is omitted, there must be a <code>case</code> that matches every possible value of the expression (i.e. it must be exhaustive). If the value of the <code>switch</code> expression is an <code>enum</code>, there must be a <code>case</code> that matches each value of the <code>enum</code>.</p><h3 id="iteration">Iteration</h3><p>To iterate over all the elements of a sequence (such as an array), use a for-in loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Maisey"</span><span class="token punctuation">,</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> <span class="token string">"Comet"</span><span class="token punctuation">]</span><br><span class="token keyword">for</span> name <span class="token keyword">in</span> names <span class="token punctuation">{</span> <span class="token comment">// variable name does not need to be declared</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>To iterate while a condition is true, use a <code>while</code> loop which is top-tested.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">while</span> condition <span class="token punctuation">{</span><br>    statements<br><span class="token punctuation">}</span></code></pre><p>For a bottom-tested loop that always runs at least once, use a <code>repeat</code> loop.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">repeat</span> <span class="token punctuation">{</span><br>    statements<br><span class="token punctuation">}</span> <span class="token keyword">while</span> condition</code></pre><h2 id="structs">Structs</h2><p>Structs define named groups of properties and methods. By convention their names begin with an uppercase letter. They can optionally conform to protocols which are similar to interfaces in other languages.</p><p>Properties are declared with the <code>let</code> (immutable) and <code>var</code> (mutable) keywords, just like variables. Mutable properties can only be modified if the instance is also mutable (assigned to a <code>var</code>).</p><p>Immutable properties must be given a value when an instance is initialized and cannot be changed after that.</p><p>Here is an example of a simple struct definition.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Dog</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> age<span class="token punctuation">:</span> <span class="token builtin">Int</span><br><span class="token punctuation">}</span></code></pre><p>In structs that do not define an initializer (<code>init</code> method), a default memberwise initializer is provided. This has argument labels that match the property names and are in the order in which the properties are defined. No default memberwise initializer is provided for classes.</p><p>An instance of a struct or class is created by calling the struct name as a function, passing arguments required by an initializer. Note that unlike in many other languages, use a <code>new</code> keyword is not required.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// Create an instance using the provided memberwise initializer.</span><br><span class="token keyword">var</span> dog <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span>breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span> is a <span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>breed<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span> <span class="token comment">// Comet is a Whippet</span></code></pre><p>If all of the properties are optional or have a default value, a default initializer that takes no arguments is provided.</p><p>Structs are value types. This means that assigning one to a variable creates a copy rather than assigning a reference to the same instance.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> dog2 <span class="token operator">=</span> dog <span class="token comment">// dog2 is a copy of dog.</span><br>dog<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// This change doesn't affect dog2.</span><br><span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">,</span> dog2<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 2 1</span><br>```<br><br>A computed property <span class="token keyword">is</span> defined with a `<span class="token keyword">get</span>` function<br>that computes the value each time it <span class="token keyword">is</span> referenced<span class="token punctuation">.</span><br><span class="token builtin">It</span> can optionally define a `<span class="token keyword">set</span>` function<br>whose purpose <span class="token keyword">is</span> the change the values of properties used to<br>compute the value so the result will be a given value<span class="token punctuation">.</span><br><span class="token builtin">Typically</span> it doesn't make sense to define<br>the `<span class="token keyword">set</span>` function <span class="token keyword">for</span> a computed property<span class="token punctuation">.</span><br><br>A <span class="token keyword">lazy</span> property <span class="token keyword">is</span> similar to a computed property<span class="token punctuation">,</span><br>but its value <span class="token keyword">is</span> only computed the <span class="token builtin">first</span> time it <span class="token keyword">is</span> accessed<span class="token punctuation">.</span><br><span class="token builtin">This</span> <span class="token keyword">is</span> ideal <span class="token keyword">for</span> expensive computations that may not be accessed<span class="token punctuation">.</span><br><span class="token builtin">It</span> must be declared with `<span class="token keyword">var</span>` and<br>can be mutated after its initial value <span class="token keyword">is</span> computed<span class="token punctuation">.</span><br><span class="token builtin">Lazy</span> properties are not thread <span class="token keyword">safe</span> and will be computed again <span class="token keyword">in</span> each thread<span class="token punctuation">.</span><br><br><span class="token builtin">Methods</span> are defined with the `<span class="token keyword">func</span>` keyword<span class="token punctuation">.</span><br><span class="token builtin">They</span> can use the `<span class="token keyword">self</span>` keyword to refer the instance on which they are invoked<span class="token punctuation">.</span><br><span class="token builtin">Definitions</span> of `<span class="token keyword">struct</span>` methods that modify properties of the receiver must<br>begin with the `<span class="token keyword">mutating</span>` keyword to explicitly indicate that they <span class="token keyword">do</span> this<span class="token punctuation">.</span><br><br>```swift<br><span class="token keyword">import</span> <span class="token builtin">Foundation</span> <span class="token comment">// needed to use functions like sin, cos, and atan</span><br><span class="token comment">// Importing UIKit imports Foundation for you.</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Dog</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// has a default value; type is inferred to be Int</span><br><span class="token punctuation">}</span><br><br><span class="token comment">//var dog = Dog(breed: "Whippet", name: "Comet") // uses default value for age</span><br><span class="token keyword">var</span> dog <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span>breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span> is a <span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>age<span class="token delimiter variable">)</span></span> year old <span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>breed<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><br><span class="token keyword">var</span> dog2 <span class="token operator">=</span> dog<br>dog<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span><br><span class="token function">print</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>age<span class="token punctuation">,</span> dog2<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 2 1</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Point</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is a "type property".</span><br>    <span class="token comment">// Other languages refer to this as a "class property".</span><br>    <span class="token comment">// This is used to keep track of the largest y value</span><br>    <span class="token comment">// ever assigned to any instances of a Point struct.</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> maxY <span class="token operator">=</span> <span class="token operator">-</span><span class="token builtin">Double</span><span class="token punctuation">.</span>greatestFiniteMagnitude<br><br>    <span class="token comment">// This is a basic property.</span><br>    <span class="token keyword">var</span> x<span class="token punctuation">:</span> <span class="token builtin">Double</span><br><br>    <span class="token comment">// This property has a property observer.</span><br>    <span class="token keyword">var</span> y<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token keyword">willSet</span> <span class="token punctuation">{</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"y is about to change to <span class="token interpolation"><span class="token delimiter variable">\(</span>newValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">didSet</span> <span class="token punctuation">{</span><br>            <span class="token builtin">Point</span><span class="token punctuation">.</span>maxY <span class="token operator">=</span> <span class="token builtin">Double</span><span class="token punctuation">.</span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token builtin">Point</span><span class="token punctuation">.</span>maxY<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"y changed from <span class="token interpolation"><span class="token delimiter variable">\(</span>oldValue<span class="token delimiter variable">)</span></span> to <span class="token interpolation"><span class="token delimiter variable">\(</span>y<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// A "memberwise initializer" is automatically supplied.</span><br>    <span class="token comment">// Writing this yourself enables doing more</span><br>    <span class="token comment">// than just assigning property values.</span><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// self. is only needed here because there is a</span><br>        <span class="token comment">// parameter name with the same name as the property being set.</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<br>        <span class="token builtin">Point</span><span class="token punctuation">.</span>maxY <span class="token operator">=</span> <span class="token builtin">Double</span><span class="token punctuation">.</span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token builtin">Point</span><span class="token punctuation">.</span>maxY<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// This is a basic computed property.</span><br>    <span class="token comment">// Its value is computed by a function every time it is referenced.</span><br>    <span class="token keyword">var</span> distanceFromOrigin<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// This is a computed property that uses the full syntax</span><br>    <span class="token comment">// that supports defining "get" and "set" functions.</span><br>    <span class="token keyword">var</span> distanceFromOrigin2<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token comment">//return (x*x + y*y).squareRoot()</span><br>            <span class="token comment">// If the body is a single expression, return can be omitted.</span><br>            <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token comment">// This moves the point along its current angle from the origin</span><br>        <span class="token comment">// to the new distance.</span><br>        <span class="token comment">/*<br>        set(distance) {<br>            let angle = atan(y / x)<br>            x = distance * cos(angle)<br>            y = distance * sin(angle)<br>        }<br>        */</span><br>        <span class="token comment">// If no name is specified for the new value, it defaults to newValue.</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>y <span class="token operator">/</span> x<span class="token punctuation">)</span><br>            x <span class="token operator">=</span> newValue <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><br>            y <span class="token operator">=</span> newValue <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// This is a lazy property.</span><br>    <span class="token comment">// Its value is computed by a function only the first time it is referenced.</span><br>    <span class="token keyword">lazy</span> <span class="token keyword">var</span> initialDistance<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"computing lazy property"</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// note that the function is being called</span><br><br>    <span class="token comment">// This is an instance method.</span><br>    <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"(<span class="token interpolation"><span class="token delimiter variable">\(</span>x<span class="token delimiter variable">)</span></span>, <span class="token interpolation"><span class="token delimiter variable">\(</span>y<span class="token delimiter variable">)</span></span>)"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// This is a mutating instance method.</span><br>    <span class="token comment">// In a class, var properties can be modified in instance methods.</span><br>    <span class="token comment">// In a struct they cannot unless the method is declared to be "mutating".</span><br>    <span class="token comment">// The underscores mean that this method can be called</span><br>    <span class="token comment">// with raw values, not including argument labels.</span><br>    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">_</span> dx<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> <span class="token number">_</span> dy<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        x <span class="token operator">+</span><span class="token operator">=</span> dx<br>        y <span class="token operator">+</span><span class="token operator">=</span> dy<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> pt <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// creates an instance</span><br><span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">.</span>distanceFromOrigin<span class="token punctuation">)</span> <span class="token comment">// invokes computed property get function; 5</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"initial distance ="</span><span class="token punctuation">,</span> pt<span class="token punctuation">.</span>initialDistance<span class="token punctuation">)</span> <span class="token comment">// 5</span><br>pt<span class="token punctuation">.</span>distanceFromOrigin <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// invokes computed property set function</span><br>pt<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// invokes instance method; (6, 8)</span><br><span class="token function">print</span><span class="token punctuation">(</span>pt<span class="token punctuation">.</span>distanceFromOrigin2<span class="token punctuation">)</span> <span class="token comment">// invokes computed property; 10</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"initial distance ="</span><span class="token punctuation">,</span> pt<span class="token punctuation">.</span>initialDistance<span class="token punctuation">)</span> <span class="token comment">// 5</span><br><br>pt<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// invokes a property observer</span><br><br>pt<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (6, 2)</span><br>pt<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><br>pt<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (2.0, 5.0)</span><br>pt<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"initial distance ="</span><span class="token punctuation">,</span> pt<span class="token punctuation">.</span>initialDistance<span class="token punctuation">)</span> <span class="token comment">// still 5</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token builtin">Point</span><span class="token punctuation">.</span>maxY<span class="token punctuation">)</span> <span class="token comment">// 8</span><br><span class="token keyword">let</span> pt2 <span class="token operator">=</span> <span class="token function">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// creates a second instance</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token builtin">Point</span><span class="token punctuation">.</span>maxY<span class="token punctuation">)</span> <span class="token comment">// 9</span><br>```<br><br><span class="token builtin">Swift</span> supports <span class="token keyword">optional</span> chaining so chains of references to <span class="token keyword">optional</span> values<br><span class="token keyword">do</span> not have to check <span class="token keyword">for</span> <span class="token constant">nil</span> values<span class="token punctuation">.</span><br><span class="token builtin">The</span> result <span class="token keyword">is</span> either an `<span class="token builtin">Optional</span>` value or `<span class="token constant">nil</span>`<span class="token punctuation">.</span><br><br>```swift<br><span class="token keyword">struct</span> <span class="token builtin">Address</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> street<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> city<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> state<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> zip<span class="token punctuation">:</span> <span class="token builtin">String</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> address<span class="token punctuation">:</span> <span class="token builtin">Address</span><span class="token operator">?</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Address</span><span class="token punctuation">(</span>street<span class="token punctuation">:</span> <span class="token string">"123 Some Lane"</span><span class="token punctuation">,</span> city<span class="token punctuation">:</span> <span class="token string">"Somewhere"</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token string">"MO"</span><span class="token punctuation">,</span> zip<span class="token punctuation">:</span> <span class="token string">"12345"</span><span class="token punctuation">)</span><br><span class="token keyword">var</span> p<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Mark"</span><span class="token punctuation">,</span> address<span class="token punctuation">:</span> a<span class="token punctuation">)</span><br><br><span class="token function">print</span><span class="token punctuation">(</span>p<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>zip <span class="token keyword">as</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token comment">// Optional(12345)</span><br><br><span class="token keyword">if</span> <span class="token keyword">let</span> zip <span class="token operator">=</span> p<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>zip <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>zip<span class="token punctuation">)</span> <span class="token comment">// 12345</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"no zip"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br>p<span class="token operator">!</span><span class="token punctuation">.</span>address <span class="token operator">=</span> <span class="token constant">nil</span><br><span class="token function">print</span><span class="token punctuation">(</span>p<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>zip <span class="token keyword">as</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token comment">// nil</span><br><br>p <span class="token operator">=</span> <span class="token constant">nil</span><br><span class="token function">print</span><span class="token punctuation">(</span>p<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>zip <span class="token keyword">as</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token comment">// nil</span><br><span class="token function">print</span><span class="token punctuation">(</span>p<span class="token operator">?</span><span class="token punctuation">.</span>address<span class="token operator">?</span><span class="token punctuation">.</span>zip <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">"no zip"</span><span class="token punctuation">)</span> <span class="token comment">// alternate way to handle optional; "no zip"</span><br>```<br><br>## <span class="token builtin">Classes</span><br><br><span class="token builtin">Classes</span> are similar to structs <span class="token keyword">in</span> many ways<span class="token punctuation">.</span><br><span class="token builtin">By</span> convention their names begin with an uppercase letter<span class="token punctuation">.</span><br><br><span class="token builtin">Classes</span> can <span class="token keyword">do</span> the following things that structs cannot<span class="token punctuation">.</span><br><br><span class="token operator">-</span> refer to instances by reference rather than making a copy<br><span class="token operator">-</span> inherit properties and methods from another<br><span class="token operator">-</span> use type casting to determine <span class="token keyword">if</span> an object <span class="token keyword">is</span> an instance at runtime<br><span class="token operator">-</span> define a <span class="token string">"deinitializer"</span> to perform cleanup when an instance <span class="token keyword">is</span> destroyed<br><br><span class="token builtin">Classes</span> are reference types<span class="token punctuation">.</span> <span class="token builtin">This</span> means that assigning one to a variable<br>assigns a reference to the same instance rather than making a copy<span class="token punctuation">.</span><br><br><span class="token builtin">To</span> define a <span class="token keyword">class</span><span class="token punctuation">,</span> use the `<span class="token keyword">class</span>` keyword<span class="token punctuation">.</span><br>A <span class="token keyword">class</span> <span class="token class-name">can</span> have<span class="token punctuation">:</span><br><br><span class="token operator">-</span> one or more initializers <span class="token punctuation">(</span>named `<span class="token keyword">init</span>`<span class="token punctuation">)</span><br><span class="token operator">-</span> <span class="token keyword">class</span><span class="token operator">-</span>level properties declared with `<span class="token keyword">static</span>`<br><span class="token operator">-</span> <span class="token keyword">class</span><span class="token operator">-</span>level methods declared with `<span class="token keyword">static</span>`<br><span class="token operator">-</span> instance<span class="token operator">-</span>level properties<br><span class="token operator">-</span> instance<span class="token operator">-</span>level methods<br><span class="token operator">-</span> a superclass<br><br><span class="token builtin">Why</span> don't classes <span class="token keyword">get</span> a <span class="token keyword">default</span> memberwise initializer like structs<span class="token operator">?</span><br><br><span class="token builtin">Definitions</span> of `<span class="token keyword">class</span>` methods that modify properties of the receiver<br>cannot begin with `<span class="token keyword">mutating</span>` keyword<span class="token punctuation">.</span><br><span class="token builtin">That</span> <span class="token keyword">is</span> only applied to `<span class="token keyword">struct</span>` and `<span class="token keyword">extension</span>` methods<span class="token punctuation">.</span><br><br><span class="token builtin">Typically</span> structs are used instead of classes<br>the need <span class="token keyword">for</span> inheritance <span class="token keyword">is</span> not anticipated<span class="token punctuation">.</span><br><br><span class="token builtin">Let's</span> re<span class="token operator">-</span>implement the <span class="token string">"Point"</span> <span class="token keyword">struct</span> <span class="token keyword">as</span> a <span class="token keyword">class</span> <span class="token class-name">named</span> <span class="token string">"Point2"</span><span class="token punctuation">.</span><br><br>```swift<br><span class="token keyword">class</span> <span class="token class-name">Point2</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> maxY <span class="token operator">=</span> <span class="token operator">-</span><span class="token builtin">Double</span><span class="token punctuation">.</span>greatestFiniteMagnitude<br>    <span class="token keyword">var</span> x<span class="token punctuation">:</span> <span class="token builtin">Double</span><br>    <span class="token keyword">var</span> y<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token keyword">willSet</span> <span class="token punctuation">{</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"y is about to change to <span class="token interpolation"><span class="token delimiter variable">\(</span>newValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">didSet</span> <span class="token punctuation">{</span><br>            <span class="token builtin">Point2</span><span class="token punctuation">.</span>maxY <span class="token operator">=</span> <span class="token builtin">Double</span><span class="token punctuation">.</span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token builtin">Point2</span><span class="token punctuation">.</span>maxY<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"y changed from <span class="token interpolation"><span class="token delimiter variable">\(</span>oldValue<span class="token delimiter variable">)</span></span> to <span class="token interpolation"><span class="token delimiter variable">\(</span>y<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<br>        <span class="token builtin">Point2</span><span class="token punctuation">.</span>maxY <span class="token operator">=</span> <span class="token builtin">Double</span><span class="token punctuation">.</span><span class="token function">maximum</span><span class="token punctuation">(</span><span class="token builtin">Point2</span><span class="token punctuation">.</span>maxY<span class="token punctuation">,</span> y<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> distanceFromOrigin<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> distanceFromOrigin2<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> angle <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>y <span class="token operator">/</span> x<span class="token punctuation">)</span><br>            x <span class="token operator">=</span> newValue <span class="token operator">*</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><br>            y <span class="token operator">=</span> newValue <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">lazy</span> <span class="token keyword">var</span> initialDistance<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token punctuation">{</span><br>        <span class="token punctuation">(</span>x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">squareRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// note that the function is being called</span><br><br>    <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"(<span class="token interpolation"><span class="token delimiter variable">\(</span>x<span class="token delimiter variable">)</span></span>, <span class="token interpolation"><span class="token delimiter variable">\(</span>y<span class="token delimiter variable">)</span></span>)"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// Note that the "mutating" keyword was removed</span><br>    <span class="token comment">// because that is only used on struct methods.</span><br>    <span class="token keyword">func</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">_</span> dx<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">,</span> <span class="token number">_</span> dy<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        x <span class="token operator">+</span><span class="token operator">=</span> dx<br>        y <span class="token operator">+</span><span class="token operator">=</span> dy<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br>```<br><br><span class="token builtin">To</span> implement a <span class="token keyword">class</span> <span class="token punctuation">(</span>subclass<span class="token punctuation">)</span> that inherits<br>the properties and methods of another <span class="token keyword">class</span> <span class="token punctuation">(</span>superclass<span class="token punctuation">)</span><span class="token punctuation">,</span><br>add a colon after the subclass name followed by the superclass name<span class="token punctuation">.</span><br><br><span class="token builtin">Methods</span> <span class="token keyword">in</span> a subclass that <span class="token keyword">override</span> methods <span class="token keyword">in</span> the superclass<br>must begin with the `<span class="token keyword">override</span>` keyword<span class="token punctuation">.</span><br><br>```swift<br><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> is a person."</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Programmer</span> <span class="token punctuation">:</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> languages<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> languages<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Must initialize all properties of this class</span><br>        <span class="token comment">// before calling super.init.</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>languages <span class="token operator">=</span> languages<br><br>        <span class="token comment">// The "super" keyword is used to call methods in the superclass.</span><br>        <span class="token comment">// Subclasses must have an "init" method that</span><br>        <span class="token comment">// calls an "init" method of the superclass.</span><br>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// The "override" keyword is required to</span><br>    <span class="token comment">// override methods in the superclass.</span><br>    <span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> langs <span class="token operator">=</span> languages<span class="token punctuation">.</span><span class="token function">joined</span><span class="token punctuation">(</span>separator<span class="token punctuation">:</span> <span class="token string">" &amp; "</span><span class="token punctuation">)</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> is a programmer that knows <span class="token interpolation"><span class="token delimiter variable">\(</span>langs<span class="token delimiter variable">)</span></span>."</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> mark <span class="token operator">=</span> <span class="token function">Programmer</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Mark"</span><span class="token punctuation">,</span> languages<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"JavaScript"</span><span class="token punctuation">,</span> <span class="token string">"Swift"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>mark<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Mark is a programmer that knows JavaScript &amp; Swift.</span><br>```<br><br>## <span class="token builtin">Initializers</span><br><br><span class="token builtin">Structs</span> and classes can define `<span class="token keyword">init</span>` methods<span class="token punctuation">.</span><br><span class="token builtin">These</span> must initialize <span class="token constant">ALL</span> of non<span class="token operator">-</span><span class="token keyword">optional</span> properties<br>that <span class="token keyword">do</span> not have a specified <span class="token keyword">default</span> value<span class="token punctuation">.</span><br><span class="token builtin">These</span> are referred to <span class="token keyword">as</span> <span class="token string">"designated initializers"</span><span class="token punctuation">.</span><br><span class="token builtin">Designated</span> initializers <span class="token keyword">for</span> classes<br>must also initialize all inherited properties<span class="token punctuation">.</span><br><br><span class="token builtin">As</span> seen earlier<span class="token punctuation">,</span> structs provided a <span class="token keyword">default</span> initializer<span class="token punctuation">.</span><br><span class="token builtin">Structs</span> are not <span class="token keyword">required</span> to explicitly defining more<span class="token punctuation">.</span><br><span class="token builtin">Classes</span> <span class="token keyword">do</span> not provide a <span class="token keyword">default</span> initializer<br>and at least one must be explicitly defined<span class="token punctuation">.</span><br><br><span class="token builtin">There</span> can be more than one `<span class="token keyword">init</span>` method <span class="token keyword">as</span> long <span class="token keyword">as</span> each has a<br>different <span class="token keyword">set</span> of argument labels and initializes all of the properties<span class="token punctuation">.</span><br><span class="token builtin">Classes</span> typically only define one designated initializer<span class="token punctuation">.</span><br><br><span class="token builtin">If</span> a <span class="token keyword">class</span> <span class="token class-name">inherits</span> from another<span class="token punctuation">,</span><br>its designated initializers must call one <span class="token keyword">in</span> its immediate superclass<span class="token punctuation">.</span><br><span class="token builtin">If</span> an initializer has the same signature <span class="token keyword">as</span> one <span class="token keyword">in</span> the superclass<span class="token punctuation">,</span><br>it must indicate that it <span class="token keyword">is</span> overriding the one <span class="token keyword">in</span> the superclass<br>by adding the `<span class="token keyword">override</span>` keyword before `<span class="token keyword">init</span>`<span class="token punctuation">.</span><br><br><span class="token builtin">Just</span> like with functions and other kinds of methods<span class="token punctuation">,</span><br>using `<span class="token number">_</span>` <span class="token keyword">for</span> an argument label allows its value to be passed without a label<span class="token punctuation">.</span><br><br><span class="token string">"Convenience initializers"</span> are `<span class="token keyword">init</span>` methods that invoke another<br>designated or <span class="token keyword">convenience</span> initializer <span class="token keyword">in</span> the same <span class="token keyword">struct</span> or <span class="token keyword">class</span><span class="token punctuation">.</span><br><span class="token builtin">These</span> must be labeled with the `<span class="token keyword">convenience</span>` keyword<span class="token punctuation">.</span><br><span class="token builtin">Why</span> doesn't <span class="token builtin">Swift</span> allow any `<span class="token keyword">init</span>` method to <span class="token keyword">do</span> this<span class="token operator">?</span><br><span class="token builtin">Congratulations</span> <span class="token builtin">Swift</span> <span class="token keyword">for</span> having what may be<br>the longest keyword <span class="token keyword">in</span> any programming language<span class="token operator">!</span><br><br><span class="token string">"Failable initializers"</span> are `<span class="token keyword">init</span><span class="token operator">?</span>` methods that can <span class="token keyword">return</span> `<span class="token constant">nil</span>`<br>to prevent an instance from being created<br><span class="token keyword">if</span> the supplied arguments are deemed invalid<span class="token punctuation">.</span><br><span class="token builtin">An</span> <span class="token keyword">optional</span> value <span class="token keyword">is</span> returned when an instance <span class="token keyword">is</span> created<br>using a failable initializer<span class="token punctuation">.</span><br><span class="token builtin">As</span> with any <span class="token keyword">optional</span> value<span class="token punctuation">,</span> callers must<br>test and unwrap the value <span class="token keyword">in</span> order to use it<span class="token punctuation">.</span><br><br><span class="token builtin">Deinitializers</span> are methods named `<span class="token keyword">deinit</span>`<span class="token punctuation">,</span><br><span class="token builtin">If</span> a <span class="token keyword">struct</span> or <span class="token keyword">class</span> <span class="token class-name">defines</span> this method<span class="token punctuation">,</span><br>it will be called when any instance <span class="token keyword">is</span> destroyed<span class="token punctuation">.</span><br><span class="token builtin">It</span> <span class="token keyword">is</span> used to perform cleanup<span class="token punctuation">.</span><br><br>I have two issues with the method name `<span class="token keyword">deinit</span>`<span class="token punctuation">.</span><br><span class="token builtin">First</span><span class="token punctuation">,</span> <span class="token string">"deinitialize"</span> <span class="token keyword">is</span> not a word<span class="token punctuation">.</span><br><span class="token builtin">Second</span><span class="token punctuation">,</span> the method doesn't necessarily only<br>clean up after actions taken <span class="token keyword">in</span> an initializer<span class="token punctuation">.</span><br><span class="token builtin">It</span> can perform cleanup of actions taken by any method<span class="token punctuation">.</span><br>A better name would have been <span class="token string">"cleanup"</span> or <span class="token string">"onDestroy"</span><span class="token punctuation">.</span><br><br>## <span class="token builtin">Optional</span> <span class="token builtin">Properties</span><br><br><span class="token builtin">Properties</span> of structs and classes whose values are allowed to be `<span class="token constant">nil</span>`<br>should have a `<span class="token operator">?</span>` at end of their type<span class="token punctuation">.</span><br><span class="token builtin">Just</span> like with <span class="token keyword">optional</span> variables<span class="token punctuation">,</span> they must be unwrapped to access their value<span class="token punctuation">.</span><br><br>## <span class="token builtin">Access</span> <span class="token builtin">Control</span><br><br><span class="token builtin">Swift</span> supports many keywords <span class="token keyword">for</span> controlling access<br>to values like functions<span class="token punctuation">,</span> structs<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> and<br>and the properties and methods of structs and classes<span class="token punctuation">.</span><br><span class="token builtin">These</span> keywords appear at the beginning of declarations <span class="token keyword">for</span> these kinds of values<span class="token punctuation">.</span><br><br><span class="token builtin">The</span> access control keywords include<span class="token punctuation">:</span><br><br><span class="token operator">-</span> `open`<span class="token punctuation">:</span> access from anywhere<span class="token punctuation">;</span> only <span class="token keyword">for</span> classes and <span class="token keyword">class</span> <span class="token class-name">members</span><br><span class="token operator">-</span> `<span class="token keyword">public</span>`<span class="token punctuation">:</span> same <span class="token keyword">as</span> `open` except cannot be subclasses or overridden<br><span class="token operator">-</span> `<span class="token keyword">internal</span>`<span class="token punctuation">:</span> access from any source <span class="token keyword">in</span> <span class="token keyword">in</span> the same module <span class="token punctuation">(</span><span class="token keyword">default</span> level<span class="token punctuation">)</span><br><span class="token operator">-</span> `fileprivate`<span class="token punctuation">:</span> access from code <span class="token keyword">in</span> the same source file<br><span class="token operator">-</span> `<span class="token keyword">private</span>`<span class="token punctuation">:</span> access within enclosing declaration <span class="token punctuation">(</span>such <span class="token keyword">as</span> a <span class="token keyword">struct</span> or <span class="token keyword">class</span><span class="token punctuation">)</span><br><br>## <span class="token builtin">Ranges</span><br><br><span class="token builtin">Swift</span> supports four kinds of ranges<span class="token punctuation">.</span><br><br><span class="token operator">-</span> `<span class="token builtin">Range</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>end`<br><br>   <span class="token builtin">This</span> <span class="token keyword">is</span> half<span class="token operator">-</span>open<span class="token punctuation">,</span> meaning that the end index <span class="token keyword">is</span> not included<span class="token punctuation">.</span><br>   `<span class="token builtin">CountableRange</span>` <span class="token keyword">is</span> a <span class="token keyword">typealias</span> of this type<span class="token punctuation">.</span><br><br><span class="token operator">-</span> `<span class="token builtin">ClosedRange</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>end`<br>   <span class="token builtin">This</span> <span class="token keyword">is</span> a closed<span class="token punctuation">,</span> meaning that the end index <span class="token keyword">is</span> included<span class="token punctuation">.</span><br>   `<span class="token builtin">CountableClosedRange</span>` <span class="token keyword">is</span> a <span class="token keyword">typealias</span> of this type<span class="token punctuation">.</span><br><br><span class="token operator">-</span> `<span class="token builtin">PartialRangeFrom</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>`<br><br>  <span class="token builtin">This</span> <span class="token keyword">is</span> one<span class="token operator">-</span>sided<span class="token punctuation">,</span><br>  meaning that the end index <span class="token keyword">is</span> not specified<span class="token punctuation">.</span><br><br><span class="token operator">-</span> `<span class="token builtin">PartialRangeUpTo</span>`<span class="token punctuation">:</span> `<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>end`<br>  <span class="token builtin">This</span> <span class="token keyword">is</span> one<span class="token operator">-</span>sided at the end<span class="token punctuation">,</span><br>  meaning that the start index <span class="token keyword">is</span> not specified<span class="token punctuation">.</span><br><br><span class="token builtin">There</span> are many uses of ranges<span class="token punctuation">,</span> including<span class="token punctuation">:</span><br><br><span class="token operator">-</span> iterating over a range of values<br><span class="token operator">-</span> checking whether a value <span class="token keyword">is</span> <span class="token keyword">in</span> a range<br><span class="token operator">-</span> extracting a subset of data from a collection<br><span class="token operator">-</span> modifying a subset of a collection<br><br>## <span class="token builtin">Extensions</span><br><br><span class="token builtin">Extensions</span> add functionality to structs<span class="token punctuation">,</span> classes<span class="token punctuation">,</span> enums<span class="token punctuation">,</span> and protocols<span class="token punctuation">.</span><br><span class="token builtin">The</span> functionality that can be added includes<span class="token punctuation">:</span><br><br><span class="token operator">-</span> computed type and instance properties<br><span class="token operator">-</span> initializers<br><span class="token operator">-</span> type and instance methods<br><span class="token operator">-</span> conformance to a <span class="token keyword">protocol</span><br><br><span class="token builtin">Extensions</span> cannot add regular properties <span class="token punctuation">(</span>a<span class="token punctuation">.</span>k<span class="token punctuation">.</span>a stored properties<span class="token punctuation">)</span><span class="token punctuation">.</span><br><br><span class="token builtin">Definitions</span> of `<span class="token keyword">extension</span>` methods that modify properties of the receiver must<br>begin with the `<span class="token keyword">mutating</span>` keyword to explicitly indicate that they <span class="token keyword">do</span> this<span class="token punctuation">.</span><br><br><span class="token builtin">Strings</span> <span class="token keyword">in</span> <span class="token builtin">Swift</span> are notoriously difficult to work with<br>because indexes to characters within them must be specified<br>using the type `<span class="token builtin">String</span><span class="token punctuation">.</span><span class="token builtin">Index</span>` instead of `<span class="token builtin">Int</span>`<span class="token punctuation">.</span><br><span class="token builtin">It</span> <span class="token keyword">is</span> common to use an <span class="token keyword">extension</span> to the `<span class="token builtin">String</span>` <span class="token keyword">class</span><br><span class="token class-name">to</span> add support <span class="token keyword">for</span> `<span class="token builtin">Int</span>` indexes to the <span class="token keyword">subscript</span> <span class="token keyword">operator</span><span class="token punctuation">.</span><br><span class="token builtin">Here</span> <span class="token keyword">is</span> an implementation of this idea<span class="token punctuation">.</span><br><br><span class="token builtin">When</span> overriding the <span class="token keyword">subscript</span> <span class="token keyword">operator</span><span class="token punctuation">,</span><br>five argument types should be supported<span class="token punctuation">.</span><br><br><span class="token operator">-</span> single index<span class="token punctuation">:</span> `start`<br><span class="token operator">-</span> `<span class="token builtin">Range</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>end`<br><span class="token operator">-</span> `<span class="token builtin">ClosedRange</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>end`<br><span class="token operator">-</span> `<span class="token builtin">PartialRangeFrom</span>`<span class="token punctuation">:</span> `start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>`<br><span class="token operator">-</span> `<span class="token builtin">PartialRangeUpTo</span>`<span class="token punctuation">:</span> `<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>end`<br><br>```swift<br><span class="token keyword">public</span> <span class="token keyword">extension</span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Handles negative indexes by counting from end of string.</span><br>    <span class="token keyword">func</span> <span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token number">_</span> i<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Int</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> <span class="token builtin">count</span> <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span><br>        <span class="token keyword">var</span> offset <span class="token operator">=</span> i <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">?</span> i <span class="token punctuation">:</span> i <span class="token operator">+</span> <span class="token builtin">count</span><br>        offset <span class="token operator">=</span> offset <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> offset <span class="token operator">></span> <span class="token builtin">count</span> <span class="token operator">?</span> <span class="token builtin">count</span> <span class="token punctuation">:</span> offset<br>        <span class="token keyword">return</span> offset<br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// single index</span><br>    <span class="token keyword">subscript</span> <span class="token punctuation">(</span><span class="token number">_</span> i<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> offset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><br>            <span class="token keyword">if</span> offset <span class="token operator">>=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">""</span> <span class="token punctuation">}</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> offset<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> offset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> offset<span class="token punctuation">)</span><br>            <span class="token function">replaceSubrange</span><span class="token punctuation">(</span>idx<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>idx<span class="token punctuation">,</span> with<span class="token punctuation">:</span> newValue<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// start..&lt;end</span><br>    <span class="token keyword">subscript</span> <span class="token punctuation">(</span><span class="token number">_</span> r<span class="token punctuation">:</span> <span class="token builtin">Range</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> si <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> ei <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>si<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset <span class="token operator">-</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">[</span>si<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>ei<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> si <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> ei <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>si<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset <span class="token operator">-</span> startOffset<span class="token punctuation">)</span><br>            <span class="token function">replaceSubrange</span><span class="token punctuation">(</span>si<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>ei<span class="token punctuation">,</span> with<span class="token punctuation">:</span> newValue<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// start...end</span><br>    <span class="token keyword">subscript</span> <span class="token punctuation">(</span><span class="token number">_</span> r<span class="token punctuation">:</span> <span class="token builtin">ClosedRange</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">var</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">if</span> endOffset <span class="token operator">>=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span> endOffset <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>            <span class="token keyword">let</span> si <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> ei <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>si<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset <span class="token operator">-</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">[</span>si<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>ei<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">var</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">if</span> endOffset <span class="token operator">>=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span> endOffset <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>            <span class="token keyword">let</span> si <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> ei <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span>si<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset <span class="token operator">-</span> startOffset<span class="token punctuation">)</span><br>            <span class="token function">replaceSubrange</span><span class="token punctuation">(</span>si<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>ei<span class="token punctuation">,</span> with<span class="token punctuation">:</span> newValue<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// start...</span><br>    <span class="token keyword">subscript</span> <span class="token punctuation">(</span><span class="token number">_</span> r<span class="token punctuation">:</span> <span class="token builtin">PartialRangeFrom</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">[</span>idx<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> startOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>lowerBound<span class="token punctuation">)</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> startOffset<span class="token punctuation">)</span><br>            <span class="token function">replaceSubrange</span><span class="token punctuation">(</span>idx<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> with<span class="token punctuation">:</span> newValue<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// ..&lt;end</span><br>    <span class="token keyword">subscript</span> <span class="token punctuation">(</span><span class="token number">_</span> r<span class="token punctuation">:</span> <span class="token builtin">PartialRangeUpTo</span><span class="token operator">&lt;</span><span class="token builtin">Int</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span><br>            <span class="token keyword">var</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">if</span> endOffset <span class="token operator">>=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span> endOffset <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset<span class="token punctuation">)</span><br>            <span class="token keyword">return</span> <span class="token function">String</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>idx<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span><br>            <span class="token keyword">var</span> endOffset <span class="token operator">=</span> <span class="token function">getOffset</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>upperBound<span class="token punctuation">)</span><br>            <span class="token keyword">if</span> endOffset <span class="token operator">>=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token builtin">count</span> <span class="token punctuation">{</span> endOffset <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>            <span class="token keyword">let</span> idx <span class="token operator">=</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token keyword">self</span><span class="token punctuation">.</span>startIndex<span class="token punctuation">,</span> offsetBy<span class="token punctuation">:</span> endOffset<span class="token punctuation">)</span><br>            <span class="token function">replaceSubrange</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>idx<span class="token punctuation">,</span> with<span class="token punctuation">:</span> newValue<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// using two Int arguments instead of a range</span><br>    <span class="token keyword">func</span> <span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">_</span> start<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> end<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">String</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token keyword">self</span><span class="token punctuation">[</span>start<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>end<span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">"Mark"</span><br><br><span class="token comment">// Positive indexes</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"ar"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"a"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ar"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ar"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ark"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"Mar"</span><span class="token punctuation">)</span><br><br><span class="token comment">// Negative indexes</span><br><span class="token comment">// These must be wrapped in parentheses or</span><br><span class="token comment">// separated from the range operator by a space.</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"r"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ar"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ar"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ark"</span><span class="token punctuation">)</span> <span class="token comment">// parens work, but a space doesn't</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"Mar"</span><span class="token punctuation">)</span> <span class="token comment">// parens work, but a space doesn't</span><br><br><span class="token comment">// Handling indexes that are out of range</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"ark"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ark"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"ark"</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"Mark"</span><span class="token punctuation">)</span><br><br><span class="token comment">// Setting substrings</span><br>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"o"</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token string">"Mork"</span><span class="token punctuation">)</span><br>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"as"</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token string">"Mask"</span><span class="token punctuation">)</span><br>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"il"</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token string">"Milk"</span><span class="token punctuation">)</span><br>text<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"eet"</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token string">"Meet"</span><span class="token punctuation">)</span><br>text<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Goa"</span><br><span class="token function">assert</span><span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token string">"Goat"</span><span class="token punctuation">)</span><br>```<br><br>## <span class="token builtin">Tools</span><br><br><span class="token constant">TODO</span><span class="token punctuation">:</span> <span class="token builtin">Is</span> there an equivalent of <span class="token builtin">ESLint</span> <span class="token keyword">for</span> <span class="token builtin">Swift</span><span class="token operator">?</span><br><br><span class="token builtin">To</span> format <span class="token builtin">Swift</span> code <span class="token keyword">in</span> <span class="token builtin">Xcode</span><span class="token punctuation">,</span> select the lines to be formatted <span class="token punctuation">(</span>cmd<span class="token operator">-</span>a <span class="token keyword">for</span> all<span class="token punctuation">)</span><br>and press ctrl<span class="token operator">-</span>i which <span class="token keyword">is</span> the keyboard shortcut<br><span class="token keyword">for</span> <span class="token builtin">Editor</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token builtin">Structure</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token builtin">Re</span><span class="token operator">-</span><span class="token builtin">Indent</span><span class="token punctuation">.</span><br><br><span class="token builtin">Some</span> options <span class="token keyword">for</span> <span class="token builtin">Swift</span> code formatting are<br><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://github.com/nicklockwood/SwiftFormat?v=1.0.18"</span> rel<span class="token operator">=</span><span class="token string">"noopener"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">></span><span class="token builtin">SwiftFormat</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><br>and <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://github.com/apple/swift-format?v=1.0.18"</span> rel<span class="token operator">=</span><span class="token string">"noopener"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">></span>swift<span class="token operator">-</span>format<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><br><br><span class="token builtin">To</span> install <span class="token builtin">SwiftFormat</span><span class="token punctuation">,</span> enter `brew install swiftformat`<span class="token punctuation">.</span><br><span class="token builtin">To</span> format a `<span class="token punctuation">.</span>swift` file<span class="token punctuation">,</span> enter `swiftformat file<span class="token operator">-</span>name<span class="token punctuation">.</span>swift`<span class="token punctuation">.</span><br><span class="token builtin">To</span> format all the `<span class="token punctuation">.</span>swift` files <span class="token keyword">in</span> the current directory<span class="token punctuation">,</span><br>enter `swiftformat <span class="token operator">*</span><span class="token punctuation">.</span>swift`<span class="token punctuation">.</span><br><br>### <span class="token builtin">Xcode</span><br><br><span class="token builtin">Xcode</span> <span class="token number">13</span> adds support <span class="token keyword">for</span> <span class="token builtin">Vim</span> key bindings<span class="token punctuation">,</span> but it <span class="token keyword">is</span> very basic<span class="token punctuation">.</span><br><span class="token builtin">It</span> does not support repeating commands with the period key<span class="token punctuation">,</span><br>defining macros<span class="token punctuation">,</span> and other more advanced <span class="token builtin">Vim</span> features<span class="token punctuation">.</span><br><span class="token builtin">To</span> enable this<span class="token punctuation">,</span> select <span class="token builtin">Editor</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token builtin">Vim</span> <span class="token builtin">Mode</span><span class="token punctuation">.</span><br><br>### <span class="token constant">VS</span> <span class="token builtin">Code</span><br><br><span class="token builtin">For</span> tips on writing <span class="token builtin">Swift</span> code <span class="token keyword">in</span> <span class="token constant">VS</span> <span class="token builtin">Code</span><span class="token punctuation">,</span> see<br><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://nshipster.com/vscode/?v=1.0.18"</span> rel<span class="token operator">=</span><span class="token string">"noopener"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span><span class="token operator">></span><span class="token builtin">Swift</span> <span class="token builtin">Development</span> with <span class="token builtin">Visual</span> <span class="token builtin">Studio</span> <span class="token builtin">Code</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><br><br><span class="token builtin">The</span> setup steps are<span class="token punctuation">:</span><br><br><span class="token operator">-</span> install <span class="token builtin">Xcode</span><br><span class="token operator">-</span> install <span class="token constant">VS</span> <span class="token builtin">Code</span><br><span class="token operator">-</span> `git clone https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>apple<span class="token operator">/</span>sourcekit<span class="token operator">-</span>lsp<span class="token punctuation">.</span>git`<br><span class="token operator">-</span> `cd sourcekit<span class="token operator">-</span>lsp<span class="token operator">/</span><span class="token builtin">Editors</span><span class="token operator">/</span>vscode<span class="token operator">/</span>`<br><span class="token operator">-</span> `npm install`<br><span class="token operator">-</span> `npm run dev<span class="token operator">-</span>package`<br><span class="token operator">-</span> `code <span class="token operator">--</span>install<span class="token operator">-</span><span class="token keyword">extension</span> out<span class="token operator">/</span>sourcekit<span class="token operator">-</span>lsp<span class="token operator">-</span>vscode<span class="token operator">-</span>dev<span class="token punctuation">.</span>vsix`<br><br>## <span class="token builtin">Annoyances</span><br><br>I will add to this list <span class="token keyword">as</span> I learn more<span class="token punctuation">.</span><br><br><span class="token builtin">The</span> things that annoy me most about <span class="token builtin">Swift</span> are<span class="token punctuation">:</span><br><br><span class="token operator">-</span> <span class="token builtin">String</span> interpolation syntax<br><br>  <span class="token builtin">They</span> should have copied the `$<span class="token punctuation">{</span>expression<span class="token punctuation">}</span>` syntax already <span class="token keyword">in</span> use by other<br>  languages instead of using the `\<span class="token punctuation">(</span>expression<span class="token punctuation">)</span>` syntax that <span class="token keyword">is</span> unique to <span class="token builtin">Swift</span><span class="token punctuation">.</span><br><br><span class="token operator">-</span> <span class="token builtin">Defaulting</span> to named parameters<br><br>  <span class="token builtin">Arguments</span> to most functions and methods are specified with<br>  just a value <span class="token punctuation">(</span>positionally<span class="token punctuation">)</span> rather than using argument labels<span class="token punctuation">.</span><br>  <span class="token builtin">But</span> that <span class="token keyword">is</span> only allowed <span class="token keyword">for</span> argument labels<br>  that are specified to be an underscore<span class="token punctuation">.</span><br>  <span class="token builtin">The</span> common <span class="token keyword">case</span> should be the <span class="token keyword">default</span><span class="token punctuation">.</span><br><br><span class="token operator">-</span> `<span class="token keyword">in</span>` keyword<br><br>  <span class="token builtin">The</span> need <span class="token keyword">for</span> the `<span class="token keyword">in</span>` keyword <span class="token keyword">in</span> closures seems odd<span class="token punctuation">.</span><br><br><span class="token operator">-</span> <span class="token builtin">Trailing</span> closures<br><br>  <span class="token builtin">The</span> syntax <span class="token keyword">for</span> trailing closures <span class="token keyword">is</span> surprising and unique to <span class="token builtin">Swift</span><span class="token punctuation">.</span><br>  <span class="token builtin">It</span> <span class="token keyword">is</span> even more surprising <span class="token keyword">if</span> there <span class="token keyword">is</span> more than one<span class="token punctuation">.</span><br><br><span class="token operator">-</span> <span class="token builtin">Going</span> too far<br><br>  <span class="token builtin">Swift</span> has many good features that it stretches too far<span class="token punctuation">.</span><br>  <span class="token builtin">There</span> are too many examples to list them all<span class="token punctuation">,</span> but here are some<span class="token punctuation">:</span><br><br>  <span class="token operator">-</span> enumerations can have initializers and methods<br>  <span class="token operator">-</span> enumerations support <span class="token string">"recursive enumerations"</span></code></pre></article>