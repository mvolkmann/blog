<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>XCTest</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#configuration">Configuration</a></li><li><a href="#test-results">Test Results</a></li><li><a href="#code-coverage">Code Coverage</a></li><li><a href="#view-testing">View Testing</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p>XCTest is a unit testing framework for SwiftUI. &quot;XC&quot; is an abbreviation for &quot;Xcode&quot;.</p><h2 id="configuration">Configuration</h2><ol><li><p>Select the topmost entry in the Navigator.</p></li><li><p>Click the &quot;+&quot; button at the bottom of the left nav to create a new target.</p></li><li><p>Select &quot;Unit Testing Bundle&quot;.</p></li><li><p>Click the &quot;Next&quot; button.</p></li><li><p>Click the &quot;Finish&quot; button.</p><p>Note that a new folder appears in the Navigator whose name is the project name followed by &quot;Tests&quot;. This contains a <code>.swift</code> file with the same name.</p></li><li><p>Click the &quot;+&quot; button at the bottom of the left nav to create another target.</p></li><li><p>Select &quot;UI Testing Bundle&quot;.</p></li><li><p>Click the &quot;Next&quot; button.</p></li><li><p>Click the &quot;Finish&quot; button.</p><p>Note that a new folder appears in the Navigator whose name is the project name followed by &quot;UITests&quot;. This contains a <code>.swift</code> file with the same name.</p></li><li><p>Edit the provided <code>.swift</code> files in the two new targets.</p></li><li><p>To make all the source files in the project available to the test, add the line <code>@testable import {project-name}</code> before the class definition.</p></li><li><p>Add test methods whose names begin with &quot;test&quot;.</p></li><li><p>To make an assertion, call one of the <code>XCTAssert{kind}</code> functions.</p><p>Assertion kind values include <code>Nil</code>, <code>NotNil</code>, <code>True</code>, <code>False</code>, <code>Equal</code>, <code>NotEqual</code>, <code>Identical</code>, <code>LessThan</code>, <code>LessThanOrEqual</code>, <code>GreaterThan</code>, <code>GreaterThanOrEqual</code>, <code>NoThrow</code>, and <code>ThrowsError</code>. Each of these has a version that takes and does not take an error message.</p></li><li><p>To run a single test method, click the diamond where the line number of the first line of the method (starts with <code>func</code>) would normally appear.</p></li><li><p>To run all the test methods in the file, click the diamond where the line number of the first line of the class would normally appear.</p></li><li><p>To run all the tests in Navigator folder, click the diamond to the right of the folder name.</p></li><li><p>To run all the tests, select Product ... Test or press cmd-u.</p></li></ol><h2 id="test-results">Test Results</h2><p>To see a report on test results:</p><ol><li>Click the &quot;Show Report Navigator&quot; button, which is the last button at the top of the Navigator, and then click a test run with a specific time.</li><li>In the editor panel where test results are displayed, click a category of test results to view which include &quot;All&quot;, &quot;Passed&quot;, &quot;Failed&quot;, &quot;Skipped&quot;, &quot;Expected Failures&quot;, and &quot;Mixed&quot;.</li></ol><h2 id="code-coverage">Code Coverage</h2><p>To enable collecting code coverage data:</p><ol><li>Click the target dropdown at the top of Xcode.</li><li>Select &quot;Edit Scheme...&quot;.</li><li>Select &quot;Test&quot; in the left nav.</li><li>Click the &quot;Options&quot; tab.</li><li>Check the &quot;Gather coverage for&quot; checkbox.</li><li>Select &quot;some targets&quot; in the dropdown to the right of this checkbox.</li><li>Click the &quot;+&quot; button to select a target.</li><li>Select the target of the main app.</li><li>Click the &quot;Close&quot; button.</li><li>Run all the tests again.</li><li>View the test results as described above.</li><li>Click &quot;Coverage&quot; under the new test run.</li><li>Expand the test folder displayed to see the coverage percentage of each source file.</li></ol><h2 id="view-testing">View Testing</h2><p>TODO: Update this based on what you have learned about recording interactions.</p><ol><li>Select the topmost entry in the Navigator.</li><li>Select the project.</li><li>Click the &quot;Package Dependencies&quot; tab.</li><li>Click the &quot;+&quot; button to add a package.</li><li>In the search input, enter &quot;ViewInspector&quot;.</li><li>Select &quot;ViewInspector&quot;.</li><li>Click the &quot;Add Package&quot; button.</li><li>In the &quot;Add to target&quot; dropdown, select the target whose name ends in &quot;UITests&quot;.</li><li>Click the next &quot;Add Package&quot; button.</li><li>Add <code>import ViewInspector</code> at the top of all test <code>.swift</code> files that test views.</li><li>To make all the source files in the project available to the test, add the line <code>@testable import {project-name}</code> before the class definition.</li></ol></article>