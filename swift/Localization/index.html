<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Localization</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#old-stuff-you-can-probably-delete-follows">OLD STUFF YOU CAN PROBABLY DELETE FOLLOWS</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p>To specify the languages to be supported:</p><ol><li>Select the top entry in the File Navigator.</li><li>In the left nav of the project editor, select the project.</li><li>Select the &quot;Info&quot; tab.</li><li>In the &quot;Localization&quot; section, for each language to be added, click the &quot;+&quot; Button and select a language.</li></ol><p>To create a &quot;Strings&quot; file:</p><ol><li>Add a file to the project by pressing cmd-n.</li><li>In the Resource section, select the &quot;Strings File&quot; template.</li><li>Click the &quot;Next&quot; button.</li><li>Keep the default name of &quot;Localizable.strings&quot;.</li><li>Click the &quot;Create&quot; button.</li></ol><p>To populate the &quot;Strings&quot; file:</p><ol><li>Select the &quot;Localizable.strings&quot; file in the File Navigator.</li><li>Open the Inspector panel on the right.</li><li>Under &quot;Localization&quot;, check all the language checkboxes.</li><li>This will add one entry under &quot;Localizable.strings&quot; in the File Navigator for each selected language.</li><li>For each language<ol><li>Select its entry in the File Navigator.</li><li>For each string to be translated<ol><li>Enter an assignment statement of the form <code>&quot;english-or-key&quot; = &quot;translation&quot;;</code> (note the semicolon at the end).</li></ol></li></ol></li></ol><p>To select a locale to use in the Preview, apply the <code>environment</code> view modifier to the top-most view. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token class-name">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span><span class="token punctuation">\</span><span class="token punctuation">.</span>locale<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>identifier<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"la"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>where <code>la</code> is replaced by a language abbreviation such as <code>fr</code> for French.</p><p>To select a locale in the Simulator:</p><ul><li>Open the Settings app.</li><li>Select General.</li><li>If the desired language is not displayed under &quot;PREFERRED LANGUAGES&quot;, tap &quot;Add Language...&quot;, select the language, and tap one of the &quot;Use {language}&quot; buttons to specify which language should be active now.</li><li>Drag the language to be used now to the top of the list of languages using the drag handles to right of each language name.</li><li>Tap the &quot;Continue&quot; button.</li><li>Return to the app being tested.</li></ul><h2 id="old-stuff-you-can-probably-delete-follows" tabindex="-1">OLD STUFF YOU CAN PROBABLY DELETE FOLLOWS</h2><p>To generate a directory of localization files:</p><ol><li>Select Product ... Export Localizations...</li><li>Select the directory where a new directory will be created. Typically the project directory is used.</li><li>Enter a name of the new directory such as &quot;localizations&quot;.</li><li>Click the &quot;Export&quot; button.</li><li>Select Files ... Add Files to...</li><li>Select the newly created directory.</li></ol><p>This automatically captures all the strings passed to UI views. TODO: Only those strings or ALL strings?</p><p>The generated directory will contain one &quot;Xcode Localization Catalog&quot; for each supported language. Each of these will have a name of the form <code>{language-abbreviation}.xcloc</code>. For example, for English it will be <code>en.xcloc</code> and for French it will be <code>fr.xcloc</code>. Each of these will contain a subdirectory named &quot;Localized Contents&quot; that contains the file &quot;{language-abbreviation}.xliff&quot;. These are XML files that hold mappings from source text to translated text.</p><p>Rather than manually editing these XML files, they can be edited using a special editor within Xcode. However, the directory structure appears differently inside Xcode. Selecting a <code>.xcloc</code> file will expose what appears to be a file named <code>Localizable</code>. Selecting that file will open an editor that makes entering translations similar to entering values in a spreadsheet.</p><ol><li>Select Product ... Export Localizations...</li><li>Select the directory where a new directory will be created. Typically the project directory is used.</li><li>Enter a name of the new directory such as &quot;localizations&quot;.</li><li>Click the &quot;Export&quot; button.</li><li>Select Files ... Add Files to...</li><li>Select the newly created directory.</li></ol><p>This automatically captures all the strings passed to UI views. TODO: Only those strings or ALL strings?</p><p>The generated directory will contain one &quot;Xcode Localization Catalog&quot; for each supported language. Each of these will have a name of the form <code>{language-abbreviation}.xcloc</code>. For example, for English it will be <code>en.xcloc</code> and for French it will be <code>fr.xcloc</code>. Each of these will contain a subdirectory named &quot;Localized Contents&quot; that contains the file &quot;{language-abbreviation}.xliff&quot;. These are XML files that hold mappings from source text to translated text.</p><p>Rather than manually editing these XML files, they can be edited using a special editor within Xcode. However, the directory structure appears differently inside Xcode. Selecting a <code>.xcloc</code> file will expose what appears to be a file named <code>Localizable</code>. Selecting that file will open an editor that makes entering translations similar to entering values in a spreadsheet.</p></article>