<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>WeatherKit</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#setup">Setup</a></li><li><a href="#sample-code">Sample Code</a></li><li><a href="#temperature-conversion">Temperature Conversion</a></li><li><a href="#limitations">Limitations</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p>WeatherKit provides a variety of weather data for a given location including condition, temperature, humidity, precipitation, wind, and weather alerts. Usage is free for up to 500,000 calls per month and has a monthly cost beyond that.</p><p>WeatherKit requires iOS 16+.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://developer.apple.com/videos/play/wwdc2022/10003/?v=1.0.20" rel="noopener" target="_blank">Meet WeatherKit</a> WWDC 2022 video</li><li><a href="https://developer.apple.com/weatherkit/?v=1.0.20" rel="noopener" target="_blank">Introducing WeatherKit</a></li><li><a href="https://developer.apple.com/documentation/weatherkit?v=1.0.20" rel="noopener" target="_blank">Swift Documentation</a></li></ul><h2 id="setup" tabindex="-1">Setup</h2><ol><li><p>Browse <a href="https://developer.apple.com?v=1.0.20" rel="noopener" target="_blank">developer.apple.com</a>.</p></li><li><p>Click &quot;Account&quot; and sign in.</p></li><li><p>Under &quot;Certificates, Identifiers &amp; Profiles&quot;, click &quot;Identifiers&quot;.</p></li><li><p>Click the &quot;+&quot; after the heading &quot;Identifiers&quot;.</p></li><li><p>Select the &quot;App IDs&quot; radio button.</p></li><li><p>Click the &quot;Continue&quot; button.</p></li><li><p>Select &quot;App&quot;.</p></li><li><p>Click the &quot;Continue&quot; button.</p></li><li><p>Enter an app description.</p></li><li><p>Paste the app bundle ID.</p></li><li><p>Under &quot;Capabilities&quot;, check the checkbox for WeatherKit.</p></li><li><p>Click the &quot;Continue&quot; button.</p></li><li><p>Click the &quot;App Services&quot; tab.</p></li><li><p>Check the checkbox for WeatherKit.</p></li><li><p>Click the &quot;Continue&quot; button.</p></li><li><p>Click the &quot;Register&quot; button.</p></li><li><p>In Xcode, click the top entry in the Navigator.</p></li><li><p>For each target that will use WeatherKit.</p><ol><li>Select the target.</li><li>Click the &quot;Signing &amp; Capabilities&quot; tab.</li><li>Click the &quot;+&quot; in the upper-left.</li><li>Verify that the correct Team is selected which is listed in the upper-right corner of the <a href="http://developer.apple.com">developer.apple.com</a> web page.</li><li>Find WeatherKit and double-click it.</li></ol></li></ol><p><strong>It may be necessary to wait around 30 minutes for the WeatherKit service to be enabled for your app.</strong></p><h2 id="sample-code" tabindex="-1">Sample Code</h2><p>See the demo project <a href="https://github.com/mvolkmann/WeatherKitDemo?v=1.0.20" rel="noopener" target="_blank">WeatherKitDemo</a> in GitHub. Here are screenshots from this app:</p><p><img alt="WeatherKit Current" style="width: 40%" src="/blog/assets/weatherkit-current.png?v=1.0.20" title="WeatherKit Current"> <img alt="WeatherKit Forecast" style="width: 40%" src="/blog/assets/weatherkit-forecast.png?v=1.0.20" title="WeatherKit Forecast"></p><p><img alt="WeatherKit Current" style="width: 40%" src="/blog/assets/weatherkit-chart.png?v=1.0.20" title="WeatherKit Chart"> <img alt="WeatherKit Heat Map" style="width: 40%" src="/blog/assets/weatherkit-heatmap.png?v=1.0.20" title="WeatherKit Heat Map"></p><h2 id="temperature-conversion" tabindex="-1">Temperature Conversion</h2><p>To create a new <code>Measurement&lt;UnitTemperature&gt;</code> value from an existing one using a different unit, call the <code>converted</code> method. The existing object typically uses the locale-specific unit. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> celsius <span class="token operator">=</span> temperature<span class="token punctuation">.</span><span class="token function">converted</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">.</span>celsius<span class="token punctuation">)</span><br><span class="token keyword">let</span> fahrenheit <span class="token operator">=</span> temperature<span class="token punctuation">.</span><span class="token function">converted</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token punctuation">.</span>fahrenheit<span class="token punctuation">)</span></code></pre><h2 id="limitations" tabindex="-1">Limitations</h2><p>Weather data cannot be retrieved in a preview or in the Simulator. A real device must be used.</p></article>