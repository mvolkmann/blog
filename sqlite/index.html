<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>SQLite</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#cli-tool">CLI Tool</a></li><li><a href="#file-input">File Input</a></li><li><a href="#dot-commands">Dot Commands</a></li><li><a href="#column-types">Column Types</a></li><li><a href="#python-support">Python Support</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://www.sqlite.org/?v=1.0.15" rel="noopener" target="_blank">SQLite</a> claims to be &quot;the most used database engine in the world&quot;. It runs on all common operating systems and mobile devices.</p><p>Features of SQLite include:</p><ul><li>atomic transactions</li><li>zero configuration required</li><li>full SQL support</li><li>databases stored in a single, binary file which makes them easy to back up</li><li>small code footprint</li><li>simple API</li><li>fast performance</li><li>implemented in C</li><li>no external dependencies</li><li>wide operating system support</li><li>public domain source code</li><li>includes a command-line interface (CLI)</li></ul><h2 id="installing">Installing</h2><p>SQLite can be downloaded from <a href="https://www.sqlite.org/download.html?v=1.0.15" rel="noopener" target="_blank">here</a>. In macOS it can be installed using Homebrew by entering <code>brew install sqlite</code>.</p><p>For help, enter <code>sqlite3 --help</code>.</p><h2 id="cli-tool">CLI Tool</h2><p>To start the SQLite CLI, enter <code>sqlite3</code> optionally followed by a file path to a database file. This displays a <code>sqlite&gt;</code> prompt where you can enter SQL commands (terminated by a semicolon) and &quot;dot commands&quot; that begin with a period.</p><p>For example, here is a sample session that creates a <code>pets</code> database that contains tables for <code>dogs</code> and <code>cats</code>.</p><pre class="language-text"><code class="language-text">$ sqlite3 pets.db<br>sqlite> create table dogs(id integer primary key autoincrement, name string, breed string, age integer);<br>sqlite> create table cats(id integer primary key autoincrement, name string, breed string, remaining_lives integer);<br>sqlite> .schema (displays the schema for each table)<br>sqlite> insert into dogs values('Comet', 'Whippet', 1);<br>sqlite> select * from dogs;<br>sqlite> .exit<br>$ ls *.db</code></pre><p>The file <code>pets.db</code> exist now as long as at least one table was defined.</p><h2 id="file-input">File Input</h2><p>SQL commands can be read from a file. For example, if the file <code>schema.txt</code> commands SQL commands then the command <code>sqlite3 demo.db &lt; schema.txt</code> will execute the commands using the database <code>demo.db</code>.</p><h2 id="dot-commands">Dot Commands</h2><p>The most commonly used dot commands are described in the following table:</p><table><thead><tr><th>Action</th><th>Command</th></tr></thead><tbody><tr><td>change working directory</td><td><code>.cd {directory}</code></td></tr><tr><td>close current database and open new one</td><td><code>.open {file-path}.db</code></td></tr><tr><td>attach an additional database</td><td><code>attach database &quot;{file-path}&quot; as {name};</code></td></tr><tr><td>list names and paths of attached databases</td><td><code>.databases</code></td></tr><tr><td>list tables in current database</td><td><code>.tables</code></td></tr><tr><td>show database schema</td><td><code>.schema</code></td></tr><tr><td>show table schema</td><td><code>.schema {table-name}</code></td></tr><tr><td>configure showing/hiding # of rows changed by SQL</td><td><code>.changes {on | off}</code></td></tr><tr><td>export table to CSV file</td><td><code>.headers on</code><br><code>.mode csv</code><br><code>.once {file-path}</code><br><code>select * from {table-name}</code><br><code>.system {file-path}</code></td></tr><tr><td>import CSV file into a table</td><td><code>.import {file-path} {table-name}</code></td></tr><tr><td>execute shell command</td><td><code>.shell {command}</code></td></tr><tr><td>show current configuration settings</td><td><code>.show</code></td></tr><tr><td>exit</td><td><code>.exit</code> or <code>.quit</code></td></tr></tbody></table><p>When multiple databases are attached, the tables in all of them are accessible and reporting commands such as <code>.tables</code> report on all the databases.</p><p>By default, output from <code>select</code> statements uses <code>list</code> mode where each record is output on a single line with <code>|</code> characters separating column values.</p><p>Here is an example of <code>list</code> mode output:</p><pre class="language-text"><code class="language-text">Maisey|Treeing Walker Coonhound|11<br>Ramsay|Native American Indian Dog|8</code></pre><p>The <code>.mode {mode}</code> command can be used to change this output. Supported modes include <code>list</code>, <code>csv</code>, <code>line</code>, and <code>column</code>.</p><p>Here is an example of <code>csv</code> mode output:</p><pre class="language-text"><code class="language-text">Maisey,"Treeing Walker Coonhound",11<br>Ramsay,"Native American Indian Dog",8</code></pre><p>Here is an example of <code>line</code> mode output:</p><pre class="language-text"><code class="language-text"> name = Maisey<br>breed = Treeing Walker Coonhound<br>  age = 11<br><br> name = Ramsay<br>breed = Native American Indian Dog<br>  age = 8</code></pre><p>Here is an example of <code>column</code> mode output:</p><pre class="language-text"><code class="language-text">Maisey      Treeing Walker Coonhound  11<br>Ramsay      Native American Indian D  8</code></pre><h2 id="column-types">Column Types</h2><p>SQLite supports a small set of column types that include:</p><ul><li>integer</li><li>real</li><li>numeric (for boolean, decimal, date, and datetime values)</li><li>text</li><li>blob</li></ul><p>Use the numeric type for boolean values where 0 is false and 1 is true.</p><p>Use the text type for ISO date strings.</p><p>Use the integer type for storing seconds or milliseconds since the epoch (1970-01-01 00:00:00 UTC).</p><h2 id="python-support">Python Support</h2><p>Python has built-in support for SQLite. For details, see <a href="/blog/python/sqlite-in-python/">here</a>.</p></article>