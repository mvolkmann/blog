<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>SwiftUI</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#getting-started">Getting Started</a><ol><li><a href="#canvas-%2F-preview">Canvas / Preview</a></li><li><a href="#inspector">Inspector</a></li><li><a href="#simulator">Simulator</a></li></ol></li><li><a href="#apple-human-interface-guidelines-(hig)">Apple Human Interface Guidelines (HIG)</a><ol><li><a href="#bars">Bars</a></li><li><a href="#views">Views</a></li><li><a href="#controls">Controls</a></li></ol></li><li><a href="#icons">Icons</a></li><li><a href="#core-graphics-(cg)">Core Graphics (CG)</a></li><li><a href="#views-1">Views</a></li><li><a href="#viewbuilders">ViewBuilders</a></li><li><a href="#container-views">Container Views</a><ol><li><a href="#hstack">HStack</a></li><li><a href="#vstack">VStack</a></li><li><a href="#zstack">ZStack</a></li><li><a href="#lazyhstack">LazyHStack</a></li><li><a href="#lazyvstack">LazyVStack</a></li><li><a href="#lazyhgrid">LazyHGrid</a></li><li><a href="#lazyvgrid">LazyVGrid</a></li><li><a href="#form">Form</a></li><li><a href="#section">Section</a></li><li><a href="#group">Group</a></li><li><a href="#groupbox">GroupBox</a></li><li><a href="#controlgroup">ControlGroup</a></li><li><a href="#scrollview">ScrollView</a></li><li><a href="#scrollviewreader">ScrollViewReader</a></li><li><a href="#scrollviewproxy">ScrollViewProxy</a></li><li><a href="#list">List</a></li><li><a href="#foreach">ForEach</a></li><li><a href="#table">Table</a></li><li><a href="#navigationview">NavigationView</a></li><li><a href="#navigationlink">NavigationLink</a></li><li><a href="#outlinegroup">OutlineGroup</a></li><li><a href="#disclosuregroup">DisclosureGroup</a></li><li><a href="#tabview">TabView</a></li><li><a href="#hsplitview">HSplitView</a></li><li><a href="#vsplitview">VSplitView</a></li><li><a href="#timelineview">TimelineView</a></li></ol></li><li><a href="#component-views">Component Views</a><ol><li><a href="#button">Button</a></li><li><a href="#color">Color</a></li><li><a href="#image">Image</a></li><li><a href="#asyncimage">AsyncImage</a></li><li><a href="#text">Text</a></li><li><a href="#textfield">TextField</a></li><li><a href="#securefield">SecureField</a></li><li><a href="#texteditor">TextEditor</a></li><li><a href="#editbutton">EditButton</a></li><li><a href="#pastebutton">PasteButton</a></li><li><a href="#link">Link</a></li><li><a href="#menu">Menu</a></li><li><a href="#toggle">Toggle</a></li><li><a href="#slider">Slider</a></li><li><a href="#stepper">Stepper</a></li><li><a href="#picker">Picker</a></li><li><a href="#datepicker">DatePicker</a></li><li><a href="#colorpicker">ColorPicker</a></li><li><a href="#label">Label</a></li><li><a href="#progressview">ProgressView</a></li><li><a href="#gauge">Gauge</a></li><li><a href="#emptyview">EmptyView</a></li><li><a href="#equatableview">EquatableView</a></li><li><a href="#anyview">AnyView</a></li><li><a href="#tupleview">TupleView</a></li></ol></li><li><a href="#drawing-views">Drawing Views</a><ol><li><a href="#capsule">Capsule</a></li><li><a href="#circle">Circle</a></li><li><a href="#ellipse">Ellipse</a></li><li><a href="#path">Path</a></li><li><a href="#rectangle">Rectangle</a></li><li><a href="#roundedrectangle">RoundedRectangle</a></li><li><a href="#containerrelativeshape">ContainerRelativeShape</a></li><li><a href="#offsetshape">OffsetShape</a></li><li><a href="#rotatedshape">RotatedShape</a></li><li><a href="#scaledshape">ScaledShape</a></li><li><a href="#transformedshape">TransformedShape</a></li><li><a href="#anyshapeshape">AnyShapeShape</a></li><li><a href="#animatablepair">AnimatablePair</a></li><li><a href="#animation">Animation</a></li><li><a href="#anytransition">AnyTransition</a></li><li><a href="#emptyanimatabledata">EmptyAnimatableData</a></li><li><a href="#anchor">Anchor</a></li><li><a href="#angle">Angle</a></li><li><a href="#projectiontransform">ProjectionTransform</a></li><li><a href="#unitpoint">UnitPoint</a></li></ol></li><li><a href="#other-views">Other Views</a><ol><li><a href="#geometryreader">GeometryReader</a></li><li><a href="#spacer">Spacer</a></li><li><a href="#divider">Divider</a></li></ol></li><li><a href="#view-modifiers">View Modifiers</a></li><li><a href="#view-state">View State</a></li><li><a href="#property-wrappers">Property Wrappers</a><ol><li><a href="#%40binding">@Binding</a></li><li><a href="#%40environment">@Environment</a></li><li><a href="#%40environmentobject">@EnvironmentObject</a></li><li><a href="#%40state">@State</a></li><li><a href="#%40stateobject">@StateObject</a></li><li><a href="#%40observedobject">@ObservedObject</a></li></ol></li><li><a href="#attributedstring">AttributedString</a></li><li><a href="#layout">Layout</a></li><li><a href="#event-handling">Event Handling</a></li><li><a href="#environment">Environment</a></li><li><a href="#search">Search</a></li><li><a href="#lists">Lists</a></li><li><a href="#animation-1">Animation</a></li><li><a href="#audio">Audio</a></li><li><a href="#mvvm">MVVM</a></li><li><a href="#popovers">Popovers</a></li><li><a href="#alerts">Alerts</a></li><li><a href="#modal-dialogs">Modal Dialogs</a></li><li><a href="#toolbars">Toolbars</a></li><li><a href="#navigation">Navigation</a></li><li><a href="#sidebars">Sidebars</a></li><li><a href="#utility-functions">Utility Functions</a></li><li><a href="#key-paths">Key Paths</a></li><li><a href="#environments">Environments</a></li><li><a href="#network-requests">Network Requests</a></li><li><a href="#userdefaults">UserDefaults</a></li><li><a href="#combine">Combine</a></li><li><a href="#core-data">Core Data</a><ol><li><a href="#%22use-core-data%22-option">"Use Core Data" Option</a></li><li><a href="#defining-entities">Defining Entities</a></li><li><a href="#entity-codegen">Entity Codegen</a></li><li><a href="#%40fetchrequest-vs.-viewmodel">@FetchRequest vs. ViewModel</a><ol><li><a href="#using-%40fetchrequest">Using @FetchRequest</a></li><li><a href="#using-a-viewmodel">Using a ViewModel</a></li></ol></li><li><a href="#entity-objects">Entity Objects</a></li><li><a href="#fetching-entities">Fetching Entities</a></li></ol></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://developer.apple.com/xcode/swiftui/?v=1.0.18" rel="noopener" target="_blank">SwiftUI</a> is a Swift library for building macOS, iOS, and Apple Watch apps. It is an alternative to its predecessor UIKit.</p><p>By comparison SwiftUI ...</p><ul><li>is currently missing some features of UIKit (but UIKit can be used within SwiftUI apps)</li><li>is declarative in nature than imperative</li><li>emphasizes use of structs over classes (UIKit uses classes)</li><li>requires far less code to do the same things</li><li>only runs on iOS 13 and above</li><li>doesn't use Storyboard to build views</li><li>doesn't use <code>AppDelegate</code> or <code>SceneDelegate</code> (read about these <a href="https://learnappmaking.com/scene-delegate-app-delegate-xcode-11-ios-13/?v=1.0.18" rel="noopener" target="_blank">here</a>)</li></ul><h2 id="resources">Resources</h2><h2 id="getting-started">Getting Started</h2><ul><li>open Xcode which includes Swift and SwiftUI</li><li>select &quot;Create a new Xcode project&quot;</li><li>select an Application type such as &quot;App&quot; and click &quot;Next&quot;</li><li>enter a Product Name</li><li>select a Team such as &quot;your name (Personal Team)&quot;</li><li>enter an Organization Identifier such as your email address</li><li>select the Interface such as &quot;SwiftUI&quot;</li><li>select the Language such as &quot;Swift&quot;</li><li>check &quot;Use Core Data&quot; to persist data in a local database</li><li>check &quot;Include Tests&quot; to enable writing unit tests</li><li>click &quot;Next&quot;</li><li>select the directory where the project will be stored and click &quot;Create&quot;</li></ul><p>Press the black, right-pointing triangle near the top to build and run the starting version of the app in the simulator.</p><p>To change the device being simulated, click the device drop-down after the app name near the top and select the device type (such as &quot;iPhone 12 mini&quot;).</p><p>To change the target version of iOS, click the app name at the top of the Navigator click the &quot;General&quot; tab, and select an iOS version from the dropdown in the &quot;Deployment info&quot; section.</p><p>A new &quot;App&quot; project begins with the following files.</p><ul><li><p><code>{app-name}.swift</code></p><p>This defines the main struct which implements the <code>App</code> protocol. It has computed property named <code>body</code> whose value implements the <code>Scene</code> protocol. The actual value is an instance of <code>WindowGroup</code>. This renders an instance of <code>ContentView</code> which is defined in the next file. Apps for macOS and iPadOS can specify more than one window in the <code>WindowGroup</code>, but iOS and watchOS apps cannot. iOS will render all the windows as if they were in a <code>VStack</code>.</p></li><li><p><code>ContentView.swift</code></p><p>This defines the <code>ContentView</code> struct which implements the <code>View</code> protocol and is the top of the user interface. It also defines the <code>ContentView_Previews</code> struct which describes the Previews that should display in the Canvas area. This can be one or more views that are each displayed in a separate Preview.</p></li><li><p><code>Assets.xcassets</code></p><p>This associates names with assets such as images, audio files, and video files.</p></li><li><p><code>{app-name}.xcodeproj</code></p><p>This file is not visible in the Navigator, but can be viewed and edited by clicking the top entry in the navigator. The editor for this data has the following tabs: General, Signing &amp; Capabilities, Resource Tags, Info, Build Settings, Build Phases, and Build Rules. The General tab configures the app display name, version of iOS, targets (iPhone, iPad, or Mac), status bar style, and more.</p></li></ul><p>To add a particular kind of provided UI View in a <code>.swift</code> file, manually enter code or click where it should go in the code and click the &quot;+&quot; in the upper-right of the Code Editor. Clicking the &quot;+&quot; displays the Object Library dialog that contains a list provided view types. Selecting one displays related documentation and code examples. Double-click a view type to insert code for it at the cursor or drag a view type to the desired code location.</p><h3 id="canvas-%2F-preview">Canvas / Preview</h3><p>The Canvas area displays Previews of the UI running outside of a simulator. To hide/show the Canvas area, select Editor ... Canvas. If Preview isn't running inside the Canvas area, press the &quot;Resume&quot; button at the top to start it.</p><p>By default the Canvas area is only displayed when the file <code>ContentView.swift</code> is selected. To keep it displayed even when a different file is selected, select <code>ContentView.swift</code> and click the pin icon in the lower-left of the Canvas.</p><p>When code changes are saved and there are no errors, the Preview is automatically updated. When there are errors, the Preview pauses and must be manually restarted by click the &quot;Resume&quot; button or pressing cmd-option-p. TODO: Are there other things that cause the Preview to pause?</p><p>If the Canvas area displays the message &quot;Failed to build&quot; in the upper-left, click the &quot;Diagnostics&quot; button in the upper-right to see error messages.</p><p>To zoom in and out on the Preview area, click the magnifier glass icons in the lower right (minus and plus) or select a zoom level from the percent dropdown.</p><p>By default the Preview is not in &quot;Live Preview&quot; mode. Key things to know about not being in this mode include:</p><ul><li>Clicking a View in the Preview selects it rather than triggering tap events. The corresponding code is highlighted and the Inspector changes to show the properties of the selected View.</li><li>Double-clicking a View in the Preview is similar, but moves focus to the code so it can be edited.</li><li>Clicking a View in the code selects the corresponding View in the Preview and also populates the Inspector.</li><li>Changes made in the Inspector update the Preview and the code, but they do not take effect until focus is moved out of the modified Navigator field. This is a great way to learn about supported view modifiers and their syntax.</li></ul><p>To switch to &quot;Live Preview&quot; mode so tap events are honored, click the button with a triangle inside a circle. This also enables scrolling by dragging which is not possible in the default mode. And one more thing clicking this does is to trigger the Preview to resume if it is paused and rebuild the code.</p><p>To rotate the display to landscape mode, click the button above the display that contains a square with a curved arrow on its upper-left corner. This only works when not in &quot;Live Preview&quot; mode. The same button appears in the Simulator.</p><p>It is possible for the Preview area to show more than one preview. This is controlled by the <code>ContentView_Previews</code> struct defined in <code>ContentView.swift</code>. For example, the following renders the app in light mode, the app in dark mode, and a single component to test in isolation from the rest of the app.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>light<span class="token punctuation">)</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span><br>        <span class="token function">CircleButton</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>blue<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// action that does nothing</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Note that if any of the previews are in &quot;Live Preview&quot; mode, only that preview will be displayed. Exit out of that mode to get the other previews to display again.</p><h3 id="inspector">Inspector</h3><p>The Inspector shows commonly used modifiers of the selected view. To see additional modifiers, click &quot;Add Modifier&quot; at the button of the Inspector. Optionally type part of a modifier name to filter the list. Click a modifier to add it to the Inspector. To stop displaying a modifier in the Inspector, hover over it and click the &quot;Delete&quot; button that appears.</p><h3 id="simulator">Simulator</h3><p>To run the app in the Simulator, click the black triangle at the top. That builds the app, launches the Simulator (if not already running), loads the app in the Simulator, and starts it. The app is not automatically updates when code changes are saved. The triangle must be clicked again to repeat the whole build/load/start process.</p><p>There are rendering issues with the &quot;iPhone 12 mini&quot; simulator, so choose a different device for now.</p><h2 id="apple-human-interface-guidelines-(hig)">Apple Human Interface Guidelines (HIG)</h2><p>Apple documents guidelines for building user interfaces at <a href="https://developer.apple.com/design/human-interface-guidelines/?v=1.0.18" rel="noopener" target="_blank">Human Interface Guidelines</a>. This includes recommendations for macOS, iOS, watchOS, and tvOS user interfaces.</p><p>The guidelines for iOS are divided into several categories, three of which are Bars, Views, and Controls. The following summarizes what is found in those sections and how the described components map to SwiftUI views.</p><h3 id="bars">Bars</h3><ul><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/navigation-bars/?v=1.0.18" rel="noopener" target="_blank">Navigation Bar</a></p><ul><li>appears at top of screen below status bar</li><li>enables navigation through hierarchical screens</li><li>provides leading back button</li><li>can have trailing buttons like Edit and Done</li><li>can have a tint color</li><li>can have an inline or large title</li><li>can use a Segmented Control in place of title</li><li>SwiftUI creates this with <code>NavigationView</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/search-bars/?v=1.0.18" rel="noopener" target="_blank">Search Bar</a></p><ul><li>an text input for entering search text</li><li>has magnifier glass icon</li><li>can display in a Navigation Bar</li><li>can include clear and confirm buttons</li><li>SwiftUI creates this with the <code>searchable</code> view modifier that is applied to some view that is inside a <code>NavigationView</code>. See an example in the &quot;Search&quot; section.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/sidebars/?v=1.0.18" rel="noopener" target="_blank">Sidebar</a></p><ul><li>provides app-level navigation to top-level collections of content</li><li>for example, the Mail app displays a list of mailboxes in a sidebar</li><li>selecting an item in the sidebar changes what is displayed in the pane that follows</li><li>SwiftUI creates this by applying the <code>.listStyle(.sidebar)</code> view modifier to a <code>List</code> view. See an example in the &quot;Sidebar&quot; section.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/status-bars/?v=1.0.18" rel="noopener" target="_blank">Status Bar</a></p><ul><li>appears at top of screen above Navigation Bar</li><li>the system provided Status Bar displays the time on the left and indicators for cell strength, WiFi strength, and batter remaining on the right</li><li>can style to light or dark mode and customize colors</li><li>should not replace with a custom status bar</li><li>can temporarily hide it, but should never permanently hide it</li><li>to hide the system status bar, apply the <code>.statusBar(hidden: true)</code> view modifier to the top <code>NavigationView</code></li><li>SwiftUI needs nothing to support this because the system provides it</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/tab-bars/?v=1.0.18" rel="noopener" target="_blank">Tab Bar</a></p><ul><li>used to navigate to top-level app sections (groups of related pages)</li><li>appears at bottom of screen</li><li>SwiftUI creates this with <code>TabView</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/toolbars/?v=1.0.18" rel="noopener" target="_blank">Toolbar</a></p><ul><li>contains buttons that perform page-specific actions</li><li>appears at bottom of screen</li><li>SwiftUI creates this with the <code>toolbar</code> view modifier and <code>ToolbarItemGroup</code> or <code>ToolbarItem</code> views See an example in the &quot;Toolbars&quot; section.</li></ul></li></ul><h3 id="views">Views</h3><ul><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/action-sheets/?v=1.0.18" rel="noopener" target="_blank">Action Sheet</a></p><ul><li>alert that presents two or more choices related to the current context</li><li>on small screens, slides in from bottom</li><li>on large screens, appears as a Popover</li><li>can use to request confirmation before a destructive operation</li><li>SwiftUI creates this with <code>ActionSheet</code>, but that is deprecated. TODO: What takes its place? Perhaps it must be created using <code>Sheet</code>.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/activity-views/?v=1.0.18" rel="noopener" target="_blank">Activity View</a></p><ul><li>set of activity buttons applicable in current context such as Copy, Add, or Find</li><li>also referred to as a &quot;share sheet&quot;</li><li>appears as a Sheet or Popover</li><li>SwiftUI creates this with ??? TODO: Is this supported in SwiftUI? Maybe UIKit is required.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/alerts/?v=1.0.18" rel="noopener" target="_blank">Alert</a></p><ul><li>modal dialog with a title, optional message, one or more buttons, and optional input text fields</li><li>avoid having more than two buttons</li><li>minimize usage to important situations</li><li>SwiftUI creates this with the <code>alert</code> view modifier that can be called on any kind of view. See the &quot;Alerts&quot; section.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/collections/?v=1.0.18" rel="noopener" target="_blank">Collection</a></p><ul><li>manage an ordered set of content, like photos presented as a grid of thumbnails</li><li>tap an item to select</li><li>touch and hold an item to edit</li><li>swipe to scroll</li><li>SwiftUI creates this with ??? TODO: Is this supported in SwiftUI? Maybe UIKit is required.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/image-views/?v=1.0.18" rel="noopener" target="_blank">Image View</a></p><ul><li>displays a single image or animated sequence</li><li>can fill entire display</li><li>SwiftUI creates this with <code>Image</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/pages/?v=1.0.18" rel="noopener" target="_blank">Page</a></p><ul><li>implements linear navigation between a set of related pages using either scrolling or page curl effects</li><li>SwiftUI provides this in <code>TabView</code> when it has a <code>tabViewStyle</code> view modifier with a value of <code>.page</code>. See an example in the &quot;TabView&quot; description later.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/popovers/?v=1.0.18" rel="noopener" target="_blank">Popover</a></p><ul><li>modal or non-modal dialog displayed in response to tapping a control or tapping in an area</li><li>typically renders a &quot;tail&quot; pointing to what triggered it</li><li>can contain many kinds of elements including Navigation Bars, Toolbars, Tab Bars, and more</li><li>avoid using on iPhones</li><li>SwiftUI creates this with the <code>popover</code> view modifier</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/scroll-views/?v=1.0.18" rel="noopener" target="_blank">Scroll View</a></p><ul><li>scrolls content larger than visible area</li><li>displays transient scrolling indicators</li><li>can operation in paging mode</li><li>can support zooming</li><li>SwiftUI creates this with <code>ScrollView</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/sheets/?v=1.0.18" rel="noopener" target="_blank">Sheet</a></p><ul><li>a card that partially covers primary content</li><li>used to perform a task related to current context</li><li>top corners are rounded and can customize radius</li><li>two available heights, large (default) and medium</li><li>modal by default</li><li>SwiftUI creates this with the <code>sheet</code> view modifier. See an example in the &quot;Modal Dialogs&quot; section.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/split-views/?v=1.0.18" rel="noopener" target="_blank">Split View</a></p><ul><li>presents hierarchical data with two or three columns: primary, supplementary, and content</li><li>selections in primary cause changes in supplementary</li><li>selections in supplementary cause changes in content</li><li>highlight current selections</li><li>used in Mail app where primary is a list of mailboxes, supplementary is a list of messages in the selected mailbox, and content is the content of the selected email</li><li>SwiftUI doesn't directly support this, but similar functionality can be implemented using <code>NavigationView</code>. This displays side-by-side views on iPads in landscape mode.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/tables/?v=1.0.18" rel="noopener" target="_blank">Table</a></p><ul><li>a scrolling, single-column or rows that are each divided into sections</li><li>can use for navigation in a Split View</li><li>three styles: plain, grouped, and inset grouped</li><li>not a data grid like in other UI frameworks</li><li>SwiftUI uses the <code>List</code> view in place of the UIKit <code>UITableView</code> view. <code>List</code> is easier to use. It doesn't require specifying the number of rows and cells don't need to be configured. Instead a <code>List</code> is composed of rows that each know how to arrange and display their data. See the &quot;List&quot; section below.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/text-views/?v=1.0.18" rel="noopener" target="_blank">Text View</a></p><ul><li>multi-line styled text</li><li>optional scrolling</li><li>can control alignment, font, and color</li><li>can be editable and if so can specify a keyboard type; (see the <a href="https://developer.apple.com/documentation/uikit/uikeyboardtype?v=1.0.18" rel="noopener" target="_blank">UIKeyboardType enum</a>)</li><li>SwiftUI creates this with a combination of <code>Text</code> and <code>AttributedString</code>. See the &quot;AttributedString&quot; section.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/views/web-views/?v=1.0.18" rel="noopener" target="_blank">Web View</a></p><ul><li>renders embedded HTML or HTML from a web site</li><li>can enable forward and backward navigation</li><li>SwiftUI does not include support for web views. <code>WKWebView</code> can be used, but setting it up in SwiftUI app is not trivial.</li></ul></li></ul><h3 id="controls">Controls</h3><ul><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/buttons/?v=1.0.18" rel="noopener" target="_blank">Button</a></p><ul><li>several predefined button styles are supported including<ul><li>toggle: different from <code>Toggle</code> view</li><li>pop-up: displays a menu of mutually exclusive options; after choosing an option the button content can change to indicate the selection</li><li>pull-down: displays a menu of items that relate to the button purpose; button content never changes</li></ul></li><li>predefined sizes are small, medium, and large</li><li>predefined styles include plain, gray, tinted, and filled (used for most likely action)</li><li>can include an SF Symbol icon</li><li>can have a role of normal, primary, cancel, or destructive</li><li>can be a close button (x in circle) that closes the parent view</li><li>can be an info button (i in circle) that displays information about the parent view</li><li>SwiftUI creates this with <code>Button</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/color-wells/?v=1.0.18" rel="noopener" target="_blank">Color Well</a></p><ul><li>displays a currently selected color in a circle</li><li>when tapped, displays the system color picker to change the selected color</li><li>SwiftUI creates this with <code>ColorPicker</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/context-menus/?v=1.0.18" rel="noopener" target="_blank">Context Menu</a></p><ul><li>displays a menu of context-sensitive items when the menu label is tapped</li><li>can contain sub-menus</li><li>can include separators to group options</li><li>SwiftUI creates this with <code>Menu</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/edit-menus/?v=1.0.18" rel="noopener" target="_blank">Edit Menu</a></p><ul><li>a provided horizontal menu that is displayed when a long press occurs in a text field, text view, web view, or image view</li><li>by default contains buttons for Cut, Copy, Paste, Select, Select All, Delete, Replace..., Loop Up, and Share...</li><li>can disable any of the default buttons to remove them</li><li>SwiftUI provides this automatically when a long press occurs in a <code>TextField</code> or <code>TextEditor</code>.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/labels/?v=1.0.18" rel="noopener" target="_blank">Label</a></p><ul><li>plain or styled text</li><li>SwiftUI creates this with <code>Label</code> or <code>Text</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/page-controls/?v=1.0.18" rel="noopener" target="_blank">Page Control</a></p><ul><li>a row of indicator images that represent pages in a list</li><li>can handle any number of pages</li><li>image for current page is highlighted</li><li>can customize images</li><li>SwiftUI provides this in <code>TabView</code> when it has a <code>tabViewStyle</code> view modifier with a value of <code>.page</code>. See an example in the &quot;TabView&quot; description later.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/pickers/?v=1.0.18" rel="noopener" target="_blank">Picker</a></p><ul><li>displays distinct values in a scrollable list and allows users to select one</li><li>SwiftUI creates this with <code>Picker</code> and <code>DatePicker</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/progress-indicators/?v=1.0.18" rel="noopener" target="_blank">Progress Indicator</a></p><ul><li>informs users that an activity is running in the background</li><li>can indicate how much longer it will run using a progress bar</li><li>&quot;activity indicators&quot; are for indeterminate activities</li><li>SwiftUI creates this with <code>ProgressView</code>.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/refresh-content-controls/?v=1.0.18" rel="noopener" target="_blank">Refresh Content Control</a></p><ul><li>becomes visible when a user pulls down on a view to request a content reload</li><li>usually used in a table view</li><li>SwiftUI creates this with the <code>refreshable</code> view modifier which is often used on <code>List</code> views.</li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/segmented-controls/?v=1.0.18" rel="noopener" target="_blank">Segmented Control</a></p><ul><li>set of toggle buttons</li><li>can use in place of web UI radio buttons</li><li>can use to select between different kinds of views</li><li>SwiftUI creates this with <code>Picker(...).pickerStyle(.segmented)</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/sliders/?v=1.0.18" rel="noopener" target="_blank">Slider</a></p><ul><li>a horizontal track with a thumb that slides between minimum and maximum values</li><li>can display text and/or icons on leading and trailing ends</li><li>SwiftUI creates this with <code>Slider</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/steppers/?v=1.0.18" rel="noopener" target="_blank">Stepper</a></p><ul><li>pair of minus and plus buttons that decrement and increment a value</li><li>can replace &quot;-&quot; and &quot;+&quot; with images</li><li>doesn't display current value</li><li>SwiftUI creates this with <code>Stepper</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/switches/?v=1.0.18" rel="noopener" target="_blank">Switch</a></p><ul><li>a toggle between mutually-exclusive states</li><li>can set tint to match app theme</li><li>usually used in table rows with a label on the leading side</li><li>SwiftUI creates this with <code>Toggle</code></li></ul></li><li><p><a href="https://developer.apple.com/design/human-interface-guidelines/ios/controls/text-fields/?v=1.0.18" rel="noopener" target="_blank">Text Field</a></p><ul><li>single-line text input with fixed height</li><li>usually has rounded corners</li><li>brings up on-screen keyboard when tapped</li><li>can contain placeholder text which is preferred over preceding with a label</li><li>optionally includes a clear button (x in circle)</li><li>can mask inputs like passwords</li><li>can include images on leading and/or trailing sides</li><li>can specify a keyboard type defined by the <a href="https://developer.apple.com/documentation/uikit/uikeyboardtype?v=1.0.18" rel="noopener" target="_blank">UIKeyboardType enum</a>)</li><li>SwiftUI creates this with <code>TextField</code>, <code>SecureField</code>, and <code>TextEditor</code> (multi-line)</li></ul></li></ul><h2 id="icons">Icons</h2><p><a href="https://developer.apple.com/sf-symbols/?v=1.0.18" rel="noopener" target="_blank">SF Symbols</a> is a library of over 3000 icons provided by Apple. To use it, browse the website linked above and click the &quot;Download&quot; link. This downloads a <code>.dmg</code> file. Double-click this and double-click the <code>.pkg</code> file icon to install the library and the &quot;SF Symbols&quot; app. To discover icon names, launch the &quot;SF Symbols&quot; app, browse the collection of icons, and click them.</p><p>To use an icon in a SwiftUI app, add an <code>Image</code> view. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"heart"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// one way to set font size</span><br><span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"cloud.snow"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// another way</span></code></pre><p>To use FontAwesome icons, select File ... Add Packages... and enter the URL <a href="https://github.com/onmyway133/FontAwesomeSwiftUI">https://github.com/onmyway133/FontAwesomeSwiftUI</a> in the search input in the upper-right. Select FontAwesomeSwiftUI and press the &quot;Add Package&quot; button.</p><p>To render a FontAwesome icon, call <code>FontAwesome.register()</code> and pass icons to the <code>Text</code> view. For example, <code>Text(AwesomeIcon.aws.rawValue)</code>.</p><h2 id="core-graphics-(cg)">Core Graphics (CG)</h2><p>Several types used in views have names that begin with &quot;CG&quot; which stands for &quot;Core Graphics&quot;. These include:</p><ul><li><p><code>CGAffineTransform</code></p><p>This holds a transformation matrix used in 2D transformations.</p></li><li><p><code>CGColor</code></p><p><code>CGColor</code> is a type used by Core Graphics to represent colors. It is typically only used to apply color operations in Core Graphics contexts like CGImage and CGLayer.</p></li><li><p><code>CGFloat</code></p><p>This holds a floating point value whose size depends on the CPU architecture. It can be 32 or 64 bits.</p></li><li><p><code>CGPoint</code></p><p>This holds <code>x</code> and <code>y</code> properties that have <code>CGFloat</code> values.</p></li><li><p><code>CGRect</code></p><p>This holds an <code>origin</code> property that is a <code>CGPoint</code> and a <code>size</code> property that is a <code>CGSize</code>. It also has the following computed properties with <code>CGFloat</code> values: <code>height</code>, <code>width</code>, <code>minX</code>, <code>maxX</code>, <code>minY</code>, <code>maxY</code>, <code>midX</code>, and <code>midY</code>.</p></li><li><p><code>CGSize</code></p><p>This holds <code>width</code> and <code>height</code> properties that have <code>CGFloat</code> values.</p></li><li><p><code>CGVector</code></p><p>This holds <code>dx</code> and <code>dy</code> properties that have <code>CGFloat</code> values.</p></li></ul><h2 id="views-1">Views</h2><p>Every visible part of an app created with SwiftUI is a view. Views can render other views.</p><p>Each view is a struct that implement the <code>View</code> protocol. This requires having a computed property named <code>body</code> with the type <code>Some View</code>. Most properties declared in a <code>View</code> struct should be <code>private</code>. Exceptions include the <code>body</code> property and any properties that are passed in when instances are created.</p><p>Views are used for components and layout. Views that layout other views are often referred to as &quot;container&quot; or &quot;combiner&quot; views.</p><p>Functions that create views often take a <code>ViewBuilder</code> their last argument. These are typically written as trailing closures.</p><p>Views can be given an explicit identifier with the <code>.id</code> method that is passed an identifier. This is useful in methods that take a view identifier like the <code>ScrollViewReader</code> method <code>scrollTo</code>.</p><p>To cause a view to take the full width of the screen, apply the <code>frame</code> view modifier. For example, <code>myView.frame(maxWidth: .infinity)</code>. In can also be useful to specify the height. For example, <code>myView.frame(maxWidth: .infinity, maxHeight: 100)</code>.</p><p>Many views utilize the app accent color, also referred to as &quot;global tint&quot;. To set this, select the <code>Assets.xcassets</code> file in the Navigator, select &quot;AccentColor&quot;, click the &quot;Universal&quot; swatch, and click the &quot;Color&quot; dropdown in the Inspector. Resume Preview to see the change. This does not affect <code>Toggle</code> views which required using the view modifier <code>.toggleStyle(SwitchToggleStyle(tint: someColor))</code>.</p><h2 id="viewbuilders">ViewBuilders</h2><p>Container views can be passed a special kind of closure as their last argument that is called a <code>ViewBuilder</code>. This uses list-oriented syntax to describe a list of one to ten other views that are combined into a single view. Note that a <code>ForEach</code> view counts as a single view.</p><p><code>ViewBuilder</code> blocks are parsed differently by the compiler than ordinary closures. In addition to containing views, they can also contain local variable declarations and conditional logic with <code>if</code>, <code>if let</code>, and <code>switch</code> statements. However, no other Swift syntax is allowed inside them.</p><p>For iteration in a <code>ViewBuilder</code>, use a <code>ForEach</code> <code>View</code>. There is no corresponding view for conditional logic, so <code>if</code> and <code>switch</code> statements are used instead.</p><p><code>@ViewBuilder</code> is a custom parameter attribute used to indicate that a parameter accepts function that returns a list of views. The list of views can match one of the following types:</p><ul><li><code>EmptyView</code>: zero views</li><li><code>TupleView</code>: two or more views</li><li><code>Content?</code>: generated by an <code>if</code> statement to render one view or none</li><li><code>_ConditionalContent</code>: generated by an <code>if/else</code> or <code>switch</code> statement to render one of a set of possible views (The underscore indicates that this is a not a public API.)</li></ul><p>A <code>ViewBuilder</code> is a kind of result builder. For more information on these, see the <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md?v=1.0.18" rel="noopener" target="_blank">Result builders proposal</a>.</p><h2 id="container-views">Container Views</h2><p>Container views combine other views. They act as a container of other views and layout those views in a specific way.</p><p>To hide a view but still take up the space that would be occupied if the view was visible, consider setting its opacity to zero. This is done with the <code>opacity</code> view modifier. For example, <code>someView.opacity(0)</code>.</p><p>Here are the container views that are provided by SwiftUI.</p><h3 id="hstack"><code>HStack</code></h3><p>This lays out child views horizontally.</p><p>The child views are centered vertically by default. To change this, add the <code>alignment</code> attribute which can be set to <code>.top</code>, <code>.center</code>, <code>.bottom</code>, <code>.firstTextBaseline</code>, or <code>.lastTextBaseline</code>.</p><p>A default amount of space is added between each child which seems to be 8 pixels (can't find this documented). To change the space between child views, add the <code>spacing</code> attribute.</p><p>The following example shows the effect of setting <code>alignment</code> to <code>.lastTextBaseLine</code>.</p><p><img alt="SwiftUI HStack" style="width: 40%" src="/blog/assets/SwiftUI-HStack.png?v=1.0.18" title="SwiftUI HStack"></p><pre class="language-swift"><code class="language-swift"><span class="token function">HStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>lastTextBaseline<span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Line 1\nLine 2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span></code></pre><h3 id="vstack"><code>VStack</code></h3><p>This lays out child views vertically.</p><p>The child views are centered horizontally by default. To change this, add the <code>alignment</code> attribute which can be set to <code>.leading</code>, <code>.center</code>, or <code>.trailing</code>.</p><h3 id="zstack"><code>ZStack</code></h3><p>This stacks views from bottom to top. It is ideal for adding a background to a set of views.</p><p>Here are three approaches to rendering text with a colored background, one of which uses a <code>ZStack</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> bgColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>yellow<br>    <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">"Test"</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><br>            <span class="token comment">// Semicolons must separate multiple statements</span><br>            <span class="token comment">// on the same line.</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span> rect<span class="token punctuation">;</span> <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">}</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            rect<span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="lazyhstack"><code>LazyHStack</code></h3><p>This is similar to <code>HStack</code>, but only builds and renders child views when they are visible. It is commonly used inside a <code>ScrollView</code> with <code>axes</code> set to <code>.horizontal</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">LazyHStack</span> <span class="token punctuation">{</span><br>        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="lazyvstack"><code>LazyVStack</code></h3><p>This is similar to <code>VStack</code>, but only builds and renders child views when they are visible. It is commonly used inside a <code>ScrollView</code> with <code>axes</code> set to <code>.vertical</code>, which is the default.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>    <span class="token builtin">LazyVStack</span> <span class="token punctuation">{</span><br>        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="lazyhgrid"><code>LazyHGrid</code></h3><p>This specifies a number of rows and adds columns as necessary. The grids are described by an array of <a href="https://developer.apple.com/documentation/swiftui/griditem?v=1.0.18" rel="noopener" target="_blank">GridItem</a> objects that each specify their size, spacing, and alignment. For example, a <code>GridItem</code> can adapt to the width of its content, but also have a minimum size of 25 by specifying <code>GridItem(.adaptive(minimum: 25))</code>.</p><p>See the example in <code>LazyVGrid</code> below.</p><h3 id="lazyvgrid"><code>LazyVGrid</code></h3><p>This is similar to <code>LazyHGrid</code>, but specifies a number of columns and adds rows as necessary.</p><p>The following example demonstrates both <code>LazyHGrid</code> and <code>LazyVGrid</code>. It spreads a list of numbers over either rows or columns.</p><p><img alt="SwiftUI LazyHGrid and LazyVGrid" style="width: 40%" src="/blog/assets/SwiftUI-Lazy-Grids.png?v=1.0.18" title="SwiftUI LazyHGrid and LazyVGrid"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> <span class="token builtin">count</span> <span class="token operator">=</span> <span class="token number">4</span><br>  @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isVertical <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// Why can't this be static?</span><br><br>  <span class="token comment">// Describe the characteristics of each grid.</span><br>  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> gridItem <span class="token operator">=</span> <span class="token function">GridItem</span><span class="token punctuation">(</span><br>      <span class="token comment">// This specifies the grid height in LazyHGrid</span><br>      <span class="token comment">// or the grid width in LazyVGrid.</span><br>      <span class="token punctuation">.</span><span class="token function">fixed</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token comment">// This specifies the vertical spacing in LazyHGrid</span><br>      <span class="token comment">// or horizontal spacing in LazyVGrid.</span><br>      spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>      alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<br>  <span class="token punctuation">)</span><br><br>  <span class="token keyword">var</span> gridItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">GridItem</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>repeating<span class="token punctuation">:</span> gridItem<span class="token punctuation">,</span> <span class="token builtin">count</span><span class="token punctuation">:</span> <span class="token builtin">count</span><span class="token punctuation">)</span><br><br>  <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>      <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>          <span class="token keyword">if</span> isVertical <span class="token punctuation">{</span><br>              <span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>                  <span class="token function">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> gridItems<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                      <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><br>                      <span class="token punctuation">}</span><br>                  <span class="token punctuation">}</span><br>                  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                  <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><br>              <span class="token punctuation">}</span><br>          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>              <span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  <span class="token function">LazyHGrid</span><span class="token punctuation">(</span>rows<span class="token punctuation">:</span> gridItems<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                      <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><br>                      <span class="token punctuation">}</span><br>                  <span class="token punctuation">}</span><br>                  <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                  <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><br>              <span class="token punctuation">}</span><br>          <span class="token punctuation">}</span><br>          <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Toggle Direction"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              isVertical<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>          <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following example demonstrates <code>LazyVGrid</code> where the views created are intended for specific columns.</p><p><img alt="SwiftUI LazyVGrid" style="width: 40%" src="/blog/assets/SwiftUI-LazyVGrid.png?v=1.0.18" title="SwiftUI LazyVGrid"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">intPow</span><span class="token punctuation">(</span><span class="token number">_</span> base<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token number">_</span> exponent<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Int</span> <span class="token punctuation">{</span><br>    <span class="token function">Int</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">Float</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Float</span><span class="token punctuation">(</span>exponent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> columns<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">GridItem</span><span class="token punctuation">]</span> <span class="token operator">=</span><br>            <span class="token function">Array</span><span class="token punctuation">(</span><br>                repeating<span class="token punctuation">:</span> <span class="token function">GridItem</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">flexible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                <span class="token builtin">count</span><span class="token punctuation">:</span> <span class="token number">3</span><br>            <span class="token punctuation">)</span><br><br>        <span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>            <span class="token function">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> columns<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Number"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Squared"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Cubed"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><br>                <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token number">50</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> number <span class="token keyword">in</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">intPow</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">intPow</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="form"><code>Form</code></h3><p>This is a container of data entry views.</p><p>The following example demonstrates many common views used in forms.</p><p><img alt="SwiftUI Form" style="width: 40%" src="/blog/assets/SwiftUI-Form.png?v=1.0.18" title="SwiftUI Form"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">ShirtSize</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>  <span class="token keyword">case</span> small<br>  <span class="token keyword">case</span> medium<br>  <span class="token keyword">case</span> large<br>  <span class="token keyword">case</span> extraLarge<br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> blogUrl <span class="token operator">=</span> <span class="token string">"https://mvolkmann.github.io/blog"</span><br><br>    <span class="token comment">// Typically form data would be tied to ViewModel properties</span><br>    <span class="token comment">// rather than using @State.</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> bedTime<span class="token punctuation">:</span> <span class="token builtin">Date</span> <span class="token operator">=</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> birthday<span class="token punctuation">:</span> <span class="token builtin">Date</span> <span class="token operator">=</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> favoriteColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>yellow<br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogCount <span class="token operator">=</span> <span class="token number">0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> hungry <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">""</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> motto <span class="token operator">=</span> <span class="token string">"This is my motto."</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> rating <span class="token operator">=</span> <span class="token number">0.0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> shirtSize<span class="token punctuation">:</span> <span class="token builtin">ShirtSize</span> <span class="token operator">=</span> <span class="token punctuation">.</span>large<br><br>    <span class="token keyword">var</span> isEditing <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Profile"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $name<span class="token punctuation">)</span><br>                    <span class="token function">DatePicker</span><span class="token punctuation">(</span><br>                        <span class="token string">"Birthday"</span><span class="token punctuation">,</span><br>                        selection<span class="token punctuation">:</span> $birthday<span class="token punctuation">,</span><br>                        displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">.</span>date<br>                    <span class="token punctuation">)</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Hungry?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $hungry<span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token function">SwitchToggleStyle</span><span class="token punctuation">(</span>tint<span class="token punctuation">:</span> <span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Preferences"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token comment">// Links work in Simulator, but not in Preview.</span><br>                    <span class="token function">Link</span><span class="token punctuation">(</span><br>                        <span class="token string">"Blog"</span><span class="token punctuation">,</span><br>                        destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span>blogUrl<span class="token punctuation">)</span><span class="token operator">!</span><br>                    <span class="token punctuation">)</span><br>                    <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Motto"</span><span class="token punctuation">)</span><br>                        <span class="token comment">// It seems TextEditor lineLimit is</span><br>                        <span class="token comment">// only enforced on initial render.</span><br>                        <span class="token comment">// It doesn't prevent more lines from being</span><br>                        <span class="token comment">// displayed if the user types more text.</span><br>                        <span class="token function">TextEditor</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $motto<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lineLimit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">ColorPicker</span><span class="token punctuation">(</span><br>                        <span class="token string">"Favorite Color"</span><span class="token punctuation">,</span><br>                        selection<span class="token punctuation">:</span> $favoriteColor<br>                    <span class="token punctuation">)</span><br>                    <span class="token function">DatePicker</span><span class="token punctuation">(</span><br>                        <span class="token string">"Bed Time"</span><span class="token punctuation">,</span><br>                        selection<span class="token punctuation">:</span> $bedTime<span class="token punctuation">,</span><br>                        displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">.</span>hourAndMinute<br>                    <span class="token punctuation">)</span><br>                    <span class="token function">Picker</span><span class="token punctuation">(</span><span class="token string">"Shirt Size"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $shirtSize<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token builtin">ShirtSize</span><span class="token punctuation">.</span>allCases<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token keyword">in</span><br>                            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>size<span class="token punctuation">.</span>rawValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><br>                        <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Rating"</span><span class="token punctuation">)</span><br>                        <span class="token function">Slider</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $rating<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">,</span> step<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">Int</span><span class="token punctuation">(</span>rating<span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Stepper</span><span class="token punctuation">(</span><br>                            <span class="token string">"# of Dogs"</span><span class="token punctuation">,</span><br>                            value<span class="token punctuation">:</span> $dogCount<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>dogCount<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Profile"</span><span class="token punctuation">)</span><br>            <span class="token comment">// accentColor changes the color of many elements including</span><br>            <span class="token comment">// the text cursor color, focus color, and Slider bar color.</span><br>            <span class="token comment">// It does not affect the focus background color of Toggle</span><br>            <span class="token comment">// views.  Use the "toggleStyle" view modifier for that.</span><br>            <span class="token punctuation">.</span><span class="token function">accentColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token punctuation">.</span>toolbar <span class="token punctuation">{</span><br>                <span class="token function">ToolbarItemGroup</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>navigationBarTrailing<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Save"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> saveUser<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Common UI components that are not built into SwiftUI include:</p><ul><li>checkbox: alternative is Toggle</li><li>image picker: must build or using a library</li><li>multiple choice: alternative is <code>List</code> inside <code>NavigationView</code> with <code>EditButton</code></li><li>radio buttons: alternative is <code>Picker</code> (supported in macOS with <code>Picker</code> and <code>.pickerStyle(RadioGroupPickerStyle())</code></li><li>toggle buttons: alternative is <code>Picker</code></li></ul><h3 id="section"><code>Section</code></h3><p>These break a view into sections that are optionally labelled. They are also optionally collapsable. This was used in the <code>Form</code> example above.</p><h3 id="group"><code>Group</code></h3><p>This collects all its child views into a single view without changing their layout. View modifiers applied to the <code>Group</code> are applied to each of the children.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">Group</span> <span class="token punctuation">{</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"One"</span><span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Two"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span></code></pre><h3 id="groupbox"><code>GroupBox</code></h3><p>This creates a logical grouping of other views with an optional <code>Label</code> at the top.</p><pre class="language-swift"><code class="language-swift"><span class="token function">GroupBox</span><span class="token punctuation">(</span><br>    label<span class="token punctuation">:</span> <span class="token function">Label</span><span class="token punctuation">(</span><span class="token string">"Wayne Gretzky"</span><span class="token punctuation">,</span><br>                 systemImage<span class="token punctuation">:</span> <span class="token string">"sportscourt"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><br><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> maxHeight<span class="token punctuation">:</span> <span class="token number">130</span><span class="token punctuation">)</span><br>    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Like"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $like<span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="controlgroup"><code>ControlGroup</code></h3><p>This is usd to group related controls. It is typically used with <code>Button</code> views. There are two built-in styles, <code>automatic</code> (default) and <code>navigation</code>.</p><p><img alt="SwiftUI ControlGroup" style="width: 40%" src="/blog/assets/SwiftUI-ControlGroup.png?v=1.0.18" title="SwiftUI ControlGroup"></p><pre class="language-swift"><code class="language-swift"><span class="token builtin">ControlGroup</span> <span class="token punctuation">{</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Cancel"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"canceling"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Save"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"saving"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token builtin">ControlGroup</span> <span class="token punctuation">{</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Cancel"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"canceling"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Save"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"saving"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">controlGroupStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>navigation<span class="token punctuation">)</span></code></pre><h3 id="scrollview"><code>ScrollView</code></h3><p>This creates a scrollable view that is vertical by default, but can be changed to horizontal. It occupies all the space offered to it. Scrolling reveals additional child views when all of them do not fit. See examples of using this in the descriptions of <code>LazyHStack</code> and <code>LazyVStack</code>.</p><h3 id="scrollviewreader"><code>ScrollViewReader</code></h3><p>This is a view that supports programmatic scrolling.</p><p><img alt="SwiftUI ScrollViewReader" style="width: 40%" src="/blog/assets/SwiftUI-ScrollViewReader.png?v=1.0.18" title="SwiftUI ScrollViewReader"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>  @<span class="token builtin">Namespace</span> <span class="token keyword">var</span> topId<br>  @<span class="token builtin">Namespace</span> <span class="token keyword">var</span> bottomId<br><br>  <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>      <span class="token builtin">ScrollViewReader</span> <span class="token punctuation">{</span> proxy <span class="token keyword">in</span><br>          <span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>              <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Scroll to Bottom"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  withAnimation <span class="token punctuation">{</span><br>                      proxy<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>bottomId<span class="token punctuation">)</span><br>                  <span class="token punctuation">}</span><br>              <span class="token punctuation">}</span><br>              <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>topId<span class="token punctuation">)</span><br><br>              <span class="token function">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span> <span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token keyword">in</span><br>                      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                  <span class="token punctuation">}</span><br>              <span class="token punctuation">}</span><br><br>              <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Scroll to Top"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  withAnimation <span class="token punctuation">{</span><br>                      proxy<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>topId<span class="token punctuation">)</span><br>                  <span class="token punctuation">}</span><br>              <span class="token punctuation">}</span><br>              <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>bottomId<span class="token punctuation">)</span><br>          <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="scrollviewproxy"><code>ScrollViewProxy</code></h3><p>An instance of this type is passed to the trailing closure of <code>ScrollViewReader</code>. See the example above.</p><h3 id="list"><code>List</code></h3><p>This displays a list of views in a single column. It also acts like <code>ForEach</code> for iterating over array elements. See more in the &quot;List&quot; section below.</p><h3 id="foreach"><code>ForEach</code></h3><p>This view iterates of the elements of a <code>RandomAccessCollection</code> (includes <code>Array</code> and <code>Range</code> types) and renders the view specified in its <code>ViewBuilder</code>.</p><p>The elements in the <code>RandomAccessCollection</code> must either conform to the <code>Identifiable</code> protocol (which requires them to have an <code>id</code> property) OR the <code>id:</code> argument must be set. This is important! If the elements are not <code>Identifiable</code> and no <code>id:</code> argument is supplied, the view may not update property when the collection changes.</p><p>Only constant ranges are allowed (ex. <code>0..&lt;5</code>, but not <code>begin..&lt;end</code>). The value of <code>id:</code> is a key path that specifies how to find a unique value in the element. For example, the <code>String</code> type does not implement <code>Identifiable</code>. To iterate over an array of <code>String</code> values:</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// \.self is a key path that refers to the entire object.</span><br><span class="token function">ForEach</span><span class="token punctuation">(</span>stringArray<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span></code></pre><h3 id="table"><code>Table</code></h3><p>This is only available in macOS 12 and above. The following example demonstrates using a <code>Table</code> that supports row selection and column sorting.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>  <span class="token keyword">let</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>  <span class="token keyword">let</span> color<span class="token punctuation">:</span> <span class="token builtin">String</span><br>  <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">private</span> <span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token comment">// initially sorted on name</span><br>    <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">"black brindle"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">"white"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">"gray"</span><span class="token punctuation">)</span><br><span class="token punctuation">]</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedDogs <span class="token operator">=</span> <span class="token builtin">Set</span><span class="token operator">&lt;</span><span class="token builtin">Dog</span><span class="token punctuation">.</span><span class="token constant">ID</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> sortOrder <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token function">KeyPathComparator</span><span class="token punctuation">(</span>\<span class="token builtin">Dog</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// initial</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Table</span><span class="token punctuation">(</span>dogs<span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $selectedDogs<span class="token punctuation">,</span> sortOrder<span class="token punctuation">:</span> $sortOrder<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">TableColumn</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> \<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>            <span class="token function">TableColumn</span><span class="token punctuation">(</span><span class="token string">"Breed"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> \<span class="token punctuation">.</span>breed<span class="token punctuation">)</span><br>            <span class="token function">TableColumn</span><span class="token punctuation">(</span><span class="token string">"Color"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> \<span class="token punctuation">.</span>color<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token comment">// Why do these view modifiers have no effect?</span><br>        <span class="token comment">//.tableStyle(InsetTableStyle.inset(alternatesRowBackgrounds: true))</span><br>        <span class="token comment">//.tableStyle(BorderedTableStyle.bordered(alternatesRowBackgrounds: true))</span><br><br>        <span class="token comment">// Why does the first click on a table heading do nothing?</span><br>        <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> sortOrder<span class="token punctuation">)</span> <span class="token punctuation">{</span> dogs<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> $<span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>selectedDogs<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span> dogs selected"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="navigationview"><code>NavigationView</code></h3><p>This marks an area where a stack of views will be rendered one at a time. It contains <code>NavigationLink</code> views that are similar to HTML anchor elements. Tapping them causes the associated view to be rendered inside the <code>NavigationView</code>. See the &quot;Navigation&quot; section later.</p><h3 id="navigationlink"><code>NavigationLink</code></h3><p>These are used inside a <code>NavigationView</code>. See the &quot;Navigation&quot; section later.</p><h3 id="outlinegroup"><code>OutlineGroup</code></h3><p>This displays a tree of data with disclosure angle brackets. See my SwiftUI-OutlineGroup project and the questions in it.</p><h3 id="disclosuregroup"><code>DisclosureGroup</code></h3><p>This hides and shows its contents based on whether it is in an expanded state. By default it is not expanded. It can be expanded by tapping or by associating a <code>Bool</code> binding that is programmatically set to <code>true</code>.</p><p><img alt="SwiftUI DisclosureGroup" style="width: 40%" src="/blog/assets/SwiftUI-DisclosureGroup.png?v=1.0.18" title="SwiftUI DisclosureGroup"></p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> cyclist <span class="token operator">=</span> <span class="token boolean">false</span><br>@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">""</span><br>@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> lastName <span class="token operator">=</span> <span class="token string">""</span><br>@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> personalExpanded <span class="token operator">=</span> <span class="token boolean">true</span><br>@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> runner <span class="token operator">=</span> <span class="token boolean">false</span><br><br><span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>        <span class="token function">DisclosureGroup</span><span class="token punctuation">(</span><span class="token string">"Personal"</span><span class="token punctuation">,</span> isExpanded<span class="token punctuation">:</span> $personalExpanded<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"First Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $firstName<span class="token punctuation">)</span><br>            <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Last Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $lastName<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token function">DisclosureGroup</span><span class="token punctuation">(</span><span class="token string">"Preferences"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Runner"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $runner<span class="token punctuation">)</span><br>            <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Cyclist"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $cyclist<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="tabview"><code>TabView</code></h3><p>This creates a row of buttons at the bottom of the display that can be tapped to navigate to associated views.</p><p>For the docs, &quot;Tab views only support tab items of type Text, Image, or an image followed by text. Passing any other type of view results in a visible but empty tab item.&quot; A good size for these images is 32x32.</p><p>To use <code>TabView</code> in conjunction with <code>NavigationView</code>, wrap each page in its own <code>NavigationView</code> rather than placing the <code>TabView</code> inside a <code>NavigationView</code>. Having a <code>NavigationView</code> for each page allows use of the <code>toolbar</code> view modifier to add a toolbar at the top of each page.</p><p><img alt="SwiftUI TabView" style="width: 40%" src="/blog/assets/SwiftUI-TabView.png?v=1.0.18" title="SwiftUI TabView"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Transportation</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> kind<span class="token punctuation">:</span> <span class="token builtin">String</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Information about <span class="token interpolation"><span class="token delimiter variable">\(</span>kind<span class="token delimiter variable">)</span></span> transportation goes here."</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>kind<span class="token delimiter variable">)</span></span> Transportation"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">TabView</span> <span class="token punctuation">{</span><br>            <span class="token function">Transportation</span><span class="token punctuation">(</span>kind<span class="token punctuation">:</span> <span class="token string">"Car"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tabItem <span class="token punctuation">{</span><br>                <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"car"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Car"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token function">Transportation</span><span class="token punctuation">(</span>kind<span class="token punctuation">:</span> <span class="token string">"Bus"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tabItem <span class="token punctuation">{</span><br>                <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"bus"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Bus"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token function">Transportation</span><span class="token punctuation">(</span>kind<span class="token punctuation">:</span> <span class="token string">"Train"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tabItem <span class="token punctuation">{</span><br>                <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"tram"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Train"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token function">Transportation</span><span class="token punctuation">(</span>kind<span class="token punctuation">:</span> <span class="token string">"Airplane"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tabItem <span class="token punctuation">{</span><br>                <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"airplane"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Airplane"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">onAppear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token builtin">UITabBar</span><span class="token punctuation">.</span><span class="token function">appearance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>systemGray5<br>        <span class="token punctuation">}</span><br>        <span class="token comment">// Change color of Image and Text views which defaults to blue.</span><br>        <span class="token punctuation">.</span><span class="token function">accentColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>By default the first tab is initially displayed. To start on another tab, add a state variable that holds the tag of the desired initial tab.</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selection <span class="token operator">=</span> <span class="token number">3</span><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token function">TabView</span><span class="token punctuation">(</span>selection<span class="token punctuation">:</span> $selection<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>    <span class="token function">SomeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tabItem <span class="token punctuation">{</span><br>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>    <span class="token punctuation">}</span><br>    <span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><p>Here's another example that displays a set of pages the user can swipe through. Page controls with a dot representing each page are displayed at the bottom.</p><p><img alt="SwiftUI TabView Pages" style="width: 40%" src="/blog/assets/SwiftUI-TabView-Pages.png?v=1.0.18" title="SwiftUI TabView Pages"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Page</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> title<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> imageName<span class="token punctuation">:</span> <span class="token builtin">String</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>       <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span><br>            <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> imageName<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>description<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">TabView</span> <span class="token punctuation">{</span><br>            <span class="token function">Page</span><span class="token punctuation">(</span><br>                title<span class="token punctuation">:</span> <span class="token string">"Planes"</span><span class="token punctuation">,</span><br>                description<span class="token punctuation">:</span> <span class="token string">"Fly like the wind!"</span><span class="token punctuation">,</span><br>                imageName<span class="token punctuation">:</span> <span class="token string">"airplane"</span><br>            <span class="token punctuation">)</span><br>            <span class="token function">Page</span><span class="token punctuation">(</span><br>                title<span class="token punctuation">:</span> <span class="token string">"Trains"</span><span class="token punctuation">,</span><br>                description<span class="token punctuation">:</span> <span class="token string">"Travel the tracks!"</span><span class="token punctuation">,</span><br>                imageName<span class="token punctuation">:</span> <span class="token string">"tram"</span><br>            <span class="token punctuation">)</span><br>            <span class="token function">Page</span><span class="token punctuation">(</span><br>                title<span class="token punctuation">:</span> <span class="token string">"Automobiles"</span><span class="token punctuation">,</span><br>                description<span class="token punctuation">:</span> <span class="token string">"Drive the open road!"</span><span class="token punctuation">,</span><br>                imageName<span class="token punctuation">:</span> <span class="token string">"car"</span><br>            <span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">tabViewStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>indexDisplayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>always<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">indexViewStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>backgroundDisplayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>always<span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="hsplitview"><code>HSplitView</code></h3><p>This is a layout container that organized its children horizontally and allows users to resize the children by dragging dividers between them. It is only supported in macOS.</p><h3 id="vsplitview"><code>VSplitView</code></h3><p>This is a layout container that organized its children vertically and allows users to resize the children by dragging dividers between them. It is only supported in macOS.</p><h3 id="timelineview"><code>TimelineView</code></h3><p>This is a container that re-renders its children at scheduled times. The following example renders the date and time every second. For example, &quot;Nov 8, 2021 at 5:19:47&quot;.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">private</span> <span class="token keyword">var</span> dateFormatter<span class="token punctuation">:</span> <span class="token builtin">DateFormatter</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> df <span class="token operator">=</span> <span class="token function">DateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    df<span class="token punctuation">.</span>dateFormat <span class="token operator">=</span> <span class="token string">"MMM d, YYYY 'at' h:mm:ss a"</span><br>    <span class="token keyword">return</span> df<br><span class="token punctuation">}</span><br><br><span class="token keyword">private</span> <span class="token keyword">let</span> schedule <span class="token operator">=</span> <span class="token function">PeriodicTimelineSchedule</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> by<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><br><span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>        <span class="token function">TimelineView</span><span class="token punctuation">(</span>schedule<span class="token punctuation">)</span> <span class="token punctuation">{</span> context <span class="token keyword">in</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>dateFormatter<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> context<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="component-views">Component Views</h2><h3 id="button"><code>Button</code></h3><p>The content of a <code>Button</code> can be specified in two ways, passing a <code>String</code> as the first argument or using the <code>label</code> argument which can be specified with a trailing closure.</p><p><code>Button</code> specify a function to call when pressed using the <code>action</code> argument which can also be written as a trailing closure.</p><p>By default buttons have no background color and the text is the accent color. When their <code>role</code> attribute is set to <code>.destructive</code>, the text is red. When their <code>role</code> attribute is set to <code>.cancel</code>, <code>.none</code>, or not specified, there is no visible change. When the <code>buttonStyle</code> view modifier is passed <code>.bordered</code>, the background is gray. When the <code>buttonStyle</code> view modifier is passed <code>.borderedProminent</code>, the background is the accent color and the text is white.</p><p>To change the text color, apply the <code>foregroundColor</code> view modifier passing it a <code>Color</code>.</p><p>To change the background color, apply the <code>background</code> view modifier passing it a <code>Color</code>.</p><p>To disable a <code>Button</code>, apply the <code>disabled</code> view modifier passing it a <code>Bool</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// Button containing text and action specified with a trailing closure.</span><br><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"My Label"</span><span class="token punctuation">,</span> role<span class="token punctuation">:</span> <span class="token punctuation">.</span>destructive<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// code to run when button is pressed</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>borderedProminent<span class="token punctuation">)</span><br><br><span class="token comment">// Button with an "action" argument whose value</span><br><span class="token comment">// can be a closure or a function reference</span><br><span class="token comment">// and a "contents" argument whose value is a ViewBuilder</span><br><span class="token comment">// that can be written as a trailing closure.</span><br><span class="token function">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>    <span class="token comment">// code to run when button is pressed</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Heart"</span><span class="token punctuation">)</span><br>        <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"heart"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="color"><code>Color</code></h3><p>This creates a rectangle view with a specific background color that grows to fill all the space offered to it. For example, <code>Color.red</code> and <code>Color.clear</code> (transparent) are views.</p><p>A <code>UIColor</code> can be converted to a <code>Color</code>. For example, <code>UIColor.blue</code> can be converted with <code>Color(.systemBlue)</code>.</p><h3 id="image"><code>Image</code></h3><p>This renders an image. Many image formats are supported including PNG, JPEG, and HEIC. Click <code>Assets.xcassets</code> in the Navigator to associate a name with each image to be used. Click the &quot;+&quot; in the lower-left to add an entry. Give the entry a name and drag images into the 1x, 2x, and 3x boxes. Pass the name to the <code>Image</code> view as an unlabelled argument. For example, <code>Image(&quot;Comet&quot;)</code>.</p><p>Icons from SF Symbols can be used by specifying their name as the <code>systemName</code> argument. For example, <code>Image(systemName: &quot;cloud.snow&quot;)</code>.</p><h3 id="asyncimage"><code>AsyncImage</code></h3><p>This asynchronously loads and displays an image. It works in the Simulator, but not in Preview. The following example renders the Swift logo.</p><p><img alt="SwiftUI AsyncImage" style="width: 40%" src="/blog/assets/SwiftUI-AsyncImage.png?v=1.0.18" title="SwiftUI AsyncImage"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>  <span class="token keyword">private</span> <span class="token keyword">let</span> imageUrl <span class="token operator">=</span><br>      <span class="token string">"https://developer.apple.com/swift/images/swift-og.png"</span><br>  <span class="token keyword">private</span> <span class="token keyword">let</span> size <span class="token operator">=</span> <span class="token number">100.0</span><br><br>  <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>      <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>          <span class="token function">AsyncImage</span><span class="token punctuation">(</span><br>              url<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> imageUrl<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              content<span class="token punctuation">:</span> <span class="token punctuation">{</span> image <span class="token keyword">in</span><br>                  image<br>                      <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                      <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> size<span class="token punctuation">,</span> height<span class="token punctuation">:</span> size<span class="token punctuation">)</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>              placeholder<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">ProgressView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token comment">// spinner</span><br>          <span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="text"><code>Text</code></h3><p>This view renders text. If the text is too long to fit on a single line, it is automatically wrapped to additional lines. To prevent this, apply the <code>lineLimit</code> view modifier and pass the number of lines that can be used (perhaps 1). If the text doesn't fit in the allowed number of lines, it will be elided and an ellipsis will appear at the end.</p><p>To set the foreground color, apply the <code>foregroundColor</code> view modifier. To set the font size, apply the <code>font</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>The <code>Text</code> view can only be passed a <code>String</code>. Other types such as <code>Int</code> and <code>Double</code> must be converted to <code>String</code>. Consider extending <code>Text</code> to add initializers for other types. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token builtin">Text</span> <span class="token punctuation">{</span><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> number<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="textfield"><code>TextField</code></h3><p>This provides single-line text entry. It also works with non-String types using a <code>FormatStyle</code> object to convert between <code>String</code> values and the type. It takes label text, a binding to a variable, and an optional prompt. In macOS apps, the label precedes the input area and the prompt is used as placeholder text. In iOS apps, no text precedes the input area and the prompt or label is used as placeholder text.</p><p>The style can be set with the <code>textFieldStyle</code> view modifier. The options are <code>plain</code> (default) and <code>roundedBorder</code>. When the <code>plain</code> style is used, it's not obvious that the value can be edited.</p><p>Auto-capitalization of words is provided by default. To disable this, pass <code>.none</code> to the <code>autocapitalization</code> view modifier.</p><p>Auto-correction is provided by default. To disable this, pass <code>true</code> to the <code>disableAutocorrection</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// No prompt</span><br><span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"First Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $firstName<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span><br><br><span class="token comment">// Prompt specified</span><br><span class="token function">TextField</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $lastName<span class="token punctuation">,</span> prompt<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Required"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Last Name"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span><br><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// Using a non-String value (Int)</span><br><span class="token comment">// This doesn't provided arrows to increment and decrement the value</span><br><span class="token comment">// and it doesn't prevent typing non-digit characters.</span><br><span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Score"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> $score<span class="token punctuation">,</span> format<span class="token punctuation">:</span> <span class="token punctuation">.</span>number<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span></code></pre><h3 id="securefield"><code>SecureField</code></h3><p>This is like <code>TextField</code>, but obscures the characters that are typed. It is typically used for sensitive data like passwords and social security numbers.</p><pre class="language-swift"><code class="language-swift"><span class="token function">SecureField</span><span class="token punctuation">(</span><span class="token string">"Password"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $password<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">autocapitalization</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">none</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">disableAutocorrection</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre><h3 id="texteditor"><code>TextEditor</code></h3><p>This provides multi-line text entry. The number of lines can be limited, but it seems the limit is only enforced on initial render. It doesn't prevent more lines from being displayed if the user types more text. Use the <code>frame</code> view modifier to set the size.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> lines <span class="token operator">=</span> <span class="token number">3</span><br><span class="token function">TextEditor</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $reasonForVisit<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">lineLimit</span><span class="token punctuation">(</span>lines<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> maxHeight<span class="token punctuation">:</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span>lines <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><br>        <span class="token function">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token builtin">UIColor</span><span class="token punctuation">.</span>lightGray<span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">)</span></code></pre><h3 id="editbutton"><code>EditButton</code></h3><p>This toggles the edit mode of a <code>List</code>. It is typically added to a <code>List</code> using the <code>toolbar</code> view modifier. See the example in the &quot;Lists&quot; section.</p><h3 id="pastebutton"><code>PasteButton</code></h3><p>This is only available in macOS 10.15 and above. It renders a button for pasting data from the system clipboard.</p><h3 id="link"><code>Link</code></h3><p>This creates a hyperlink like an HTML <code>a</code> element. Clicking it opens the associated URL in Safari. This works in the Simulator, but Preview is not able to open Safari.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Link</span><span class="token punctuation">(</span><span class="token string">"link"</span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> url<span class="token punctuation">)</span></code></pre><h3 id="menu"><code>Menu</code></h3><p>This renders a label containing the menu title. When clicked, a menu appears below the label containing a vertical stack of buttons and sub-menus. Include <code>Divider</code> views to separate groups of menu items.</p><p>The order of the buttons depends on the position of the menu. If it is near the bottom of the display, the button order is reversed in order to make all the buttons visible and keep the first button close to the label.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Menu</span><span class="token punctuation">(</span><span class="token string">"My Menu"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Option 1"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Option 2"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token string">"Option 3"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Option 3.1"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>        <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Option 3.2"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following example uses a <code>Menu</code> to select the color uses to fill a <code>Rectangle</code>.</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token builtin">Color</span><span class="token punctuation">.</span>red<br><br><span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Menu</span><span class="token punctuation">(</span><span class="token string">"Color"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Red"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token punctuation">.</span>red <span class="token punctuation">}</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Green"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token punctuation">.</span>green <span class="token punctuation">}</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Blue"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> color <span class="token operator">=</span> <span class="token punctuation">.</span>blue <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="toggle"><code>Toggle</code></h3><p>This enables toggling between on and off states. By default it renders as a switch with a circular thumb.</p><p>The app accent color does not affect switch-style rendering. To change the color of the switch background, use the <code>toggleStyle</code> view modifier to specify a tint.</p><p>A <code>Toggle</code> can also render as a button whose color indicates whether it is off or on. When it is off, the button background color is clear and the text is the accent color. When it is on, the button background color is the accent color and the text is white.</p><p>The <code>Toggle</code> initializer takes a <code>String</code> to render (either before the switch or inside the button) and binding to a <code>Bool</code> value.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Hungry"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $hungry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token function">SwitchToggleStyle</span><span class="token punctuation">(</span>tint<span class="token punctuation">:</span> <span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">)</span><br><br><span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Hungry"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $hungry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>button<span class="token punctuation">)</span></code></pre><p><img alt="SwiftUI Toggle" style="width: 60%" src="/blog/assets/SwiftUI-Toggle.png?v=1.0.18" title="SwiftUI Toggle"></p><h3 id="slider"><code>Slider</code></h3><p>This renders a horizontal track with a thumb that slides between minimum and maximum values. The current value must have the type <code>Float</code>, not <code>Int</code>. Text and/or icons can be displayed at the leading and trailing ends.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// No text or icons at ends.</span><br><span class="token function">Slider</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $rating<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">,</span> step<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><br><span class="token comment">// Has text at ends and displays current value below.</span><br><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Slider</span><span class="token punctuation">(</span><br>        value<span class="token punctuation">:</span> $rating<span class="token punctuation">,</span><br>        <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">,</span><br>        step<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><br>        label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Rating"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// not rendered</span><br>        <span class="token comment">// The next two attributes must be closures that return the</span><br>        <span class="token comment">// same kind of view.  Image and Text are common choices.</span><br>        minimumValueLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"hand.thumbsdown"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        maximumValueLabel<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"hand.thumbsup"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"rating = <span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">Int</span><span class="token punctuation">(</span>rating<span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><h3 id="stepper"><code>Stepper</code></h3><p>This displays &quot;-&quot; and &quot;+&quot; buttons that can be tapped to decrement and increment a value. It takes a label to display before the buttons, a binding for the current value, an optional range the value must remain inside, and a closure to execute every time the <code>Stepper</code> changes the value.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Stepper</span><span class="token punctuation">(</span><br>    <span class="token string">"# of Dogs: <span class="token interpolation"><span class="token delimiter variable">\(</span>dogCount<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">,</span><br>    value<span class="token punctuation">:</span> $dogCount<span class="token punctuation">,</span><br>    <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><br><span class="token punctuation">)</span> <span class="token punctuation">{</span> v <span class="token keyword">in</span><br>    tooManyDogs <span class="token operator">=</span> dogCount <span class="token operator">></span> <span class="token number">2</span><br><span class="token punctuation">}</span></code></pre><h3 id="picker"><code>Picker</code></h3><p>This allows selecting an option from a list. It takes the text to display as a prompt and a <code>selection</code> argument which is a binding that holds something to identify the selected value.</p><p>The <code>pickerStyle</code> view modifier can be applied to change the way the options are rendered. The specified prompt is only rendered by some styles. The values that can be passed to this include:</p><ul><li><p><code>.automatic</code> (default)</p><p>This selects a style based on the context in which the <code>Picker</code> is used. It is typically either <code>.menu</code> or <code>.wheel</code>. When the <code>Picker</code> is inside a <code>Form</code> which is inside a <code>NavigationView</code> and no <code>pickerStyle</code> is specified, clicking the <code>Picker</code> displays the options on a separate page.</p><figure><img alt="SwiftUI Picker" style="width: 60%" src="/blog/assets/SwiftUI-Picker1.png?v=1.0.18" title="SwiftUI Picker automatic before clicking"><figcaption>automatic picker before clicking</figcaption></figure><figure><img alt="SwiftUI Picker" style="width: 60%" src="/blog/assets/SwiftUI-Picker2.png?v=1.0.18" title="SwiftUI Picker automatic after clicking"><figcaption>automatic picker new page after clicking</figcaption></figure></li><li><p><code>.inline</code></p><p>This displays the prompt and all the options (visible simultaneously) in the current sheet. The selected option is indicated by a check mark. This works when the <code>Picker</code> is inside a <code>Form</code>. Otherwise it uses the <code>.wheel</code> style.</p></li><li><p><code>.menu</code></p><p>This does not display the prompt and only displays the currently selected value. When the current value is tapped, all the options are rendered in a dropdown menu inside the current sheet. There is no limit to the number of options that can appear in the menu and it will scroll vertically if they do not all fit on the screen.</p><figure><img alt="SwiftUI Picker" style="width: 40%" src="/blog/assets/SwiftUI-Picker-Menu1.png?v=1.0.18" title="SwiftUI Picker menu before clicking"><figcaption>menu picker before clicking</figcaption></figure><figure><img alt="SwiftUI Picker" style="width: 40%" src="/blog/assets/SwiftUI-Picker-Menu2.png?v=1.0.18" title="SwiftUI Picker menu after clicking"><figcaption>menu picker after clicking</figcaption></figure></li><li><p>`.radioGroup - not available in iOS</p></li><li><p><code>.segmented</code></p><p>This does not display the prompt, and renders the options as a &quot;Segmented Control&quot; which is a horizontal row of buttons. There is no limit to the number of options, but their text will be elided if it doesn't fit inside the buttons.</p><figure><img alt="SwiftUI Picker segmented" style="width: 40%" src="/blog/assets/SwiftUI-Picker-segmented.png?v=1.0.18" title="SwiftUI Picker segmented"><figcaption>segmented picker</figcaption></figure></li><li><p><code>.wheel</code></p><p>This does not display the prompt, and renders all the options as a scrollable wheel. It requires sufficient vertical space to render properly. A height of 300 works well.</p><figure><img alt="SwiftUI Picker wheel" style="width: 40%" src="/blog/assets/SwiftUI-Picker-wheel.png?v=1.0.18" title="SwiftUI Picker wheel"><figcaption>wheel picker</figcaption></figure></li></ul><p>The font and background colors used by a <code>Picker</code> can be customized in limited ways.</p><p>To set the background color, apply the <code>background</code> view modifier to the <code>Picker</code>. For example, <code>.background(Color.yellow.opacity(0.3))</code>.</p><p>To set the font and foreground color, apply the <code>font</code> and <code>foregroundColor</code> view modifiers to the <code>Text</code> views used to render the options. For example, <code>.font(.headline).foregroundColor(.red)</code>. This only applies to <code>automatic</code> and <code>wheel</code> pickers, not <code>menu</code> or <code>segmented</code> pickers.</p><p>When the options are generated using <code>ForEach</code> iterating over an array, the selected value is described the <code>id</code> property values of the array elements. This can be changed by specify a <code>tag</code> value for each option. The type of the <code>tag</code> values must match the type of the <code>selection</code> argument. If these types differ, it will not be possible to select an option.</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> shirtSize<span class="token punctuation">:</span> <span class="token builtin">ShirtSize</span> <span class="token operator">=</span> <span class="token punctuation">.</span>sm<br><br><span class="token keyword">enum</span> <span class="token builtin">ShirtSize</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> sm <span class="token operator">=</span> <span class="token string">"Small"</span><br>    <span class="token keyword">case</span> md <span class="token operator">=</span> <span class="token string">"Medium"</span><br>    <span class="token keyword">case</span> lg <span class="token operator">=</span> <span class="token string">"Large"</span><br>    <span class="token keyword">case</span> xl <span class="token operator">=</span> <span class="token string">"Extra Large"</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token function">Picker</span><span class="token punctuation">(</span><span class="token string">"Shirt Size"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $shirtSize<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token builtin">ShirtSize</span><span class="token punctuation">.</span>allCases<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token keyword">in</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>size<span class="token punctuation">.</span>rawValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span> <span class="token comment">// .pickerStyle(.segmented)</span><br><span class="token punctuation">}</span></code></pre><p>Here's a more complex example where the <code>Picker</code> begins with no option being selected. Assume that <code>people</code> is an array of <code>Person</code> objects that have an optional <code>name</code> property.</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedPersonIndex<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">// nothing selected</span><br><br><span class="token keyword">private</span> <span class="token keyword">var</span> selectedPerson<span class="token punctuation">:</span> <span class="token builtin">Person</span><span class="token operator">?</span> <span class="token punctuation">{</span><br>    selectedPersonIndex <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">?</span> <span class="token constant">nil</span> <span class="token punctuation">:</span> people<span class="token punctuation">[</span>selectedPersonIndex<span class="token punctuation">]</span><br><span class="token punctuation">}</span><br><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><br><span class="token function">Picker</span><span class="token punctuation">(</span><span class="token string">"Owner"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $selectedPersonIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">ForEach</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token builtin">indices</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> index <span class="token keyword">in</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span>people<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="datepicker"><code>DatePicker</code></h3><p>This allows selecting a date, time, or both.</p><pre class="language-swift"><code class="language-swift"><span class="token function">DatePicker</span><span class="token punctuation">(</span><br>    <span class="token string">"Birthday"</span><span class="token punctuation">,</span><br>    selection<span class="token punctuation">:</span> $birthday<span class="token punctuation">,</span> <span class="token comment">// a binding</span><br>    displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>date<span class="token punctuation">,</span> <span class="token punctuation">.</span>hourAndMinute<span class="token punctuation">]</span> <span class="token comment">// array or single value</span><br><span class="token punctuation">)</span></code></pre><p>Apply the <code>datePickerStyle</code> view modifier to choose a style. The options that can be passed to this include:</p><ul><li><p><code>.automatic</code> - This is the default and is the same as <code>.compact</code> in iOS.</p></li><li><p><code>.compact</code> - This renders date in a button that can be tapped to render the <code>.graphical</code> controls for changing the date.</p><figure><img alt="SwiftUI DatePicker compact style" style="width: 60%" src="/blog/assets/SwiftUI-DatePicker-compact1.png?v=1.0.18" title="SwiftUI DatePicker compact style"><figcaption>DatePicker compact style</figcaption></figure><figure><img alt="SwiftUI DatePicker compact style after tapping" style="width: 60%" src="/blog/assets/SwiftUI-DatePicker-compact2.png?v=1.0.18" title="SwiftUI DatePicker compact style after tapping"><figcaption>DatePicker compact style after tapping</figcaption></figure><figure><img alt="SwiftUI DatePicker compact style after tapping month-year" style="width: 60%" src="/blog/assets/SwiftUI-DatePicker-compact3.png?v=1.0.18" title="SwiftUI DatePicker compact style after tapping month-year"><figcaption>DatePicker compact style after tapping month-year</figcaption></figure></li><li><p><code>.field</code> - This not available in iOS.</p></li><li><p><code>.graphical</code> - The renders a calendar view that contains controls for picking a month and year, going to the previous or next month, and selecting a day of the month.</p><figure><img alt="SwiftUI DatePicker graphical style" style="width: 60%" src="/blog/assets/SwiftUI-DatePicker-graphical.png?v=1.0.18" title="SwiftUI DatePicker graphical style"><figcaption>DatePicker graphical style</figcaption></figure></li><li><p><code>.stepperField</code> - This not available in iOS.</p></li><li><p><code>.wheel</code> - This provides separate wheel pickers for month, day, and year.</p><figure><img alt="SwiftUI DatePicker wheel style" style="width: 60%" src="/blog/assets/SwiftUI-DatePicker-wheel.png?v=1.0.18" title="SwiftUI DatePicker wheel style"><figcaption>DatePicker wheel style</figcaption></figure></li></ul><h3 id="colorpicker"><code>ColorPicker</code></h3><p>This renders a color well for displaying a currently selected color and changing the color using the system color picker.</p><pre class="language-swift"><code class="language-swift"><span class="token function">ColorPicker</span><span class="token punctuation">(</span><br>    <span class="token string">"Favorite Color"</span><span class="token punctuation">,</span><br>    selection<span class="token punctuation">:</span> $favoriteColor <span class="token comment">// a binding</span><br><span class="token punctuation">)</span></code></pre><h3 id="label"><code>Label</code></h3><p>This is a combination of an icon and text. The icon appears before the text.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Label</span><span class="token punctuation">(</span><span class="token string">"Rain"</span><span class="token punctuation">,</span> systemImage<span class="token punctuation">:</span> <span class="token string">"cloud.rain"</span><span class="token punctuation">)</span></code></pre><h3 id="progressview"><code>ProgressView</code></h3><p>This displays a progress indicator. The indeterminate style uses the standard Apple spinner. The determinate style uses a thin progress bar.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> progress <span class="token operator">=</span> <span class="token number">0.0</span><br><br>    <span class="token keyword">func</span> <span class="token function">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Run every 3 hundredths of a second.</span><br>        <span class="token comment">// When "repeats" is false, this is like setTimeout in JavaScript.</span><br>        <span class="token comment">// When "repeats" is true, this is like setInterval in JavaScript.</span><br>        <span class="token builtin">Timer</span><span class="token punctuation">.</span><span class="token function">scheduledTimer</span><span class="token punctuation">(</span>withTimeInterval<span class="token punctuation">:</span> <span class="token number">0.03</span><span class="token punctuation">,</span> repeats<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> timer <span class="token keyword">in</span><br>            progress <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.01</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                timer<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                progress <span class="token operator">=</span> <span class="token number">0</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token keyword">if</span> progress <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">{</span><br>                <span class="token function">ProgressView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// indeterminate</span><br>                <span class="token function">ProgressView</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> progress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// determinate</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span>onAppear <span class="token punctuation">{</span> <span class="token function">startTimer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="gauge"><code>Gauge</code></h3><p>This shows a current value in relation to minimum and maximum values. One example is a car fuel gauge. This is currently only supported in watchOS.</p><h3 id="emptyview"><code>EmptyView</code></h3><p>TODO: What is this?</p><h3 id="equatableview"><code>EquatableView</code></h3><p>TODO: What is this?</p><h3 id="anyview"><code>AnyView</code></h3><p>TODO: What is this?</p><h3 id="tupleview"><code>TupleView</code></h3><p>TODO: What is this?</p><p>Here is an example of using container and component views. Note how views can be defined in computed properties that are later referenced to render them. The type of these computed properties can be a specific container view type or the generic <code>some View</code>. Custom views can also be defined in a new struct that inherits from <code>View</code> Instances of these structs are created to render them.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// This defines a custom View that is used below.</span><br><span class="token keyword">struct</span> <span class="token builtin">MyRow</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Six"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Seven"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Assigning a View to a computed property</span><br>    <span class="token keyword">var</span> row <span class="token operator">=</span> <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Four"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Five"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"One"</span><span class="token punctuation">)</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Two"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Three"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token comment">// Referring to a variable to get a View</span><br>            <span class="token comment">// and chaining View modifiers</span><br>            row<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token function">MyRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Creating a custom View instance</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Note how <code>ContentView</code> uses the view <code>MyRow</code>. It is preferred to create small views like this and compose them rather than creating views whose code is long and deeply nested.</p><h2 id="drawing-views">Drawing Views</h2><p>The <code>Shape</code> protocol inherits from the <code>View</code> protocol and there are many provided views that inherit from <code>Shape</code>. Examples include <code>Circle</code> and <code>Rectangle</code>.</p><p>By default, all views that inherit from <code>Shape</code> are filled with the foreground color of their parent view. This can be changed using the <code>fill</code> view modifier. It takes an object of a type that implements the <code>ShapeStyle</code> protocol. Examples include <code>Color</code>, <code>AngularGradient</code>, <code>LinearGradient</code>, <code>RadialGradient</code>, and <code>ImagePaint</code>.</p><p>An outline can be added to any <code>Shape</code> with the <code>.stroke</code> view modifier.</p><p>Many of these views support both the <code>border</code> and <code>strokeBorder</code> view modifiers. The difference between these becomes apparent when the border width is greater than one. <code>border</code> is drawn so it is centered on the edge of the shape with have inside and half outside. <code>strokeBorder</code> is drawn so none of the border is outside of the shape.</p><p>The following example draws several shapes.</p><p><img alt="SwiftUI Shapes" style="width: 40%" src="/blog/assets/SwiftUI-Shapes.png?v=1.0.18" title="SwiftUI Shapes"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> linearGradient <span class="token operator">=</span> <span class="token function">LinearGradient</span><span class="token punctuation">(</span><br>        gradient<span class="token punctuation">:</span> <span class="token function">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        startPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">,</span> <span class="token comment">// other values are .top and .bottom</span><br>        endPoint<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<br>    <span class="token punctuation">)</span><br>    <span class="token keyword">let</span> angularGradient <span class="token operator">=</span> <span class="token function">AngularGradient</span><span class="token punctuation">(</span><br>        <span class="token comment">// It's usually best to return to the starting color.</span><br>        gradient<span class="token punctuation">:</span> <span class="token function">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        center<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>        startAngle<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        endAngle<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span><span class="token number">90</span> <span class="token operator">+</span> <span class="token number">360</span><span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><br>    <span class="token keyword">let</span> radialGradient <span class="token operator">=</span> <span class="token function">RadialGradient</span><span class="token punctuation">(</span><br>        gradient<span class="token punctuation">:</span> <span class="token function">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        center<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>        startRadius<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        endRadius<span class="token punctuation">:</span> <span class="token number">20</span><br>    <span class="token punctuation">)</span><br><br>    <span class="token keyword">func</span> <span class="token function">radialGradient</span><span class="token punctuation">(</span>over size<span class="token punctuation">:</span> <span class="token builtin">CGSize</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">RadialGradient</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> diameter <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><br>        <span class="token keyword">let</span> radius <span class="token operator">=</span> diameter <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token function">RadialGradient</span><span class="token punctuation">(</span><br>            <span class="token comment">// Colors go from inside to outside.</span><br>            gradient<span class="token punctuation">:</span> <span class="token function">Gradient</span><span class="token punctuation">(</span>colors<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token punctuation">.</span>red<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            center<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>            startRadius<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>            endRadius<span class="token punctuation">:</span> radius<br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Capsule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Capsule with solid color"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token builtin">GeometryReader</span> <span class="token punctuation">{</span> geometry <span class="token keyword">in</span><br>                    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">radialGradient</span><span class="token punctuation">(</span>over<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Circle\nwith\nRadialGradient"</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">.</span><span class="token function">multilineTextAlignment</span><span class="token punctuation">(</span><span class="token punctuation">.</span>center<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Ellipse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>angularGradient<span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Ellipse with AngularGradient"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>linearGradient<span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Rectangle with LinearGradient"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token function">ImagePaint</span><span class="token punctuation">(</span>image<span class="token punctuation">:</span> <span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"Comet"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.34</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"RoundedRectangle with ImagePaint"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>purple<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>Path</code> view supports many drawing commands. For example:</p><p><img alt="SwiftUI Path" style="width: 40%" src="/blog/assets/SwiftUI-Path.png?v=1.0.18" title="SwiftUI Path"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> style <span class="token operator">=</span> <span class="token function">StrokeStyle</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> lineCap<span class="token punctuation">:</span> <span class="token punctuation">.</span>round<span class="token punctuation">,</span> lineJoin<span class="token punctuation">:</span> <span class="token punctuation">.</span>round<span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">Path</span> <span class="token punctuation">{</span> path <span class="token keyword">in</span><br>            path<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            path<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            path<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            path<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token comment">//path.closeSubpath() // clsoes the path above</span><br><br>            <span class="token comment">// Other path methods include:</span><br>            <span class="token comment">// addArc, addCurve, addEllipse, addLines, addPath,</span><br>            <span class="token comment">// addQuadCurve, addRect, addRects, addRelativeArc,</span><br>            <span class="token comment">// and addRoundedRect</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span> style<span class="token punctuation">:</span> style<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="capsule"><code>Capsule</code></h3><p>This draws an oval.</p><h3 id="circle"><code>Circle</code></h3><p>This draws a circle.</p><h3 id="ellipse"><code>Ellipse</code></h3><p>This draws an ellipse.</p><h3 id="path"><code>Path</code></h3><p>Like <code>Color</code>, <code>Path</code> also creates a view. The following example creates a path that is both filled and stroked.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// Define the path as a computed property so it can be</span><br><span class="token comment">// used once for filling and once for stroking.</span><br><span class="token keyword">var</span> path<span class="token punctuation">:</span> <span class="token builtin">Path</span> <span class="token punctuation">{</span><br>    <span class="token builtin">Path</span> <span class="token punctuation">{</span> path <span class="token keyword">in</span><br>        path<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> halfWidth<span class="token punctuation">,</span> y<span class="token punctuation">:</span> halfWidth<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        path<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        path<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token function">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> halfWidth<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        path<span class="token punctuation">.</span><span class="token function">closeSubpath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Inside some container view ...</span><br><span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>    path<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><br>    path<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><br>        <span class="token punctuation">.</span>red<span class="token punctuation">,</span><br>        style<span class="token punctuation">:</span> <span class="token function">StrokeStyle</span><span class="token punctuation">(</span><br>            lineWidth<span class="token punctuation">:</span> lineWidth<span class="token punctuation">,</span><br>            lineCap<span class="token punctuation">:</span> <span class="token punctuation">.</span>round<span class="token punctuation">,</span><br>            lineJoin<span class="token punctuation">:</span> <span class="token punctuation">.</span>round<br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><h3 id="rectangle"><code>Rectangle</code></h3><p>This draws a rectangle.</p><h3 id="roundedrectangle"><code>RoundedRectangle</code></h3><p>This draws a rectangle with rounded corners.</p><h3 id="containerrelativeshape"><code>ContainerRelativeShape</code></h3><p>TODO: What is this?</p><h3 id="offsetshape"><code>OffsetShape</code></h3><p>TODO: What is this?</p><h3 id="rotatedshape"><code>RotatedShape</code></h3><p>TODO: What is this?</p><h3 id="scaledshape"><code>ScaledShape</code></h3><p>TODO: What is this?</p><h3 id="transformedshape"><code>TransformedShape</code></h3><p>TODO: What is this?</p><h3 id="anyshapeshape"><code>AnyShapeShape</code></h3><p>TODO: What is this?</p><h3 id="animatablepair"><code>AnimatablePair</code></h3><p>TODO: What is this?</p><h3 id="animation"><code>Animation</code></h3><p>TODO: What is this?</p><h3 id="anytransition"><code>AnyTransition</code></h3><p>TODO: What is this?</p><h3 id="emptyanimatabledata"><code>EmptyAnimatableData</code></h3><p>TODO: What is this?</p><h3 id="anchor"><code>Anchor</code></h3><p>TODO: What is this?</p><h3 id="angle"><code>Angle</code></h3><p>This is a struct that does not implement the <code>View</code> protocol. Instances can be created using an initializer that takes either a <code>degrees</code> or a <code>radians</code> argument. The value can be obtained via either <code>degrees</code> or <code>radians</code> properties and conversions are performed automatically.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> angle <span class="token operator">=</span> <span class="token function">Angle</span><span class="token punctuation">(</span>radians<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">.</span>pi<span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span>angle<span class="token punctuation">.</span>degrees<span class="token punctuation">)</span> <span class="token comment">// 180.0</span></code></pre><h3 id="projectiontransform"><code>ProjectionTransform</code></h3><p>TODO: What is this?</p><h3 id="unitpoint"><code>UnitPoint</code></h3><p>TODO: What is this?</p><h2 id="other-views">Other Views</h2><h3 id="geometryreader"><code>GeometryReader</code></h3><p>This is a view that takes all the space offered to it, wraps other views, and provides its size which can be used in calculations. The size is passed to a trailing closure and has the type <code>GeometryProxy</code> which has a <code>size</code> property whose type is <code>CGSize</code>.</p><p>The following example gets the size of a <code>VStack</code> and displays it inside.</p><p><img alt="SwiftUI GeometryReader" style="width: 40%" src="/blog/assets/SwiftUI-GeometryReader.png?v=1.0.18" title="SwiftUI GeometryReader"></p><pre class="language-swift"><code class="language-swift"><span class="token function">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The 3 children below are given equal heights.</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>    <span class="token builtin">GeometryReader</span> <span class="token punctuation">{</span> geometry <span class="token keyword">in</span><br>        <span class="token function">VStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"width = <span class="token interpolation"><span class="token delimiter variable">\(</span>geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"height = <span class="token interpolation"><span class="token delimiter variable">\(</span>geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token comment">// This expands the size of the VStack to fill the</span><br>        <span class="token comment">// GeometryReader so the contents are centered.</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span><br>            height<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><br>         <span class="token punctuation">}</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre><h3 id="spacer"><code>Spacer</code></h3><p>Each of these take an equal amount of the unused space inside the parent container view. It accepts an optional <code>minLength</code> attribute which defaults to zero.</p><p>Using <code>Spacer</code> can be compared to web applications that use the CSS properties <code>display: flex;</code> and <code>justify-content</code>.</p><table><thead><tr><th>CSS justify-content value</th><th>Spacer placement</th></tr></thead><tbody><tr><td>flex-start</td><td>at end of list of views</td></tr><tr><td>flex-end</td><td>at beginning of list of views</td></tr><tr><td>space-between</td><td>one between each child view</td></tr></tbody></table><h3 id="divider"><code>Divider</code></h3><p>This draws a light gray 1-pixel wide line across the container. The line is vertical in an <code>HStack</code> and horizontal in a <code>VStack</code>.</p><p>The line can be customized in several ways.</p><ul><li><p>To add space around the line, use the <code>padding</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span></code></pre></li><li><p>To change the color of the line, use the <code>background</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span></code></pre></li><li><p>To draw a thicker line, use the <code>frame</code> modifier. This doesn't actually make the <code>Divider</code> thicker, it just makes the area allocated wider and fills it with a color.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span></code></pre></li><li><p>To avoid drawing the line all the way across the container, use the <code>frame</code> view modifier and specify the <code>maxWidth</code> attribute.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">)</span></code></pre></li></ul><h2 id="view-modifiers">View Modifiers</h2><p>View modifiers are methods that can be called on a view. They don't modify the view. They create a new view that is like the receiver, but modified in a specific way. Calls to view modifiers can be chained since each returns a new view.</p><p>The following example uses the <code>foregroundColor</code>, <code>padding</code>, and <code>stroke</code> view modifiers.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br><span class="token function">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span></code></pre><p>Some view modifiers can be applied to any view. Others are specific to certain kinds of views. For example, the <code>stroke</code> view modifier used above only applies to shapes.</p><p>The official documentation for the supplied view modifiers can be found at <a href="https://developer.apple.com/documentation/swiftui/slider-view-modifiers?v=1.0.18" rel="noopener" target="_blank">View Modifiers</a>.</p><p>Commonly used view modifiers include:</p><ul><li><p><code>background(alignment, content)</code></p></li><li><p><code>border(ShapeStyle, width: CGFloat = 1)</code></p></li><li><p><code>cornerRadius(CGFloat, antialiased: Bool)</code></p></li><li><p><code>disabled(Bool)</code> disables any form input such as a <code>Button</code></p></li><li><p><code>edgesIgnoringSafeArea(Edge.Set)</code></p></li><li><p><code>font(Font?)</code></p></li><li><p><code>foregroundColor(Color?)</code></p></li><li><p><code>foregroundStyle(ShapeStyle)</code></p></li><li><p><code>frame(width: CGFloat?, height: CGFloat?, alignment: Alignment)</code></p></li><li><p><code>frame(maxWidth: CGFloat?, maxHeight: CGFloat?, alignment: Alignment)</code></p></li><li><p><code>border(ShapeStyle, width: CGFloat = 1)</code></p></li><li><p><code>lineLimit(Int?)</code></p></li><li><p><code>multilineTextAlignment(TextAlignment)</code></p></li><li><p><code>offset(x: CGFloat, y: CGFloat)</code></p></li><li><p><code>opacity(Double)</code></p></li><li><p><code>overlay(ShapeStyle)</code></p></li><li><p><code>padding(CGFloat)</code></p><p>This can be passed a side which can be a single value or an array of <code>.all</code> (default), <code>.leading</code>, <code>.trailing</code>, <code>.horizontal</code> (same as <code>.leading</code> and <code>.trailing</code>), <code>.top</code>, <code>.bottom</code>, or <code>.vertical</code> (same as <code>.top</code> and <code>.bottom</code>). It can also be passed a <code>CGFloat</code> value for the length. The length defaults to <code>nil</code> and means to use the system default of 20.</p></li><li><p><code>position(x: CGFloat, y: CGFloat)</code></p></li><li><p><code>rotationEffect(Angle, anchor: UnitPoint)</code></p></li><li><p><code>scaledToFill()</code></p></li><li><p><code>scaledToFit()</code></p></li><li><p><code>scaleEffect(x: CGFloat, y: CGFloat, anchor: UnitPoint)</code></p></li><li><p><code>shadow(color: Color, radius: CGFloat, x: CGFloat, y: CGFloat)</code></p></li><li><p><code>textCase(Text.Case?)</code></p></li><li><p><code>tint(Color?)</code></p></li><li><p><code>transformEffect(CGAffineTransform)</code></p></li><li><p><code>transition(AnyTransition)</code></p></li><li><p><code>truncationMode(Text.TruncationMode)</code></p></li><li><p><code>zIndex(Double)</code></p></li></ul><p>The following example adds a shadow a <code>Text</code> view.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"After"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">shadow</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>gray<span class="token punctuation">,</span> radius<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p>The event handling methods like <code>onTapGesture</code> area also view modifiers.</p><p>Several view modifiers take a <code>ShapeStyle</code> object. Types that conform to the <code>ShapeStyle</code> protocol include <code>AngularGradient</code>, <code>Color</code>, <code>ForegroundStyle</code>, <code>ImagePaint</code>, <code>LinearGradient</code>, and <code>RadialGradient</code>.</p><p>Many view modifiers are defined in extensions to the <code>View</code> protocol. This makes them to any kind of views.</p><p>When view modifiers are added to container views, they are passed down to all descendant views. In the following example, all the <code>Text</code> views are red because the <code>VStack</code> that contains them has a view modifier that sets the foreground color.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Alpha"</span><span class="token punctuation">)</span><br>    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Beta"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Gamma"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span></code></pre><p>In a way, view modifiers are like Svelte components that contain slots. They take a view to be &quot;modified&quot; and return a new view that typically contains the view passed to them.</p><p>Custom view modifiers can be created by defining a struct that implements the <code>ViewModifier</code> protocol. This requires implementing <code>body</code> method that takes content which is a <code>View</code> to be modified, and returns a new <code>View</code>. The code in the <code>body</code> method is similar to that in any custom view.</p><p>The following code defines a custom <code>ViewModifier</code> that allows the view on which it is called to be collapsed. It wraps that view in a <code>VStack</code> containing two <code>HStack</code>s. The second <code>HStack</code> includes a <code>Button</code> containing a chevron icon. Clicking the <code>Button</code> toggles whether the first <code>HStack</code> is rendered. It also rotates the chevron icon using animation which is covered later in the &quot;Animation&quot; section.</p><p><img alt="SwiftUI ViewModifier" style="width: 50%" src="/blog/assets/SwiftUI-ViewModifier.png?v=1.0.18" title="SwiftUI ViewModifier"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Collapsable</span><span class="token punctuation">:</span> <span class="token builtin">ViewModifier</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> diameter <span class="token operator">=</span> <span class="token function">CGFloat</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">var</span> radius<span class="token punctuation">:</span> <span class="token builtin">CGFloat</span> <span class="token punctuation">{</span> diameter <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> bgColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>gray<br>    <span class="token keyword">var</span> duration<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token comment">// in seconds</span><br><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> showContent <span class="token operator">=</span> <span class="token boolean">true</span><br><br>    <span class="token keyword">var</span> halfCircle<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>from<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><br>                width<span class="token punctuation">:</span> <span class="token builtin">Collapsable</span><span class="token punctuation">.</span>diameter<span class="token punctuation">,</span><br>                height<span class="token punctuation">:</span> <span class="token builtin">Collapsable</span><span class="token punctuation">.</span>radius<br>            <span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">16</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">withAnimation</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> duration<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            showContent<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">body</span><span class="token punctuation">(</span>content<span class="token punctuation">:</span> <span class="token builtin">Content</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token keyword">if</span> showContent <span class="token punctuation">{</span><br>                <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                    content<br>                    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><br><br>                <span class="token comment">//TODO: Can you scale the height of the HStack</span><br>                <span class="token comment">//TODO: instead of using the default fade transition?</span><br>                <span class="token comment">//.transition(.scale)</span><br>                <span class="token comment">//.scaleEffect(showContent ? 1 : 0)</span><br>                <span class="token comment">//.animation(.easeInOut(duration: 1))</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                    <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"chevron.down"</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span><br>                            width<span class="token punctuation">:</span> <span class="token builtin">Collapsable</span><span class="token punctuation">.</span>radius <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span><br>                            height<span class="token punctuation">:</span> <span class="token builtin">Collapsable</span><span class="token punctuation">.</span>radius <span class="token operator">/</span> <span class="token number">4</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">.</span><span class="token function">rotationEffect</span><span class="token punctuation">(</span> <span class="token comment">// Angle type is inferred</span><br>                            <span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span>showContent <span class="token operator">?</span> <span class="token number">180</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span>halfCircle<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">extension</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">func</span> <span class="token function">collapsable</span><span class="token punctuation">(</span><br>        bgColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>black<span class="token punctuation">,</span><br>        duration<span class="token punctuation">:</span> <span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">modifier</span><span class="token punctuation">(</span><span class="token function">Collapsable</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">:</span> bgColor<span class="token punctuation">,</span> duration<span class="token punctuation">:</span> duration<span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following code demonstrates using the custom <code>ViewModifier</code> defined above.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"First line of content"</span><span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Second line of content"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token comment">// This way of applying a view modifier doesn't use the View extension.</span><br><span class="token comment">//.modifier(Collapsable(bgColor: ContentView.bgColor))</span><br><br><span class="token comment">// This way uses the View extension and is preferred.</span><br><span class="token punctuation">.</span><span class="token function">collapsable</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">)</span></code></pre><h2 id="view-state">View State</h2><p>All views are immutable structs. Typically they get data from a model. They can also have associated mutable data by applying the <code>@State</code> property wrapper to a property.</p><p>Properties declared with <code>@State</code> usually include the <code>private</code> access control keyword because the data is only used by that view. Such data is held outside of the struct and the struct holds a pointer to it. Changes to these properties cause the view body to be rebuilt.</p><p>Any state held in a view using the <code>@State</code> property modifier should be transient state such as data related to styling. It is recommended to use <code>@State</code> sparingly and prefer holding data in model objects instead.</p><p>The following example holds the status of a stoplight in the &quot;status&quot; state property. Note the use of <code>$</code> before the name to get a two-way binding with a <code>TextField</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">CircleButton</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> color<span class="token punctuation">:</span> <span class="token builtin">Color</span><br>    <span class="token keyword">var</span> selected<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span><br>    <span class="token keyword">var</span> action<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token comment">// a function</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> action<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><br>                <span class="token comment">// Conditional logic can be implemented with an "if" statement,</span><br>                <span class="token comment">// but iteration cannot be implemented with a "for-in" loop.</span><br>                <span class="token comment">// A "ForEach" View must be used instead.</span><br>                <span class="token keyword">if</span> selected <span class="token punctuation">{</span><br>                    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strokeBorder</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Light</span><span class="token punctuation">:</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">let</span> color<span class="token punctuation">:</span> <span class="token builtin">Color</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">MyTextField</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> label<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token builtin">Binding</span><span class="token operator">&lt;</span><span class="token builtin">String</span><span class="token operator">></span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">TextField</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> text<span class="token punctuation">:</span> text<span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">autocapitalization</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">none</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This file must define a struct named "ContentView".</span><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> status <span class="token operator">=</span> <span class="token string">"stop"</span><br><br>    <span class="token keyword">let</span> lights<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Light</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"stop"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"yield"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"go"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token comment">// When iterating over elements that do not conform to</span><br>            <span class="token comment">// the `Identifiable` protocol, add the "id:" argument</span><br>            <span class="token comment">// whose value is a key path that specifies</span><br>            <span class="token comment">// how to find something unique in the element.</span><br>            <span class="token function">ForEach</span><span class="token punctuation">(</span>lights<span class="token punctuation">)</span> <span class="token punctuation">{</span> light <span class="token keyword">in</span><br>                <span class="token function">CircleButton</span><span class="token punctuation">(</span><br>                    color<span class="token punctuation">:</span> light<span class="token punctuation">.</span>color<span class="token punctuation">,</span><br>                    selected<span class="token punctuation">:</span> status <span class="token operator">==</span> light<span class="token punctuation">.</span>id<br>                <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    status <span class="token operator">=</span> light<span class="token punctuation">.</span>id<br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token comment">// $ in front of status is needed for a two-way binding.</span><br>            <span class="token comment">// $ in front of status is needed for a two-way binding.</span><br>            <span class="token function">MyTextField</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token string">"status"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $status<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="property-wrappers">Property Wrappers</h2><p>SwiftUI supports the following property wrappers:</p><h3 id="%40binding">@Binding</h3><p>This property wrapper is applied to properties of views that are passed bindings from parent views. It allows the child view to read and write a value that is owned by the parent view and passed in as an argument.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ChildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> n<span class="token punctuation">:</span> <span class="token builtin">Int</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ChildView: n = <span class="token interpolation"><span class="token delimiter variable">\(</span>n<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Increment"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                n <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ParentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">0</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ParentView: number = <span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">ChildView</span><span class="token punctuation">(</span>n<span class="token punctuation">:</span> $number<span class="token punctuation">)</span> <span class="token comment">// $ is required to pass a binding</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="%40environment">@Environment</h3><p>This is used to access environment values. See the &quot;Environment&quot; section.</p><h3 id="%40environmentobject">@EnvironmentObject</h3><p>This is used to share access to an <code>ObservableObject</code> between views. See the &quot;Environment&quot; section.</p><h3 id="%40state">@State</h3><p>This enables view structs to maintain state. It is intended for storing basic values with types like <code>Bool</code>, <code>Int</code>, <code>Double</code>, and <code>String</code>.</p><p>When the value of a normal struct property (declared without a property wrapper) is modified, a new instance of the struct is created. This happens because structs are value types.</p><p>We don't want a new instance to be created for structs that represent views. Applying the <code>@State</code> property wrapper to a struct property prevents this because SwiftUI manages the value outside of the struct. When the value of this kind of property is changed, the view <code>body</code> is recomputed.</p><p>This is somewhat like the <code>useState</code> hook in React.</p><p>An <code>@State</code> property can also store more complex types. However if it is used to store a class instance (a reference type) and a property of the class is modified, the associated view <code>body</code> will not be recomputed. A new class instance must be created to trigger an update.</p><p>Note that using a <code>struct</code> instead of a <code>class</code> in the scenario described above does work. The reason is that changing the value of a struct property creates a new instance of the struct. However, this may no be desirable because it copies every property of the struct.</p><h3 id="%40stateobject">@StateObject</h3><p>This creates an instance of an <code>ObservableObject</code> which is an object that publishes changes to its properties that are annotated with the <code>@Published</code> property wrapper. When the values of these properties change, the associated view <code>body</code> will be recomputed.</p><p>Applying the <code>@StateObject</code> property wrapper to a view property that holds a class instance allows the view <code>body</code> to be recomputed when the value of any published property of the class instance is modified. The following example demonstrates this.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">MyState</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> score<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">0</span><br>    <span class="token comment">// Could declare additional published properties here.</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">StateObject</span> <span class="token keyword">var</span> myState <span class="token operator">=</span> <span class="token function">MyState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Increment"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                myState<span class="token punctuation">.</span>score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"score = <span class="token interpolation"><span class="token delimiter variable">\(</span>myState<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="%40observedobject">@ObservedObject</h3><p>This subscribes to an observable object and recomputes the associated view <code>body</code> when it changes. It is used in cases when an observable object is passed into a view. The following example demonstrates this.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">class</span> <span class="token class-name">MyState</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> score<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">0</span><br>    <span class="token comment">// Could declare additional published properties here.</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ChildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">ObservedObject</span> <span class="token keyword">var</span> share<span class="token punctuation">:</span> <span class="token builtin">MyState</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"ChildView: Increment"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// This also updates myState in ContentView.</span><br>                share<span class="token punctuation">.</span>score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ChildView: score = <span class="token interpolation"><span class="token delimiter variable">\(</span>share<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">StateObject</span> <span class="token keyword">var</span> myState <span class="token operator">=</span> <span class="token function">MyState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"ContentView: Increment"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// This also updates share in ChildView.</span><br>                myState<span class="token punctuation">.</span>score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ContentView: score = <span class="token interpolation"><span class="token delimiter variable">\(</span>myState<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><br>            <span class="token comment">// Passing the @StateObject variable.</span><br>            <span class="token function">ChildView</span><span class="token punctuation">(</span>share<span class="token punctuation">:</span> myState<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="attributedstring">AttributedString</h2><p>The <code>AttributedString</code> struct supports associating specific &quot;attributes&quot; with substrings in a <code>String</code> that it holds. For example, the string &quot;Red Green Blue&quot; can have attributes that specify the foreground color to use for each word. When rendered, it can apply the attributes to affect styling.</p><p>For basic styling such as making parts of a string bold or italic, it is not necessary to use <code>AttributedString</code> because the <code>Text</code> view supports Markdown syntax.</p><p>There are several approaches that can be used to associate attributes with substrings in an <code>AttributedString</code> instance. Adding extension methods to <code>AttributedString</code> and <code>Text</code> greatly simplifies this.</p><p><img alt="SwiftUI AttributedString" style="width: 50%" src="/blog/assets/SwiftUI-AttributedString.png?v=1.0.18" title="SwiftUI AttributedString"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">extension</span> <span class="token builtin">AttributedString</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Style the range occupied by a given substring using a closure.</span><br>    <span class="token keyword">mutating</span> <span class="token keyword">func</span> <span class="token function">style</span><span class="token punctuation">(</span><br>        text<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span><br>        style<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">inout</span> <span class="token builtin">AttributedSubstring</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><br>    <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> text<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">style</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">[</span>range<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">extension</span> <span class="token builtin">Text</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Creates a Text from a String and styles the entire value.</span><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> string<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">inout</span> <span class="token builtin">AttributedString</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">var</span> attributedString <span class="token operator">=</span> <span class="token function">AttributedString</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><br>        <span class="token function">style</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>attributedString<span class="token punctuation">)</span> <span class="token comment">// style using the closure</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>attributedString<span class="token punctuation">)</span> <span class="token comment">// create a `Text`</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>font<span class="token punctuation">)</span> <span class="token keyword">var</span> font <span class="token comment">// default font</span><br><br>    <span class="token comment">// Using extension to AttributedString</span><br>    <span class="token keyword">var</span> demo<span class="token punctuation">:</span> <span class="token builtin">AttributedString</span> <span class="token punctuation">{</span><br>        <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">AttributedString</span><span class="token punctuation">(</span><span class="token string">"Red Green Blue"</span><span class="token punctuation">)</span><br>        s<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">"Red"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>red<br>            $<span class="token number">0</span><span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">italic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// italic version of body font</span><br>        <span class="token punctuation">}</span><br>        s<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">"Green"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>green<br>        <span class="token punctuation">}</span><br>        s<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">"Blue"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>purple<br>            <span class="token comment">// Use the italic version of either the default or body font.</span><br>            $<span class="token number">0</span><span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token punctuation">(</span>font <span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">italic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> s<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token comment">// Using built-in Markdown support</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"plain *italic* **bold** ~strike~ `code`, [link](https://apple.com)"</span><span class="token punctuation">)</span><br><br>            <span class="token comment">// Using a computed property defined above</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span><br><br>            <span class="token comment">// Concatenating Text views that each have their own styles.</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span> <span class="token operator">+</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span> <span class="token operator">+</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"World"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span> <span class="token operator">+</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"!"</span><span class="token punctuation">)</span><br><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token comment">// Using extension to Text.</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Red"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>red<br>                    $<span class="token number">0</span><span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token builtin">Font</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">italic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Green"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>green<br>                    $<span class="token number">0</span><span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token builtin">Font</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">,</span> design<span class="token punctuation">:</span> <span class="token punctuation">.</span>monospaced<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Blue"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    $<span class="token number">0</span><span class="token punctuation">.</span>foregroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>blue<br>                    $<span class="token number">0</span><span class="token punctuation">.</span>underlineColor <span class="token operator">=</span> <span class="token punctuation">.</span>green <span class="token comment">// doesn't work</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// Using extension to Text.</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Apple"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                $<span class="token number">0</span><span class="token punctuation">.</span>link <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string">"https://apple.com"</span><span class="token punctuation">)</span><br>                $<span class="token number">0</span><span class="token punctuation">.</span>underlineColor <span class="token operator">=</span> <span class="token punctuation">.</span>blue <span class="token comment">// doesn't work</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="layout">Layout</h2><p>Container views offer space to their child views. The child views can choose their size within the space offered to them. Container views then position the contained views knowing their sizes. Container views can also then choose their own size that perhaps differs from they offered to their child views.</p><p>Some views are &quot;inflexible&quot; and want to be a specific size. Examples including <code>Text</code> and <code>Image</code> views. Other views are &quot;flexible&quot; and can adapt to the space offered to them. Examples include <code>Circle</code> and <code>RoundedRectangle</code>.</p><p>Container views give space to inflexible child views first and then divide the remaining space between the flexible child views. The priority with which container views give space to child views can be altered by applying the <code>layoutPriority</code> view modifier to child views. It is passed a float value that defaults to zero.</p><p>When a container view contains at least one flexible view, it is also considered to be flexible.</p><p>Unsafe areas, such as the area at the top of iPhones that have a camera bump, are removed from offered space by default. Sometimes it is useful to draw in those areas. One example, show below, is displaying a background image.</p><p><img alt="SwiftUI Unsafe Areas" style="width: 40%" src="/blog/assets/SwiftUI-UnsafeAreas.png?v=1.0.18" title="SwiftUI Unsafe Areas"></p><pre class="language-swift"><code class="language-swift"><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Comet the Whippet"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br>    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"Comet"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scaledToFill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">edgesIgnoringSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span></code></pre><h2 id="event-handling">Event Handling</h2><p>Views support many methods whose names begin with &quot;on&quot; to register a function to be called when a given event occurs. These include:</p><ul><li><p><code>onTapGesture</code></p></li><li><p><code>onLongPressGesture</code></p></li><li><p><code>onDrag</code></p></li><li><p><code>onDrop</code></p></li><li><p><code>onAppear</code></p><p>This takes a function to execute every time the view on which it is applied is rendered.</p></li><li><p><code>onDisappear</code></p></li><li><p><code>onCommand</code></p></li><li><p><code>onCopyCommand</code></p></li><li><p><code>onCutCommand</code></p></li><li><p><code>onDeleteCommand</code></p></li><li><p><code>onExitCommand</code></p></li><li><p><code>onMoveCommand</code></p></li><li><p><code>onPasteCommand</code></p></li><li><p><code>onPlayPauseCommand</code></p></li><li><p><code>onChange</code></p></li><li><p><code>onContinueUserActivity</code></p></li><li><p><code>onHover</code></p></li><li><p><code>onOpenURL</code></p></li><li><p><code>onReceive</code></p></li><li><p><code>onSubmit</code></p></li></ul><h2 id="environment">Environment</h2><p>SwiftUI provides many values to all views through the &quot;environment&quot;. Highlights includes:</p><ul><li><p><code>accessibilityReduceMotion: Bool</code></p><p>This captures the user preference for reducing motion. It can be used to determine the kinds of animations that should be used.</p></li><li><p><code>colorScheme: ColorScheme</code></p><p>This is an <code>enum</code> with the cases <code>light</code> and <code>dark</code>.</p></li><li><p><code>defaultWheelPickerItemHeight: CGFloat</code></p><p>This can be used to calculate the <code>frame</code> height needed for a wheel picker.</p></li><li><p><code>managedObjectContext: NSManagedObjectContext</code></p><p>This holds the context being used for Core Data.</p></li><li><p><code>locale: Locale</code></p><p>This holds the current locale and can be used for internationalization.</p></li><li><p><code>editMode: EditMode</code></p><p>This indicates whether the user can currently edit view content. It is an <code>enum</code> with the cases <code>active</code>, <code>inactive</code>, and <code>transient</code> (temporary edit mode).</p></li><li><p><code>font: Font?</code></p><p>This describes the default font.</p></li></ul><p>Any view in the view hierarchy can access environment data using the <code>@Environment</code> property wrapper.</p><p>It is also possible to add custom data to the environment. The following example demonstrates this by adding the custom environment value &quot;primaryColor&quot;. Environment values provided by Apple are accessed and modified in the same way.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token comment">// Defines a custom environment key and its default value.</span><br><span class="token keyword">private</span> <span class="token keyword">struct</span> <span class="token builtin">PrimaryColorKey</span><span class="token punctuation">:</span> <span class="token builtin">EnvironmentKey</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">let</span> defaultValue <span class="token operator">=</span> <span class="token builtin">Color</span><span class="token punctuation">.</span>red<br><span class="token punctuation">}</span><br><br><span class="token comment">// Adds the custom environment value.</span><br><span class="token keyword">extension</span> <span class="token builtin">EnvironmentValues</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> primaryColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token punctuation">{</span><br>        <span class="token keyword">get</span> <span class="token punctuation">{</span> <span class="token keyword">self</span><span class="token punctuation">[</span><span class="token builtin">PrimaryColorKey</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><br>        <span class="token keyword">set</span> <span class="token punctuation">{</span> <span class="token keyword">self</span><span class="token punctuation">[</span><span class="token builtin">PrimaryColorKey</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">]</span> <span class="token operator">=</span> newValue <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ChildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>primaryColor<span class="token punctuation">)</span> <span class="token keyword">var</span> primaryColor<br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token comment">// Renders in blue.</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"in ChildView"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">)</span><br>            <span class="token function">GrandchildView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">GrandchildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>primaryColor<span class="token punctuation">)</span> <span class="token keyword">var</span> primaryColor<br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Renders in blue.</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"in GrandchildView"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>primaryColor<span class="token punctuation">)</span> <span class="token keyword">var</span> primaryColor<br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token comment">// Renders in green.</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"in ContentView"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>primaryColor<span class="token punctuation">)</span><br>            <span class="token comment">// Overrides default value of primaryColor</span><br>            <span class="token comment">// for all views under ChildView.</span><br>            <span class="token function">ChildView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>primaryColor<span class="token punctuation">,</span> <span class="token punctuation">.</span>blue<span class="token punctuation">)</span><br><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Overrides default value of primaryColor for entire app.</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>primaryColor<span class="token punctuation">,</span> <span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>@EnvironmentObject</code> property wrapper allows multiple views to share access to an <code>ObservableObject</code>. The following example demonstrates this.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// Environment objects must be defined by classes</span><br><span class="token comment">// that conform to the ObservableObject protocol</span><br><span class="token comment">// and they should publish at least one property.</span><br><span class="token keyword">class</span> <span class="token class-name">SharedData</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"Mark"</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> score <span class="token operator">=</span> <span class="token number">0</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ChildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This value will be received from the environment.</span><br>    @<span class="token builtin">EnvironmentObject</span> <span class="token keyword">var</span> sharedData<span class="token punctuation">:</span> <span class="token builtin">SharedData</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ChildView: name = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ChildView: score = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Increment Score"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// This change will be published to all views</span><br>                <span class="token comment">// that use the SharedData score property.</span><br>                sharedData<span class="token punctuation">.</span>score <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">GrandchildView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">environmentObject</span><span class="token punctuation">(</span>sharedData<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">GrandchildView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This value will be received from the environment.</span><br>    @<span class="token builtin">EnvironmentObject</span> <span class="token keyword">var</span> sharedData<span class="token punctuation">:</span> <span class="token builtin">SharedData</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"GrandchildView: name = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"GrandchildView: score = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">StateObject</span> <span class="token keyword">var</span> sharedData <span class="token operator">=</span> <span class="token function">SharedData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ContentView: name = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"ContentView: score = <span class="token interpolation"><span class="token delimiter variable">\(</span>sharedData<span class="token punctuation">.</span>score<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">ChildView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token comment">// All views inside this VStack can access the sharedData object.</span><br>        <span class="token comment">// The environmentObject view modifier can be called</span><br>        <span class="token comment">// multiple times, but only once for each type because</span><br>        <span class="token comment">// the type is how the values are distinguished.</span><br>        <span class="token punctuation">.</span><span class="token function">environmentObject</span><span class="token punctuation">(</span>sharedData<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="search">Search</h2><p>SwiftUI provides a search input containing a magnifier glass icon that is rendered by the <code>searchable</code> view modifier. This is typically applied to a <code>List</code> view.</p><p><img alt="SwiftUI Search" style="width: 40%" src="/blog/assets/SwiftUI-Search.png?v=1.0.18" title="SwiftUI Search"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token string">""</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">let</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token string">"Mark"</span><span class="token punctuation">,</span><br>        <span class="token string">"Tami"</span><span class="token punctuation">,</span><br>        <span class="token string">"Amanda"</span><span class="token punctuation">,</span><br>        <span class="token string">"Jeremy"</span><span class="token punctuation">,</span><br>        <span class="token string">"Meghan"</span><span class="token punctuation">,</span><br>        <span class="token string">"RC"</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token comment">// Computed property based on people and query.</span><br>    <span class="token keyword">private</span> <span class="token keyword">var</span> matchingPeople<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> lower <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">lowercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> lower<span class="token punctuation">.</span><span class="token builtin">isEmpty</span> <span class="token operator">?</span><br>            people <span class="token punctuation">:</span><br>            people<span class="token punctuation">.</span><span class="token builtin">filter</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span><span class="token function">lowercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>lower<span class="token punctuation">)</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token function">List</span><span class="token punctuation">(</span>matchingPeople<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> person <span class="token keyword">in</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">searchable</span><span class="token punctuation">(</span><br>                text<span class="token punctuation">:</span> $query<span class="token punctuation">,</span><br>                <span class="token comment">// Without this the search input will be hidden</span><br>                <span class="token comment">// until the user drags down on the List.</span><br>                placement<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">navigationBarDrawer</span><span class="token punctuation">(</span>displayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>always<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                prompt<span class="token punctuation">:</span> <span class="token string">"Person Name"</span><br>            <span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">autocapitalization</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">none</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"People"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="lists">Lists</h2><p>This displays a list of views in a single column. It also can act like <code>ForEach</code> for iterating over array elements. If a <code>List</code> contains more items that can be rendered at once, it automatically provides scrolling. There is no need to wrap it in a <code>ScrollView</code>.</p><p>The contents of a <code>List</code> can be any views. These can be grouped using <code>Section</code> views.</p><p><img alt="SwiftUI List with Sections" style="width: 40%" src="/blog/assets/SwiftUI-List-Sections.png?v=1.0.18" title="SwiftUI List with Sections"></p><pre class="language-swift"><code class="language-swift"><span class="token builtin">List</span> <span class="token punctuation">{</span><br>    <span class="token function">Section</span><span class="token punctuation">(</span><span class="token string">"Breakfast"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"pancakes"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"bacon"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"orange juice"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">Section</span><span class="token punctuation">(</span><span class="token string">"Lunch"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"sandwich"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"chips"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"lemonade"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">Section</span><span class="token punctuation">(</span><span class="token string">"Dinner"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"spaghetti"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"bread"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"water"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token comment">//.listStyle(.grouped) // for edge-to-edge display</span></code></pre><p>The following example demonstrates using a <code>List</code> inside a <code>NavigationView</code> to enable selecting ids of the objects represented by the rows. To select rows, tap &quot;Edit&quot; in the upper-right corner.</p><p>This also demonstrates implementing &quot;pull to refresh&quot; using the <code>refreshable</code> view modifier. Dragging the list down displays an activity indicator and then adds new dogs to the list.</p><p><img alt="SwiftUI List with Selection" style="width: 40%" src="/blog/assets/SwiftUI-List-Selection.png?v=1.0.18" title="SwiftUI List with Selection"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Identifiable</span><span class="token punctuation">,</span> <span class="token builtin">Hashable</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>        <span class="token keyword">let</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>        <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> - <span class="token interpolation"><span class="token delimiter variable">\(</span>breed<span class="token delimiter variable">)</span></span>"</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token comment">//@State private var selection: UUID? // single selection</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedIds <span class="token operator">=</span> <span class="token builtin">Set</span><span class="token operator">&lt;</span><span class="token constant">UUID</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><br>    <span class="token keyword">func</span> <span class="token function">loadMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> async <span class="token punctuation">{</span><br>        <span class="token comment">// This calls a REST service that returns nothing after 2 seconds.</span><br>        <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token string">"https://httpbin.org/delay/2"</span><span class="token punctuation">)</span><span class="token operator">!</span><br>        <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token function">URLRequest</span><span class="token punctuation">(</span>url<span class="token punctuation">:</span> url<span class="token punctuation">)</span><br>        <span class="token comment">// Not using return value.</span><br>        <span class="token keyword">let</span> <span class="token number">_</span> <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">!</span> await <span class="token builtin">URLSession</span><span class="token punctuation">.</span>shared<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> request<span class="token punctuation">)</span><br><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Clarice"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Vixen"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>                <span class="token function">List</span><span class="token punctuation">(</span>dogs<span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $selectedIds<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                    <span class="token keyword">let</span> desc <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><br>                    <span class="token keyword">if</span> selectedIds<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">==</span> dog<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Dogs"</span><span class="token punctuation">)</span><br>                <span class="token comment">// The EditButton in the toolbar toggles</span><br>                <span class="token comment">// the edit mode of the NavigationView.</span><br>                <span class="token punctuation">.</span>toolbar <span class="token punctuation">{</span> <span class="token function">EditButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span>refreshable <span class="token punctuation">{</span> await <span class="token function">loadMore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>selectedIds<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span> selections"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following example is similar to the previous one, but allows rows to be deleted and moved. It seems that it isn't possible for a <code>List</code> to support row selection and also support deleting and moving rows. TODO: See <a href="https://developer.apple.com/forums/thread/693743">https://developer.apple.com/forums/thread/693743</a></p><p><img alt="SwiftUI List with Delete and Move" style="width: 40%" src="/blog/assets/SwiftUI-List-Delete-Move.png?v=1.0.18" title="SwiftUI List with Delete and Move"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Dog</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This makes it easier to render text that has a specified width.</span><br><span class="token keyword">struct</span> <span class="token builtin">SizedText</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">private</span> <span class="token keyword">var</span> width<span class="token punctuation">:</span> <span class="token builtin">Double</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> text<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token builtin">Double</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> width<span class="token punctuation">,</span> alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">DogRow</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> dog<span class="token punctuation">:</span> <span class="token builtin">Dog</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>            <span class="token function">SizedText</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>name<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><br>            <span class="token function">SizedText</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span>breed<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">deleteDog</span><span class="token punctuation">(</span>at offsets<span class="token punctuation">:</span> <span class="token builtin">IndexSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        dogs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>atOffsets<span class="token punctuation">:</span> offsets<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">func</span> <span class="token function">moveDog</span><span class="token punctuation">(</span>source<span class="token punctuation">:</span> <span class="token builtin">IndexSet</span><span class="token punctuation">,</span> destination<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        dogs<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>fromOffsets<span class="token punctuation">:</span> source<span class="token punctuation">,</span> toOffset<span class="token punctuation">:</span> destination<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token builtin">List</span> <span class="token punctuation">{</span><br>                    <span class="token function">ForEach</span><span class="token punctuation">(</span>dogs<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                        <span class="token function">DogRow</span><span class="token punctuation">(</span>dog<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token punctuation">.</span><span class="token function">onDelete</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> deleteDog<span class="token punctuation">)</span><br>                    <span class="token punctuation">.</span><span class="token function">onMove</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> moveDog<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token punctuation">.</span><span class="token function">listStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>grouped<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span>toolbar <span class="token punctuation">{</span><br>                    <span class="token function">EditButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="animation-1">Animation</h2><p>Many view properties can be animated. These include color, opacity, rotation, and scale. Note that font sizes cannot be animated, but views containing text can be scaled.</p><p>SwiftUI supports three ways of implementing animations.</p><ul><li>explicit: wraps code that changes model or <code>@State</code> data with a call to <code>withAnimation</code></li><li>implicit: uses the <code>animation</code> view modifier</li><li>transition: triggers by inserting or removing a view</li></ul><p>Explicit animations are the most commonly used because they are triggered by model/state changes which are typically made in response to user interactions. These can cause multiple views to animate concurrently. For example, the action of a <code>Button</code> can wrap calls to ViewModel intent functions in a closure passed to <code>withAnimation</code>. Most code that handles user events does this.</p><p>Key points to remember when implementing animations:</p><ol><li>Only changes to view modifier arguments and shapes are animated.</li><li>Only views that are already on the screen are affected by explicit and implicit animations.</li><li>The <code>animation</code> view modifier applies to all view modifiers chained before it, but not to those chained after it.</li><li>Explicit animations do not override or prevent implicit animations. Both can be applied concurrently.</li><li>Animations are automatically and smoothly interrupted by new animations.</li></ol><p>One way to achieve point #2 is to leave views on the screen permanently, but conditionally hide them by setting their opacity to zero. For example, <code>myView.opacity(show ? 1 : 0)</code>.</p><p>Animations can specify a duration (in seconds), delay, easing function, and number of times to repeat. Duration is the total time over which the animation takes place. Delay is the amount of time the animation waits to begin after being triggered. An easing function controls the speed at which an animation is applied over its duration.</p><p>Provided easing functions include <code>linear</code>, <code>easeIn</code>, <code>easeOut</code>, <code>easeInOut</code> (default), and <code>spring</code>. These are static functions on the <code>Animation</code> struct. All but <code>spring</code> take a single, optional argument which is the <code>duration</code> in seconds. The <code>spring</code> function takes three optional arguments named <code>response</code>, <code>dampingFunction</code>, and <code>blendDuration</code>. For details, see <a href="https://developer.apple.com/documentation/swiftui/animation/spring(response:dampingfraction:blendduration:)?v=1.0.18" rel="noopener" target="_blank">spring</a>.</p><p>Custom easing functions can be defined with the <code>timingCurve</code> function.</p><p>The following example provides form elements for experimenting with different kinds of animations.</p><p><img alt="SwiftUI Animation" style="width: 40%" src="/blog/assets/SwiftUI-Animation.png?v=1.0.18" title="SwiftUI Animation"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">EasingType</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> forever<span class="token punctuation">,</span> linear<span class="token punctuation">,</span> easeIn<span class="token punctuation">,</span> easeOut<span class="token punctuation">,</span> easeInOut<span class="token punctuation">,</span> spring<br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> borderColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>red<br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> color <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> easingType<span class="token punctuation">:</span> <span class="token builtin">EasingType</span> <span class="token operator">=</span> <span class="token punctuation">.</span>linear<br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> on <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> opacity <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> rotate <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> scale <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">var</span> easingFunction<span class="token punctuation">:</span> <span class="token builtin">Animation</span> <span class="token punctuation">{</span><br>        <span class="token keyword">switch</span> easingType <span class="token punctuation">{</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>linear<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>forever<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><br>            <span class="token punctuation">.</span><span class="token function">linear</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> duration<span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">repeatForever</span><span class="token punctuation">(</span>autoreverses<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>easeIn<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><span class="token punctuation">.</span><span class="token function">easeIn</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>easeOut<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><span class="token punctuation">.</span><span class="token function">easeOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>easeInOut<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><br>        <span class="token keyword">case</span> <span class="token punctuation">.</span>spring<span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token builtin">Animation</span><br>            <span class="token punctuation">.</span><span class="token function">spring</span><span class="token punctuation">(</span>dampingFraction<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">speed</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"First Line"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Second Line"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"🎉"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span>borderColor<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token operator">!</span>opacity <span class="token operator">||</span> on <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">scaleEffect</span><span class="token punctuation">(</span><span class="token operator">!</span>scale <span class="token operator">||</span> on <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">rotationEffect</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">degrees</span><span class="token punctuation">(</span><span class="token operator">!</span>rotate <span class="token operator">||</span> on <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">animation</span><span class="token punctuation">(</span>easingFunction<span class="token punctuation">)</span> <span class="token comment">// implicit animation</span><br><br>            <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span> <span class="token comment">// Picker will be disabled without this.</span><br>                <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Animate Color?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $color<span class="token punctuation">)</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Animate Opacity?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $opacity<span class="token punctuation">)</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Animate Rotation?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $rotate<span class="token punctuation">)</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Animate Scale?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $scale<span class="token punctuation">)</span><br>                    <span class="token function">Picker</span><span class="token punctuation">(</span><span class="token string">"Easing Function"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $easingType<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token builtin">EasingType</span><span class="token punctuation">.</span>allCases<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> easingType <span class="token keyword">in</span><br>                            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>easingType<span class="token punctuation">.</span>rawValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>easingType<span class="token punctuation">)</span><br>                        <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Toggle"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token keyword">if</span> color <span class="token punctuation">{</span><br>                            borderColor <span class="token operator">=</span><br>                                borderColor <span class="token operator">==</span> <span class="token punctuation">.</span>red <span class="token operator">?</span> <span class="token punctuation">.</span>blue <span class="token punctuation">:</span> <span class="token punctuation">.</span>red<br>                        <span class="token punctuation">}</span><br>                        on<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>TODO: Add example of using an explicit animation with <code>withAnimation</code>.</p><p>TODO: Add an example of using transitions.</p><p>Transitions are specified when a view is defined, but they are only applied when the view is inserted or removed. This is implemented by using an <code>if</code> or <code>switch</code> statement inside a parent view.</p><p>By default an <code>opacity</code> transition (fade) is used. This can be changed by applying the <code>transition</code> view modifier which is passed the kind of transition to perform. Transitions are defined as methods on the <code>AnyTransition</code> struct.</p><p>Transitions can be applied to any kind of view including container views.</p><p>Typically the provided <code>opacity</code>, <code>scale</code>, and <code>slide</code> transitions are used. The <code>identity</code> transition is used to specify that no transition should occur. Custom transitions can also be implemented.</p><p>By default the transition is reversed when the view is removed. For example, <code>opacity</code> changes from 0 to 1 when the view is inserted, and from 1 to 0 when it is removed. This can be changed using the <code>asymmetric</code> transition function which allows specifying one transition for insertion and a different one for removal.</p><p>Most insertion transitions do not currently work in Preview, but they do work in the Simulator. However, the Simulator often displays odd rendering artifacts.</p><p>The following example demonstrates sliding a view in from the top when it is inserted and out to the right when it is removed.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> include <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">let</span> easeFn <span class="token operator">=</span> <span class="token builtin">Animation</span><span class="token punctuation">.</span><span class="token function">easeInOut</span><span class="token punctuation">(</span>duration<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token keyword">if</span> include <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Conditionally Included"</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">)</span> <span class="token comment">// use full screen width</span><br><br>                        <span class="token comment">// This slides in from left and out to right.</span><br>                        <span class="token comment">//.transition(.slide)</span><br><br>                        <span class="token comment">// The animation call here should apply the</span><br>                        <span class="token comment">// easing function when one is not specified</span><br>                        <span class="token comment">// in the call to withAnimation, but it doesn't work.</span><br>                        <span class="token comment">//.transition(.slide.animation(easeFn))</span><br><br>                        <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">asymmetric</span><span class="token punctuation">(</span><br>                            insertion<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>edge<span class="token punctuation">:</span> <span class="token punctuation">.</span>top<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                            removal<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>edge<span class="token punctuation">:</span> <span class="token punctuation">.</span>trailing<span class="token punctuation">)</span><br>                        <span class="token punctuation">)</span><span class="token punctuation">)</span><br><br>                        <span class="token comment">// This changes scale from 0 to 1 for insertion</span><br>                        <span class="token comment">// and 1 to 0 for removal.</span><br>                        <span class="token comment">//.transition(.scale)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> minHeight<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// use full width</span><br>            <span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br><br>            <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>                <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>                    <span class="token comment">// If a Toggle is used instead of a Button</span><br>                    <span class="token comment">// to toggle the value of "include",</span><br>                    <span class="token comment">// there is no opportunity to use "withAnimation".</span><br>                    <span class="token comment">//Toggle("Include Optional Text?", isOn: $include)</span><br><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Toggle Optional Text"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token comment">//withAnimation {</span><br>                        <span class="token function">withAnimation</span><span class="token punctuation">(</span>easeFn<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                            include<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>matchedGeometryEffect</code> view modifier is used to smoothly move views between container views. For example, this can be used to move <code>Text</code> views that describe food items between lists of foods that available and those that have been selected. Each food item must have a unique id. When rendering the food items, <code>matchedGeometryEffect</code> is used to associate the <code>Text</code> view with a particular id in a given namespace. The following example demonstrates this.</p><p>TODO: Why do the food names eventually disappear after being moved TODO: in both Preview and the Simulator?</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Food</span><span class="token punctuation">:</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> selected<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span><br>    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Namespace</span> <span class="token keyword">private</span> <span class="token keyword">var</span> foodNS<br><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> foods<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Food</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Food</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Hamburger"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Food</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Fries"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Food</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Shake"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token keyword">func</span> <span class="token function">foodList</span><span class="token punctuation">(</span>selected<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">List</span><span class="token punctuation">(</span>foods<span class="token punctuation">)</span> <span class="token punctuation">{</span> food <span class="token keyword">in</span><br>            <span class="token keyword">if</span> food<span class="token punctuation">.</span>selected <span class="token operator">==</span> selected <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span>food<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>                    <span class="token punctuation">.</span><span class="token function">matchedGeometryEffect</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> food<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> foodNS<span class="token punctuation">)</span><br>                    <span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span><br>                        withAnimation <span class="token punctuation">{</span> <span class="token function">toggle</span><span class="token punctuation">(</span>food<span class="token punctuation">:</span> food<span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">toggle</span><span class="token punctuation">(</span>food<span class="token punctuation">:</span> <span class="token builtin">Food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> index <span class="token operator">=</span> foods<span class="token punctuation">.</span><span class="token function">firstIndex</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span>id <span class="token operator">==</span> food<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">!</span><br>        foods<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>selected<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Available"</span><span class="token punctuation">)</span><br>                <span class="token function">foodList</span><span class="token punctuation">(</span>selected<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Selected"</span><span class="token punctuation">)</span><br>                <span class="token function">foodList</span><span class="token punctuation">(</span>selected<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="audio">Audio</h2><p>The <code>AVAudioPlayer</code> class in the <code>AVKit</code> package can be used to play audio from files with formats like MP3.</p><p>A good source of free audio files is <a href="https://freesoundslibrary.com?v=1.0.18" rel="noopener" target="_blank">Free Sounds Library</a>. Download audio files and copy them into an Xcode project next to <code>.swift</code> files.</p><p>The following example creates buttons that each play a different sound when tapped. It relies on having the files <code>click.mp3</code> and <code>ding.mp3</code> copied into the project.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">AVKit</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">class</span> <span class="token class-name">SoundManager</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token function">SoundManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> player<span class="token punctuation">:</span> <span class="token builtin">AVAudioPlayer</span><span class="token operator">?</span><br><br>    <span class="token keyword">func</span> <span class="token function">play</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">guard</span> <span class="token keyword">let</span> url <span class="token operator">=</span><br>            <span class="token builtin">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>forResource<span class="token punctuation">:</span> name<span class="token punctuation">,</span> withExtension<span class="token punctuation">:</span> <span class="token string">".mp3"</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"failed to load audio file <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                <span class="token keyword">return</span><br>            <span class="token punctuation">}</span><br>        <span class="token keyword">do</span> <span class="token punctuation">{</span><br>            <span class="token comment">// Declaring player here does not work.  Why?</span><br>            <span class="token comment">//let player = try AVAudioPlayer(contentsOf: url)</span><br>            player <span class="token operator">=</span> <span class="token keyword">try</span> <span class="token function">AVAudioPlayer</span><span class="token punctuation">(</span>contentsOf<span class="token punctuation">:</span> url<span class="token punctuation">)</span><br>            player<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"error playing audio: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token punctuation">.</span>localizedDescription<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Click"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token builtin">SoundManager</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"click"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Ding"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token builtin">SoundManager</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"ding"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="mvvm">MVVM</h2><p>SwiftUI encourages use of the Model-View-ViewModel (MVVM) paradigm which separates application code into three groups. This differs from UIKit which encourages use of Model-View-Controller (MVC).</p><p>Models ...</p><ul><li>holds data and application logic</li><li>have no knowledge of view code the uses the data</li></ul><p>ViewModels ...</p><ul><li>are classes (not structs) that implement the <code>ObservableObject</code> protocol (Making them classes allows multiple views to share a reference to the same object.)</li><li>mark the properties whose values they publish with the <code>@Published</code> property wrapper which is a shorthand for explicitly calling <code>objectWillChange.send()</code></li><li>are passed to views or created inside them and held in properties with the <code>@StateObject</code> property wrapper (which subscribes to ViewModel data)</li><li>have no knowledge of the views that use them</li><li>have methods (referred to as &quot;intents&quot;) that are called by by views to update model data</li><li>optionally create and hold model instances, typically in <code>private</code> properties</li><li>react to model changes by optionally transforming model data and publishing changes</li></ul><p>Views ...</p><ul><li>decide what to render</li><li>should be mostly stateless</li><li>are declarative rather than imperative because they describe what to render based on the current data, not when to render it</li><li>can be associated with any number of ViewModels</li><li>subscribe to changes in ViewModels by declaring properties using the <code>@ObservedObject</code> or <code>@StateObject</code> property wrapper</li><li>react to changes published by ViewModels by rebuilding their bodies</li><li>have a <code>body</code> var that rebuilds the view any time data in ViewModels they use changes</li><li>can call the <code>onReceive</code> method to register a function to be called when new data is received (couldn't get this to work)</li></ul><p>Any state held in a view using the <code>@State</code> property modifier should be transient state such as data related to styling. For example, a ViewModel could get the result of a SQL query from the Model and turn it into an array of objects that it publishes to Views.</p><p>Read-only data flows from the Model, through the ViewModel, and into the View. Views call ViewModel functions referred to as &quot;intents&quot; to notify it about user interactions. ViewModel methods can trigger Model updates.</p><p>Here is a basic example of using MVVM. It's not exactly MVVM because it combines the Model and ViewModel into a single class. This is perhaps acceptable in cases where Model data is presented as-is to the View without requiring any data transformation.</p><p>Note the use of the <code>@Published</code> and <code>@ObservedObject</code> property wrappers.</p><p><img alt="SwiftUI MVVM demo" style="width: 40%" src="/blog/assets/SwiftUI-MVVM.png?v=1.0.18" title="SwiftUI MVVM demo"></p><pre class="language-swift"><code class="language-swift"><span class="token comment">// DemoApp.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br>@main<br><span class="token keyword">struct</span> <span class="token builtin">SwiftUI_MVVMApp</span><span class="token punctuation">:</span> <span class="token builtin">App</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> model <span class="token operator">=</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// defined in Model.swift</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">Scene</span> <span class="token punctuation">{</span><br>        <span class="token builtin">WindowGroup</span> <span class="token punctuation">{</span><br>            <span class="token comment">// This is how the View knows about the model.</span><br>            <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> model<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// Model.swift</span><br><span class="token keyword">import</span> <span class="token builtin">Foundation</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">var</span> lastId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// This is a computed property required by the CustomStringConvertible protocol.</span><br>    <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token string">"Dog: <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> <span class="token interpolation"><span class="token delimiter variable">\(</span>selected<span class="token delimiter variable">)</span></span>"</span> <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token comment">// required by the Identifiable protocol</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> selected <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token builtin">Dog</span><span class="token punctuation">.</span>lastId <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>        id <span class="token operator">=</span> <span class="token builtin">Dog</span><span class="token punctuation">.</span>lastId<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>breed <span class="token operator">=</span> breed<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This must be a class instead of a struct</span><br><span class="token comment">// in order to conform to the ObservableObject protocol.</span><br><span class="token comment">// Things that do this gain an objectWillChange method that publishes changes.</span><br><span class="token comment">// This can be called directly before changes are made.</span><br><span class="token comment">// Alternatively, if the properties that can change are annotated with</span><br><span class="token comment">// the @Published property wrapper, changes will be published automatically.</span><br><span class="token keyword">class</span> <span class="token class-name">Model</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The @Published property wrapper causes changes in properties</span><br>    <span class="token comment">// that are structs, not classes, to be published.</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> dogs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Dog</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><br>    <span class="token comment">//private let logger = Logger()</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Start with an initial set of dogs.</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">/// An "intent" that toggles whether a given dog is selected.</span><br>    <span class="token keyword">func</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token number">_</span> dog<span class="token punctuation">:</span> <span class="token builtin">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// This is not needed if properties have the @Published annotation.</span><br>        <span class="token comment">//objectWillChange.send() // notifies subscribers</span><br><br>        <span class="token comment">// We can't use the "first" method to find the matching Dog</span><br>        <span class="token comment">// because that would return a copy of the Dog struct.</span><br>        <span class="token comment">// We need to be able to modify the struct in the array, not a copy.</span><br>        <span class="token keyword">let</span> index <span class="token operator">=</span> dogs<span class="token punctuation">.</span><span class="token function">firstIndex</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span>id <span class="token operator">==</span> dog<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> index <span class="token operator">=</span> index <span class="token punctuation">{</span><br>            dogs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>selected<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">"Model.select: selectedDog = <span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> dogs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><br>            <span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// ContentView.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token comment">// This is a custom view that renders a dog description.</span><br><span class="token comment">// If the dog is selected, the text is made bold.</span><br><span class="token keyword">struct</span> <span class="token builtin">DogView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> dog<span class="token punctuation">:</span> <span class="token builtin">Dog</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span> is a <span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>breed<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> dog<span class="token punctuation">.</span>selected <span class="token punctuation">{</span><br>            text<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>            text<br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Adding the @ObservedObject property wrapper subscribes to changes.</span><br>    <span class="token comment">// Only view bodies that are affected by observed changes are rebuilt,</span><br>    <span class="token comment">// so it is efficient.</span><br>    <span class="token comment">// Selecting a dog mutates this model</span><br>    <span class="token comment">// which causes this view body to be rebuilt.</span><br>    @<span class="token builtin">ObservedObject</span> <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">Model</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Dogs (<span class="token interpolation"><span class="token delimiter variable">\(</span>model<span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span>)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">ForEach</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                    <span class="token function">DogView</span><span class="token punctuation">(</span>dog<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span><br>                        model<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="popovers">Popovers</h2><p>Popovers are often used for tooltip or help text.</p><p>The following example displays a popover above a <code>Text</code> view when a <code>Button</code> is tapped. On an iPad popovers are rendered like speech bubbles with a tail pointing at an associated view. On an iPhone popovers are rendered as sheets that slide in from the bottom.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">runAfter</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> closure<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">DispatchQueue</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">asyncAfter</span><span class="token punctuation">(</span><br>        deadline<span class="token punctuation">:</span> <span class="token builtin">DispatchTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span><br>        execute<span class="token punctuation">:</span> closure<br>    <span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> showHelp <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Some complex text goes here."</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Color</span><span class="token punctuation">(</span><span class="token builtin">UIColor</span><span class="token punctuation">.</span>lightGray<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">popover</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $showHelp<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is help text."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Help"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// Display popover for 2 seconds.</span><br>                <span class="token comment">// SwiftUI doesn't support showing</span><br>                <span class="token comment">// multiple popovers at the same time.</span><br>                <span class="token comment">// If this is attempted, none will be displayed.</span><br>                showHelp <span class="token operator">=</span> <span class="token boolean">true</span><br>                <span class="token function">runAfter</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> showHelp <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="alerts">Alerts</h2><p>Alerts are simple modal dialogs that contain a title, an optional message, and buttons. They are defined using the <code>alert</code> method that can be chained onto any view. They are displayed when a given binding is set to true.</p><p>The buttons to display are described in the <code>actions</code> argument. Like any button, these can have associated actions.</p><p>When there are more than two buttons, they are stacked vertically. Otherwise they are placed on one row.</p><p>If no buttons are provided, a default &quot;OK&quot; button with a role of <code>.cancel</code> is provided.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogCount <span class="token operator">=</span> <span class="token number">0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> pressed <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> tooManyDogs <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Press Me"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> pressed <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Stepper</span><span class="token punctuation">(</span><br>                    <span class="token string">"# of Dogs: <span class="token interpolation"><span class="token delimiter variable">\(</span>dogCount<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">,</span><br>                    value<span class="token punctuation">:</span> $dogCount<span class="token punctuation">,</span><br>                    <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><br>                <span class="token punctuation">)</span> <span class="token punctuation">{</span> v <span class="token keyword">in</span><br>                    tooManyDogs <span class="token operator">=</span> dogCount <span class="token operator">></span> <span class="token number">2</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><br>            <span class="token string">"My Title"</span><span class="token punctuation">,</span><br>            isPresented<span class="token punctuation">:</span> $pressed<span class="token punctuation">,</span><br>            actions<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// no custom buttons</span><br>            message<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"My Message"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><br>            <span class="token string">"Dog Alert"</span><span class="token punctuation">,</span><br>            isPresented<span class="token punctuation">:</span> $tooManyDogs<span class="token punctuation">,</span><br>            actions<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>                <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"OK"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"pressed OK"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Keep"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"pressed Keep"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            message<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>                <span class="token comment">// Can only have a single Text view here,</span><br>                <span class="token comment">// not any kind of View!</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"You have too many dogs!"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="modal-dialogs">Modal Dialogs</h2><p>Basic modal dialogs can be created using the <code>alert</code> and <code>confirmationDialog</code> view modifiers</p><p>Custom modal dialogs are implemented by displaying a &quot;sheet&quot;. The sheet slides in from the bottom by default.</p><p>The following example defines the custom view <code>MyModal</code> which is displayed in the sheet. Custom views, like any struct, can have properties that are passed in when instances are created. The <code>ContentView</code> struct declares the boolean property <code>showModal</code> and passes it to the <code>MyModal</code> struct as a binding. This allows the action of the &quot;Close&quot; button in <code>MyModal</code> to set it to false which hides the sheet.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">MySheetView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Approach #1</span><br>    <span class="token comment">//@Binding var isPresented: Bool</span><br><br>    <span class="token comment">// Approach #2</span><br>    @<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>dismiss<span class="token punctuation">)</span> <span class="token keyword">var</span> dismiss<br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">Color</span><span class="token punctuation">.</span>yellow<br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is my modal content."</span><span class="token punctuation">)</span><br>                <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Close"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token comment">//isPresented = false // Approach #1</span><br>                    <span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Approach #2</span><br>                <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">edgesIgnoringSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bottom<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> isSheetPresented <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is my main view."</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Show Sheet"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> isSheetPresented <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><br>                <span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $isSheetPresented<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token comment">// Only need to pass this argument in approach #1.</span><br>                    <span class="token comment">//MySheetView(isPresented: $isSheetPresented)</span><br>                    <span class="token function">MySheetView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="toolbars">Toolbars</h2><p>Toolbars are collections of buttons that can be displayed at the top or bottom of the display. The are created by applying the <code>toolbar</code> view modifier to the top view inside a <code>NavigationView</code>. Single buttons can be described inside a <code>ToolbarItem</code> view. Multiple buttons can be described inside a <code>ToolbarItemGroup</code> view.</p><p>If there are only two buttons in a toolbar, they are laid out as if there is a <code>Spacer</code> between them. For other layouts, add your own <code>Spacer</code> views.</p><p>The placement of a toolbar is specified by the <code>placement</code> attribute in the <code>ToolbarItem</code> and <code>ToolbarItemGroup</code> views. Supported <code>placement</code> values include:</p><ul><li><code>.navigationBarLeading</code>: top, left-justified</li><li><code>.navigationBarTrailing</code>: top, right-justified</li><li><code>.bottomBar</code>: bottom, centered</li></ul><p>Other <code>placement</code> values seem to be unable to render multiple buttons.</p><p><img alt="SwiftUI Toolbars" style="width: 40%" src="/blog/assets/SwiftUI-Toolbars.png?v=1.0.18" title="SwiftUI Toolbars"></p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selection <span class="token operator">=</span> <span class="token string">"Tap a toolbar button."</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>selection<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Toolbar Demo"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span>toolbar <span class="token punctuation">{</span><br>                    <span class="token function">ToolbarItemGroup</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>navigationBarTrailing<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"planes"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"airplane"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"trains"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"tram"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"automobiles"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"car.fill"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">ToolbarItemGroup</span><span class="token punctuation">(</span>placement<span class="token punctuation">:</span> <span class="token punctuation">.</span>bottomBar<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"hearts"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"suit.heart.fill"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"diamonds"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"suit.diamond.fill"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"clubs"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"suit.club.fill"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><br>                            action<span class="token punctuation">:</span> <span class="token punctuation">{</span> selection <span class="token operator">=</span> <span class="token string">"spades"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                            label<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"suit.spade.fill"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                        <span class="token punctuation">)</span><br>                        <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="navigation">Navigation</h2><p>The <code>NavigationView</code> view marks the spot where the views associated with <code>NavigationLinks</code> will be rendered. The example below renders four pages. Page 1 contains links to pages 2 and 3. Page 3 contains a link to page 4.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page1</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page one."</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 1"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">navigationBarTitleDisplayMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>inline<span class="token punctuation">)</span><br>                <span class="token comment">// .large leaves a large amount of space above</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 2"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 3"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page2</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page two."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 2"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page3</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page three."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 3"</span><span class="token punctuation">)</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 4"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page4</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page four."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 4"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token function">Page1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>If the view inside a <code>NavigationLink</code> doesn't have a <code>navigationTitle</code>, the link to get back to it will just display &quot;Back&quot;.</p><p>To go back to the previous view programmatically, add the following to a view and call <code>dismiss</code> with no arguments.</p><pre class="language-swift"><code class="language-swift">@<span class="token function">Environment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span>dismiss<span class="token punctuation">)</span> <span class="token keyword">var</span> dismiss</code></pre><p>Here is a more advanced example of using <code>NavigationView</code>.</p><p><img alt="SwiftUI NavigationView" style="width: 32%" src="/blog/assets/SwiftUI-Navigation1.png?v=1.0.18" title="SwiftUI NavigationView"> <img alt="SwiftUI NavigationView" style="width: 32%" src="/blog/assets/SwiftUI-Navigation2.png?v=1.0.18" title="SwiftUI NavigationView"> <img alt="SwiftUI NavigationView" style="width: 32%" src="/blog/assets/SwiftUI-Navigation3.png?v=1.0.18" title="SwiftUI NavigationView"></p><pre class="language-swift"><code class="language-swift"><span class="token comment">// SwiftUI-NavigationApp.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br>@main<br><span class="token keyword">struct</span> <span class="token builtin">SwiftUI_NavigationApp</span><span class="token punctuation">:</span> <span class="token builtin">App</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This registers use of AppDelegate defined in AppDelegate.swift.</span><br>    @<span class="token function">UIApplicationDelegateAdaptor</span><span class="token punctuation">(</span><span class="token builtin">AppDelegate</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token keyword">var</span> appDelegate<br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">Scene</span> <span class="token punctuation">{</span><br>        <span class="token builtin">WindowGroup</span> <span class="token punctuation">{</span><br>            <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// AppDelegate.swift</span><br><span class="token keyword">import</span> <span class="token builtin">UIKit</span><br><br><span class="token comment">// To use this, register it in the main .swift file.</span><br><span class="token keyword">class</span> <span class="token class-name">AppDelegate</span><span class="token punctuation">:</span> <span class="token builtin">UIResponder</span><span class="token punctuation">,</span> <span class="token builtin">UIApplicationDelegate</span> <span class="token punctuation">{</span><br>    <span class="token keyword">func</span> <span class="token function">application</span><span class="token punctuation">(</span><br>        <span class="token number">_</span> application<span class="token punctuation">:</span> <span class="token builtin">UIApplication</span><span class="token punctuation">,</span><br>        didFinishLaunchingWithOptions launchOptions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">UIApplication</span><span class="token punctuation">.</span><span class="token builtin">LaunchOptionsKey</span><span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token constant">nil</span><br>    <span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Bool</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Change the appearance of the status and navigation bars.</span><br>        <span class="token comment">// This is not currently possible using only SwiftUI,</span><br>        <span class="token comment">// so we need to use the UIKit approach.</span><br>        <span class="token keyword">let</span> appearance <span class="token operator">=</span> <span class="token function">UINavigationBarAppearance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        appearance<span class="token punctuation">.</span><span class="token function">configureWithOpaqueBackground</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        appearance<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>systemRed <span class="token comment">// a bit more muted than .red</span><br>        appearance<span class="token punctuation">.</span>largeTitleTextAttributes <span class="token operator">=</span> <span class="token punctuation">[</span><br>            <span class="token punctuation">.</span>foregroundColor<span class="token punctuation">:</span> <span class="token builtin">UIColor</span><span class="token punctuation">.</span>white<br>            <span class="token comment">//.font: UIFont.monospacedSystemFont(ofSize: 36, weight: .black)</span><br>        <span class="token punctuation">]</span><br>        <span class="token builtin">UINavigationBar</span><span class="token punctuation">.</span><span class="token function">appearance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>scrollEdgeAppearance <span class="token operator">=</span> appearance<br><br>        <span class="token keyword">return</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// ContentView.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token comment">// This data is shared between pages as an environment object.</span><br><span class="token keyword">class</span> <span class="token class-name">SharedData</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> v1 <span class="token operator">=</span> <span class="token number">0</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> v2 <span class="token operator">=</span> <span class="token string">"x"</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This displays data in an environment object</span><br><span class="token comment">// and allows users to modify the data.</span><br><span class="token keyword">struct</span> <span class="token builtin">DataView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is needed to gain access to the environment object.</span><br>    @<span class="token builtin">EnvironmentObject</span> <span class="token keyword">var</span> data<span class="token punctuation">:</span> <span class="token builtin">SharedData</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"v1 = <span class="token interpolation"><span class="token delimiter variable">\(</span>data<span class="token punctuation">.</span>v1<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token comment">// Why does these buttons appear to become disabled</span><br>            <span class="token comment">// after tapping them in the Simulator?</span><br>            <span class="token comment">// This doesn't happen in Preview.</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Add 1"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>v1 <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"v2 = <span class="token interpolation"><span class="token delimiter variable">\(</span>data<span class="token punctuation">.</span>v2<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Update"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>v2 <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">"x"</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">buttonStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bordered<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">MainPage</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is needed to gain access to the environment object.</span><br>    @<span class="token builtin">EnvironmentObject</span> <span class="token keyword">var</span> data<span class="token punctuation">:</span> <span class="token builtin">SharedData</span><br><br>    <span class="token comment">// This can have a type other than String such as Int.</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selection<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token constant">nil</span><br><br>    <span class="token comment">// This is used to toggle between displaying page 4 and 5.</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> pageToggle <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is on the main page."</span><span class="token punctuation">)</span><br><br>            <span class="token comment">// This creates two links to ChildPage views.</span><br>            <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> number <span class="token keyword">in</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">ChildPage</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Go to child <span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span> page"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// Tab-based navigation</span><br>            <span class="token comment">// Also consider using the isActive argument which is an</span><br>            <span class="token comment">// @State Bool that indicates if the link should be activated.</span><br>            <span class="token function">NavigationLink</span><span class="token punctuation">(</span><br>                destination<span class="token punctuation">:</span> <span class="token function">ChildPage</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                tag<span class="token punctuation">:</span> <span class="token string">"four"</span><span class="token punctuation">,</span><br>                selection<span class="token punctuation">:</span> $selection<br>            <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Go to four"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token function">NavigationLink</span><span class="token punctuation">(</span><br>                destination<span class="token punctuation">:</span> <span class="token function">ChildPage</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                tag<span class="token punctuation">:</span> <span class="token string">"five"</span><span class="token punctuation">,</span><br>                selection<span class="token punctuation">:</span> $selection<br>            <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Go to five"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// Programatic navigation to the links above</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Mystery Page"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// Could make a REST call here and use the data</span><br>                <span class="token comment">// to determine the value of "selection".</span><br>                selection <span class="token operator">=</span> pageToggle <span class="token operator">?</span> <span class="token string">"five"</span> <span class="token punctuation">:</span> <span class="token string">"four"</span><br><br>                <span class="token comment">// Could conditionally decide how to set "pageToggle"</span><br>                <span class="token comment">// which is used above to determine the value of "selection".</span><br>                pageToggle<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>                <span class="token comment">// Return to the current page after 2 seconds.</span><br>                <span class="token comment">// This is like setTimeout in JavaScript.</span><br>                <span class="token builtin">DispatchQueue</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">asyncAfter</span><span class="token punctuation">(</span>deadline<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    selection <span class="token operator">=</span> <span class="token constant">nil</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"data.v1 = <span class="token interpolation"><span class="token delimiter variable">\(</span>data<span class="token punctuation">.</span>v1<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br><br>            <span class="token comment">// Can attach an environment object to any view like this.</span><br>            <span class="token comment">//NavigationLink(destination: DataView().environmentObject(data)) {</span><br><br>            <span class="token comment">// But can also attach an environment object</span><br>            <span class="token comment">// to the NavigationView (see below)</span><br>            <span class="token comment">// to make it available in all linked views.</span><br>            <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">DataView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Go to DataView"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ChildPage</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token builtin">Int</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is on the child <span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span> page."</span><span class="token punctuation">)</span><br><br>            <span class="token comment">// This creates three links to GrandchildPage views.</span><br>            <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> number <span class="token keyword">in</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">GrandchildPage</span><span class="token punctuation">(</span>number<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Grandchild <span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token string">"Child"</span><span class="token punctuation">,</span> displayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>inline<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">GrandchildPage</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> number<span class="token punctuation">:</span> <span class="token builtin">Int</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is on the grandchild <span class="token interpolation"><span class="token delimiter variable">\(</span>number<span class="token delimiter variable">)</span></span> page."</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token string">"Grandchild"</span><span class="token punctuation">,</span> displayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>automatic<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is registered as an environment object below.</span><br>    @<span class="token builtin">ObservedObject</span> <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token function">SharedData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token comment">// Going fullscreen requires hiding both</span><br>    <span class="token comment">// the status bar and the navigation bar.</span><br>    <span class="token comment">// See where this is used below.</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> fullscreen <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Usually NavigationView is only used at the top-level.</span><br>        <span class="token comment">// One exception is when using multiple tabs</span><br>        <span class="token comment">// where each has its own NavigationView.</span><br>        <span class="token comment">//</span><br>        <span class="token comment">// Currently SwiftUI only supports two customizations of the navbar.</span><br>        <span class="token comment">// It can be hidden entirely or only the back button can be hidden.</span><br>        <span class="token comment">// Other customizations require use of UIKit.</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Toggle Fullscreen"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fullscreen<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>                <span class="token function">MainPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// The navigationBarTitle goes on a view inside NavigationView,</span><br>            <span class="token comment">// not on the NavigationView,</span><br>            <span class="token comment">// because the title can change for each page.</span><br>            <span class="token comment">// See other calls to this above.</span><br>            <span class="token comment">// The optional "displayMode" attribute has three options:</span><br>            <span class="token comment">// large (default), inline, and automatic.</span><br>            <span class="token comment">// Automatic uses large for the top view and inline for others.</span><br>            <span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token string">"Main"</span><span class="token punctuation">)</span><br><br>            <span class="token punctuation">.</span><span class="token function">navigationBarHidden</span><span class="token punctuation">(</span>fullscreen<span class="token punctuation">)</span><br><br>            <span class="token comment">// This adds buttons in the navigation bar,</span><br>            <span class="token comment">// only for the view to which this is applied, which is</span><br>            <span class="token comment">// the VStack above that is only rendered on the main page.</span><br>            <span class="token comment">// If the background color of the navigation bar is changed,</span><br>            <span class="token comment">// the color of these buttons typically should be changed also.</span><br>            <span class="token punctuation">.</span><span class="token function">navigationBarItems</span><span class="token punctuation">(</span><br>                leading<span class="token punctuation">:</span><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Down"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>v1 <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>                    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                trailing<span class="token punctuation">:</span><br>                    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Up"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>v1 <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Double"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> data<span class="token punctuation">.</span>v1 <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">2</span> <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><br>            <span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">statusBar</span><span class="token punctuation">(</span>hidden<span class="token punctuation">:</span> fullscreen<span class="token punctuation">)</span><br><br>        <span class="token comment">// This makes an @ObservedObject available</span><br>        <span class="token comment">// to all linked views as an @EnvironmentObject.</span><br>        <span class="token comment">// All views that use it will have their body property</span><br>        <span class="token comment">// reevaluated if the value changes.</span><br>        <span class="token punctuation">.</span><span class="token function">environmentObject</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Most SwiftUI code works on all platforms. However, watchOS does not support <code>NavigationView</code>. Here is a shim that provides a shell implementation so the same code that works in iOS can work in watchOS.</p><p>To run this app as a watchOS app in the simulator:</p><ul><li>select File ... New ... Target</li><li>click the watchOS tab</li><li>scroll down and select &quot;Watch App for iOS App&quot;</li><li>click Next</li><li>enter a product name</li><li>click Finish, then Activate</li></ul><p>TODO: Why does the Apple Watch Simulator always just display &quot;Hello, World!&quot; TODO: and not what is in this app?</p><pre class="language-swift"><code class="language-swift">#<span class="token keyword">if</span> <span class="token function">os</span><span class="token punctuation">(</span>watchOS<span class="token punctuation">)</span><br><span class="token keyword">struct</span> <span class="token builtin">NavigationView</span><span class="token operator">&lt;</span><span class="token builtin">Content</span><span class="token punctuation">:</span> <span class="token builtin">View</span><span class="token operator">></span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> content<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Content</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>@<span class="token builtin">ViewBuilder</span> content<span class="token punctuation">:</span> @escaping <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content<br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br>#endif</code></pre><p>macOS does not support the <code>navigationBarTitle</code> view modifier. Here is a shim that provides a shell implementation so the same code that works in iOS can work in macOS.</p><p>To run this app as a macOS app in the Simulator, either create the app as either a Multiplatform App or a macOS app.</p><pre class="language-swift"><code class="language-swift">#<span class="token keyword">if</span> <span class="token function">os</span><span class="token punctuation">(</span>macOS<span class="token punctuation">)</span><br><span class="token keyword">extension</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">func</span> <span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token number">_</span> title<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br>#endif</code></pre><h2 id="sidebars">Sidebars</h2><p>A sidebar provides app-level navigation to top-level collections of content. For example, the Mail app displays a list of mailboxes in a sidebar. Selecting an item in the sidebar changes what is displayed in the pane that follows. SwiftUI creates a sidebar when the <code>.listStyle(.sidebar)</code> view modifier is applied to a <code>List</code> view.</p><p>The following example uses a sidebar for selecting a sport. When a sport is selected, the pane to its right displays a list of teams in that sport and allows one to be selected. When a team is selected, the pane to its right displays a list of players on that team.</p><p>TODO: Select a sport and a team, tap &quot;Back&quot;, and select a different team. TODO: Why isn't the team pane dismissed?</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// model.swift</span><br><span class="token keyword">import</span> <span class="token builtin">Foundation</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Sport</span><span class="token punctuation">:</span> <span class="token builtin">Hashable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> teams<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Team</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Team</span><span class="token punctuation">:</span> <span class="token builtin">Hashable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> players<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Player</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Player</span><span class="token punctuation">:</span> <span class="token builtin">Hashable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token number">_</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Model</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> baseball <span class="token operator">=</span> <span class="token function">Sport</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Baseball"</span><span class="token punctuation">)</span><br>    <span class="token keyword">var</span> football <span class="token operator">=</span> <span class="token function">Sport</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Football"</span><span class="token punctuation">)</span><br>    <span class="token keyword">var</span> hockey <span class="token operator">=</span> <span class="token function">Sport</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Hockey"</span><span class="token punctuation">)</span><br><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> sports<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Sport</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Baseball data</span><br><br>        <span class="token keyword">var</span> team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Cardinals"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Yadier Molina"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Adam Wainwright"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        baseball<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Cubs"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Jason Heyward"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Patrick Wisdom"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        baseball<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        sports<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>baseball<span class="token punctuation">)</span><br><br>        <span class="token comment">// Football data</span><br><br>        team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Buccaneers"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Tom Brady"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Rob Gronkowski"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        football<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Packers"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Aaron Rodgers"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Davante Adams"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        football<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        sports<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>football<span class="token punctuation">)</span><br><br>        <span class="token comment">// Hockey data</span><br><br>        team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Blues"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Vladimir Tarsenko"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Jordan Binnington"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        hockey<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        team <span class="token operator">=</span> <span class="token function">Team</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Blackhawks"</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Marc-Andre Fleury"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        team<span class="token punctuation">.</span>players<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Player</span><span class="token punctuation">(</span><span class="token string">"Jonathan Toews"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        hockey<span class="token punctuation">.</span>teams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>team<span class="token punctuation">)</span><br><br>        sports<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>hockey<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// SwiftUI-SidebarApp.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br>@main<br><span class="token keyword">struct</span> <span class="token builtin">SwiftUI_SidebarApp</span><span class="token punctuation">:</span> <span class="token builtin">App</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">Scene</span> <span class="token punctuation">{</span><br>        <span class="token builtin">WindowGroup</span> <span class="token punctuation">{</span><br>            <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// ContentView.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">SportsView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">ObservedObject</span> <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">Model</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> selectedSport<span class="token punctuation">:</span> <span class="token builtin">Sport</span><span class="token operator">?</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> selectedTeam<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token operator">?</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Sports"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span><br>            <span class="token function">List</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>sports<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> sport <span class="token keyword">in</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span><br>                    destination<span class="token punctuation">:</span> <span class="token function">TeamsView</span><span class="token punctuation">(</span><br>                        selectedSport<span class="token punctuation">:</span> $selectedSport<span class="token punctuation">,</span><br>                        selectedTeam<span class="token punctuation">:</span> $selectedTeam<br>                    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>                    tag<span class="token punctuation">:</span> sport<span class="token punctuation">,</span><br>                    selection<span class="token punctuation">:</span> $selectedSport<br>                <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span>sport<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">listStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>sidebar<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">TeamsView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> selectedSport<span class="token punctuation">:</span> <span class="token builtin">Sport</span><span class="token operator">?</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> selectedTeam<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token operator">?</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>selectedSport<span class="token operator">?</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">"None"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span><br>            <span class="token function">List</span><span class="token punctuation">(</span>selectedSport<span class="token operator">?</span><span class="token punctuation">.</span>teams <span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> team <span class="token keyword">in</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span><br>                    destination<span class="token punctuation">:</span> <span class="token function">PlayersView</span><span class="token punctuation">(</span><br>                        selectedTeam<span class="token punctuation">:</span> $selectedTeam<br>                    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>                    tag<span class="token punctuation">:</span> team<span class="token punctuation">,</span><br>                    selection<span class="token punctuation">:</span> $selectedTeam<br><br>                <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span>team<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">PlayersView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> selectedTeam<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token operator">?</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>selectedTeam<span class="token operator">?</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">"None"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span><br>            <span class="token function">List</span><span class="token punctuation">(</span>selectedTeam<span class="token operator">?</span><span class="token punctuation">.</span>players <span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> player <span class="token keyword">in</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span>player<span class="token punctuation">.</span>name<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedSport<span class="token punctuation">:</span> <span class="token builtin">Sport</span><span class="token operator">?</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedTeam<span class="token punctuation">:</span> <span class="token builtin">Team</span><span class="token operator">?</span><br><br>    <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">Model</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token function">SportsView</span><span class="token punctuation">(</span><br>                model<span class="token punctuation">:</span> model<span class="token punctuation">,</span><br>                selectedSport<span class="token punctuation">:</span> $selectedSport<span class="token punctuation">,</span><br>                selectedTeam<span class="token punctuation">:</span> $selectedTeam<br>            <span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Select a sport"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Select a team"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="utility-functions">Utility Functions</h2><p>The <a href="https://developer.apple.com/documentation/swift/1539127-dump?v=1.0.18" rel="noopener" target="_blank">dump</a> function takes a value and prints it for debugging purposes. The value can be non-primitive such as an object or array. Optional arguments that follow the value include <code>name</code>, <code>indent</code>, <code>maxDepth</code>, and <code>maxItems</code>.</p><h2 id="key-paths">Key Paths</h2><p>A <a href="https://www.youtube.com/watch?v=YY7SlOklZzk?v=1.0.18" rel="noopener" target="_blank">key path</a> refers to a property in a struct or class rather than the value of a property in a particular instance.</p><p>A key path can be created with a backslash followed by a type name, a period, and a property name. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> namePath <span class="token operator">=</span> \<span class="token builtin">Person</span><span class="token punctuation">.</span>name</code></pre><p>A key path can be used to get the value of a property from an instance of a struct or class. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Mark"</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> name <span class="token operator">=</span> person<span class="token punctuation">[</span>keyPath<span class="token punctuation">:</span> namePath<span class="token punctuation">]</span> <span class="token comment">// "Mark"</span></code></pre><p>All objects have the property <code>self</code> that refers to the whole object. To write a key path that refers to the whole object rather than a specific property inside it, use <code>\.self</code>.</p><h2 id="environments">Environments</h2><p>A SwiftUI environment specifies key/value pairs that affect all sub-views of the view on which they are specified. For example, if a font is specified on a <code>VStack</code> then it becomes the default found for all views nested inside it at any depth.</p><p>To dump the contents on the current environment of a view, chain the following onto the view:</p><pre class="language-swift"><code class="language-swift"><span class="token punctuation">.</span><span class="token function">transformEnvironment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">dump</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></pre><p>TODO: <a href="https://www.youtube.com/watch?v=SUiITSkAqAo&amp;t=548s">https://www.youtube.com/watch?v=SUiITSkAqAo&amp;t=548s</a></p><h2 id="network-requests">Network Requests</h2><p>TODO: <a href="https://www.youtube.com/watch?v=2NowSN4qJUY&amp;t=729s">https://www.youtube.com/watch?v=2NowSN4qJUY&amp;t=729s</a></p><h2 id="userdefaults">UserDefaults</h2><p>The <code>UserDefaults</code> class is &quot;an interface to the user's defaults database, where you store key-value pairs persistently across launches of your app.&quot; The code below demonstrates using this to persist data about dogs as JSON. TODO: Can you store an array objects directory without encoding as JSON?</p><p>The <code>@AppStorage</code> property wrapper makes it easier to work with <code>UserDefaults</code>, but it is limited to the following types: <code>Bool</code>, <code>Int</code>, <code>Double</code>, <code>String</code>, <code>URL</code>, and <code>Data</code> (byte buffer). It can't be used in the example below because it stores an array of struct instances.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">Codable</span><span class="token punctuation">,</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> is a <span class="token interpolation"><span class="token delimiter variable">\(</span>breed<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">}</span><br>    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span><br><br>    <span class="token comment">// Can also use this to specify different names for the JSON keys.</span><br>    <span class="token keyword">enum</span> <span class="token builtin">CodingKeys</span><span class="token punctuation">:</span> <span class="token builtin">CodingKey</span> <span class="token punctuation">{</span><br>        <span class="token keyword">case</span> name<br>        <span class="token keyword">case</span> breed<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token function">deleteData</span><span class="token punctuation">(</span><span class="token keyword">for</span> key<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">UserDefaults</span><span class="token punctuation">.</span>standard<span class="token punctuation">.</span><span class="token function">removeObject</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> key<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> getData<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">for</span> key<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> defaultingTo defaultValue<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> T <span class="token keyword">where</span> T<span class="token punctuation">:</span> <span class="token builtin">Decodable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token builtin">UserDefaults</span><span class="token punctuation">.</span>standard<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>forKey<span class="token punctuation">:</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"init: data ="</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> decoded <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token function">JSONDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>T<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> from<span class="token punctuation">:</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> decoded<br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> defaultValue<br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> setData<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token keyword">for</span> key<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> to value<span class="token punctuation">:</span> T<span class="token punctuation">)</span> <span class="token keyword">where</span> T<span class="token punctuation">:</span> <span class="token builtin">Encodable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token keyword">let</span> encoded <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token function">JSONEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> json <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> encoded<span class="token punctuation">,</span> encoding<span class="token punctuation">:</span> <span class="token punctuation">.</span>utf8<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"setData: json ="</span><span class="token punctuation">,</span> json<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token builtin">UserDefaults</span><span class="token punctuation">.</span>standard<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>encoded<span class="token punctuation">,</span> forKey<span class="token punctuation">:</span> key<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> <span class="token constant">KEY</span> <span class="token operator">=</span> <span class="token string">"dogs"</span><br><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> breed <span class="token operator">=</span> <span class="token string">""</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">""</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Dog</span><span class="token punctuation">]</span> <span class="token comment">// can't initialize this to an empty array!</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        dogs <span class="token operator">=</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span><span class="token constant">KEY</span><span class="token punctuation">,</span> defaultingTo<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"init: dogs ="</span><span class="token punctuation">,</span> dogs<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">deleteAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">deleteData</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span><span class="token constant">KEY</span><span class="token punctuation">)</span><br>        dogs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">deleteDogs</span><span class="token punctuation">(</span>at offsets<span class="token punctuation">:</span> <span class="token builtin">IndexSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        dogs<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>atOffsets<span class="token punctuation">:</span> offsets<span class="token punctuation">)</span><br>        <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">func</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token function">setData</span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span><span class="token constant">KEY</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> dogs<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"New Dog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>                        <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $name<span class="token punctuation">)</span><br>                        <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Breed"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $breed<span class="token punctuation">)</span><br>                        <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Add"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                            dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">,</span> breed<span class="token punctuation">:</span> breed<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                            <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                            name <span class="token operator">=</span> <span class="token string">""</span><br>                            breed <span class="token operator">=</span> <span class="token string">""</span><br>                        <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Current Dogs"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token builtin">List</span> <span class="token punctuation">{</span><br>                        <span class="token function">ForEach</span><span class="token punctuation">(</span>dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                        <span class="token punctuation">}</span><br>                        <span class="token punctuation">.</span><span class="token function">onDelete</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> deleteDogs<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Delete All"</span><span class="token punctuation">,</span> action<span class="token punctuation">:</span> deleteAll<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">navigationBarTitle</span><span class="token punctuation">(</span><span class="token string">"Dog Collection"</span><span class="token punctuation">,</span> displayMode<span class="token punctuation">:</span> <span class="token punctuation">.</span>inline<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="combine">Combine</h2><p>TODO: <a href="https://www.youtube.com/watch?v=bRpFHqv0tRQ&amp;t=701s">https://www.youtube.com/watch?v=bRpFHqv0tRQ&amp;t=701s</a></p><h2 id="core-data">Core Data</h2><p>Core Data is an object/graph persistence framework. It supports many features including data validation, undo/redo, and lazy loading. By default it stores data using SQLite.</p><p>TODO: Does &quot;Core Data&quot; work in Preview?</p><p>One way to setup use of Core Data is to check the &quot;Use Core Data&quot; checkbox on the options panel when creating a new project. This adds all the setup code and UI code for a simple app that allows creating, deleting, and listing <code>Item</code> entities. The app can be modified to work with other kinds of entities.</p><p>Another approach is to uncheck the &quot;Use Core Data&quot; checkbox and set up use of Core Data manually. The steps to do this are shown later.</p><h3 id="%22use-core-data%22-option">&quot;Use Core Data&quot; Option</h3><p>When the &quot;Use Core Data&quot; checkbox is checked, the generated files configure the use of Core Data. The file <code>{app-name}App.swift</code> registers an &quot;environment&quot; with the main <code>ContentView</code> that uses a <code>PersistenceController</code> instance defined in <code>Persistence.swift</code> and made available through a static <code>shared</code> property. The main view defined in <code>ContentView.swift</code> has access to this and uses the <code>@FetchRequest</code> property wrapper to get <code>Item</code> objects from the persistent store. The <code>Item</code> type is defined in <code>{app-name}.xcdatamodeld</code> and has a single attribute <code>timestamp</code>.</p><p>The generated app is fully functional. It displays a list of items that each have a timestamp. Tap an item to get to a page that displays detail about just that item. To delete an item, swipe it left and click the &quot;Delete&quot; button that appears. To add an item with the current timestamp, click the &quot;+&quot; button at the top. To delete items without swiping them, click the &quot;Edit&quot; button at the top. This displays a red circle containing a minus sign to left of each item. Click those to delete items. When finished, click the &quot;Done&quot; button at the top that replaced the &quot;Edit&quot; button. From here you can edit the code to provide your own CRUD functionality.</p><h3 id="defining-entities">Defining Entities</h3><p>To define Core Data entity types, click the <code>{app-name}.xcdatamodeld</code> file in the Navigator pane. This will display an entity editor.</p><p>If the &quot;Use Core Data&quot; option was checked, consider deleting the provided <code>Item</code> entity and any code that is specific to it.</p><p>If the &quot;Use Core Data&quot; option was not checked, create a model file. Right-click in the Navigator and select &quot;New File...&quot;. For the template, scroll down to &quot;Core Data&quot; and select &quot;Data Model&quot;. For most projects only one of these files is needed and the default name of &quot;Model.xcdatamodeld&quot; is fine.</p><p>Entities are similar to tables in a relational database. Add entities to the model by clicking the &quot;Add Entity&quot; button at the bottom. This will create an empty entity named &quot;Entity&quot;. Double-click the name to change it. These become the names of generated class definitions, so they should begin with an uppercase letter. It is recommended to give them names that end in &quot;Entity&quot; so it is clear in code that uses them that they are Core Data entities. The generated classes inherit from <code>NSManagedObject</code>.</p><p>For each entity, click the &quot;Module&quot; drop-down inside the Inspector on the right, select &quot;Current Product Module&quot;. TODO: Is this really desirable? What is the benefit?</p><p>Add attributes to each entity by clicking the &quot;+&quot; at the bottom of the attribute list. Each attribute is given a default name of &quot;attribute&quot;. Double-click the name to change it. Some names, such as &quot;description&quot; and &quot;for&quot;, are not allowed. Select a type from a drop-down list of primitive types that includes &quot;Data&quot; for a byte buffer.</p><p>Optionally sort the attributes. They can be sorted on their name or type by clicking on the &quot;Attribute&quot; or &quot;Type&quot; column heading.</p><p>Mark the optional attributes. By default each attribute is optional. For any that are required, select the attribute and uncheck the &quot;Optional&quot; checkbox in the inspector.</p><p>Optionally specify default values for each attribute. Select an attribute and enter a value for &quot;Default Value&quot; in the inspector.</p><p>Optionally specify validation criteria for each attribute. Select an attribute and enter values for &quot;Validation&quot; in the inspector.</p><p>Optionally add relationships between entities. Each relationship specifies a Relationship name, Destination, Type, and Delete Rule. The &quot;Type&quot; in the Inspector can be &quot;To One&quot; or &quot;To Many&quot;.</p><p>Relationships have a &quot;Delete Rule&quot; in the Inspector that can be &quot;Nullify&quot;, &quot;Cascade&quot;, or &quot;Deny&quot;.</p><p>&quot;Nullify&quot; means instances can be deleted without also deleting related entities. References to deleted entities are set to <code>nil</code>.</p><p>&quot;Cascade&quot; means instances can be deleted and related entities will also be deleted.</p><p>&quot;Deny&quot; means instances with related entities cannot be deleted.</p><p>Specify inverse relationships for most relationships. For example, &quot;PersonEntity&quot; can have an &quot;owns&quot; relationship &quot;To Many&quot; &quot;DogEntity&quot; and &quot;DogEntity&quot; can have an &quot;ownedBy&quot; relationship &quot;To One&quot; &quot;PersonEntity&quot;.</p><p>Optionally view the entities and their relationships as a graph. To switch between viewing entities and their relationships in &quot;table&quot; style or &quot;graph&quot; style, click the buttons in the lower-right labelled &quot;Editor Style&quot;. In the graph view it may be necessary to toggle the relationships in each entity by clicking the triangle to the left of &quot;Relationships&quot; in order to see all of them.</p><p>If you see the error &quot;cannot find type 'SomeEntityName' in scope&quot;, close and reopen the project in Xcode. In some cases, such as renaming entities, it is necessary to clear existing data and start over. To do this:</p><ul><li>clean the build folder by pressing cmd-shift-k</li><li>quit out of Xcode</li><li>cd to ~/Library/Developer/Xcode/DerivedData</li><li>run the <code>rm -rf</code> command on the directory for the project</li><li>restart Xcode</li></ul><h3 id="entity-codegen">Entity Codegen</h3><p>When an entity is selected in the Core Data model editor, the Inspector displays its configuration options. One of these is &quot;Codegen&quot; that has a default value of &quot;Class Definition&quot;. This means that Xcode will automatically generate a class definition for the entity. Typically this is the desired option.</p><p>By default, the source files for generated entity classes do not appear in the Navigator. However, they can be viewed by selecting Product ... Show Build Folder in Finder. The source files can be found in the ridiculously deep directory structure Build/Intermediates.noindex/{app-name}.build/Debug-iphonesimulator/ {app-name}.build/DerivedSources/CoreDataGenerated/Model directory.</p><p>There are two generated files for each entity. <code>{entity-name}+CoreDataClass.swift</code> defines the class and should not be modified. <code>{entity-name}+CoreDataProperties.swift</code> defines extensions to the class and can only be safely modified to add computed properties and methods.</p><p>Choosing a different value for the entity &quot;Codegen&quot; enables generating entity sources files that appear in the Navigator. The &quot;Manual/None&quot; option means that Xcode will not automatically generate either of the files described above. The &quot;Category/Extension&quot; option means that Xcode will generate the <code>{entity-name}+CoreDataClass.swift</code> files, but not the <code>{entity-name}+CoreDataProperties.swift</code> files. TODO: Why does this also generate &quot;Class&quot; files?</p><p>To request generation of source files for entities whose &quot;Codegen&quot; option is a value other than &quot;Class Definition&quot;:</p><ul><li>Select Editor ... Create NSManagedObject Subclass...</li><li>Select a model and click &quot;Next&quot;. Most projects only have one model.</li><li>Select the entities for which code should be generated and click &quot;Next&quot;.</li><li>Select the project subdirectory where the source files should be written. TODO: It seems this is ignored at the files are TODO: always written to the top project directory.</li><li>Click &quot;Create&quot;.</li></ul><p>The generated &quot;Class&quot; files define a class for an entity that inherits from <code>NSManagedObject</code>. These file should not be modified.</p><p>The generated &quot;Properties&quot; files define extensions to the entity that include a <code>fetchRequest</code> method that fetches all the instances of the entity, properties that correspond to the entity attributes, and methods for adding and removing other kinds of entities that have a relationship to this one. These file can be modified to add computed properties and methods.</p><h3 id="%40fetchrequest-vs.-viewmodel">@FetchRequest vs. ViewModel</h3><p>There are two popular ways for views to access data from Core Data. One is to use <code>@FetchRequest</code>. The other is to define a ViewModel class that views can use which abstracts the use of Core Data away from them.</p><h4 id="using-%40fetchrequest">Using @FetchRequest</h4><p>TODO: Add this based on SwiftUI-GiftTrack code.</p><h4 id="using-a-viewmodel">Using a ViewModel</h4><p>Here are the steps to define and use a ViewModel for accessing data in Core Data.</p><ul><li><p>Create a view model class.</p><p>This can be defined in a file named &quot;ViewModel.swift&quot;. It can define a class named &quot;ViewModel&quot; that inherits from <code>ObservableObject</code> which comes from the Combine framework.</p></li><li><p>Declare a <code>container</code> constant property as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> container<span class="token punctuation">:</span> <span class="token builtin">NSPersistentContainer</span></code></pre></li><li><p>Declare a <code>context</code> variable property as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">var</span> context<span class="token punctuation">:</span> <span class="token builtin">NSManagedObjectContext</span> <span class="token punctuation">{</span> container<span class="token punctuation">.</span>viewContext <span class="token punctuation">}</span></code></pre></li><li><p>Declare a published array property to hold all the instances of each entity type as follows:</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">Published</span> <span class="token keyword">var</span> people<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">PersonEntity</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></code></pre></li><li><p>If Xcode doesn't recognize the entity types, close the project and reopen it.</p></li><li><p>Define an initializer as follows:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// "Model" here must be the name of the "Data Model" file.</span><br>    container <span class="token operator">=</span> <span class="token function">NSPersistentContainer</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Model"</span><span class="token punctuation">)</span><br><br>    container<span class="token punctuation">.</span>loadPersistentStores <span class="token punctuation">{</span> <span class="token number">_</span><span class="token punctuation">,</span> error <span class="token keyword">in</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> error <span class="token operator">=</span> error <span class="token punctuation">{</span><br>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"error loading Core Data:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>            <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">fetchPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token comment">// Possibly also fetch other kinds of entities here.</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Define a method for each entity type that fetches all of its instances. The <code>List</code> view is useful for displaying them in a list.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">fetchPeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// "PersonEntity" here must be the name of the entity type.</span><br>    <span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">PersonEntity</span><span class="token operator">></span><span class="token punctuation">(</span>entityName<span class="token punctuation">:</span> <span class="token string">"PersonEntity"</span><span class="token punctuation">)</span><br>    <span class="token comment">// Optionally specify how the instances should be sorted.</span><br>    request<span class="token punctuation">.</span>sortDescriptors <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">NSSortDescriptor</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span> ascending<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br>    <span class="token keyword">do</span> <span class="token punctuation">{</span><br>        <span class="token comment">// people here must be the name of the</span><br>        <span class="token comment">// @Published property declared above.</span><br>        people <span class="token operator">=</span> <span class="token keyword">try</span> context<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"fetchPeople error:"</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>localizedDescription<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Optionally add filtering to the <code>request</code> object above.</p><p>TODO: Describe filter options here!</p></li><li><p>Define a method to save changes to any data in the context.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">saveContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">do</span> <span class="token punctuation">{</span><br>        <span class="token keyword">try</span> context<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span><br>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"saveContext error:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Define a method for each entity type that the UI can call to add a new entity instance.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">addPerson</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">PersonEntity</span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> context<span class="token punctuation">)</span><br>    <span class="token comment">// Set all the attributes of the new entity instance.</span><br>    person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<br>    <span class="token function">saveContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    people<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><br>    people<span class="token punctuation">.</span><span class="token builtin">sort</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>$<span class="token number">1</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Define a method for each entity type that the UI can call to delete an entity instance.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">func</span> <span class="token function">deletePeople</span><span class="token punctuation">(</span>indexSet<span class="token punctuation">:</span> <span class="token builtin">IndexSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">for</span> index <span class="token keyword">in</span> indexSet <span class="token punctuation">{</span><br>        context<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>people<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        people<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> index<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">saveContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre></li><li><p>In each view that needs to access entity data, declare a property with the <code>@StateObject</code> property wrapper that has a type of <code>ViewModel</code>. Do not declare this to be <code>private</code> because it will be passed in from a parent view.</p><pre class="language-swift"><code class="language-swift">@<span class="token builtin">StateObject</span> <span class="token keyword">var</span> vm<span class="token punctuation">:</span> <span class="token builtin">ViewModel</span></code></pre></li><li><p>To add an entity instance, call an &quot;add&quot; method defined in <code>ViewModel.swift</code>.</p><pre class="language-swift"><code class="language-swift">vm<span class="token punctuation">.</span><span class="token function">addPerson</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span></code></pre></li><li><p>To delete an entity instance, call a &quot;delete&quot; method defined in <code>ViewModel.swift</code>. Often this is done with the <code>onDelete</code> view modifier on a <code>List</code> because that provides an <code>IndexSet</code> of selected indexes.</p><pre class="language-swift"><code class="language-swift"><span class="token punctuation">.</span><span class="token function">onDelete</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> vm<span class="token punctuation">.</span>deletePerson<span class="token punctuation">)</span></code></pre></li><li><p>To update an entity instance directly modify the attributes of an existing entity and then call the <code>saveContext</code> method</p><pre class="language-swift"><code class="language-swift">person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Some New Name"</span><br>vm<span class="token punctuation">.</span><span class="token function">savePeople</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></li></ul><h3 id="entity-objects">Entity Objects</h3><p>Core Data entity objects have many properties and methods.</p><p>Each attribute is represented by a property that can be directly accessed and modified. Changes are not persisted unless <code>context.save()</code> is called.</p><p>Each relationship is represented by a property.</p><p>Properties for &quot;To One&quot; relationships have an optional type matching the referenced entity type. For example, <code>DogEntity</code> with an <code>ownedBy</code> relationship to a <code>PersonEntity</code> has an <code>ownedBy</code> property with a type of <code>PersonEntity?</code>. This can be directly set to a <code>PersonEntity</code> or <code>nil</code>. For example, <code>someDog.ownedBy = somePerson</code> or <code>someDog.ownedBy = nil</code>.</p><p>Properties for &quot;To Many&quot; relationships have a type of optional <code>NSSet</code>. For example, <code>PersonEntity</code> with an <code>owns</code> relationship to <code>DogEntity</code> instances has an <code>owns</code> property whose type is <code>NSSet?</code>. There are also <code>addToOwns</code> and <code>removeFromOwns</code> methods on the entity that take a <code>DogEntity</code> and add to or remove from the <code>NSSet</code>. For example, <code>somePerson.addToOwns(someDog)</code> or <code>somePerson.removeFromOwns(someDog)</code>.</p><p>TODO: How can all instances of a given entity type be deleted?</p><h3 id="fetching-entities">Fetching Entities</h3><p>To fetching entities from an <code>NSManagedObjectContext</code>, create an <code>NSFetchRequest</code> that identifies an entity type. Optionally specify how the fetched entity instances should be sorted. Also, optionally specify filtering to be applied so that only a subset of the the entity instances will be fetched.</p><p>For details on the syntax used to specify filtering, see <a href="https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html?v=1.0.18" rel="noopener" target="_blank">Predicate Format String Syntax</a>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> request <span class="token operator">=</span> <span class="token builtin">NSFetchRequest</span><span class="token operator">&lt;</span><span class="token builtin">PersonEntity</span><span class="token operator">></span><span class="token punctuation">(</span>entityName<span class="token punctuation">:</span> <span class="token string">"PersonEntity"</span><span class="token punctuation">)</span><br><br><span class="token comment">// Sort in ascending order on the "name" property.</span><br>request<span class="token punctuation">.</span>sortDescriptors <span class="token operator">=</span> <span class="token punctuation">[</span><br>    <span class="token function">NSSortDescriptor</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span> ascending<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><br><span class="token punctuation">]</span><br><br><span class="token comment">// Filter so only entities with a name beginning with "T" are fetched.</span><br>request<span class="token punctuation">.</span>predicate <span class="token operator">=</span> <span class="token function">NSPredicate</span><span class="token punctuation">(</span>format<span class="token punctuation">:</span> <span class="token string">"name == %@"</span><span class="token punctuation">,</span> <span class="token string">"Tami"</span><span class="token punctuation">)</span><br><br><span class="token keyword">do</span> <span class="token punctuation">{</span><br>    people <span class="token operator">=</span> <span class="token keyword">try</span> context<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"fetchPeople error:"</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre></article>