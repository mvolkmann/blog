<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>SwiftUI</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#getting-started">Getting Started</a><ol><li><a href="#canvas-%2F-preview">Canvas / Preview</a></li><li><a href="#inspector">Inspector</a></li><li><a href="#simulator">Simulator</a></li></ol></li><li><a href="#icons">Icons</a></li><li><a href="#core-graphics-(cg)">Core Graphics (CG)</a></li><li><a href="#views">Views</a><ol><li><a href="#viewbuilders">ViewBuilders</a></li><li><a href="#combiner-views">Combiner Views</a></li><li><a href="#component-views">Component Views</a></li><li><a href="#drawing-views">Drawing Views</a></li><li><a href="#other-views">Other Views</a></li></ol></li><li><a href="#view-modifiers">View Modifiers</a></li><li><a href="#view-state">View State</a></li><li><a href="#layout">Layout</a></li><li><a href="#mvvm">MVVM</a></li><li><a href="#modals">Modals</a></li><li><a href="#navigation">Navigation</a></li><li><a href="#utility-functions">Utility Functions</a></li><li><a href="#key-paths">Key Paths</a></li><li><a href="#contexts">Contexts</a></li><li><a href="#environments">Environments</a></li><li><a href="#network-requests">Network Requests</a></li><li><a href="#combine">Combine</a></li><li><a href="#core-data">Core Data</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://developer.apple.com/xcode/swiftui/?v=1.0.18" rel="noopener" target="_blank">SwiftUI</a> is a Swift library for building macOS, iOS, and Apple Watch apps. It is an alternative to its predecessor UIKit.</p><p>By comparison SwiftUI ...</p><ul><li>is currently less capable than UIKit.</li><li>is declarative in nature than imperative.</li><li>requires far less code to do the same things</li></ul><h2 id="resources">Resources</h2><h2 id="getting-started">Getting Started</h2><ul><li>open Xcode</li><li>select &quot;Create a new Xcode project&quot;</li><li>select an Application type such as &quot;App&quot; and click &quot;Next&quot;</li><li>enter a Product Name</li><li>select a Team such as &quot;your name (Personal Team)&quot;</li><li>enter an Organization Identifier such as your email address</li><li>select the Interface such as &quot;SwiftUI&quot;</li><li>select the Language such as &quot;Swift&quot;</li><li>check &quot;Use Core Data&quot; to persist data in a local database</li><li>check &quot;Include Tests&quot; to enable writing unit tests</li><li>click &quot;Next&quot;</li><li>select the directory where the project will be stored and click &quot;Create&quot;</li></ul><p>Press the black, right-pointing triangle near the top to build and run the starting version of the app in the simulator.</p><p>To change the device being simulated, click the device drop-down after the app name near the top and select the device type (such as &quot;iPhone 12 mini&quot;).</p><p>To change the target version of iOS, click the app name at the top of the Navigator click the &quot;General&quot; tab, and select an iOS version from the dropdown in the &quot;Deployment info&quot; section.</p><p>A new &quot;App&quot; project begins with the following files.</p><ul><li><p><code>{app-name}.swift</code></p><p>This defines the main struct which implements the <code>App</code> protocol. It has computed property named <code>body</code> whose value implements the <code>Scene</code> protocol. The actual value is an instance of <code>WindowGroup</code>. This renders an instance of <code>ContentView</code> which is defined in the next file.</p></li><li><p><code>ContentView.swift</code></p><p>This defines the <code>ContentView</code> struct which implements the <code>View</code> protocol and is the top of the user interface. It also defines the <code>ContentView_Previews</code> struct which describes the Previews that should display in the Canvas area. This can be one or more views that are each displayed in a separate Preview.</p></li><li><p><code>Assets.xcassets</code></p><p>This associates names with assets such as images, audio files, and video files.</p></li><li><p><code>{app-name}.xcodeproj</code></p><p>This file is not visible in the Navigator, but can be viewed and edited by clicking the top entry in the navigator. The editor for this data has the following tabs: General, Signing &amp; Capabilities, Resource Tags, Info, Build Settings, Build Phases, and Build Rules. The General tab configures the app display name, version of iOS, targets (iPhone, iPad, or Mac), status bar style, and more.</p></li></ul><p>To add a particular kind of provided UI View in a <code>.swift</code> file, manually enter code or click where it should go in the code and click the &quot;+&quot; in the upper-right. Clicking the &quot;+&quot; displays a dialog with a list provided View types. Selecting one displays related documentation and code examples. Double-click a View type to insert code for it.</p><h3 id="canvas-%2F-preview">Canvas / Preview</h3><p>The Canvas area displays Previews of the UI running outside of a simulator. To hide/show the Canvas area, select Editor ... Canvas. If Preview isn't running inside the Canvas area, press the &quot;Resume&quot; button at the top to start it.</p><p>By default the Canvas area is only displayed when the file <code>ContentView.swift</code> is selected. To keep it displayed even when a different file is selected, select <code>ContentView.swift</code> and click the pin icon in the lower-left of the Canvas.</p><p>When code changes are saved and there are no errors, the Preview is automatically updated. When there are errors, the Preview pauses and must be manually restarted by click the &quot;Resume&quot; button or pressing cmd-option-p. TODO: Are there other things that cause the Preview to pause?</p><p>If the Canvas area displays the message &quot;Failed to build&quot; in the upper-left, click the &quot;Diagnostics&quot; button in the upper-right to see error messages.</p><p>To zoom in and out on the Preview area, click the magnifier glass icons in the lower right (minus and plus) or select a zoom level from the percent dropdown.</p><p>By default the Preview is not in &quot;Live Preview&quot; mode. Key things to know about not being in this mode include:</p><ul><li>Clicking a View in the Preview selects it rather than triggering tap events. The corresponding code is highlighted and the Inspector changes to show the properties of the selected View.</li><li>Double-clicking a View in the Preview is similar, but moves focus to the code so it can be edited.</li><li>Clicking a View in the code selects the corresponding View in the Preview and also populates the Inspector.</li><li>Changes made in the Inspector update the Preview and the code, but they do not take effect until focus is moved out of the modified Navigator field.</li></ul><p>To switch to &quot;Live Preview&quot; mode so tap events are honored, click the button with a triangle inside a circle. This also enables scrolling by dragging which is not possible in the default mode. And one more thing clicking this does is to trigger the Preview to resume if it is paused and rebuild the code.</p><p>It is possible for the Preview area to show more than one preview. This is controlled by the <code>ContentView_Previews</code> struct defined in <code>ContentView.swift</code>. For example, the following renders the app in light mode, the app in dark mode, and a single component to test in isolation from the rest of the app.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>light<span class="token punctuation">)</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span><br>        <span class="token function">CircleButton</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token punctuation">.</span>blue<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// action that does nothing</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Note that if any of the previews are in &quot;Live Preview&quot; mode, only that preview will be displayed. Exit out of that mode to get the other previews to display again.</p><h3 id="inspector">Inspector</h3><p>The Inspector shows commonly used modifiers of the selected view. To see additional modifiers, click &quot;Add Modifier&quot; at the button of the Inspector. Optionally type part of a modifier name to filter the list. Click a modifier to add it to the Inspector. To stop displaying a modifier in the Inspector, hover over it and click the &quot;Delete&quot; button that appears.</p><h3 id="simulator">Simulator</h3><p>To run the app in the Simulator, click the black triangle at the top. That builds the app, launches the Simulator (if not already running), loads the app in the Simulator, and starts it. The app is not automatically updates when code changes are saved. The triangle must be clicked again to repeat the whole build/load/start process.</p><h2 id="icons">Icons</h2><p><a href="https://developer.apple.com/sf-symbols/?v=1.0.18" rel="noopener" target="_blank">SF Symbols</a> is a library of over 3000 icons provided by Apple. To use it, browse the website linked above and click the &quot;Download&quot; link. This downloads a <code>.dmg</code> file. Double-click this and double-click the <code>.pkg</code> file icon to install the library and the &quot;SF Symbols&quot; app. To discover icon names, launch the &quot;SF Symbols&quot; app, browse the collection of icons, and click them.</p><p>To use an icon in a SwiftUI app, add an <code>Image</code> view. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"heart"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>largeTitle<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// one way to set font size</span><br><span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"cloud.snow"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// another way</span></code></pre><h2 id="core-graphics-(cg)">Core Graphics (CG)</h2><p>Several types used in views have names that begin with &quot;CG&quot; which stands for &quot;Core Graphics&quot;. These include:</p><ul><li><p><code>CGAffineTransform</code></p><p>This holds a transformation matrix used in 2D transformations.</p></li><li><p><code>CGFloat</code></p><p>This holds a floating point value whose size depends on the CPU architecture. It can be 32 or 64 bits.</p></li><li><p><code>CGPoint</code></p><p>This holds <code>x</code> and <code>y</code> properties that have <code>CGFloat</code> values.</p></li><li><p><code>CGRect</code></p><p>This holds an <code>origin</code> property that is a <code>CGPoint</code> and a <code>size</code> property that is a <code>CGSize</code>. It also has the following computed properties with <code>CGFloat</code> values: <code>height</code>, <code>width</code>, <code>minX</code>, <code>maxX</code>, <code>minY</code>, <code>maxY</code>, <code>midX</code>, and <code>midY</code>.</p></li><li><p><code>CGSize</code></p><p>This holds <code>width</code> and <code>height</code> properties that have <code>CGFloat</code> values.</p></li><li><p><code>CGVector</code></p><p>This holds <code>dx</code> and <code>dy</code> properties that have <code>CGFloat</code> values.</p></li></ul><h2 id="views">Views</h2><p>Every visible part of an app created with SwiftUI is a view. Views can render other views.</p><p>Each view is a struct that implement the <code>View</code> protocol. This requires having a computed property named <code>body</code> with the type <code>Some View</code>. Most properties declared in a <code>View</code> struct should be <code>private</code>. Exceptions include the <code>body</code> property and any properties that are passed in when instances are created.</p><p>Views are used for components and layout. Views that layout other views are often referred to as &quot;combiner views&quot;.</p><p>Functions that create views often take a <code>ViewBuilder</code> their last argument. These are typically written as trailing closures.</p><p>Views can be given an explicit identifier with the <code>.id</code> method that is passed an identifier. This is useful in methods that take a view identifier like the <code>ScrollViewReader</code> method <code>scrollTo</code>.</p><h3 id="viewbuilders">ViewBuilders</h3><p>Combiner views can be passed a special kind of closure as their last argument that is called a <code>ViewBuilder</code>. This uses list-oriented syntax to describe a list of one to ten other views that are combined into a single view. Note that a <code>ForEach</code> view counts as a single view.</p><p><code>ViewBuilder</code> blocks are parsed differently by the compiler than ordinary closures. In addition to containing views, they can also contain local variable declarations and conditional logic with <code>if</code>, <code>if let</code>, and <code>switch</code> statements. However, no other Swift syntax is allowed inside them.</p><p>For iteration in a <code>ViewBuilder</code>, use a <code>ForEach</code> <code>View</code>. There is no corresponding view for conditional logic, so <code>if</code> and <code>switch</code> statements are used instead.</p><p><code>@ViewBuilder</code> is a custom parameter attribute used to indicate that a parameter accepts function that returns a list of views. The list of views can match one of the following types:</p><ul><li><code>EmptyView</code>: zero views</li><li><code>TupleView</code>: two or more views</li><li><code>Content?</code>: generated by an <code>if</code> statement to render one view or none</li><li><code>_ConditionalContent</code>: generated by an <code>if/else</code> or <code>switch</code> statement to render one of a set of possible views (The underscore indicates that this is a not a public API.)</li></ul><p>A <code>ViewBuilder</code> is a kind of result builder. For more information on these, see the <a href="https://github.com/apple/swift-evolution/blob/main/proposals/0289-result-builders.md?v=1.0.18" rel="noopener" target="_blank">Result builders proposal</a>.</p><h3 id="combiner-views">Combiner Views</h3><p>Combiner views combine other views. They act as a container of other views and layout those views in a specific way.</p><p>To hide a view but still take up the space that would be occupied if the view was visible, consider setting its opacity to zero. This is done with the <code>opacity</code> view modifier. For example, <code>someView.opacity(0)</code>.</p><p>Here are the combiner views that are provided by SwiftUI.</p><ul><li><p><code>HStack</code></p><p>This lays out child views horizontally.</p><p>The child views are centered vertically by default. To change this, add the <code>alignment</code> attribute which can be set to <code>.top</code>, <code>.center</code>, <code>.bottom</code>, <code>.firstTextBaseline</code>, or <code>.lastTextBaseline</code>.</p><p>A default amount of space is added between each child which seems to be 8 pixels (can't find this documented). To change the space between child views, add the <code>spacing</code> attribute.</p><p>The following example shows the effect of setting <code>alignment</code> to <code>.lastTextBaseLine</code>.</p><p><img alt="SwiftUI HStack" style="width: 40%" src="/blog/assets/SwiftUI-HStack.png?v=1.0.18" title="SwiftUI HStack"></p><pre class="language-swift"><code class="language-swift"><span class="token function">HStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>lastTextBaseline<span class="token punctuation">,</span> spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Line 1\nLine 2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span></code></pre></li><li><p><code>VStack</code></p><p>This lays out child views vertically.</p><p>The child views are centered horizontally by default. To change this, add the <code>alignment</code> attribute which can be set to <code>.leading</code>, <code>.center</code>, or <code>.trailing</code>.</p></li><li><p><code>ZStack</code></p><p>This stacks views from bottom to top. It is ideal for adding a background to a set of views.</p><p>Here are three approaches to rendering text with a colored background, one of which uses a <code>ZStack</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> bgColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>yellow<br>    <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">"Test"</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token keyword">let</span> rect <span class="token operator">=</span> <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><br>            <span class="token comment">// Semicolons must separate multiple statements on the same line.</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span> rect<span class="token punctuation">;</span> <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">}</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span>bgColor<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            rect<span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token function">Text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>LazyHStack</code></p><p>This is similar to <code>HStack</code>, but only builds and renders child views when they are visible. It is commonly used inside a <code>ScrollView</code> with <code>axes</code> set to <code>.horizontal</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">LazyHStack</span> <span class="token punctuation">{</span><br>        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>LazyVStack</code></p><p>This is similar to <code>VStack</code>, but only builds and renders child views when they are visible. It is commonly used inside a <code>ScrollView</code> with <code>axes</code> set to <code>.vertical</code>, which is the default.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>    <span class="token builtin">LazyVStack</span> <span class="token punctuation">{</span><br>        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>LazyHGrid</code></p><p>This specifies a number of rows and adds columns as necessary. The grids are described by an array of <a href="https://developer.apple.com/documentation/swiftui/griditem?v=1.0.18" rel="noopener" target="_blank">GridItem</a> objects that each specify their size, spacing, and alignment. For example, a <code>GridItem</code> can adapt to the width of its content, but also have a minimum size of 25 by specifying <code>GridItem(.adaptive(minimum: 25))</code>.</p><p>See the example in <code>LazyVGrid</code> below.</p></li><li><p><code>LazyVGrid</code></p><p>This is similar to <code>LazyHGrid</code>, but specifies a number of columns and adds rows as necessary.</p><p>The following example demonstrates both <code>LazyHGrid</code> and <code>LazyVGrid</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> <span class="token builtin">count</span> <span class="token operator">=</span> <span class="token number">3</span><br>    <span class="token keyword">private</span> <span class="token keyword">let</span> isVertical <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">// Why can't this be static?</span><br><br>    <span class="token comment">// Describe the characteristics of each grid.</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> gridItem <span class="token operator">=</span> <span class="token function">GridItem</span><span class="token punctuation">(</span><br>        <span class="token comment">// This specifies the grid height in LazyHGrid</span><br>        <span class="token comment">// or the grid width in LazyVGrid.</span><br>        <span class="token punctuation">.</span><span class="token function">fixed</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">// This specifies the vertical spacing in LazyHGrid</span><br>        <span class="token comment">// or horizontal spacing in LazyVGrid.</span><br>        spacing<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span><br>        alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>center<br>    <span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> gridItems<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">GridItem</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span>repeating<span class="token punctuation">:</span> gridItem<span class="token punctuation">,</span> <span class="token builtin">count</span><span class="token punctuation">:</span> <span class="token builtin">count</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> isVertical <span class="token punctuation">{</span><br>            <span class="token builtin">ScrollView</span> <span class="token punctuation">{</span><br>                <span class="token function">LazyVGrid</span><span class="token punctuation">(</span>columns<span class="token punctuation">:</span> gridItems<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                 <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>            <span class="token function">ScrollView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">LazyHGrid</span><span class="token punctuation">(</span>rows<span class="token punctuation">:</span> gridItems<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token number">101</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>Form</code></p><p>This is a container of data entry views.</p><p>The following example demonstrates many common views used in forms.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">enum</span> <span class="token builtin">ShirtSize</span><span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">CaseIterable</span> <span class="token punctuation">{</span><br>  <span class="token keyword">case</span> small<br>  <span class="token keyword">case</span> medium<br>  <span class="token keyword">case</span> large<br>  <span class="token keyword">case</span> extraLarge<br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">let</span> blogUrl <span class="token operator">=</span> <span class="token string">"https://mvolkmann.github.io/blog"</span><br><br>    <span class="token comment">// Typically form data would be tied to ViewModel properties</span><br>    <span class="token comment">// rather than using @State.</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> bedTime<span class="token punctuation">:</span> <span class="token builtin">Date</span> <span class="token operator">=</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> birthday<span class="token punctuation">:</span> <span class="token builtin">Date</span> <span class="token operator">=</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> favoriteColor<span class="token punctuation">:</span> <span class="token builtin">Color</span> <span class="token operator">=</span> <span class="token punctuation">.</span>yellow<br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> firstName <span class="token operator">=</span> <span class="token string">""</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> dogCount <span class="token operator">=</span> <span class="token number">0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> hungry <span class="token operator">=</span> <span class="token boolean">false</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> lastName <span class="token operator">=</span> <span class="token string">""</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> motto <span class="token operator">=</span> <span class="token string">"This is my motto."</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> rating <span class="token operator">=</span> <span class="token number">0.0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> shirtSize<span class="token punctuation">:</span> <span class="token builtin">ShirtSize</span> <span class="token operator">=</span> <span class="token punctuation">.</span>large<br><br>    <span class="token keyword">var</span> isEditing <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token builtin">Form</span> <span class="token punctuation">{</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Profile"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"First Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $firstName<span class="token punctuation">)</span><br>                    <span class="token function">TextField</span><span class="token punctuation">(</span><span class="token string">"Last Name"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $lastName<span class="token punctuation">)</span><br>                    <span class="token function">DatePicker</span><span class="token punctuation">(</span><br>                        <span class="token string">"Birthday"</span><span class="token punctuation">,</span><br>                        selection<span class="token punctuation">:</span> $birthday<span class="token punctuation">,</span><br>                        displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">.</span>date<br>                    <span class="token punctuation">)</span><br>                    <span class="token function">Toggle</span><span class="token punctuation">(</span><span class="token string">"Hungry?"</span><span class="token punctuation">,</span> isOn<span class="token punctuation">:</span> $hungry<span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">Section</span><span class="token punctuation">(</span>header<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Preferences"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token comment">// Links work in Simulator, but not in Preview.</span><br>                    <span class="token function">Link</span><span class="token punctuation">(</span><br>                        <span class="token string">"Blog"</span><span class="token punctuation">,</span><br>                        destination<span class="token punctuation">:</span> <span class="token function">URL</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> <span class="token builtin">ContentView</span><span class="token punctuation">.</span>blogUrl<span class="token punctuation">)</span><span class="token operator">!</span><br>                    <span class="token punctuation">)</span><br>                    <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Motto"</span><span class="token punctuation">)</span><br>                        <span class="token comment">// It seems TextEditor lineLimit is</span><br>                        <span class="token comment">// only enforced on initial render.</span><br>                        <span class="token comment">// It doesn't prevent more lines from being displayed</span><br>                        <span class="token comment">// if the user types more text.</span><br>                        <span class="token function">TextEditor</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> $motto<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lineLimit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">ColorPicker</span><span class="token punctuation">(</span><span class="token string">"Favorite Color"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $favoriteColor<span class="token punctuation">)</span><br>                    <span class="token function">DatePicker</span><span class="token punctuation">(</span><br>                        <span class="token builtin">Bed</span> <span class="token builtin">Time</span>"<span class="token punctuation">,</span><br>                        selection<span class="token punctuation">:</span> $bedTime<span class="token punctuation">,</span><br>                        displayedComponents<span class="token punctuation">:</span> <span class="token punctuation">.</span>hourAndMinute<br>                    <span class="token punctuation">)</span><br>                    <span class="token function">Picker</span><span class="token punctuation">(</span><span class="token string">"Shirt Size"</span><span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $shirtSize<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">ForEach</span><span class="token punctuation">(</span><span class="token builtin">ShirtSize</span><span class="token punctuation">.</span>allCases<span class="token punctuation">,</span> id<span class="token punctuation">:</span> \<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token keyword">in</span><br>                            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>size<span class="token punctuation">.</span>rawValue<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tag</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><br>                        <span class="token punctuation">}</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Rating"</span><span class="token punctuation">)</span><br>                        <span class="token comment">//TODO: Why does value have to be Float instead of Int?</span><br>                        <span class="token function">Slider</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> $rating<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">,</span> step<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">Int</span><span class="token punctuation">(</span>rating<span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                        <span class="token function">Stepper</span><span class="token punctuation">(</span><span class="token string">"# of Dogs"</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> $dogCount<span class="token punctuation">,</span> <span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">10</span><span class="token punctuation">)</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">String</span><span class="token punctuation">(</span>dogCount<span class="token punctuation">)</span><span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Save"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>              <span class="token punctuation">}</span><br>          <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><br><br>  <span class="token punctuation">}</span></code></pre><p>Common UI components that are not built into SwiftUI include:</p><ul><li>checkbox: alternative is Toggle</li><li>image picker: must build or using a library</li><li>multiple choice: alternative is List inside NavigationView with EditButton</li><li>radio buttons: alternative is Picker (supported in macOS with Picker and .pickerStyle(RadioGroupPickerStyle())</li><li>toggle buttons: alternative is Picker</li></ul></li><li><p><code>Group</code></p></li><li><p><code>GroupBox</code></p></li><li><p><code>ControlGroup</code></p></li><li><p><code>ScrollView</code></p></li></ul><p>This creates a scrollable view that is vertical by default, but can be changed to horizontal. It occupies all the space offered to it. Scrolling reveals additional child views when all of them do not fit. See examples of using this in the descriptions of <code>LazyHStack</code> and <code>LazyVStack</code>.</p><ul><li><p><code>ScrollViewReader</code></p></li><li><p><code>ScrollViewProxy</code></p></li><li><p><code>List</code></p></li></ul><p>This displays a list of views in a single column.</p><p>The following example demonstrates using a <code>List</code> inside a <code>NavigationView</code> to enable selecting ids of the objects represented by the rows.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Identifiable</span><span class="token punctuation">,</span> <span class="token builtin">Hashable</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token function">UUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token keyword">let</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>        <span class="token keyword">let</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>        <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> - <span class="token interpolation"><span class="token delimiter variable">\(</span>breed<span class="token delimiter variable">)</span></span>"</span> <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> selectedIds <span class="token operator">=</span> <span class="token builtin">Set</span><span class="token operator">&lt;</span><span class="token constant">UUID</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>                <span class="token function">List</span><span class="token punctuation">(</span>dogs<span class="token punctuation">,</span> selection<span class="token punctuation">:</span> $selectedIds<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                    <span class="token keyword">let</span> desc <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><br>                    <span class="token keyword">if</span> selectedIds<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>$<span class="token number">0</span> <span class="token operator">==</span> dog<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>                        <span class="token function">Text</span><span class="token punctuation">(</span>desc<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Dogs"</span><span class="token punctuation">)</span><br>                <span class="token comment">// The EditButton in the toolbar toggles</span><br>                <span class="token comment">// the edit mode of the NavigationView.</span><br>                <span class="token punctuation">.</span>toolbar <span class="token punctuation">{</span> <span class="token function">EditButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>selectedIds<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span> selections"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><ul><li><p><code>Section</code></p></li><li><p><code>ForEach</code></p><p>This view iterates of the elements of an array and renders the view specified in its <code>ViewBuilder</code>. The elements in the array must either conform to the <code>Identifiable</code> protocol OR <code>id:</code> argument must be specified. The value of <code>id:</code> is a key path that specifies how to find a unique value in the element.</p></li><li><p><code>DynamicViewContent</code></p></li><li><p><code>Table</code></p></li><li><p><code>NavigationView</code></p></li><li><p><code>NavigationLink</code></p></li><li><p><code>OutlineGroup</code></p><p>This displays a tree of data with disclosure angle brackets. See my SwiftUI-OutlineGroup project and the questions in it.</p></li><li><p><code>DisclosureGroup</code></p></li><li><p><code>TabView</code></p></li><li><p><code>HSplitView</code></p></li><li><p><code>VSplitView</code></p></li><li><p><code>TimelineView</code></p></li></ul><h3 id="component-views">Component Views</h3><ul><li><p><code>Text</code></p><p>This view renders text. If the text is too long to fit on a single line, it is automatically wrapped to additional lines. To prevent this, apply the <code>lineLimit</code> view modifier and pass the number of lines that can be used (perhaps 1). If the text doesn't fit in the allowed number of lines, it will be elided and an ellipsis will appear at the end.</p><p>To set the foreground color, apply the <code>foregroundColor</code> view modifier. To set the font size, apply the <code>font</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></li><li><p><code>TextField</code></p></li><li><p><code>SecureField</code></p></li><li><p><code>TextEditor</code></p></li><li><p><code>Image</code></p><p>This renders an image. Many image formats are supported including PNG, JPEG, and HEIC. Click <code>Assets.xcassets</code> in the Navigator to associate a name with each image to be used. Click the &quot;+&quot; in the lower-left to add an entry. Give the entry a name and drag images into the 1x, 2x, and 3x boxes. Pass the name to the <code>Image</code> view as an unlabelled argument. For example, <code>Image(&quot;Comet&quot;)</code>.</p><p>Icons from SF Symbols can be used by specifying their name as the <code>systemName</code> argument.</p></li><li><p><code>AsyncImage</code></p></li><li><p><code>Button</code></p><p>Here are two ways to create a <code>Button</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// Button containing text and action specified with a trailing closure.</span><br><span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"My Label"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// code to run when button is pressed</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Button with an "action" argument whose value</span><br><span class="token comment">// can be a closure or a function reference</span><br><span class="token comment">// and a "contents" argument whose value is a ViewBuilder</span><br><span class="token comment">// that can be written as a trailing closure.</span><br><span class="token function">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>    <span class="token comment">// code to run when button is pressed</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Heart"</span><span class="token punctuation">)</span><br>        <span class="token function">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string">"heart"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>EditButton</code></p></li><li><p><code>PasteButton</code></p></li><li><p><code>Link</code></p></li><li><p><code>Menu</code></p></li><li><p><code>Toggle</code></p></li><li><p><code>Slider</code></p></li><li><p><code>Stepper</code></p></li><li><p><code>Picker</code></p></li><li><p><code>DatePicker</code></p></li><li><p><code>ColorPicker</code></p></li><li><p><code>Label</code></p></li><li><p><code>ProgressView</code></p></li><li><p><code>Gauge</code></p></li><li><p><code>EmptyView</code></p></li><li><p><code>EquatableView</code></p></li><li><p><code>AnyView</code></p></li><li><p><code>TupleView</code></p></li></ul><p>Here is an example of using combiner and component views. Note how these can be assigned to a variable that is later referenced to render them. They can also be placed in a new struct from which instances are created to render them.</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// This defines a custom View that is used below.</span><br><span class="token keyword">struct</span> <span class="token builtin">MyRow</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Six"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Seven"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Assigning a View to a variable</span><br>    <span class="token keyword">var</span> row <span class="token operator">=</span> <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Four"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Five"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"One"</span><span class="token punctuation">)</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Two"</span><span class="token punctuation">)</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Three"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token comment">// Referring to a variable to get a View</span><br>            <span class="token comment">// and chaining View modifiers</span><br>            row<span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>            <span class="token function">MyRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Creating a custom View instance</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Note how <code>ContentView</code> uses the view <code>MyRow</code>. It is preferred to create small views like this and compose them rather than creating views whose code is long and deeply nested.</p><h3 id="drawing-views">Drawing Views</h3><p>Many of these views support both the <code>border</code> and <code>strokeBorder</code> view modifiers. The difference between these becomes apparent when the border width is greater than one. <code>border</code> is drawn so it is centered on the edge of the shape with have inside and half outside. <code>strokeBorder</code> is drawn so none of the border is outside of the shape.</p><ul><li><p><code>Capsule</code></p></li><li><p><code>Circle</code></p></li><li><p><code>Ellipse</code></p></li><li><p><code>Path</code></p></li><li><p><code>Rectangle</code></p></li><li><p><code>RoundedRectangle</code></p></li><li><p><code>ContainerRelativeShape</code></p></li><li><p><code>OffsetShape</code></p></li><li><p><code>RotatedShape</code></p></li><li><p><code>ScaledShape</code></p></li><li><p><code>TransformedShape</code></p></li><li><p><code>AnyShapeShape</code></p></li><li><p><code>AnimatablePair</code></p></li><li><p><code>Animation</code></p></li><li><p><code>AnyTransition</code></p></li><li><p><code>EmptyAnimatableData</code></p></li><li><p><code>Anchor</code></p></li><li><p><code>Angle</code></p></li><li><p><code>ProjectionTransform</code></p></li><li><p><code>UnitPoint</code></p></li></ul><h3 id="other-views">Other Views</h3><ul><li><p><code>GeometryReader</code></p><p>This is a view that takes all the space offered to it, wraps other views, and provides its size which can be used in calculations. The size is passed to a trailing closure and has the type <code>GeometryProxy</code> which has a <code>size</code> property whose type is <code>CGSize</code>.</p><p>The following example gets the size of a <code>VStack</code> and displays it inside.</p><p><img alt="SwiftUI GeometryReader" style="width: 40%" src="/blog/assets/SwiftUI-GeometryReader.png?v=1.0.18" title="SwiftUI GeometryReader"></p><pre class="language-swift"><code class="language-swift"><span class="token function">VStack</span><span class="token punctuation">(</span>spacing<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The 3 children below are given equal heights.</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br>    <span class="token builtin">GeometryReader</span> <span class="token punctuation">{</span> geometry <span class="token keyword">in</span><br>        <span class="token function">VStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"width = <span class="token interpolation"><span class="token delimiter variable">\(</span>geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"height = <span class="token interpolation"><span class="token delimiter variable">\(</span>geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>        <span class="token comment">// This expands the size of the VStack to fill the</span><br>        <span class="token comment">// GeometryReader so the contents are centered.</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span><br>            height<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><br>         <span class="token punctuation">}</span><br>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre></li><li><p><code>Spacer</code></p><p>Each of these take an equal amount of the unused space inside the parent combiner view. It accepts an optional <code>minLength</code> attribute which defaults to zero.</p><p>Using <code>Spacer</code> can be compared to web applications that use the CSS properties <code>display: flex;</code> and <code>justify-content</code>.</p><table><thead><tr><th>CSS justify-content value</th><th>Spacer placement</th></tr></thead><tbody><tr><td>flex-start</td><td>at end of list of views</td></tr><tr><td>flex-end</td><td>at beginning of list of views</td></tr><tr><td>space-between</td><td>one between each child view</td></tr></tbody></table></li><li><p><code>Divider</code></p><p>This draws a light gray 1-pixel wide line across the container. The line is vertical in an <code>HStack</code> and horizontal in a <code>VStack</code>.</p><p>The line can be customized in several ways.</p><ul><li><p>To add space around the line, use the <code>padding</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span></code></pre></li><li><p>To change the color of the line, use the <code>background</code> view modifier.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span></code></pre></li><li><p>To draw a thicker line, use the <code>frame</code> modifier. This doesn't actually make the <code>Divider</code> thicker, it just makes the area allocated wider and fills it with a color.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span></code></pre></li><li><p>To avoid drawing the line all the way across the container, use the <code>frame</code> view modifier and specify the <code>maxWidth</code> attribute.</p><pre class="language-swift"><code class="language-swift"><span class="token function">Divider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">)</span></code></pre></li></ul></li></ul><p>TODO: Are <code>Color</code> and <code>LinearGradient</code> views?</p><h2 id="view-modifiers">View Modifiers</h2><p>View modifiers are methods that can be called on a view to create a new view that is like the receiver, but modified in a specific way. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token comment">// foregroundColor is a view modifier.</span><br><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span><br><br><span class="token comment">// stroke and padding are view modifiers.</span><br><span class="token function">RoundedRectangle</span><span class="token punctuation">(</span>cornerRadius<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span></code></pre><p>Calls to view modifiers can be chained since each returns a new view.</p><p>View modifiers can be specific to certain types of views. For a list of them, see <a href="https://developer.apple.com/documentation/swiftui/slider-view-modifiers?v=1.0.18" rel="noopener" target="_blank">View Modifiers</a>.</p><p>When view modifiers are added to combiner views, they are passed down to all descendant views. In the following example, all the <code>Text</code> views are red because the <code>VStack</code> that contains them has a view modifier that sets the foreground color.</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Alpha"</span><span class="token punctuation">)</span><br>    <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Beta"</span><span class="token punctuation">)</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Gamma"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span></code></pre><h2 id="view-state">View State</h2><p>All views are immutable structs. Typically they get data from a model. They can also have associated mutable data by applying the <code>@State</code> property wrapper to a property.</p><p>Properties declared with <code>@State</code> usually include the <code>private</code> access control keyword because the data is only used by that view. Such data is held outside of the struct and the struct holds a pointer to it. Changes to these properties cause the view body to be rebuilt.</p><p>Any state held in a view using the <code>@State</code> property modifier should be transient state such as data related to styling. It is recommended to use <code>@State</code> sparingly and prefer holding data in model objects instead.</p><p>The following example holds the status of a stoplight in the &quot;status&quot; state property. Note the use of <code>$</code> before the name to get a two-way binding with a <code>TextField</code>.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">CircleButton</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> color<span class="token punctuation">:</span> <span class="token builtin">Color</span><br>    <span class="token keyword">var</span> selected<span class="token punctuation">:</span> <span class="token builtin">Bool</span> <span class="token operator">=</span> <span class="token boolean">false</span><br>    <span class="token keyword">var</span> action<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">Void</span> <span class="token comment">// a function</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> action<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>            <span class="token builtin">ZStack</span> <span class="token punctuation">{</span><br>                <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><br>                <span class="token comment">// Conditional logic can be implemented with an "if" statement,</span><br>                <span class="token comment">// but iteration cannot be implemented with a "for-in" loop.</span><br>                <span class="token comment">// A "ForEach" View must be used instead.</span><br>                <span class="token comment">//TODO: Why the difference?</span><br>                <span class="token keyword">if</span> selected <span class="token punctuation">{</span><br>                    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">strokeBorder</span><span class="token punctuation">(</span><span class="token builtin">Color</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Light</span><span class="token punctuation">:</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> id<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">let</span> color<span class="token punctuation">:</span> <span class="token builtin">Color</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">MyTextField</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> label<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> text<span class="token punctuation">:</span> <span class="token builtin">Binding</span><span class="token operator">&lt;</span><span class="token builtin">String</span><span class="token operator">></span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">TextField</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> text<span class="token punctuation">:</span> text<span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">autocapitalization</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token keyword">none</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token punctuation">.</span><span class="token function">textFieldStyle</span><span class="token punctuation">(</span><span class="token punctuation">.</span>roundedBorder<span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This file must define a struct named "ContentView".</span><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">var</span> status <span class="token operator">=</span> <span class="token string">"stop"</span><br><br>    <span class="token keyword">let</span> lights<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Light</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"stop"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"yield"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Light</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string">"go"</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token punctuation">.</span>green<span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token comment">// When iterating over elements that do not conform to</span><br>            <span class="token comment">// the `Identifiable` protocol, add the "id:" argument</span><br>            <span class="token comment">// whose value is a key path that specifies</span><br>            <span class="token comment">// how to find something unique in the element.</span><br>            <span class="token function">ForEach</span><span class="token punctuation">(</span>lights<span class="token punctuation">)</span> <span class="token punctuation">{</span> light <span class="token keyword">in</span><br>                <span class="token function">CircleButton</span><span class="token punctuation">(</span><br>                    color<span class="token punctuation">:</span> light<span class="token punctuation">.</span>color<span class="token punctuation">,</span><br>                    selected<span class="token punctuation">:</span> status <span class="token operator">==</span> light<span class="token punctuation">.</span>id<br>                <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    status <span class="token operator">=</span> light<span class="token punctuation">.</span>id<br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>            <span class="token comment">// $ in front of status is needed for a two-way binding.</span><br>            <span class="token comment">// $ in front of status is needed for a two-way binding.</span><br>            <span class="token function">MyTextField</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span> <span class="token string">"status"</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $status<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="layout">Layout</h2><p>Combiner views offer space to their child views. The child views can choose their size within the space offered to them. Combiner views then position the contained views knowing their sizes. Combiner views can also then choose their own size that perhaps differs from they offered to their child views.</p><p>Some views are &quot;inflexible&quot; and want to be a specific size. Examples including <code>Text</code> and <code>Image</code> views. Other views are &quot;flexible&quot; and can adapt to the space offered to them. Examples include <code>Circle</code> and <code>RoundedRectangle</code>.</p><p>Combiner views give space to inflexible child views first and then divide the remaining space between the flexible child views. The priority with which combiner views give space to child views can be altered by applying the <code>layoutPriority</code> view modifier to child views. It is passed a float value that defaults to zero.</p><p>When a combiner view contains at least one flexible view, it is also considered to be flexible.</p><p>Unsafe areas, such as the area at the top of iPhones that have a camera bump, are removed from offered space by default. Sometimes it is useful to draw in those areas. One example, show below, is displaying a background image.</p><p><img alt="SwiftUI Unsafe Areas" style="width: 40%" src="/blog/assets/SwiftUI-UnsafeAreas.png?v=1.0.18" title="SwiftUI Unsafe Areas"></p><pre class="language-swift"><code class="language-swift"><span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Comet the Whippet"</span><span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><br>    <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token function">Image</span><span class="token punctuation">(</span><span class="token string">"Comet"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scaledToFill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">.</span><span class="token function">edgesIgnoringSafeArea</span><span class="token punctuation">(</span><span class="token punctuation">.</span>all<span class="token punctuation">)</span></code></pre><h2 id="mvvm">MVVM</h2><p>SwiftUI encourages use of the Model-View-ViewModel (MVVM) paradigm which separates application code into three groups. This differs from UIKit which encourages use of Model-View-Controller (MVC).</p><p>Models holds data and application logic. They are independent from the view code and have no knowledge of it.</p><p>Views decides what to render and should be mostly stateless. Any state held in a view using the <code>@State</code> property modifier should be transient state such as data related to styling.</p><p>Views reacts to changes published by ViewModels. Each View can be associates with any number of ViewModels. The <code>body</code> var of a View builds new views any time the data in ViewModels they use changes. Views are declarative rather than imperative because they describe what to render based on the current data, not when to render it.</p><p>ViewModels binds views to models. They reacts to changes in the Model and optionally transform data before publishing changes so that views can rebuild based on the changes. For example, a ViewModel could get the result of a SQL query from the Model and turn it into an array of objects that it publishes to Views.</p><p>Read-only data flows from the Model, through the ViewModel, and into the View. Views call ViewModel functions referred to as &quot;intents&quot; to notify it about user interactions. ViewModel methods can trigger Model updates.</p><p>Here is a basic example of using MVVM. It's not exactly MVVM because it combines the Model and ViewModel into a single class. This is perhaps acceptable in cases where Model data is presented as-is to the View without requiring any data transformation.</p><p>Note the use of the <code>@Published</code> and <code>@ObservedObject</code> property wrappers.</p><p><img alt="SwiftUI MVVM demo" style="width: 40%" src="/blog/assets/SwiftUI-MVVM.png?v=1.0.18" title="SwiftUI MVVM demo"></p><pre class="language-swift"><code class="language-swift"><span class="token comment">// DemoApp.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br>@main<br><span class="token keyword">struct</span> <span class="token builtin">SwiftUI_MVVMApp</span><span class="token punctuation">:</span> <span class="token builtin">App</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> model <span class="token operator">=</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// defined in Model.swift</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">Scene</span> <span class="token punctuation">{</span><br>        <span class="token builtin">WindowGroup</span> <span class="token punctuation">{</span><br>            <span class="token comment">// This is how the View knows about the model.</span><br>            <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> model<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// Model.swift</span><br><span class="token keyword">import</span> <span class="token builtin">Foundation</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Dog</span><span class="token punctuation">:</span> <span class="token builtin">CustomStringConvertible</span><span class="token punctuation">,</span> <span class="token builtin">Identifiable</span> <span class="token punctuation">{</span><br>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">var</span> lastId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// This is a computed property required by the CustomStringConvertible protocol.</span><br>    <span class="token keyword">var</span> description<span class="token punctuation">:</span> <span class="token builtin">String</span> <span class="token punctuation">{</span> <span class="token string">"Dog: <span class="token interpolation"><span class="token delimiter variable">\(</span>name<span class="token delimiter variable">)</span></span> <span class="token interpolation"><span class="token delimiter variable">\(</span>selected<span class="token delimiter variable">)</span></span>"</span> <span class="token punctuation">}</span><br><br>    <span class="token keyword">var</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> id<span class="token punctuation">:</span> <span class="token builtin">Int</span> <span class="token comment">// required by the Identifiable protocol</span><br>    <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br>    <span class="token keyword">var</span> selected <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token builtin">Dog</span><span class="token punctuation">.</span>lastId <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>        id <span class="token operator">=</span> <span class="token builtin">Dog</span><span class="token punctuation">.</span>lastId<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<br>        <span class="token keyword">self</span><span class="token punctuation">.</span>breed <span class="token operator">=</span> breed<br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// This must be a class instead of a struct</span><br><span class="token comment">// in order to conform to the ObservableObject protocol.</span><br><span class="token comment">// Things that do this gain an objectWillChange method that publishes changes.</span><br><span class="token comment">// This can be called directly before changes are made.</span><br><span class="token comment">// Alternatively, if the properties that can change are annotated with</span><br><span class="token comment">// the @Published property wrapper, changes will be published automatically.</span><br><span class="token keyword">class</span> <span class="token class-name">Model</span><span class="token punctuation">:</span> <span class="token builtin">ObservableObject</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The @Published property wrapper causes changes in properties</span><br>    <span class="token comment">// that are structs, not classes, to be published.</span><br>    @<span class="token builtin">Published</span> <span class="token keyword">var</span> dogs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">Dog</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><br>    <span class="token comment">//private let logger = Logger()</span><br><br>    <span class="token keyword">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Start with an initial set of dogs.</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Maisey"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Treeing Walker Coonhound"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Ramsay"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Native American Indian Dog"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Oscar"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"German Shorthaired Pointer"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>        dogs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Comet"</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">"Whippet"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">/// An "intent" that toggles whether a given dog is selected.</span><br>    <span class="token keyword">func</span> <span class="token function">toggle</span><span class="token punctuation">(</span><span class="token number">_</span> dog<span class="token punctuation">:</span> <span class="token builtin">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// This is not needed if properties have the @Published annotation.</span><br>        <span class="token comment">//objectWillChange.send() // notifies subscribers</span><br><br>        <span class="token comment">// We can't use the "first" method to find the matching Dog</span><br>        <span class="token comment">// because that would return a copy of the Dog struct.</span><br>        <span class="token comment">// We need to be able to modify the struct in the array, not a copy.</span><br>        <span class="token keyword">let</span> index <span class="token operator">=</span> dogs<span class="token punctuation">.</span><span class="token function">firstIndex</span><span class="token punctuation">(</span><span class="token keyword">where</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> $<span class="token number">0</span><span class="token punctuation">.</span>id <span class="token operator">==</span> dog<span class="token punctuation">.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> <span class="token keyword">let</span> index <span class="token operator">=</span> index <span class="token punctuation">{</span><br>            dogs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>selected<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">"Model.select: selectedDog = <span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token function">String</span><span class="token punctuation">(</span>describing<span class="token punctuation">:</span> dogs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token delimiter variable">)</span></span>"</span><br>            <span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-swift"><code class="language-swift"><span class="token comment">// ContentView.swift</span><br><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token comment">// This is a custom view that renders a dog description.</span><br><span class="token comment">// If the dog is selected, the text is made bold.</span><br><span class="token keyword">struct</span> <span class="token builtin">DogView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> dog<span class="token punctuation">:</span> <span class="token builtin">Dog</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>name<span class="token delimiter variable">)</span></span> is a <span class="token interpolation"><span class="token delimiter variable">\(</span>dog<span class="token punctuation">.</span>breed<span class="token delimiter variable">)</span></span>"</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> dog<span class="token punctuation">.</span>selected <span class="token punctuation">{</span><br>            text<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>            text<br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Adding the @ObservedObject property wrapper subscribes to changes.</span><br>    <span class="token comment">// Only view bodies that are affected by observed changes are rebuilt,</span><br>    <span class="token comment">// so it is efficient.</span><br>    <span class="token comment">// Selecting a dog mutates this model</span><br>    <span class="token comment">// which causes this view body to be rebuilt.</span><br>    @<span class="token builtin">ObservedObject</span> <span class="token keyword">var</span> model<span class="token punctuation">:</span> <span class="token builtin">Model</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Dogs (<span class="token interpolation"><span class="token delimiter variable">\(</span>model<span class="token punctuation">.</span>dogs<span class="token punctuation">.</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span>)"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">ForEach</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>dogs<span class="token punctuation">)</span> <span class="token punctuation">{</span> dog <span class="token keyword">in</span><br>                    <span class="token function">DogView</span><span class="token punctuation">(</span>dog<span class="token punctuation">:</span> dog<span class="token punctuation">)</span><span class="token punctuation">.</span>onTapGesture <span class="token punctuation">{</span><br>                        model<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><br>                    <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span>model<span class="token punctuation">:</span> <span class="token function">Model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="modals">Modals</h2><p>Modal dialogs are implemented by displaying a &quot;sheet&quot;. The sheet slides in from the bottom by default.</p><p>The following example defines the custom view <code>MyModal</code> which is displayed in the sheet. The <code>ContentView</code> struct declares the boolean property <code>showModal</code> and passes it to the <code>MyModal</code> struct as a binding. This allows the action of the &quot;Close&quot; button in <code>MyModal</code> to set it to false which hides the sheet.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">MyModal</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">Binding</span> <span class="token keyword">var</span> show<span class="token punctuation">:</span> <span class="token builtin">Bool</span><br>    <span class="token keyword">var</span> message<span class="token punctuation">:</span> <span class="token builtin">String</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"My Modal"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">"Close"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> show <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> maxHeight<span class="token punctuation">:</span> <span class="token punctuation">.</span>infinity<span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">opacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> <span class="token builtin">count</span> <span class="token operator">=</span> <span class="token number">0</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> message <span class="token operator">=</span> <span class="token string">"Opened once"</span><br>    @<span class="token builtin">State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> showModal <span class="token operator">=</span> <span class="token boolean">false</span><br><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Main View"</span><span class="token punctuation">)</span><br>            <span class="token function">Button</span><span class="token punctuation">(</span>action<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>                <span class="token builtin">count</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><br>                message <span class="token operator">=</span> <span class="token string">"Opened <span class="token interpolation"><span class="token delimiter variable">\(</span><span class="token builtin">count</span><span class="token delimiter variable">)</span></span> times"</span><br>                showModal <span class="token operator">=</span> <span class="token boolean">true</span><br>            <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Show Modal"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>yellow<span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">cornerRadius</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>            <span class="token punctuation">.</span><span class="token function">sheet</span><span class="token punctuation">(</span>isPresented<span class="token punctuation">:</span> $showModal<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token comment">// By default the sheet slides in from the bottom.</span><br>                <span class="token function">MyModal</span><span class="token punctuation">(</span>show<span class="token punctuation">:</span> $showModal<span class="token punctuation">,</span> message<span class="token punctuation">:</span> message<span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="navigation">Navigation</h2><p>The <code>NavigationView</code> view marks the spot where the views associated with <code>NavigationLinks</code> will be rendered. The example below renders four pages. Page 1 contains links to pages 2 and 3. Page 3 contains a link to page 4.</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">SwiftUI</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page1</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page one."</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 1"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">.</span><span class="token function">navigationBarTitleDisplayMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>inline<span class="token punctuation">)</span><br>                <span class="token comment">// .large leaves a large amount of space above</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token builtin">HStack</span> <span class="token punctuation">{</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 2"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>                <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 3"</span><span class="token punctuation">)</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page2</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page two."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 2"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page3</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">VStack</span> <span class="token punctuation">{</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page three."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 3"</span><span class="token punctuation">)</span><br>            <span class="token function">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>            <span class="token function">NavigationLink</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token function">Page4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"Page 4"</span><span class="token punctuation">)</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">Page4</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">"This is page four."</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span><span class="token string">"Page 4"</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView</span><span class="token punctuation">:</span> <span class="token builtin">View</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> body<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token builtin">NavigationView</span> <span class="token punctuation">{</span><br>            <span class="token function">Page1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">struct</span> <span class="token builtin">ContentView_Previews</span><span class="token punctuation">:</span> <span class="token builtin">PreviewProvider</span> <span class="token punctuation">{</span><br>    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> some <span class="token builtin">View</span> <span class="token punctuation">{</span><br>        <span class="token function">ContentView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>If the view inside a <code>NavigationLink</code> doesn't have a <code>navigationTitle</code>, the link to get back to it will just display &quot;Back&quot;.</p><h2 id="utility-functions">Utility Functions</h2><p>The <a href="https://developer.apple.com/documentation/swift/1539127-dump?v=1.0.18" rel="noopener" target="_blank">dump</a> function takes a value and prints it for debugging purposes. The value can be non-primitive such as an object or array. Optional arguments that follow the value include <code>name</code>, <code>indent</code>, <code>maxDepth</code>, and <code>maxItems</code>.</p><h2 id="key-paths">Key Paths</h2><p>A <a href="https://www.youtube.com/watch?v=YY7SlOklZzk?v=1.0.18" rel="noopener" target="_blank">key path</a> refers to a property in a struct or class rather than the value of a property in a particular instance.</p><p>A key path can be created with a backslash followed by a type name, a period, and a property name. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">struct</span> <span class="token builtin">Person</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">let</span> namePath <span class="token operator">=</span> \<span class="token builtin">Person</span><span class="token punctuation">.</span>name</code></pre><p>A key path can be used to get the value of a property from an instance of a struct or class. For example:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">"Mark"</span><span class="token punctuation">)</span><br><span class="token keyword">let</span> name <span class="token operator">=</span> person<span class="token punctuation">[</span>keyPath<span class="token punctuation">:</span> namePath<span class="token punctuation">]</span> <span class="token comment">// "Mark"</span></code></pre><p>All objects have the property <code>self</code> that refers to the whole object. To write a key path that refers to the whole object rather than a specific property inside it, use <code>\.self</code>.</p><h2 id="contexts">Contexts</h2><p>A SwiftUI context is ... Most apps only use a single context.</p><h2 id="environments">Environments</h2><p>A SwiftUI environment specifies key/value pairs that affect all sub-views of the view on which they are specified. For example, if a font is specified on a <code>VStack</code> then it becomes the default found for all views nested inside it at any depth.</p><p>To dump the contents on the current environment of a view, chain the following onto the view:</p><pre class="language-swift"><code class="language-swift"><span class="token punctuation">.</span><span class="token function">transformEnvironment</span><span class="token punctuation">(</span>\<span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">dump</span><span class="token punctuation">(</span>$<span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span></code></pre><p>TODO: <a href="https://www.youtube.com/watch?v=SUiITSkAqAo&amp;t=548s">https://www.youtube.com/watch?v=SUiITSkAqAo&amp;t=548s</a></p><h2 id="network-requests">Network Requests</h2><p>TODO: <a href="https://www.youtube.com/watch?v=2NowSN4qJUY&amp;t=729s">https://www.youtube.com/watch?v=2NowSN4qJUY&amp;t=729s</a></p><h2 id="combine">Combine</h2><p>TODO: <a href="https://www.youtube.com/watch?v=bRpFHqv0tRQ&amp;t=701s">https://www.youtube.com/watch?v=bRpFHqv0tRQ&amp;t=701s</a></p><h2 id="core-data">Core Data</h2><p>TODO: <a href="https://www.youtube.com/watch?v=091Mdv_Rjb4">https://www.youtube.com/watch?v=091Mdv_Rjb4</a></p><p>Core Data is an object/graph persistence framework. It supports many features including data validation, undo/redo, and lazy loading.</p><p>The easiest way to setup use of Core Data is to check the &quot;Use Core Data&quot; checkbox on the options panel when creating a new project. While it is possible to add the use of Core Data to an existing app, the setup steps are quite involved.</p><p>The generated files setup use of Core Data. The file <code>{app-name}App.swift</code> registers an &quot;environment&quot; with the main <code>ContentView</code> that uses a <code>PersistenceController</code> instance defined in <code>Persistence.swift</code> and made available through a static <code>shared</code> property. The main view defined in <code>ContentView.swift</code> has access to this and uses the <code>@FetchRequest</code> property wrapper to get <code>Item</code> objects from the persistent store. The <code>Item</code> type is defined in <code>{app-name}.xcdatamodeld</code> and has a single attribute <code>timestamp</code>.</p><p>The generated app is fully functional. It displays a list of items that each have a timestamp. Tap an item to get to a page that displays detail about just that item. To delete an item, swipe it left and click the &quot;Delete&quot; button that appears. To add an item with the current timestamp, click the &quot;+&quot; button at the top. To delete items without swiping them, click the &quot;Edit&quot; button at the top. This displays a red circle containing a minus sign to left of each item. Click those to delete items. When finished, click the &quot;Done&quot; button at the top that replaced the &quot;Edit&quot; button. From here you can edit the code to provide your own CRUD functionality.</p><p>To define additional entity types that can be persisted, and possibly delete the provided <code>Item</code> type, click the <code>{app-name}.xcdatamodeld</code> file in the Navigator pane. This will display an entity editor.</p><p>To add entities, click the &quot;Add Entity&quot; button at the bottom. This will create an empty entity named &quot;Entity&quot;. Double-click the name to change it. These become the names of generated class definitions, so they should begin with an uppercase letter. The generated classes inherit from <code>NSManagedObject</code>.</p><p>To add attributes to an entity, click the &quot;+&quot; at the bottom of the attribute list. For each attribute, enter a name and select a type.</p><p>To create an initial set of objects, edit the <code>preview</code> property defined in <code>Persistence.swift</code>. For example:</p><pre class="language-swift"><code class="language-swift"><br>``<br><br><span class="token builtin">If</span> you see errors that say <span class="token string">"cannot find type 'SomeEntityName' in scope"</span><span class="token punctuation">,</span><br>restart <span class="token builtin">Xcode</span><span class="token punctuation">.</span></code></pre></article>