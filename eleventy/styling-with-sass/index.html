<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Styling with Sass</h2><aside></aside><article><p>Sass provides a modified CSS syntax that can be compiled to plain CSS. Sass provides many benefits over CSS including more compact variable assignment and usage, nested rules, mixins, and provided functions. For more details, see the <a href="https://sass-lang.com/">Sass home page</a>.</p><p>One option for adding the use of Sass to an 11ty project is to use <a href="https://www.npmjs.com/package/eleventy-plugin-sass">eleventy-plugin-sass</a>. However, there are currently several issues with this plugin.</p><p>Another way we can make converting <code>.scss</code> files to <code>.css</code> files an automated part of the 11ty build process is to follow these steps:</p><ol><li>Place all <code>.scss</code> files in the <code>assets</code> directory.</li><li>Enter <code>npm install -D node-sass npm-run-all</code>.</li><li>Modify <code>package.json</code> to contain the following npm scripts. This assumes that the input directory configured in <code>.eleventy.js</code> is named <code>src</code>.</li></ol><pre class="language-json"><code class="language-json"><span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"npm run sass &amp;&amp; eleventy"</span><span class="token punctuation">,</span><br><span class="token property">"sass"</span><span class="token operator">:</span> <span class="token string">"node-sass -o _site/assets --output-style compact src/sass"</span><span class="token punctuation">,</span><br><span class="token property">"serve"</span><span class="token operator">:</span> <span class="token string">"npm-run-all sass --parallel watch:*"</span><span class="token punctuation">,</span><br><span class="token property">"watch:eleventy"</span><span class="token operator">:</span> <span class="token string">"eleventy --serve"</span><span class="token punctuation">,</span><br><span class="token property">"watch:sass"</span><span class="token operator">:</span> <span class="token string">"npm run sass -- --watch"</span></code></pre><p>Add the following in <code>.eleventy.js</code> so the browser will refresh when node-sass creates or updates <code>.css</code> files:</p><pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addWatchTarget</span><span class="token punctuation">(</span><span class="token string">'_site/assets/*.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>eleventyConfig<span class="token punctuation">.</span><span class="token function">setBrowserSyncConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'_site/assets/*.css'</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now when <code>npm run build</code> is used to build the site or when <code>npm serve</code> is used to serve and watch the site, <code>.scss</code> files in the <code>assets</code> directory will be compiled to <code>.css</code> files in the <code>_site/assets</code> directory. Changes made to <code>.scss</code> files while <code>npm serve</code> is running will automatically be compiled to <code>.css</code> files and the browser will reload to show the results.</p><p>The reason <code>.scss</code> files are not placed under the <code>assets</code> directory is that <code>eleventyConfig.addPassthroughCopy</code> is typically used to copy the contents of the <code>assets</code> directory to <code>_site</code>. We do not want to copy <code>.scss</code> files there because they are not needed by the running site.</p></article>