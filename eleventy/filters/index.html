<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Filters</h2><aside></aside><article><p>Filters take a value and return a potentially different value. When used with Liquid and Nunjucks, they appear inside interpolations after a vertical bar. For example:</p><pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> title <span class="token operator">|</span> <span class="token function filter">uppercase</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span></code></pre><p>Universal filters can be used with multiple template engines, including Handlebars, JavaScript, Liquid, and Nunjucks. The provided universal filters are <code>get*CollectionItem</code>, <code>log</code>, <code>slug</code>, and <code>url</code>. The &quot;*&quot; above can be replaced by &quot;Previous&quot;, &quot;Next&quot;, or nothing to get the current page from a collection. Note that the <code>get*CollectionItem</code>and<code>log</code> filters are coming in version 0.11.0.</p><p>Nunjucks provides the following filters documented at <a href="https://mozilla.github.io/nunjucks/templating.html#builtin-filters?v=1.1.0" rel="noopener" target="_blank">builtin-filters</a>: <code>abs</code>, <code>batch</code>, <code>capitalize</code>, <code>center</code>, <code>default</code>, <code>dictsort</code>, <code>dump</code>, <code>escape</code>, <code>first</code>, <code>float</code>, <code>forceescape</code>, <code>groupby</code>, <code>indent</code>, <code>int</code>, <code>join</code>, <code>last</code>, <code>length</code>, <code>list</code>, <code>lower</code>, <code>nl2br</code>, <code>random</code>, <code>rejectattr</code>, <code>replace</code>, <code>reverse</code>, <code>round</code>, <code>safe</code>, <code>selectattr</code>, <code>slice</code>, <code>sort</code>, <code>string</code>, <code>sum</code>, <code>title</code>, <code>trim</code>, <code>truncate</code>, <code>upper</code>, <code>urlencode</code>, <code>urlize</code>, and <code>wordcount</code>.</p><p>The Nunjucks <code>sort</code> filter requires three arguments. The first is boolean indicating whether the sort should be in reverse order. The second is a boolean indicating whether the comparisons should be case-sensitive. The third is the property on which to sort. It can only sort on top-level properties. See <a href="https://github.com/11ty/eleventy/issues/911?v=1.1.0" rel="noopener" target="_blank">issue 911</a>.</p><p>You can implement custom filters in the 11ty configuration file, typically <code>.eleventy.js</code>. Here is a filter that doesn't do or change anything:</p><pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'myFilter'</span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> value<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Here is a custom filter for sorting that is an alternative to using the one provided by Nunjucks. It expects its value to be an array of objects. It takes an argument that specifies the property in the objects that should be used for sorting.</p><pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addFilter</span><span class="token punctuation">(</span><span class="token string">'mySort'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> property</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  value<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item1<span class="token punctuation">,</span> item2</span><span class="token punctuation">)</span> <span class="token operator">=></span> item1<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>item2<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> value<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To sort on a property that isn't at the top of the items, consider using the lodash <a href="https://lodash.com/docs/4.17.15#get?v=1.1.0" rel="noopener" target="_blank">get function</a> to get the values to be compared.</p><p>More more information, see <a href="https://www.11ty.dev/docs/filters/?v=1.1.0" rel="noopener" target="_blank">Filters</a>.</p></article>