<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>GitHub Pages</h2><aside></aside><article><p>GitHub Pages is a great option to consider for hosting an 11ty site because it is free and simple to use.</p><p>Here are the steps to create and deploy an 11ty site to GitHub Pages.</p><ol><li><p>Install Node.js if not already installed. See <a href="http://nodejs.org">nodejs.org</a>.</p></li><li><p>Install git if not already installed. See <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">https://git-scm.com/book/en/v2/Getting-Started-Installing-Git</a>.</p></li><li><p>Create a GitHub account if you don't already have one. Browse <a href="https://github.com/">https://github.com/</a> and click the &quot;Sign up&quot; button.</p></li><li><p>Create a new GitHub repository.</p></li><li><p>Clone the repository to create a local repository.</p></li><li><p>cd to the directory of the local repository.</p></li><li><p>Enter <code>npm init -y</code> to create a <code>package.json</code> file.</p></li><li><p>Enter <code>npm install -D @11ty/eleventy gh-pages npm-run-all</code>. The installed <code>gh-pages</code> command creates a Git branch named &quot;gh-pages&quot; that contains only a given directory, in this case the &quot;_site&quot; directory created by the <code>eleventy</code> command.</p></li><li><p>Create a <code>.gitignore</code> file containing the lines <code>/node_modules</code> and <code>/_site</code>.</p></li><li><p>Edit <code>package.json</code> and replace the &quot;test&quot; script with the following npm scripts, most of which are only conveniences:</p><pre class="language-json"><code class="language-json"><span class="token property">"add"</span><span class="token operator">:</span> <span class="token string">"git add ."</span><span class="token punctuation">,</span><br><span class="token property">"all"</span><span class="token operator">:</span> <span class="token string">"npm-run-all build add commit push deploy"</span><span class="token punctuation">,</span><br><span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"eleventy"</span><span class="token punctuation">,</span><br><span class="token property">"clean"</span><span class="token operator">:</span> <span class="token string">"rm -rf _site"</span><span class="token punctuation">,</span><br><span class="token property">"commit"</span><span class="token operator">:</span> <span class="token string">"git commit -av"</span><span class="token punctuation">,</span><br><span class="token property">"deploy"</span><span class="token operator">:</span> <span class="token string">"gh-pages -d _site"</span><span class="token punctuation">,</span><br><span class="token property">"push"</span><span class="token operator">:</span> <span class="token string">"git push origin master"</span><span class="token punctuation">,</span><br><span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"eleventy --serve"</span></code></pre></li><li><p>Create the directory <code>_includes</code>.</p></li><li><p>Add the file <code>layout.md</code> in the <code>_includes</code> directory containing the following:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    {{content | safe}}<br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></li><li><p>Create the file <code>index.md</code> file containing the following:</p><pre class="language-html"><code class="language-html">---<br>layout: layout.md<br>---<br><br># Welcome to my site!</code></pre></li><li><p>To build and test the site locally, enter <code>npm start</code>.</p></li><li><p>To build and deploy the site, enter <code>npm run all</code>. This will prompt for a commit message that must be entered using Vim. Press the &quot;i&quot; key to go into insert mode. Type a commit message. Press the esc key to exit insert mode. Press &quot;:&quot; to go into command-line mode. Type &quot;wq&quot; and press return to write the changes and quit.</p></li><li><p>Browse the web UI for the GitHub repository, not the deployed site.</p></li><li><p>Click &quot;Settings&quot; near the upper-right.</p></li><li><p>Scroll to the &quot;GitHub Pages&quot; section.</p></li><li><p>Under &quot;Source&quot;, &quot;gh-pages branch&quot; should already be selected.</p></li><li><p>Click the link after &quot;Your site is ready to be published at&quot; to view the site.</p></li><li><p>Considering bookmarking this URL.</p></li></ol><p>To make local changes to the site:</p><ol><li>Edit site source files.</li><li>Start the local eleventy server if it isn't already running by entering <code>npm start</code>. This will provide hot reload when changes are detected.</li><li>Enter <code>npm run all</code> to rebuild and redeploy the site. This will prompt for a commit message that must be entered using Vim.</li><li>Browse the site to verify the changes. In can take 30 seconds or more for changes to appear on the site. Running deployments can be viewed at <a href="https://github.com/%7Busername%7D/%7Brepo-name%7D/deployments">https://github.com/{username}/{repo-name}/deployments</a>.</li></ol><p>To make changes to the site from the GitHub web UI and automatically build and deploy the site:</p><ol><li>Configure GitHub Actions to do the build and deploy on every push. See <a href="https://github/mvolkmann/blog/github/actions">https://github/mvolkmann/blog/github/actions</a>.</li><li>Browse the GitHub repository.</li><li>Click the &quot;Code&quot; tab.</li><li>Navigate to a file to edit.</li><li>Click the pencil icon in te upper-right of the file content.</li><li>Make changes.</li><li>Enter a commit message.</li><li>Optionally enter an extended description.</li><li>Press the &quot;Commit changes&quot; button.</li></ol></article>