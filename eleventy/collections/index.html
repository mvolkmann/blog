<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Collections</h2><aside></aside><article><p>Collections of documents are defined by specifying tags in front matter. They are represented by an array of objects that describe everything about a document. This includes front-matter data, document content, and properties added by 11ty. The order of these objects within the array matches the order of the document creation dates from oldest to newest.</p><p>For example, documents that each describe a specific dog can have front matter similar to the following.</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">breed</span><span class="token punctuation">:</span> whippet<br><span class="token key atrule">name</span><span class="token punctuation">:</span> Dasher<br><span class="token key atrule">tags</span><span class="token punctuation">:</span> dog</code></pre><p>Multiple tags can be specified by listing them in square brackets separated by commas. This allows a document to be in more than one collection. For example, <code>tags: [dog, pet]</code>. Quotes are only required around tag names that contain special characters.</p><p>All templates can access <code>collections.dog</code> to iterate over all the documents with a tag of &quot;dog&quot;.</p><p>For example:</p><pre class="language-liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> dog <span class="token keyword">in</span> collections<span class="token punctuation">.</span>dog <span class="token delimiter punctuation">%}</span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> dog<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name<span class="token delimiter punctuation">}}</span></span> is a <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>dog<span class="token punctuation">.</span>data<span class="token punctuation">.</span>breed<span class="token delimiter punctuation">}}</span></span>.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span></code></pre><p>Note the use of <code>.data</code> to access the front matter variables specified for a dog.</p><p>A layout can specify tags that become the default tags for all documents that use the layout. These can be overridden by specifying a different value for <code>tags</code> in a document.</p><p>Document-related properties that are added to collection objects by 11ty include:</p><ul><li><code>data</code>: an object that holds the front matter variables</li><li><code>date</code>: the date and time at which the template file was created, not modified</li><li><code>fileSlug</code>: the part of the document URL that uniquely identifies it</li><li><code>filePathStem</code>: the file path in the document URL that uniquely identifies it</li><li><code>inputPath</code>: the relative file path to the source template file</li><li><code>outputPath</code>: the path to the output HTML file relative to the top of the project</li><li><code>template</code>: an object that holds lots of 11ty-specific data</li><li><code>templateContent</code>: the string of HTML produced from the template</li><li><code>url</code>: the document URL</li></ul><p>Storing the front matter variables in the <code>data</code> object avoids name collisions with other document-related properties.</p><p>A good way to implement page navigation in an 11ty site is to use the <a href="/blog/eleventy/plugins/navigation-plugin" target="frame">navigation plugin</a>. Another way is to add a tag to each template that represents a document that should be reachable from a nav link. Also add a <code>title</code> variable to each of these templates. For example, we can add the following front matter in <code>about.md</code>:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">tags</span><span class="token punctuation">:</span> nav<br><span class="token key atrule">title</span><span class="token punctuation">:</span> About</code></pre><p>Then generate navigation links in a layout as follows:</p><pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span><span class="token punctuation">></span></span><br>    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> nav <span class="token keyword">in</span> collections<span class="token punctuation">.</span>nav <span class="token delimiter punctuation">%}</span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>nav<span class="token punctuation">.</span>url<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>nav<span class="token punctuation">.</span>data<span class="token punctuation">.</span>title<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span></code></pre><p>The order of items in each collection is based on the creation timestamp of the associated document, from oldest to newest. To iterate in reverse order use the <code>reverse</code> filter as follows:</p><pre class="language-liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> nav <span class="token keyword">in</span> collections<span class="token punctuation">.</span>nav <span class="token operator">|</span> <span class="token function filter">reverse</span> <span class="token delimiter punctuation">%}</span></span></code></pre><p>To iterate over a collection in an order that is not based on document creation timestamps, add code in the Eleventy configuration file (typically <code>.eleventy.js</code>) that adds a new collection that is sorted in the desired way.</p><p>For example:</p><pre class="language-js"><code class="language-js">eleventyConfig<span class="token punctuation">.</span><span class="token function">addCollection</span><span class="token punctuation">(</span><span class="token string">'dogsByName'</span><span class="token punctuation">,</span> <span class="token parameter">collection</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Get only the documents that have a tag of "dog".</span><br>  <span class="token keyword">const</span> dogs <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">getFilteredByTag</span><span class="token punctuation">(</span><span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Sort the dogs on their name.</span><br>  dogs<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">dog1<span class="token punctuation">,</span> dog2</span><span class="token punctuation">)</span> <span class="token operator">=></span> dog1<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">localeCompare</span><span class="token punctuation">(</span>dog2<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> dogs<span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Use the collection <code>dogsByName</code> in a <code>for</code> loop to iterate in the new sorted order. For more information on 11ty collections, see <a href="https://www.11ty.dev/docs/collections/?v=1.1.1" rel="noopener" target="_blank">collections</a>.</p></article>