<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Remix</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#creating-a-new-project">Creating a new project</a></li><li><a href="#project-structure">Project Structure</a></li><li><a href="#outlet-component">Outlet component</a></li><li><a href="#styling">Styling</a></li><li><a href="#links">Links</a></li><li><a href="#prefetching">Prefetching</a></li><li><a href="#dynamic-routes">Dynamic Routes</a></li><li><a href="#spinners">Spinners</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://remix.run?v=1.0.21" rel="noopener" target="_blank">Remix</a> is &quot;a full stack web framework that lets you focus on the user interface and work back through web standards to deliver a fast, slick, and resilient user experience.&quot;</p><p>Remix is heavily based on React Router.</p><p>The hooks <code>useState</code> and <code>useEffect</code> can be used in Remix apps, but they tend to be used much less than in standard React apps.</p><p>Remix apps use a database for application state instead of a library like Redux</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://www.epicweb.dev/?v=1.0.21" rel="noopener" target="_blank">EpicWeb.dev</a> - hosts articles and tutorials on Remix from Kent C. Dodds</li></ul><h2 id="creating-a-new-project" tabindex="-1">Creating a new project</h2><ol><li>Install Node.js.</li><li><code>cd</code> to the directory where the project will be created.</li><li>Enter <code>npx create-remix@latest</code></li><li>Enter &quot;y&quot; to proceed.</li><li>Enter a project name.</li><li>Press return for &quot;Just the basics&quot;.</li><li>Press return for &quot;Remix App Server&quot;.</li><li>Press return for &quot;TypeScript&quot;.</li><li>Enter &quot;Y&quot; to run <code>npm install</code>.</li><li><code>cd</code> to the new project directory.</li><li>See the <code>README.md</code> file for instructions.</li><li>Enter <code>npm run dev</code></li><li>Browse localhost:3000.</li></ol><h2 id="project-structure" tabindex="-1">Project Structure</h2><p>The <code>public</code> directory contains static assets like images.</p><p>The <code>app</code> directory defines the routes and components of the app.</p><p>The file <code>root.jsx</code> defines the root component. This renders an <code>Output</code> component which is responsible for rendering each page.</p><p>The file <code>entry.server.tsx</code> defines the server code that runs on every request. Often no changes are needed in this file.</p><p>The file <code>entry.client.tsx</code> defines the code that runs in the browser. Often no changes are needed in this file.</p><p>The <code>app/routes</code> directory defines all the routes of the app that are mapped to URL paths. This begins with only the file <code>_index.tsx</code>. To create additional routes, add more <code>.tsx</code> files and subdirectories in this directory. Subdirectories define URL paths and support nested routes.</p><p>To create a new page in the app, create a new file in the <code>app/routes</code> directory. To add a link to this page in <code>_index.tsx</code>, add <code>&lt;a href=&quot;/demo&quot;&gt;Demo&lt;/a&gt;</code>. But this downloads the page from the server. To perform client-side routing, import the <code>Link</code> component with:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>Link<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@remix-run/react'</span><span class="token punctuation">;</span></code></pre><p>and use the following instead of an anchor tag:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Demo Link<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span></code></pre><p>Routes can be in deeper subdirectories to require a deeper URL path.</p><h2 id="outlet-component" tabindex="-1">Outlet component</h2><p>The <code>Outlet</code> component rendered in <code>root.tsx</code> renders the content of the current page.</p><h2 id="styling" tabindex="-1">Styling</h2><p>Global CSS can be defined in a file inside the <code>app</code> directory. This can be included in <code>app/root.jsx</code> to make it available to all pages.</p><h2 id="links" tabindex="-1">Links</h2><p>To create a link to another page, use the <code>Link</code> component. This must be imported from &quot;@remix-run/react&quot;.</p><p>The <code>Link</code> <code>to</code> prop supports absolute and relative paths. Absolute paths begin with a slash. Relative paths do not and are appended to the current URL.</p><h2 id="prefetching" tabindex="-1">Prefetching</h2><p>The <code>Link</code> and <code>NavLink</code> components can be configured to prefetch all data they need when the user hovers over them. This makes rendering the associated routes faster. To this, add the prop <code>prefetch=&quot;intent&quot;</code>.</p><h2 id="dynamic-routes" tabindex="-1">Dynamic Routes</h2><p>Dynamic routes have access to data from the URL used to render them.</p><p>Dynamic routes are defined by creating a source file in the <code>routes</code> directory whose name contains <code>$</code>. For example, <code>notes.$id.tsx</code>. The <code>.</code> after <code>notes</code> is translated to a <code>/</code>, so the path for visiting this page will be <code>notes/{some-id}</code>.</p><p>For example:</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span>useLoaderData<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@remix-run/react'</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">MyDynamicPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useLoaderData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">(</span><br>    <span class="token operator">&lt;</span>main<span class="token operator">></span><br>      <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>someProperty<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">></span><br>  <span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">loader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>params<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> id <span class="token operator">=</span> params<span class="token punctuation">.</span>id<span class="token punctuation">;</span><br>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getMyData</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">throw</span> <span class="token function">json</span><span class="token punctuation">(</span><br>      <span class="token punctuation">{</span>message<span class="token operator">:</span> <span class="token string">'Could not find data.'</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">}</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">return</span> data<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h2 id="spinners" tabindex="-1">Spinners</h2><p>See <a href="https://github.com/smeijer/spin-delay?v=1.0.21" rel="noopener" target="_blank">spin-delay</a>.</p></article>