<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Lua</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#where-used">Where Used</a></li><li><a href="#installing">Installing</a></li><li><a href="#resources">Resources</a></li><li><a href="#cheat-sheets">Cheat Sheets</a></li><li><a href="#source-files">Source Files</a></li><li><a href="#keywords">Keywords</a></li><li><a href="#comments">Comments</a></li><li><a href="#types">Types</a></li><li><a href="#variables">Variables</a></li><li><a href="#strings">Strings</a></li><li><a href="#functions">Functions</a></li><li><a href="#data-structures">Data Structures</a><ol><li><a href="#tables">Tables</a></li></ol></li><li><a href="#standard-library">Standard Library</a></li><li><a href="#multitasking">Multitasking</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://www.lua.org/?v=1.0.20" rel="noopener" target="_blank">Lua</a> is a dynamically typed scripting language created in 1993 by a team at <a href="http://www.puc-rio.br?v=1.0.20" rel="noopener" target="_blank">Pontifical Catholic University of Rio de Janeiro</a> in Brazil.</p><p>Lua is considered to be the fastest scripting language. Compared to Python, Lua is simpler (only 21 keywords) and faster.</p><p>The Lua programming language was named after the Moon.</p><p>One reason Lua is popular is that it is easy to embed in a C/C++ application. It is easy to run C code from Lua and run Lua code from C.</p><p>Lua has a small standard library, but has a large collection of packages that can be installed using the <a href="https://luarocks.org?v=1.0.20" rel="noopener" target="_blank">LuaRocks</a> package manager.</p><h2 id="where-used" tabindex="-1">Where Used</h2><p>Notable uses of Lua include:</p><ul><li><a href="https://www.minecraft.net/?v=1.0.20" rel="noopener" target="_blank">Minecraft</a> game</li><li><a href="https://www.roblox.com?v=1.0.20" rel="noopener" target="_blank">Roblox</a> game</li><li><a href="http://www.legoengineering.com/platform/nxt/?v=1.0.20" rel="noopener" target="_blank">Lego Mindstorms NXT</a></li><li><a href="https://neovim.io?v=1.0.20" rel="noopener" target="_blank">Neovim</a> text editor</li><li><a href="https://redis.io?v=1.0.20" rel="noopener" target="_blank">Redis</a> database</li></ul><p>For an extensive, see the <a href="https://en.wikipedia.org/wiki/List_of_applications_using_Lua?v=1.0.20" rel="noopener" target="_blank">List of applications using Lua</a> Wikipedia page.</p><h2 id="installing" tabindex="-1">Installing</h2><p>Lua can be installed in macOS using Homebrew. Enter <code>brew install lua</code> to install it and enter <code>lua -v</code> to verify that it worked and see the version.</p><p>For installing in other operating systems, see <a href="http://www.lua.org/start.html?v=1.0.20" rel="noopener" target="_blank">Getting Started</a>.</p><p>To experiment with Lua on the web without installing anything, see <a href="http://www.lua.org/demo.html?v=1.0.20" rel="noopener" target="_blank">Lua Demo</a>.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://www.lua.org/manual/?v=1.0.20" rel="noopener" target="_blank">Lua Reference Manual</a></li><li><a href="https://www.amazon.com/exec/obidos/ASIN/8590379868/lua-pilindex-20?v=1.0.20" rel="noopener" target="_blank">Programming in Lua</a> book</li></ul><h2 id="cheat-sheets" tabindex="-1">Cheat Sheets</h2><ul><li><a href="https://www.codecademy.com/learn/learn-lua/modules/learn-lua-introduction/cheatsheet?v=1.0.20" rel="noopener" target="_blank">codecademy</a></li><li><a href="https://devhints.io/lua?v=1.0.20" rel="noopener" target="_blank">DevHints.io</a></li><li><a href="https://cheatography.com/srgmc/cheat-sheets/lua-scripting-5-1/?v=1.0.20" rel="noopener" target="_blank">Cheatography</a></li></ul><h2 id="source-files" tabindex="-1">Source Files</h2><p>Source files have a <code>.lua</code> extension. To execute a source file, enter <code>lua filename.lua</code>.</p><p>A source file can use the variables and functions defined in another source file by using the <code>require</code> function. For example:</p><pre class="language-lua"><code class="language-lua">require <span class="token string">"other"</span></code></pre><h2 id="keywords" tabindex="-1">Keywords</h2><p>Lua only defines 21 keywords. Some of the keywords such as <code>end</code>, <code>and</code>, <code>or</code>, and <code>then</code> make the syntax similar to the Ruby programming language.</p><p>TODO: List all the keywords with a brief explanation of each.</p><h2 id="comments" tabindex="-1">Comments</h2><p>Single-line comments begin with two dashes. Multiline comments are delimited by <code>--[[</code> and <code>--]]</code>.</p><h2 id="types" tabindex="-1">Types</h2><p>Lua uses dynamic types. The types of variables and function parameters are never specified and are always inferred.</p><h2 id="variables" tabindex="-1">Variables</h2><p>Variables are global by default. Use the <code>local</code> keyword to make scoped to their environment.</p><h2 id="strings" tabindex="-1">Strings</h2><p>Strings can be delimited with either single or double quotes.</p><h2 id="functions" tabindex="-1">Functions</h2><p>Functions are defined with the <code>function</code> keyword.</p><p>For example:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<br><span class="token keyword">end</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 5</span></code></pre><p>Functions in Lua are first-class. This means they can take other functions as arguments and can return functions.</p><h2 id="data-structures" tabindex="-1">Data Structures</h2><p>Lua only provides one data structure called a &quot;table&quot;. It can represent arrays, dictionaries, trees, and graphs.</p><p>Lua does not support defining classes. Instead it uses a combination of tables and functions for everything.</p><h3 id="tables" tabindex="-1">Tables</h3><p>A table is an associative array. Values for keys are defined integer values by default starting from 1. Tables are indexed starting from 1 instead of 0.</p><p>To iterate over keys and values, use a <code>for</code> loop with the <code>pairs</code> function.</p><h2 id="standard-library" tabindex="-1">Standard Library</h2><ul><li><a href="https://www.lua.org/manual/5.4/manual.html#6.1" target="_blank">basic</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.2" target="_blank">coroutine</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.10" target="_blank">debug</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.8" target="_blank">io</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.7" target="_blank">math</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.3" target="_blank">modules/package</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.9" target="_blank">os</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.4" target="_blank">string</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.6" target="_blank">table</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.5" target="_blank">utf8</a></li></ul><h2 id="multitasking" tabindex="-1">Multitasking</h2><p>Lua supports collaborative multitasking with coroutines.</p><pre class="language-lua"><code class="language-lua">co <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><br>…<br>coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span>“intermediate value”<span class="token punctuation">)</span><br>…<br><span class="token keyword">return</span> “final value”<br><span class="token keyword">end</span><span class="token punctuation">)</span><br><br>v1 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span><br>v2 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span><br>v3 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span> — error</code></pre></article>