<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Lua</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#used-by">Used By</a></li><li><a href="#resources">Resources</a></li><li><a href="#cheat-sheets">Cheat Sheets</a></li><li><a href="#installing">Installing</a></li><li><a href="#source-files">Source Files</a></li><li><a href="#running-programs">Running Programs</a></li><li><a href="#keywords">Keywords</a></li><li><a href="#comments">Comments</a></li><li><a href="#types">Types</a></li><li><a href="#input%2Foutput">Input/Output</a></li><li><a href="#variables">Variables</a></li><li><a href="#booleans">Booleans</a></li><li><a href="#numbers">Numbers</a></li><li><a href="#strings">Strings</a></li><li><a href="#operators">Operators</a></li><li><a href="#conditional-logic">Conditional Logic</a></li><li><a href="#iteration">Iteration</a></li><li><a href="#functions">Functions</a></li><li><a href="#data-structures">Data Structures</a><ol><li><a href="#tables">Tables</a></li></ol></li><li><a href="#standard-library">Standard Library</a></li><li><a href="#math-module">math module</a></li><li><a href="#modules">Modules</a></li><li><a href="#multitasking">Multitasking</a></li><li><a href="#unorganized-content">Unorganized Content</a></li></ol></nav></aside><article><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://www.lua.org/?v=1.0.20" rel="noopener" target="_blank">Lua</a> is a dynamically typed scripting language created in 1993 by a team at <a href="http://www.puc-rio.br?v=1.0.20" rel="noopener" target="_blank">Pontifical Catholic University of Rio de Janeiro</a> in Brazil.</p><p>The Lua programming language was named after the Moon.</p><p>Lua has an interpreter and a virtual machine. The interpreter is written in C and produces bytecode that runs in the virtual machine. Compiling to bytecode can be done at runtime or ahead of time (although I haven't found a recommended way to do it).</p><p>Lua has a relatively small standard library, but has a large collection of packages that can be installed using the <a href="https://luarocks.org?v=1.0.20" rel="noopener" target="_blank">LuaRocks</a> package manager.</p><p>Pros of Lua include:</p><ul><li>considered to be the fastest scripting language</li><li>free and open sources under the MIT license</li><li>simple syntax with only 21 keywords</li><li>dynamic variables that do not require specifying types</li><li>easy to run C code from Lua and run Lua code from C</li><li>easy to embed in C/C++ applications</li></ul><p>Cons of Lua include:</p><ul><li>limited support for error handling</li><li>limited support for pattern matching</li></ul><h2 id="used-by" tabindex="-1">Used By</h2><p>Notable uses of Lua include:</p><ul><li><a href="https://www.minecraft.net/?v=1.0.20" rel="noopener" target="_blank">Minecraft</a> game</li><li><a href="https://www.roblox.com?v=1.0.20" rel="noopener" target="_blank">Roblox</a> game</li><li><a href="http://www.legoengineering.com/platform/nxt/?v=1.0.20" rel="noopener" target="_blank">Lego Mindstorms NXT</a></li><li><a href="https://neovim.io?v=1.0.20" rel="noopener" target="_blank">Neovim</a> text editor</li><li><a href="https://redis.io?v=1.0.20" rel="noopener" target="_blank">Redis</a> database</li></ul><p>Roblox uses a variant of Lua called Luau. TODO: How does that differ?</p><p>For an extensive, see the <a href="https://en.wikipedia.org/wiki/List_of_applications_using_Lua?v=1.0.20" rel="noopener" target="_blank">List of applications using Lua</a> Wikipedia page.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://www.lua.org/manual/?v=1.0.20" rel="noopener" target="_blank">Lua Reference Manual</a></li><li><a href="https://www.amazon.com/exec/obidos/ASIN/8590379868/lua-pilindex-20?v=1.0.20" rel="noopener" target="_blank">Programming in Lua</a> book</li></ul><h2 id="cheat-sheets" tabindex="-1">Cheat Sheets</h2><ul><li><a href="https://www.codecademy.com/learn/learn-lua/modules/learn-lua-introduction/cheatsheet?v=1.0.20" rel="noopener" target="_blank">codecademy</a></li><li><a href="https://devhints.io/lua?v=1.0.20" rel="noopener" target="_blank">DevHints.io</a></li><li><a href="https://cheatography.com/srgmc/cheat-sheets/lua-scripting-5-1/?v=1.0.20" rel="noopener" target="_blank">Cheatography</a></li></ul><h2 id="installing" tabindex="-1">Installing</h2><p>Lua can be installed in macOS using Homebrew. Enter <code>brew install lua</code> to install it. Enter <code>lua -v</code> to verify that it worked and see the version.</p><p>For installing in other operating systems, see <a href="http://www.lua.org/start.html?v=1.0.20" rel="noopener" target="_blank">Getting Started</a>.</p><p>To experiment with Lua on the web without installing anything, see <a href="http://www.lua.org/demo.html?v=1.0.20" rel="noopener" target="_blank">Lua Demo</a>.</p><p>For faster performance, use <a href="https://luajit.org/install.html?v=1.0.20" rel="noopener" target="_blank">LuaJIT</a>. To install this:</p><ul><li>Download the source from <a href="?v=1.0.20" rel="noopener" target="_blank"></a> by entering <code>git clone https://luajit.org/git/luajit.git</code>.</li><li>Enter <code>cd luajit</code></li><li>In macOS enter <code>export MACOSX_DEPLOYMENT_TARGET={version}</code> where <code>version</code> is a value like <code>13.2</code>.</li><li>Enter <code>make &amp;&amp; sudo make install</code></li><li>The previous command will ask you to create a symlink with a command like <code>ln -sf luajit-2.1.0-beta3 /usr/local/bin/luajit</code>. Enter that command.</li></ul><h1 id="vs-code-setup" tabindex="-1">VS Code Setup</h1><p>VS Code has great support for Lua.</p><p>The <a href="https://github.com/LuaLS/lua-language-server?v=1.0.20" rel="noopener" target="_blank">Lua</a> extension from sumneko is a Lua language server. It provides code annotations, syntax checking, dynamic type checking, code formatting, spell checking, and more.</p><p>The <a href="https://github.com/Koihik/vscode-lua-format?v=1.0.20" rel="noopener" target="_blank">vscode-lua-format</a> extension from Koihik is a popular Lua code formatting extension. To configure this, open Settings, filter on &quot;Lua&quot;, and enter the path to a configuration file in &quot;Vscode-lua-format: Config Path&quot; such as <code>/Users/{your-user}/Documents/dev/lang/lua/style.config</code>. Then create the file <code>style.config</code> in that location containing something like the following:</p><pre class="language-text"><code class="language-text"># See all the Lua code formatting options at<br># https://github.com/Koihik/LuaFormatter/blob/master/docs/Style-Config.md<br><br>column_limit: 80<br>continuation_indent_width: 2<br>indent_width: 2<br>keep_simple_control_block_one_line: true<br>keep_simple_function_one_line: true<br>single_quote_to_double_quote: true<br>use_tab: false</code></pre><h2 id="source-files" tabindex="-1">Source Files</h2><p>Source files have a <code>.lua</code> extension. To execute a source file, enter <code>lua filename.lua</code>.</p><p>A source file can use the variables and functions defined in another source file by using the <code>require</code> function. For example:</p><pre class="language-lua"><code class="language-lua">require <span class="token string">"other"</span></code></pre><h2 id="running-programs" tabindex="-1">Running Programs</h2><p>To run a Lua program, enter <code>lua {filename}.lua</code> or <code>luajit {filename}.lua</code>. This runs the source file through the Lua interpreter to produce bytecode and uses the Lua virtual machine to execute the bytecode.</p><p>There are several tools that claim to produce executable files from Lua programs. But none seem to be popular or actively maintained.</p><h2 id="keywords" tabindex="-1">Keywords</h2><p>Lua only defines 21 keywords. Some of the keywords such as <code>end</code>, <code>and</code>, <code>or</code>, and <code>then</code> make the syntax similar to the Ruby programming language.</p><p>Boolean literal values:</p><ul><li>true</li><li>false</li></ul><p>Conditional Logic:</p><ul><li>if</li><li>then</li><li>elseif</li><li>else</li></ul><p>Functions:</p><ul><li>function</li><li>return</li></ul><p>Iteration:</p><ul><li>for: loop over numbers or pairs</li><li>in: specifies what to loop over</li><li>while: top-tested loop</li><li>repeat and until: bottom-tested loop</li><li>break: exit loop early</li></ul><p>Logical Operators:</p><ul><li>and</li><li>or</li><li>not</li></ul><p>Variables:</p><ul><li>local</li></ul><p>Other:</p><ul><li>do: begins a new lexical block</li><li>end: marks the end of a lexical block</li><li>nil: represents having no value</li></ul><h2 id="comments" tabindex="-1">Comments</h2><p>Single-line comments begin with two dashes. Multiline comments begin with <code>--[[</code> and end with <code>--]]</code> or just <code>]]</code>.</p><h2 id="types" tabindex="-1">Types</h2><p>Lua uses dynamic types. The types of variables and function parameters are never specified and are always inferred.</p><p>To convert a boolean or number value to a string, pass it to the <code>tostring</code> function.</p><p>To convert a string value to a number, pass it to the <code>tonumber</code> function.</p><p>To convert a string value to a boolean, pass it to the <code>toboolean</code> function.</p><p>There are no builtin functions for converting a boolean to a number or a number to a boolean.</p><h2 id="input%2Foutput" tabindex="-1">Input/Output</h2><p>To write to stdout, use the <code>print</code> function or the<code>io.write</code> function. Both take any number of arguments.</p><p>The <code>print</code> function adds a tab character between each value and a newline at the end of its output</p><p>The <code>io.write</code> function does not add any characters between values and does not add a newline at the end. Boolean values must be converted to strings before being passed to <code>io.write</code>.</p><p>For example:</p><pre class="language-lua"><code class="language-lua"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment">-- Hello   true    7</span><br>io<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment">-- Hellotrue7</span></code></pre><p>To read from stdin, use the <code>io.read</code> function.</p><p>The following code prompts for two numbers and prints their sum.</p><pre class="language-lua"><code class="language-lua">io<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'First Number: '</span><span class="token punctuation">)</span><br>s1 <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>n1 <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span> <span class="token comment">-- returns nil if not a number</span><br><br>io<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'Second Number: '</span><span class="token punctuation">)</span><br>s2 <span class="token operator">=</span> io<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>n2 <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><br><br><span class="token keyword">if</span> n1 <span class="token operator">==</span> <span class="token keyword">nil</span> <span class="token keyword">then</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'The first value "'</span> <span class="token operator">..</span> s1 <span class="token operator">..</span> <span class="token string">'" is not a number.'</span><span class="token punctuation">)</span><br><span class="token keyword">elseif</span> n2 <span class="token operator">==</span> <span class="token keyword">nil</span> <span class="token keyword">then</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'The second value "'</span> <span class="token operator">..</span> s2 <span class="token operator">..</span> <span class="token string">'" is not a number.'</span><span class="token punctuation">)</span><br><span class="token keyword">else</span><br>  sum <span class="token operator">=</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">tonumber</span><span class="token punctuation">(</span>n2<span class="token punctuation">)</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'Sum: '</span> <span class="token operator">..</span> sum<span class="token punctuation">)</span><br><span class="token keyword">end</span></code></pre><h2 id="variables" tabindex="-1">Variables</h2><p>Variables are global by default. Use the <code>local</code> keyword to make scoped to their environment.</p><p>Variables with no assigned value have the value <code>nil</code>.</p><p>New values of any type can be assigned to a variable at any time.</p><p>The <code>type(someVar)</code> function returns a string containing the type name of the variable value. This can be <code>nil</code>, <code>boolean</code>, <code>number</code>, <code>string</code>, <code>table</code>, or <code>function</code>.</p><h2 id="booleans" tabindex="-1">Booleans</h2><p>Boolean literal values are <code>true</code> and <code>false</code>.</p><h2 id="numbers" tabindex="-1">Numbers</h2><p>TODO: Are all numbers represented by double-precision floating point?</p><h2 id="strings" tabindex="-1">Strings</h2><p>Strings can be delimited with either single or double quotes. For example, <code>'Hello World!'</code> or <code>&quot;Hello World!&quot;</code>.</p><p>Multiline strings are delimiting with <code>[[</code> and <code>]]</code>. For example:</p><pre class="language-lua"><code class="language-lua">haiku <span class="token operator">=</span> <span class="token string">[[<br>Out of memory.<br>We wish to hold the sky.<br>But we never will.<br>]]</span></code></pre><p>String indexes start from zero.</p><p>Use the <code>..</code> operator to concatenate strings. For example, <code>fullName = firstName .. ' ' .. lastName</code>.</p><p>TODO: Does Lua support string interpolation?</p><p>String operations include:</p><ul><li><code>string.len(var)</code> or <code>#var</code></li><li><code>string.gsub(source, oldValue, newValue)</code></li><li><code>string.find(source, target)</code></li><li><code>string.upper(var)</code></li><li><code>string.lower(var)</code></li><li><code>string.match(someString, 'regular-expression')</code> returns a table of matches?</li></ul><h2 id="operators" tabindex="-1">Operators</h2><p>Lua supports the following mathematical operators:</p><ul><li><code>+</code> addition</li><li><code>-</code> subtraction</li><li><code>*</code> multiplication</li><li><code>/</code> division</li><li><code>%</code> modulo</li></ul><p>The ++ and — operators are not supported. Lua supports the following relational operators:</p><ul><li><code>==</code> equal</li><li><code>~=</code> not equal</li><li><code>&lt;</code> less than</li><li><code>&gt;</code> greater than</li><li><code>&lt;=</code> less than or equal to</li><li><code>&gt;=</code> greater than or equal to</li></ul><p>Lua supports the following logical operators:</p><ul><li><code>and</code></li><li><code>or</code></li><li><code>not</code></li></ul><p>Lua does not support shorthand assignment operators like +=. Adding a number to a variable must be done with <code>myVar = myVar + n</code>.</p><h2 id="conditional-logic" tabindex="-1">Conditional Logic</h2><p>Parentheses are not required around conditions.</p><p>In an <code>if</code> statement, the <code>elseif</code> and <code>else</code> blocks shown below are optional.</p><p>All the parts of the <code>if</code> statement can be written on a single line if desired.</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">if</span> condition <span class="token keyword">then</span><br>  <span class="token punctuation">...</span><br><span class="token keyword">elseif</span> condition <span class="token keyword">then</span><br>  <span class="token punctuation">...</span><br><span class="token keyword">else</span><br>  <span class="token punctuation">...</span><br><span class="token keyword">end</span></code></pre><p>Lua does not have a <code>switch</code> statement or an equivalent.</p><p>Lua does not have a ternary operator, but the same functionality can be achieved with the following:</p><pre class="language-lua"><code class="language-lua">let result <span class="token operator">=</span> condition <span class="token keyword">and</span> trueValue <span class="token keyword">or</span> falseValue</code></pre><h2 id="iteration" tabindex="-1">Iteration</h2><pre class="language-lua"><code class="language-lua"><span class="token keyword">for</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token keyword">do</span><br>  <span class="token punctuation">...</span><br><span class="token keyword">end</span><br><br><span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span>mytable<span class="token punctuation">)</span> <span class="token keyword">do</span><br>  <span class="token punctuation">...</span><br><span class="token keyword">end</span><br><br><span class="token keyword">while</span> condition <span class="token keyword">do</span> — top<span class="token operator">-</span>tested<br>  <span class="token punctuation">...</span><br><span class="token keyword">end</span><br><br><br><span class="token keyword">repeat</span> — bottom<span class="token operator">-</span>tested<br>  <span class="token punctuation">...</span><br><span class="token keyword">until</span> condition</code></pre><p>Loops can use the <code>break</code> keyword, but the <code>continue</code> keyword is not supported.</p><h2 id="functions" tabindex="-1">Functions</h2><p>Functions are defined with the <code>function</code> keyword.</p><p>For example:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> n1 <span class="token operator">+</span> n2<br><span class="token keyword">end</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 5</span></code></pre><p>Functions in Lua are first-class. This means they can take other functions as arguments and can return functions.</p><p>Functions can return multiple values. For example:</p><pre class="language-lua"><code class="language-lua"><span class="token keyword">function</span> <span class="token function">getStooges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token keyword">return</span> <span class="token string">"Moe"</span><span class="token punctuation">,</span> <span class="token string">"Larry"</span><span class="token punctuation">,</span> <span class="token string">"Curly"</span><br><span class="token keyword">end</span><br><br>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3 <span class="token operator">=</span> <span class="token function">getStooges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">,</span> s3<span class="token punctuation">)</span> <span class="token comment">-- Moe Larry Curly</span><br>```<br><br>Functions can take a variable number of arguments<span class="token punctuation">.</span><br>For example<span class="token punctuation">:</span><br><br>```lua<br><span class="token keyword">function</span> <span class="token function">myFn</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span><br>  <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token function">pairs</span><span class="token punctuation">(</span><span class="token punctuation">...</span><span class="token punctuation">)</span> <span class="token keyword">do</span><br>    <span class="token punctuation">...</span><br>  <span class="token keyword">end</span><br><span class="token keyword">end</span></code></pre><p>Anonymous functions (unnamed) are closures and can be stored in variables. For example:</p><pre class="language-lua"><code class="language-lua">product <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><br>  <span class="token keyword">return</span> n1 <span class="token operator">*</span> n2<br><span class="token keyword">end</span><br><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- 6</span></code></pre><h2 id="data-structures" tabindex="-1">Data Structures</h2><p>Lua only provides one data structure called a &quot;table&quot;. It can represent arrays, dictionaries, trees, and graphs.</p><p>Lua does not support defining classes. Instead it uses a combination of tables and functions for everything.</p><h3 id="tables" tabindex="-1">Tables</h3><p>A Lua table is an associative array.</p><p>Tables are indexed starting from 1 instead of 0.</p><p>Values for keys are defined integer values by default starting from 1.</p><p>The last element in all tables has the value <code>nil</code>.</p><p>To iterate over keys and values, use a <code>for</code> loop with the <code>pairs</code> function.</p><p>For example:</p><pre class="language-lua"><code class="language-lua">myTable <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>myTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> value <span class="token comment">-- indexes start at 1</span><br><span class="token function">print</span><span class="token punctuation">(</span>myTable<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><br><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'length ='</span><span class="token punctuation">,</span> <span class="token operator">#</span>myTable<span class="token punctuation">)</span><br>table<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>myTable<span class="token punctuation">,</span> index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><br>table<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>myTable<span class="token punctuation">,</span> “<span class="token punctuation">,</span> “<span class="token punctuation">)</span> <span class="token comment">-- returns a string of concatenated table elements</span><br>table<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>myTable<span class="token punctuation">,</span> index<span class="token punctuation">)</span><br>my2D <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br>my2D<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br>my2D<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> value<br><span class="token function">print</span><span class="token punctuation">(</span>my2D<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>The <a href="https://www.lua.org/manual/5.4/manual.html#6.6" target="_blank">table</a> library does not include functions such as <code>map</code>, <code>filter</code>, and <code>reduce</code>. These can be found in the <a href="https://luafun.github.io/?v=1.0.20" rel="noopener" target="_blank">Lua Functional Library</a>.</p><p>To download the file <code>fun.lua</code>, enter <code>wget https://raw.github.com/luafun/luafun/master/fun.lua</code>.</p><p>To use this library, To install this, enter <code>luarocks install luafun</code>.</p><p>The following code demonstrates uses this library:</p><pre class="language-lua"><code class="language-lua">fun <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fun'</span><span class="token punctuation">)</span></code></pre><h2 id="standard-library" tabindex="-1">Standard Library</h2><ul><li><a href="https://www.lua.org/manual/5.4/manual.html#6.1" target="_blank">basic</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.2" target="_blank">coroutine</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.10" target="_blank">debug</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.8" target="_blank">io</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.7" target="_blank">math</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.3" target="_blank">modules/package</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.9" target="_blank">os</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.4" target="_blank">string</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.6" target="_blank">table</a></li><li><a href="https://www.lua.org/manual/5.4/manual.html#6.5" target="_blank">utf8</a></li></ul><h2 id="math-module" tabindex="-1">math module</h2><p>Random numbers:</p><ul><li><code>math.randomseed(os.time())</code> seeds the random number generator</li><li><code>math.random()</code> returns a number in the range [0, 1)</li><li><code>math.random(10)</code> returns a number in the range [0, 10)</li><li><code>math.random(5, 10)</code> returns a nubmer in the range [5, 10)</li><li><code>print(string.format('pi is %.2f', math.pi)</code> outputs <code>pi is 3.14</code></li></ul><p>Trigonometry functions:</p><ul><li><p><code>math.sin(angle)</code></p></li><li><p><code>math.cos(angle)</code></p></li><li><p><code>math.tan(angle)</code></p></li><li><p>TODO: Add more!</p></li></ul><h2 id="modules" tabindex="-1">Modules</h2><p>A module is a collection of variables and functions</p><h2 id="multitasking" tabindex="-1">Multitasking</h2><p>Lua supports collaborative multitasking with coroutines. Coroutines are like threads, but they do not run in parallel.</p><pre class="language-lua"><code class="language-lua"><span class="token comment">-- TODO: Can this function have parameters?</span><br>co <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">...</span><br>  coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token string">"value #1"</span><span class="token punctuation">)</span><br>  <span class="token punctuation">...</span><br>  coroutine<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token string">"value #1"</span><span class="token punctuation">)</span><br>  <span class="token punctuation">...</span><br>  <span class="token keyword">return</span> <span class="token string">"value #3"</span><br><span class="token keyword">end</span><span class="token punctuation">)</span><br><br>v1 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span> <span class="token comment">-- "value #1"</span><br><span class="token function">print</span><span class="token punctuation">(</span>coroutine<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- "running"</span><br>v2 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span> <span class="token comment">-- "value #2"</span><br>v3 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span> <span class="token comment">-- "value #3"</span><br>v4 <span class="token operator">=</span> coroutine<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span> — error<br><span class="token function">print</span><span class="token punctuation">(</span>coroutine<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>co<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- "suspended"</span></code></pre><h2 id="unorganized-content" tabindex="-1">Unorganized Content</h2><p>when calling functions of a module, can you separate the module name from the function name with either a period or a colon?</p><p>are there linters in code formatters for Lua?</p><p>learn about metamethods and metatables.</p></article>