<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>HealthKit</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#flutter">Flutter</a></li><li><a href="#steps-to-use">Steps to Use</a></li><li><a href="#available-data">Available Data</a></li><li><a href="#querying">Querying</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://developer.apple.com/documentation/healthkit?v=1.0.19" rel="noopener" target="_blank">HealthKit</a> is a library from Apple to &quot;Access and share health and fitness data while maintaining the userâ€™s privacy and control.&quot;</p><p>It supports three categories of tasks:</p><ol><li>collect and store health and fitness data</li><li>analyze and visualize the data</li><li>enable social interactions</li></ol><p>&quot;Because health data may contain sensitive, personal information, apps must receive permission from the user to read data from or write data to the HealthKit store.&quot;</p><h2 id="flutter">Flutter</h2><p>The Flutter pub.dev package <a href="https://pub.dev/packages/health?v=1.0.19" rel="noopener" target="_blank">health</a> can access data from both Apple HealthKit and Android &quot;Google Fit&quot;.</p><p>See my project flutter_health which is not yet working.</p><h2 id="steps-to-use">Steps to Use</h2><ol><li>Create a new iOS App project in Xcode.</li><li>Click the top entry in the Navigator.</li><li>Select TARGETS ... {app-name} ... Info.</li><li>Hover over one the entries and click the &quot;+&quot; button to add one.</li><li>Add the key &quot;Privacy - Health Share Usage Description&quot;</li><li>Enter a value like &quot;This app needs to access your health data.&quot;</li><li>Hover over one the entries and click the &quot;+&quot; button to add another.</li><li>Add the key &quot;Privacy - Health Update Usage Description&quot;</li><li>Enter a value like &quot;This app needs to update your health data.&quot;</li><li>Click the target under &quot;TARGETS&quot; which has the same name as the app.</li><li>Click the &quot;Signing &amp; Capabilities&quot; tab.</li><li>Click &quot;+ Capability&quot;.</li><li>Type &quot;h&quot; and double-click &quot;HealthKit&quot;.</li></ol><p>HealthKit cannot be used in the Simulator, so the app must be run on a real device.</p><h2 id="available-data">Available Data</h2><p>HealthKit data types are defined <a href="https://developer.apple.com/documentation/healthkit/data_types?v=1.0.19" rel="noopener" target="_blank">HKObjectType</a> subclasses. The subclasses include:</p><ul><li><a href="https://developer.apple.com/documentation/healthkit/hkcharacteristictype?v=1.0.19" rel="noopener" target="_blank">HKCharacteristicType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkquantitytype?v=1.0.19" rel="noopener" target="_blank">HKQuantityType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkcategorytype?v=1.0.19" rel="noopener" target="_blank">HKCategoryType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkcorrelationtype?v=1.0.19" rel="noopener" target="_blank">HKCorrelationType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkactivitysummarytype?v=1.0.19" rel="noopener" target="_blank">HKActivitySummaryType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkaudiogramsampletype?v=1.0.19" rel="noopener" target="_blank">HKAudiogramSampleType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkelectrocardiogramtype?v=1.0.19" rel="noopener" target="_blank">HKElectrocardiogramType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkseriestype?v=1.0.19" rel="noopener" target="_blank">HKSeriesType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkclinicaltype?v=1.0.19" rel="noopener" target="_blank">HKClinicialType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkworkouttype?v=1.0.19" rel="noopener" target="_blank">HKWorkoutType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hkobjecttype?v=1.0.19" rel="noopener" target="_blank">HKObjectType</a></li><li><a href="https://developer.apple.com/documentation/healthkit/hksampletype?v=1.0.19" rel="noopener" target="_blank">HKSampleType</a></li></ul><p>The data available includes:</p><ul><li><p>Characteristics</p><ul><li>activity move mode</li><li>biological sex</li><li>blood type</li><li>date of birth</li><li>Fitzpatrick skin type</li><li>wheel chair use</li></ul></li><li><p>Activity</p><ul><li>active energy burned</li><li>Apple exercise time</li><li>Apple move time</li><li>Apple stand time</li><li>basal energy burned</li><li>distance cycling</li><li>distance downhill snow sports</li><li>distance swimming</li><li>distance walking/running</li><li>flights climbed (stairs)</li><li>low cardio fitness event</li><li>Nike fuel points earned</li><li>push count while using a wheelchair</li><li>step count</li><li>swimming stroke count</li><li>VO2 max</li></ul></li><li><p>Body Measurements</p><ul><li>body fat percentage</li><li>body mass</li><li>body mass index</li><li>height</li><li>lean body mass</li><li>waist circumference</li></ul></li><li><p>Reproductive Health</p><ul><li>basal body temperature</li><li>cervical mucus quality</li><li>contraceptive</li><li>inter-menstrual bleeding</li><li>lactation</li><li>menstrual flow</li><li>ovulation test result</li><li>pregnancy</li><li>pregnancy test result</li><li>progesterone test result</li><li>sexual activity</li></ul></li><li><p>Hearing</p><ul><li>environmental audio exposure</li><li>environmental audio exposure event</li><li>headphone audio exposure</li><li>headphone audio exposure event</li></ul></li><li><p>Vital Signs</p><ul><li>blood pressure</li><li>blood pressure diastolic</li><li>blood pressure systolic</li><li>body temperature</li><li>electrocardiogram data</li><li>heart rate</li><li>heart rate variability SDNN (standard deviation of <a href="https://hexoskin.zendesk.com/hc/en-us/articles/360045123314-Difference-between-RR-interval-and-NN-interval?v=1.0.19" rel="noopener" target="_blank">NN intervals</a>)</li><li>heartbeat series</li><li>high heart rate event</li><li>irregular heart rhythm event</li><li>low heart rate event</li><li>oxygen saturation</li><li>respiratory rate</li><li>resting heart rate</li><li>walking heart rate average</li></ul></li></ul><h2 id="querying">Querying</h2><p>If the user denies permission to access a particular kind of data and the app is run again later, it will not prompt the user for permission again.</p><p>To grant permission later:</p><ol><li>Launch the Health app.</li><li>Tap the &quot;Sharing&quot; button at the bottom.</li><li>Tap &quot;Apps&quot;.</li><li>Tap the name of an app that wants permissions.</li><li>Enable/disable specific permissions or tap &quot;Turn on all&quot;.</li></ol><p>An error is thrown if an app attempts to write data for which the usser has not granted permission.</p><p>Apps do not crash or throw an error if they attempt to read data for which the user has not granted permission. If the query is for a single value, ? is returned. If the query is for a sequence of data, an empty Array is returned.</p></article>