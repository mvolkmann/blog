<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Flutter</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#resources">Resources</a></li><li><a href="#comparison-to-react-native">Comparison to React Native</a></li><li><a href="#terminology">Terminology</a></li><li><a href="#setup-(macos-specific)">Setup (macOS-specific)</a></li><li><a href="#creating-and-running-an-app">Creating and Running an App</a></li><li><a href="#running-from-vs-code">Running From VS Code</a></li><li><a href="#android-default-package">Android Default Package</a></li><li><a href="#linting">Linting</a></li><li><a href="#code-formatting">Code Formatting</a></li><li><a href="#hot-reloading">Hot Reloading</a></li><li><a href="#debugging">Debugging</a></li><li><a href="#running-on-devices">Running on Devices</a></li><li><a href="#vs-code">VS Code</a><ol><li><a href="#dart-extension">Dart Extension</a></li><li><a href="#flutter-extension">Flutter Extension</a></li><li><a href="#awesome-flutter-snippets-extension">Awesome Flutter Snippets Extension</a></li><li><a href="#todo-tree-extension">Todo Tree Extension</a></li></ol></li><li><a href="#packages">Packages</a></li><li><a href="#basic-flutter-app-structure">Basic Flutter App Structure</a></li><li><a href="#platform-detection">Platform Detection</a></li><li><a href="#widgets">Widgets</a><ol><li><a href="#keys">Keys</a></li><li><a href="#child-widgets">Child Widgets</a></li><li><a href="#stateless-vs.-stateful-widgets">Stateless vs. Stateful Widgets</a><ol><li><a href="#stateless-widgets">Stateless Widgets</a></li><li><a href="#stateful-widgets">Stateful Widgets</a></li></ol></li><li><a href="#material-structure-widgets">Material Structure Widgets</a><ol><li><a href="#materialapp-widget">MaterialApp Widget</a></li><li><a href="#scaffold-widget">Scaffold Widget</a></li><li><a href="#appbar-widget">AppBar Widget</a></li></ol></li><li><a href="#cupertino-structure-widgets">Cupertino Structure Widgets</a></li><li><a href="#layout-widgets">Layout Widgets</a><ol><li><a href="#single-child-layout-widgets">Single-child Layout Widgets</a></li><li><a href="#multi-child-layout-widgets">Multi-child Layout Widgets</a></li></ol></li><li><a href="#spacer-widget">Spacer Widget</a></li><li><a href="#display-widgets">Display Widgets</a><ol><li><a href="#circleavatar-widget">CircleAvatar Widget</a></li><li><a href="#circularprogressindicator-and-linearprogressindicator">CircularProgressIndicator and LinearProgressIndicator</a></li><li><a href="#expandicon-and-animatedcontainer-widgets">ExpandIcon and AnimatedContainer Widgets</a></li><li><a href="#expansionpanellist-widget">ExpansionPanelList Widget</a></li><li><a href="#icon-widget">Icon Widget</a></li><li><a href="#image-widget">Image Widget</a></li><li><a href="#snackbar-widget">SnackBar Widget</a></li><li><a href="#text-widget">Text Widget</a></li><li><a href="#richtext-widget">RichText Widget</a></li><li><a href="#tooltip-widget">Tooltip Widget</a></li></ol></li><li><a href="#input-widgets">Input Widgets</a><ol><li><a href="#elevatedbutton-widget">ElevatedButton Widget</a></li><li><a href="#floatingactionbutton-widget">FloatingActionButton Widget</a></li><li><a href="#textfield-and-textformfield-widgets">TextField and TextFormField Widgets</a></li></ol></li><li><a href="#dialog-widgets">Dialog Widgets</a></li><li><a href="#bottom-sheets">Bottom Sheets</a></li><li><a href="#snackbars">SnackBars</a></li><li><a href="#cupertino-widgets">Cupertino Widgets</a><ol><li><a href="#cupertinodatepicker-widget">CupertinoDatePicker Widget</a></li><li><a href="#cupertinopicker-widget">CupertinoPicker Widget</a></li></ol></li></ol></li><li><a href="#swipe-to-delete">Swipe to Delete</a></li><li><a href="#model-view-controller">Model-View-Controller</a></li><li><a href="#responsive-uis">Responsive UIs</a></li><li><a href="#form-validation">Form Validation</a></li><li><a href="#state-management">State Management</a><ol><li><a href="#setstate-function">setState Function</a></li><li><a href="#callback-functions">Callback Functions</a></li><li><a href="#inheritedwidget">InheritedWidget</a></li><li><a href="#provider-package">provider Package</a></li><li><a href="#getx-framework">GetX Framework</a><ol><li><a href="#dependency-management">Dependency Management</a></li><li><a href="#state-management-1">State Management</a></li><li><a href="#route-management">Route Management</a></li><li><a href="#utilities">Utilities</a></li></ol></li><li><a href="#riverpod-package">Riverpod Package</a></li></ol></li><li><a href="#asynchronous-data">Asynchronous Data</a></li><li><a href="#persisting-state">Persisting State</a><ol><li><a href="#shared_preferences-package">shared_preferences Package</a></li><li><a href="#sqlite">SQLite</a></li></ol></li><li><a href="#navigation">Navigation</a><ol><li><a href="#navigator-class">Navigator Class</a></li><li><a href="#bottomnavigationbar-widget">BottomNavigationBar Widget</a></li><li><a href="#drawer-widget">Drawer Widget</a></li><li><a href="#pageview-widget">PageView Widget</a></li></ol></li><li><a href="#fonts">Fonts</a></li><li><a href="#styling">Styling</a></li><li><a href="#colors">Colors</a></li><li><a href="#themes">Themes</a></li><li><a href="#icons">Icons</a></li><li><a href="#images">Images</a></li><li><a href="#drawing">Drawing</a></li><li><a href="#animation">Animation</a><ol><li><a href="#implicit-animation">Implicit Animation</a></li><li><a href="#explicit-animation">Explicit Animation</a></li><li><a href="#animatedswitcher-widget">AnimatedSwitcher Widget</a></li><li><a href="#hero-widget">Hero Widget</a></li><li><a href="#custom-implicit-animation">Custom Implicit Animation</a></li><li><a href="#custom-explicit-animation">Custom Explicit Animation</a></li><li><a href="#animation-from-scratch">Animation From Scratch</a></li><li><a href="#animated-drawings">Animated Drawings</a></li><li><a href="#more-on-animation">More on Animation</a></li></ol></li><li><a href="#audio">Audio</a></li><li><a href="#camera-and-photo-plugins">Camera and Photo Plugins</a><ol><li><a href="#camera-plugin">camera Plugin</a></li><li><a href="#image_picker-plugin">image_picker Plugin</a></li></ol></li><li><a href="#geolocation">GeoLocation</a></li><li><a href="#google-maps">Google Maps</a></li><li><a href="#app-icons">App Icons</a></li><li><a href="#tests">Tests</a><ol><li><a href="#unit-tests">Unit Tests</a></li><li><a href="#widget-tests">Widget Tests</a></li><li><a href="#integration-tests">Integration Tests</a></li><li><a href="#mocking">Mocking</a></li><li><a href="#test-coverage">Test Coverage</a></li></ol></li><li><a href="#deploying-to-app-stores">Deploying to App Stores</a><ol><li><a href="#renaming">Renaming</a></li><li><a href="#google-play">Google Play</a></li><li><a href="#first-time-deployment">First-time Deployment</a></li><li><a href="#deploying-an-update">Deploying an Update</a></li><li><a href="#ios-app-store">iOS App Store</a></li></ol></li><li><a href="#in-app-purchases">In-App Purchases</a><ol><li><a href="#revenuecat">RevenueCat</a></li></ol></li><li><a href="#advice">Advice</a></li><li><a href="#annoyances">Annoyances</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><img alt="Flutter logo" style="width: 40%" src="/blog/assets/flutter-logo.svg?v=1.0.19" title="Flutter logo"></p><p><a href="https://flutter.dev?v=1.0.19" rel="noopener" target="_blank">Flutter</a> enables writing mobile, web, desktop, and embedded apps using the <a href="https://dart.dev?v=1.0.19" rel="noopener" target="_blank">Dart programming language</a>. For details on the Dart programming language, see this <a href="../dart/">page</a>.</p><p>Everything rendered by a Flutter app is rendered by a &quot;widget&quot;. There are many provided widgets and custom ones can be defined.</p><p>The Flutter framework is implemented in Dart, except for the <a href="https://skia.org?v=1.0.19" rel="noopener" target="_blank">Skia</a> 2D graphics library which is implemented in C++. Flutter is not the only user of Skia. From <a href="https://www.chromium.org/developers/design-documents/graphics-and-skia?v=1.0.19" rel="noopener" target="_blank">Graphics and Skia</a>, &quot;Chrome uses Skia for nearly all graphics operations, including text rendering.&quot; From <a href="https://en.wikipedia.org/wiki/Skia_Graphics_Engine?v=1.0.19" rel="noopener" target="_blank">Wikipedia</a>, &quot;the library (Skia) is used as of 2021 in Google Chrome, Chrome OS, Chromium OS, Mozilla Firefox, Mozilla Thunderbird, Android, Firefox OS, LibreOffice, Flutter and Avalonia.&quot;</p><p><a href="https://flutterflow.io?v=1.0.19" rel="noopener" target="_blank">FlutterFlow</a> is a relatively new, low-code tool for building Flutter applications.</p><h2 id="resources">Resources</h2><ul><li><a href="https://flutter.dev/?v=1.0.19" rel="noopener" target="_blank">Flutter home page</a></li><li><a href="https://flutter.dev/docs?v=1.0.19" rel="noopener" target="_blank">Flutter official documentation</a></li><li><a href="https://flutter.dev/docs/get-started/codelab?v=1.0.19" rel="noopener" target="_blank">Write your first Flutter app</a></li><li><a href="https://flutter.dev/docs/cookbook?v=1.0.19" rel="noopener" target="_blank">Cookbook: Useful Flutter samples</a></li></ul><h2 id="comparison-to-react-native">Comparison to React Native</h2><p>Of the mobile frameworks that target both Android and iOS, React Native and Flutter are the most popular. The table below compares these two options.</p><table><thead><tr><th>Topic</th><th>React Native</th><th>Flutter</th></tr></thead><tbody><tr><td>developed by</td><td>Facebook</td><td>Google</td></tr><tr><td>programming language</td><td>JavaScript/TypeScript</td><td>Dart</td></tr><tr><td>resulting app sizes</td><td>large</td><td>medium</td></tr><tr><td>hot reloading time</td><td>slow</td><td>fast</td></tr><tr><td>runtime performance</td><td>somewhat slow</td><td>faster</td></tr><tr><td>GitHub stars as of 12/23/21</td><td>100K</td><td>134K</td></tr><tr><td>version as of 12/23/21</td><td>0.66.4</td><td>2.8.1</td></tr></tbody></table><p>React Native is an attractive choice for development teams that already have experience in web technologies in general and React in particular. It is possible to share some code between React and React Native applications.</p><p>Flutter targets more than just Android and iOS. It also targets web apps and desktop apps running on Windows, macOS, and Linux.</p><p>Because everything rendered by Flutter is just drawn on a canvas, it can take advantage of device GPUs. This is one reason it has better performance than React Native.</p><p>Flutter uses <a href="https://skia.org?v=1.0.19" rel="noopener" target="_blank">Skia</a> to draw everything it renders. &quot;Skia is an open source 2D graphics library which provides common APIs that work across a variety of hardware and software platforms. It serves as the graphics engine for Google Chrome and Chrome OS, Android, Flutter, Mozilla Firefox and Firefox OS, and many other products.&quot; <a href="https://developer.android.com/jetpack/compose?v=1.0.19" rel="noopener" target="_blank">Jetpack Compose</a>, a Kotlin toolkit for building native Android applications, also uses Skia.</p><p>Companies using React Native include Airbnb, Baidui, Bloomberg, Discord, Facebook, Instagram, Oculus, Pinterest, Salesforce, Shopify, Skype, Tesla, Uber Eats, Walmart, and Wix.</p><p>Companies using Flutter include Alibaba, Amazon, Betterment, BMW, Etsy, Google Ads, Google Pay, Hamilton Musical, iRobot, New York Times, Phillips Hue, <a href="http://Realtor.com">Realtor.com</a>, Supabase, Tonal, and Toyota.</p><h2 id="terminology">Terminology</h2><p>The software used to test an app on a specific kind of device without using a real device goes by different names. For Android devices this is referred to as an &quot;emulator&quot;. For iOS devices this is referred to as a &quot;simulator&quot;. This document refers to both as a simulator.</p><h2 id="setup-(macos-specific)">Setup (macOS-specific)</h2><ul><li><p>Install the Flutter SDK.</p><ul><li>Update to the latest version of macOS.</li><li>Download an OS-specific version of Flutter from <a href="https://docs.flutter.dev/get-started/install?v=1.0.19" rel="noopener" target="_blank">here</a>.</li><li>Unzip the downloaded file.</li><li>Move the &quot;flutter&quot; directory your preferred directory.</li><li>Add the path to the <code>flutter/bin</code> directory to the <code>PATH</code> environment variable.</li><li>Later, to upgrade a project to the latest version, cd to the project and enter the following commands:<ul><li><code>flutter upgrade</code></li><li><code>flutter clean</code></li><li><code>flutter pub get</code></li><li><code>flutter pub upgrade</code></li></ul></li></ul></li><li><p>Install CocoaPods by entering <code>sudo gem install cocoapods</code>.</p></li><li><p>To enable testing on iOS:</p><ul><li>Install Xcode.</li></ul></li><li><p>To enable testing on Android:</p><ul><li><p>Warning: This seems complicated and error prone!</p></li><li><p>Install <a href="https://developer.android.com/studio?v=1.0.19" rel="noopener" target="_blank">Android Studio</a>, even when using a different editor such as VS Code.</p></li><li><p>Select Android Studio ... Preferences ... Appearance &amp; Behavior ... System Settings ... Android SDK ... SDK Tools.</p></li><li><p>Check &quot;Android SDK Command-line Tools (latest).</p></li><li><p>Press &quot;OK&quot;, &quot;OK&quot;, and &quot;Finish&quot;.</p></li><li><p>Enter <code>flutter doctor --android-licenses</code></p></li><li><p>Install the Android SDK using Homebrew.</p><ul><li><code>brew tap homebrew/cask</code></li><li><code>brew install --cask android-sdk</code></li></ul></li><li><p>Enter <code>sdkmanager --install &quot;cmdline-tools;latest&quot;</code></p></li></ul></li><li><p>Verify the installation by entering <code>flutter doctor</code>.</p><ul><li>Fix any issues identified using the commands recommended in the output.</li><li>Run <code>flutter doctor</code> again to verify that all the issues have been resolved.</li><li>If you get the error &quot;cmdline-tools component is missing&quot;, enter `sdkmanager --install &quot;cmdline-tools&quot; and then &quot;latest&quot;.</li><li>If this gives the error &quot;java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema&quot;, start &quot;Android Studio&quot;, select Tools ... SDK Manager, select Appearance &amp; Behavior ... System Settings ... Android SDK ... SDK Tools, check &quot;Android SDK Command-line tools (latest)&quot;, and click the Apply button. Then from a terminal enter <code>flutter doctor --android-licenses</code>. There is no need to run the <code>sdkmanager</code> command again.</li></ul></li><li><p>To start the iOS Simulator:</p><p>Enter <code>open -a simulator</code>. This works in Bash, zsh, and Fish, but not in Nushell.</p></li><li><p>To start the iOS Simulator from VS Code:</p><ul><li>Install the Flutter extension.</li><li>Select &quot;Start iOS Simulator&quot; from the device menu in the lower-right.</li></ul></li><li><p>To start an Android emulator from outside VS Code:</p><ul><li>Launch the Android Studio app.</li><li>Select Tools ... AVD Manager or More Actions ... AVD Manager</li><li>To create a new virtual device:<ul><li>Click the &quot;+ Create Virtual Device&quot; button at the bottom.</li><li>Select a device such as &quot;Pixel 5&quot; and click &quot;Next&quot;.</li><li>Select an Android version such as &quot;R&quot; and click &quot;Next&quot;.</li><li>Click &quot;Finish&quot;.</li></ul></li><li>To start an emulator, click a play button (green triangle) in the &quot;Actions&quot; column of one of the devices.</li></ul></li><li><p>To start an Android emulator from VS Code:</p><ul><li>Install AVDs in Android Studio.</li><li>Restart VS Code.</li><li>Install the &quot;Flutter&quot; extension.</li><li>Select &quot;Flutter: Launch Emulator&quot; from the Command Palette.</li><li>Select a device type.</li><li>If the device name in the lower-right reads &quot;Chrome (web javascript):&quot;, click it and then click &quot;Enable android for this project&quot;. Click the device name again and click &quot;Enable iOS for this project&quot;.</li></ul></li></ul><h2 id="creating-and-running-an-app">Creating and Running an App</h2><p>To create an app, enter <code>flutter create app_name</code>. Hyphens are not allowed in app names, but underscores are. This generates a basic counter app with a single page. To generate a starter app with navigation to multiple pages and a settings pages for selecting light/dark mode, enter <code>flutter create --template=skeleton app_name</code>.</p><p>To run an app, cd to the app directory and enter <code>flutter run</code>. If the iOS Simulator is running, the app will run there. If an Android emulator is running, the app will run there. Otherwise it will run in the Chrome web browser. This will take about 1.5 minutes to start the first time it is run and about 10 seconds after that. But typically the app will remain running and changes will be deployed with hot reload nearly instantly.</p><p>In the next section we will see how to run a Flutter app from inside VS Code.</p><p>The default app renders a header that displays an app title, some text, a number, and a button in the lower-right that increments the number.</p><p>The starting point of the app is the file <code>lib/main.dart</code>. This defines the <code>main</code> function that all Dart apps must have.</p><p>See the recommended linting configuration in the next section.</p><p>To avoid committing generated files to a Git repository, edit <code>.gitignore</code> file, replace the lines at the bottom that begin with <code>/android</code> with just <code>/android</code>, and add the line <code>/ios</code>.gitignore` file.</p><p>There are many things that can be deleted from the file <code>lib/main.dart</code> including:</p><ul><li>all the comments</li><li>the <code>_counter</code> property</li><li>the <code>_incrementCounter</code> method</li><li>the <code>floatingActionButton</code> argument to the <code>Scaffold</code> widget</li></ul><p>Other changes that should be made include:</p><ul><li>Change the <code>title</code> argument to the <code>MaterialApp</code> widget.</li><li>Change the <code>title</code> argument to the <code>MyHomePage</code> widget.</li><li>Replace the widgets in the <code>children</code> <code>List</code> passed to the <code>Column</code> widget.</li></ul><h2 id="running-from-vs-code">Running From VS Code</h2><p>To run a Flutter app from VS Code:</p><ul><li>Select a simulated or real device to use from a menu on the right side of the VS Code footer.</li><li>Select a <code>.dart</code> file such as <code>lib/main.dart</code>.</li><li>Select Run ... Start Debugging (F5) or Run ... Run Without Debugging (fn-ctrl-F5).</li></ul><p>The first time this is run for a given application it takes around a minute to start.</p><p>Sometimes it is necessary to change <code>build.gradle</code> files used for Android builds.</p><p>The Kotlin version can be changed by modifying the following in the file <code>android/build.gradle</code>:</p><pre class="language-text"><code class="language-text">buildscript {<br>    ext.kotlin_version = '1.6.0'<br>    ...<br>}</code></pre><p>The Flutter SDK version can be changed by modifing the following in the file <code>android/app/build.gradle</code>:</p><pre class="language-text"><code class="language-text">android {<br>   ...<br>    defaultConfig {<br>        ...<br>        minSdkVersion 21<br>        ...<br>    }<br>    ...<br>}</code></pre><p>Running a Flutter app from VS Code opens the following floating toolbar:</p><p><img alt="VS Code Flutter Toolbar" style="width: 80%" src="/blog/assets/flutter-vs-code-toolbar.png?v=1.0.19" title="VS Code Flutter Toolbar"></p><p>The orange lightning bolt does a hot reload of the app. The green circular arrow restarts the app. The red square stops the app. The blue magnifier glass opens the Widget Inspector which gives details about widget nesting, layout, and sizes.</p><h2 id="android-default-package">Android Default Package</h2><p>By default a new project uses the Java package <code>com.example</code>. To change this, follow these steps:</p><ul><li>Create the new package directory structure below the `android/app/src/main/kotlin directory.</li><li>Under this directory, move the file <code>com/example/MainActivity.kt</code> into the new package directory and modify its <code>package</code> statement to refer to the new package.</li><li>From the top project directory, enter <code>flutter clean</code> and <code>flutter run</code> to rebuild the project with the new package name.</li></ul><h2 id="linting">Linting</h2><p>Flutter apps provide default code linting. The rules can be configured in the provided file <code>analysis_options.yaml</code>. To disable the rule that complains about using the <code>print</code> function, uncomment the line that contains <code>avoid_print: false</code>. To enable the rule that complains about literal strings using double quotes instead of single, uncomment the line that contains <code>prefer_single_quotes: true</code>.</p><p>When creating instances of immutable classes, constructor calls that are only passed static arguments should be preceded by the <code>const</code> keyword. This enables sharing references to instances create with the same arguments which optimizes memory. These instances are created at compile-time. As nice as this sounds, the linter will complain constantly about missing or incorrectly applied <code>const</code> keywords. To avoid these and other warnings, the following rule configuration is recommended.</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">linter</span><span class="token punctuation">:</span><br>  <span class="token key atrule">rules</span><span class="token punctuation">:</span><br>    <span class="token key atrule">avoid_print</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br>    <span class="token key atrule">prefer_const_constructors</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br>    <span class="token key atrule">prefer_const_constructors_in_immutables</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br>    <span class="token key atrule">prefer_const_literals_to_create_immutables</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><br>    <span class="token key atrule">prefer_single_quotes</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre><h2 id="code-formatting">Code Formatting</h2><p>Formatting of Dart code is provided by <a href="https://dart.dev/tools/dart-format?v=1.0.19" rel="noopener" target="_blank">dart format</a>. To get the best formatting, include a comma after every function parameter, even the last one.</p><h2 id="hot-reloading">Hot Reloading</h2><p>Flutter has great hot reloading! This loads code changes and preserves state.</p><p>If the app is run from a terminal with <code>flutter run</code> then hot reloading will only occur if focus is moved to the terminal and the &quot;r&quot; key is pressed. To perform a &quot;hot restart&quot; which loads code changes, but resets state to initial values, press &quot;shift-r&quot;.</p><p>If the app is run from a compatible editor, the app will automatically update after saving code changes without losing state. Compatible editors include Android Studio, IntelliJ, VS Code, and emacs.</p><h2 id="debugging">Debugging</h2><p>When a Flutter app is run from a terminal, pressing &quot;p&quot; displays blue outlines of all widgets. This is useful to understand the position and size of each widget. Press &quot;p&quot; again to toggle this off.</p><h2 id="running-on-devices">Running on Devices</h2><p>To run a Flutter app on a connected iPhone:</p><ul><li><p>Attach the phone to the computer with a USB cable.</p></li><li><p>Unlock the phone and &quot;trust&quot; it.</p></li><li><p>From a terminal running bash, cd to the top project directory.</p></li><li><p>Enter <code>open ios/Runner.xcworkspace</code> to launch Xcode.</p></li><li><p>In Xcode</p><ul><li>To change the target version of iOS, select PROJECT ... Runner ... Basic and set &quot;iOS Deployment Target&quot; to the desired version</li><li>Select &quot;iPhone&quot; from the device drop-down in the header.</li><li>Click &quot;Runner&quot; at the top of the Navigator.</li><li>Click the &quot;Signing &amp; Capabilities&quot; tab.</li><li>Select your team from the Team drop-down. This can be your Apple ID. After entering this the first time, enter your Apple ID password.</li><li>Enter a unique &quot;Bundle Identifier&quot;, perhaps containing your email address, a hyphen, and the project name. Underscores are automatically changed to hyphens.</li><li>option #1<ul><li>In Xcode, press the run button (triangle) or cmd-r.</li><li>There will be several dialog prompts for your Mac password.</li></ul></li><li>option #2<ul><li>From a terminal, enter <code>flutter run</code>.</li><li>Select <code>iPhone</code> from the list of device options.</li><li>This gives the error &quot;Unable to find a destination matching the provided destination specifier&quot;.</li></ul></li></ul></li><li><p>In VS Code</p><ul><li>Select &quot;iPhone (ios)&quot; from the device drop-down in the footer.</li><li>Select Run ... Run Without Debugging (ctrl-fn-F5).</li><li>At &quot;Select Environment&quot; prompt, select &quot;Dart &amp; Flutter&quot;.</li><li>This gives the error &quot;Unable to find a destination matching the provided destination specifier&quot;.</li></ul></li></ul><p>Only Xcode option #1 has worked for me. All the options take a couple of minutes to complete the first time they are run for an app.</p><p>After the phone is ejected, the Flutter app will stop working on the device unless it is built in &quot;release&quot; mode. To do this in Xcode:</p><ul><li>Select Product ... Scheme ... Edit Scheme... which opens a dialog.</li><li>Click &quot;Run&quot; in the left nav (selected by default).</li><li>Select the &quot;Info&quot; tab (selected by default).</li><li>Change &quot;Build Configuration&quot; to &quot;Release&quot;.</li><li>Click the &quot;Close&quot; button.</li><li>Attach an iPhone to the computer with a USB cable.</li><li>Select &quot;iPhone&quot; from the device drop-down in the header.</li><li>Click the triangle run button.</li><li>Wait for the project to build and copy to the iPhone.</li></ul><p>To run a Flutter app on an iPhone wirelessly:</p><ul><li>The iPhone must be on the same WiFi network as the computer.</li><li>In Xcode, select Window ... Devices and Simulators.</li><li>In the dialog that is opened, select &quot;iPhone&quot; in the left nav. (I couldn't get my device to appear!)</li><li>Check the &quot;Connect via network&quot; checkbox.</li><li>In the Finder, eject the iPhone.</li><li>Disconnect the iPhone from the computer.</li><li>Run the Flutter app using one of the options above.</li></ul><h2 id="vs-code">VS Code</h2><p>VS Code has great support for Dart and Flutter, expecially when the extensions described below are installed.</p><h3 id="dart-extension">Dart Extension</h3><p>Install the <a href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.dart-code?v=1.0.19" rel="noopener" target="_blank">Dart extension</a>. This extension provides many things including:</p><ul><li>syntax highlighting</li><li>code completion</li><li>snippets</li><li>refactoring and code fixes (see lightbulb icon)</li><li>code formatting</li><li>support for <code>editor.formatOnSave</code> and <code>editor.formatOnType</code></li><li>automatic hot reloads for Flutter</li><li>switching between devices and simulators for Flutter</li><li>automatic package installation and upgrades when <code>pubspec.yaml</code> is modified</li><li>&quot;Dart: Sort Members&quot; command to sort methods (not properties) in a class</li><li>&quot;Organize Imports&quot; command to order import statements</li></ul><p>Consider adding the following in <code>settings.json</code>:</p><pre class="language-json"><code class="language-json">  <span class="token property">"[dart]"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"source.fixAll"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token property">"editor.selectionHighlight"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"editor.suggest.snippetsPreventQuickSuggestions"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"editor.suggestSelection"</span><span class="token operator">:</span> <span class="token string">"first"</span><span class="token punctuation">,</span><br>    <span class="token property">"editor.tabCompletion"</span><span class="token operator">:</span> <span class="token string">"onlySnippets"</span><span class="token punctuation">,</span><br>    <span class="token property">"editor.wordBasedSuggestions"</span><span class="token operator">:</span> <span class="token boolean">false</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h3 id="flutter-extension">Flutter Extension</h3><p>Install the <a href="https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter?v=1.0.19" rel="noopener" target="_blank">Flutter extension</a>. This uses the <a href="https://github.com/dart-lang/sdk/tree/master/pkg/analysis_server?v=1.0.19" rel="noopener" target="_blank">Dart Analysis Server</a>, as does Android Studio, to power many IDE operations. This extension provides many things including:</p><ul><li><p>great auto-complete support</p><p>Press ctrl-space when inside a function or method argument list to see a list of supported named arguments.</p></li><li><p>snippets</p><ul><li><code>stless</code> adds template code for creating a stateless widget</li><li><code>stful</code> adds template code for creating a stateful widget</li></ul><p>The code added by these requires importing a package that defines the <code>StatelessWidget</code> and <code>StatefulWidget</code> classes. These classes are described later. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span></code></pre></li><li><p>phantom comments</p><p>These appear after the last lines of multi-line widget constructor calls to make it easy to spot where they end. If you feel that these add too much visual clutter, disable them by adding the following line in <code>settings.json</code>:</p><pre class="language-json"><code class="language-json">  <span class="token property">"dart.closingLabels"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></code></pre></li><li><p>Flutter-specific context menus</p><p>Place the cursor on a widget and press cmd-period or click the lightbulb icon to open a context menu with the following options:</p><ul><li>Remove this widget (keeps <code>child</code> and <code>children</code> widgets)</li><li>Move widget down</li><li>Move widget up</li><li>Wrap with Builder</li><li>Wrap with Center</li><li>Wrap with Column</li><li>Wrap with Container</li><li>Wrap with Padding</li><li>Wrap with Row</li><li>Wrap with SizedBox</li><li>Wrap with StreamBuilder</li><li>Wrap with widget... (prompts for name)</li><li>Extract Method (replaces selected code with a call )</li><li>Extract Local Variable</li><li>Extract Widget</li><li>Convert to StatefulWidget (only when on line declaring a StatelessWidget)</li></ul><p>There is no option to convert a <code>StatefulWidget</code> to a <code>StatelessWidget</code> because that would require deleting code that the developer should approve.</p><p>The &quot;Extract&quot; commands are great for breaking up deeply nested widget trees!</p><p>The &quot;Extract Method&quot; command creates a new method containing the selected code and replaces it with a call to the method. The convention for extracted method names is to begin with &quot;_build&quot;.</p><p>The &quot;Extract Local Variable&quot; command creates a local variable that is initialized to the selected widget and replaces it with a reference to the variable.</p><p>The &quot;Extract Widget&quot; command creates a new <code>Widget</code> subclass whose <code>build</code> method includes the selected widget (only one) and replaces it with an instance of the new widget. The new class definition can be moved to a new source file so it can be reused from multiple source files.</p><p>Select multiple widgets and press cmd-period or click the lightbulb icon to open a context menu with the following options:</p><ul><li>Wrap with Column</li><li>Wrap with Row</li><li>Extract Local Variable</li></ul></li><li><p>Flutter-specific entries in the status bar that include:</p><ul><li>Flutter SDK version (ex Flutter 2.8.1)</li><li>device name being simulated (ex. iPhone 13 (ios simulator)) that can be clicked to select a different device</li></ul></li><li><p>Flutter-specific command palette commands that include:</p><ul><li><p>Change SDK</p></li><li><p>Clean Project</p></li><li><p>Focus on Outline View</p></li><li><p>Fix All</p><p>To configure VS Code to &quot;Fix All&quot; automatically on save, all the following to <code>settings.json</code>:</p><pre class="language-json"><code class="language-json"><span class="token property">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"source.fixAll"</span><span class="token operator">:</span> <span class="token boolean">true</span><br><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p>Get Packages</p></li><li><p>Hot Reload</p></li><li><p>Inspect Widget</p><p>After running this command, click a widget in the simulator. The widget will be highlighted in the simulator, its name will be displayed in a tooltip, and the corresponding code will be highlighted in VS Code. To turn this off, run the &quot;Flutter: Cancel Widget Inspection&quot; command.</p></li><li><p>Launch Emulator</p></li><li><p>List Outdated Packages</p></li><li><p>New Project</p></li><li><p>Open DevTools</p><p>This opens a drop-down for selecting the DevTools page to open. The options are &quot;Widget Inspector&quot;, &quot;CPU Profiler&quot;, &quot;Memory&quot;, &quot;Performance&quot;, &quot;Network&quot;, and &quot;Logging&quot;. There is also an option to &quot;Open DevTools in Web Browser&quot; inside of inside VS Code.</p></li><li><p>Open DevTools Performance Page</p></li><li><p>Open DevTools Widget Inspector</p><p>This is an incredibly useful debugging tool! It displays the widget tree on the left. Selecting a widget displays details about it on the right. The &quot;Layout Explorer&quot; tab displays layout details for the widget. The &quot;Details Tree&quot; tab displays the properties of the widget.</p></li><li><p>Open Observatory Timeline</p></li><li><p>Override Platform</p></li><li><p>Run Flutter Doctor</p></li><li><p>Run Flutter Upgrade</p></li><li><p>Save Screenshot</p></li><li><p>Select Device</p><p>This displays a list of device name that can be simulated. Select one to change the device type that will be used. This can start the iOS Simulator and Android Emulator, so it is not necessary to manually do this from outside of VS Code. But it is still necessary to select a specific device type and run the app.</p></li><li><p>Toggle Baseline Painting</p></li><li><p>Toggle Brightness</p><p>This toggles between light mode and dark mode. When using <code>MaterialApp</code> light mode is defined by the <code>theme</code> property, dark mode is defined by the <code>darkTheme</code> property. A good default for <code>darkTheme</code> is <code>ThemeData.dark()</code>. For example:</p><pre class="language-dart"><code class="language-dart">theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span>primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span><br>darkTheme<span class="token punctuation">:</span> ThemeData<span class="token punctuation">.</span><span class="token function">dark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token comment">// This selects light/dark mode based on user preference in their OS.</span><br>themeMode<span class="token punctuation">:</span> ThemeMode<span class="token punctuation">.</span>system<span class="token punctuation">,</span></code></pre></li><li><p>Toggle Debug Painting</p><p>This displays a light blue outline around each widget to aid in understanding the current widget layout.</p></li><li><p>Toggle Debug-Mode Banner</p><p>To hides/shows the red debug banner in the upper-right corner.</p></li><li><p>Toggle Performance Overlay</p></li><li><p>Toggle Repaint Rainbow</p><p>This draws a thick, colored outline on all widgets that were repainted due to the last user interaction. The colors rotate to indicate that a previously repainted widget was repainted yet again.</p></li><li><p>Toggle Slow Animations</p><p>This slows down animations to enable visual inspection.</p></li><li><p>Upgrade Packages</p></li><li><p>Upgrade Packages (--major-versions)</p></li></ul></li><li><p>Installs and updates dependencies</p><p>This happens automatically when changes to <code>pubspec.yaml</code> are saved. However, it will not recognize new classes and functions until &quot;Developer: Reload Window&quot; is selected from the Command Palette.</p><p>Alternatively, a package can be installed and added in <code>pubspec.yaml</code> by entering <code>flutter pub add {package-name}</code> in a terminal.</p></li></ul><p>To view the implementation code for Flutter classes, cmd-click a class name. For example, try this on <code>MaterialApp</code>. From this file, continue using cmd-click on other class names to see their code.</p><h3 id="awesome-flutter-snippets-extension">Awesome Flutter Snippets Extension</h3><p>It is recommended to install the <a href="https://marketplace.visualstudio.com/items?itemName=Nash.awesome-flutter-snippets?v=1.0.19" rel="noopener" target="_blank">Awesome Flutter Snippets</a> extension. This provides snippets for &quot;a collection of commonly used Flutter classes and methods.&quot; Highlights are described below:</p><table><thead><tr><th>Snippet</th><th>Description</th></tr></thead><tbody><tr><td><code>build</code></td><td><code>build</code> method</td></tr><tr><td><code>cupeapp</code></td><td>Cupertino app</td></tr><tr><td><code>dis</code></td><td><code>dispose</code> method</td></tr><tr><td><code>f-test</code></td><td><code>test</code> function</td></tr><tr><td><code>importC</code></td><td>import Cupertino package</td></tr><tr><td><code>importFT</code></td><td>import Flutter Test package</td></tr><tr><td><code>importM</code></td><td>import Material package</td></tr><tr><td><code>initS</code></td><td><code>initState</code> method</td></tr><tr><td><code>listViewB</code></td><td><code>ListView.builder</code> constructor call</td></tr><tr><td><code>listViewS</code></td><td><code>ListView.separated</code> constructor call</td></tr><tr><td><code>mateapp</code></td><td>Material app</td></tr><tr><td><code>statefulW</code></td><td>stateful widget classes</td></tr><tr><td><code>statelessW</code></td><td>stateless widget class</td></tr><tr><td><code>toStr</code></td><td><code>toString</code> method</td></tr><tr><td><code>tweenAnimationBuilder</code></td><td><code>TweenAnimationBuilder</code> constructor call</td></tr><tr><td><code>widgetTest</code></td><td><code>testWidgets</code> function</td></tr></tbody></table><h3 id="todo-tree-extension">Todo Tree Extension</h3><p>It is recommended to install the <a href="https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree?v=1.0.19" rel="noopener" target="_blank">Todo Tree</a> extension. This extension adds a tree icon to the activity bar. When clicked, it displays a directory tree in the navigator area that shows files and lines within them that have comments that contain &quot;TODO&quot;, &quot;FIXME&quot; (or alternatives &quot;FIXIT&quot; and &quot;FIX&quot;), or &quot;BUG&quot;. Clicking an identified line opens the file and positions the cursor on the line.</p><h2 id="packages">Packages</h2><p>The official package registry for Flutter is <a href="https://pub.dev?v=1.0.19" rel="noopener" target="_blank">pub.dev</a>. It hosts a large number of packages and plugins. The distinction between these is that plugins provide integration with platform features such as cameras. Sometimes packages are also referred to as libraries.</p><p>To find packages, search for them by name or browse the categorized lists of &quot;Flutter Favorites&quot;, &quot;Most popular packages&quot;, &quot;Top Flutter packages&quot;, &quot;Top Dart packages&quot;, and &quot;Package of the Week&quot;.</p><p>Some popular packages from pub.dev are described on my <a href="/blog/topics/#/blog/dart?v=1.0.19" rel="noopener" target="_blank">Dart</a> page.</p><p>To install a package in a Flutter project, enter <code>flutter pub add {package-name}</code>. This downloads the code to the <code>~/.pub-cache/hosted</code> directory which contains subdirectories like <code>pub.dartlang.org</code>. This allows the downloaded code to be shared It also updates the dependency list in the <code>pubspec.yaml</code> file, which is the Flutter equivalent of a Node.js <code>package.json</code> file.</p><p>To upgrade the versions of all installed packages, enter <code>flutter pub upgrade</code>. To upgrade the version of a specific installed packages, enter <code>flutter pub upgrade {package-name}</code>.</p><p>To remove an installed package, enter <code>flutter pub remove {package-name}</code>.</p><p>Dependencies can also be specified by manually editing the <code>pubspec.yaml</code> file. IDEs generally recognize the changes and automatically install the new dependencies for you. When using an editor that doesn't do this, enter <code>flutter pub get</code> to download and install them.</p><p>In each of the commands in this section, the <code>flutter</code> command can be replaced by the <code>dart</code> command.</p><h2 id="basic-flutter-app-structure">Basic Flutter App Structure</h2><p>Here is an example of the structure of a basic Flutter app that uses Material Design.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// This import is required to use the provided Material Design widgets.</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This defines the starting point of all Dart apps.</span><br><span class="token comment">// The object passed to the runApp function must be an instance</span><br><span class="token comment">// of a class that extends StatelessWidget or StatefulWidget.</span><br><span class="token comment">// When creating instances of immutable classes,</span><br><span class="token comment">// constructor calls should be preceded by "const".</span><br><span class="token comment">// This enables sharing references to instances create with</span><br><span class="token comment">// the same arguments which optimizes memory.</span><br><span class="token comment">// These instances are created at compile-time.</span><br><span class="token comment">// All fields of immutable classes must be</span><br><span class="token comment">// declared with the "final" keyword.</span><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// There is no need to create the MyApp class below.</span><br><span class="token comment">// Instead, the MaterialApp widget it creates</span><br><span class="token comment">// can be passed directly to the runApp function.</span><br><br><span class="token comment">// This class is also used by tests.</span><br><span class="token comment">// See the supplied test/widget_test.dart file.</span><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token comment">// All widget constructors take an optional parameter of type "Key".</span><br>  <span class="token comment">// Usually this argument is not needed.  Keys are discussed later.</span><br>  <span class="token comment">// Widget constructors can also have additional parameters.</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// Widget build methods describe what a widget renders.</span><br>  <span class="token comment">// In stateless widgets it is only called once (true?).</span><br>  <span class="token comment">// In stateful widgets it is called initially</span><br>  <span class="token comment">// and again every time the state changes.</span><br>  <span class="token comment">// Typically the topmost widget build method returns</span><br>  <span class="token comment">// an instance of MaterialApp which follows Material Design.</span><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      <span class="token comment">// This is a one-line description used by devices</span><br>      <span class="token comment">// to identify the app for users.</span><br>      <span class="token comment">// On Android titles appear above task manager app snapshots</span><br>      <span class="token comment">// displayed when users press the "recent apps" button.</span><br>      <span class="token comment">// On iOS this value is not used.</span><br>      title<span class="token punctuation">:</span> <span class="token string">'My Title'</span><span class="token punctuation">,</span><br>      <span class="token comment">// primarySwatch is a MaterialColor object that specifies</span><br>      <span class="token comment">// many shades of colors to be used throughout the app.</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span>primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// starting page</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// The Scaffold widget provides a basic UI structure</span><br>    <span class="token comment">// that is common to many mobile apps.</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      <span class="token comment">// The AppBar constructor accepts many more arguments</span><br>      <span class="token comment">// that are described later.</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'My App'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The styling defined by the <code>ThemeData</code> object that is passed to the <code>MaterialApp</code> constructor can affect all other widgets in the app. The ThemeData constructor takes a large number of arguments. For details, see <a href="https://api.flutter.dev/flutter/material/ThemeData/ThemeData.html?v=1.0.19" rel="noopener" target="_blank">ThemeData constructor</a>.</p><p>To avoid drawing in unsafe areas such as those that contain notches, wrap the <code>Scaffold</code> widget in a <code>SafeArea</code> widget. However, this looks worse because the areas to the left and right of the notch will just be black and empty.</p><p>Here is an example of the structure of a basic Flutter app that uses Cupertino theming.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/cupertino.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'MyApp.build entered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token function">CupertinoApp</span><span class="token punctuation">(</span><br>      <span class="token comment">// This is needed to enable using some</span><br>      <span class="token comment">// Material widgets inside a Cupertion app.</span><br>      <span class="token comment">// Also wrap those widgets in a Material widget.</span><br>      localizationsDelegates<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token operator">&lt;</span>LocalizationsDelegate<span class="token operator">&lt;</span><span class="token keyword">dynamic</span><span class="token operator">>></span><span class="token punctuation">[</span><br>        DefaultMaterialLocalizations<span class="token punctuation">.</span>delegate<span class="token punctuation">,</span><br>        DefaultWidgetsLocalizations<span class="token punctuation">.</span>delegate<span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span><br>        <span class="token function">CupertinoThemeData</span><span class="token punctuation">(</span>barBackgroundColor<span class="token punctuation">:</span> CupertinoColors<span class="token punctuation">.</span>activeBlue<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token function">CupertinoPageScaffold</span><span class="token punctuation">(</span><br>      navigationBar<span class="token punctuation">:</span> <span class="token function">CupertinoNavigationBar</span><span class="token punctuation">(</span><br>        middle<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'My App'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="platform-detection">Platform Detection</h2><p>An app can detect the current platform and use that information to render different widgets or implement different logic.</p><p>To get the platform, get a <code>ThemeData</code> object from <code>Theme.of(context)</code>. That has a <code>platform</code> property which holds a <code>TargetPlatform</code> enum value. Possible values include <code>android</code>, <code>fuchsia</code>, <code>iOS</code>, <code>Linux</code>, <code>macOS</code>, and <code>windows</code>. <a href="https://fuchsia.dev?v=1.0.19" rel="noopener" target="_blank">Fuchsia</a> is an experimental operating system being developed by Google.</p><p>For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> platform <span class="token operator">=</span> Theme<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>platform<span class="token punctuation">;</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>platform <span class="token operator">==</span> TargetPlatform<span class="token punctuation">.</span>iOS<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'detected iOS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Dart applications can get the platform using <code>import 'dart.io' show Platform;</code>, but this cannot be used in Flutter apps.</p><h2 id="widgets">Widgets</h2><p>All the predefined widgets are documented in the <a href="https://docs.flutter.dev/development/ui/widgets?v=1.0.19" rel="noopener" target="_blank">Widget Catalog</a>.</p><p>Flutter provides two sets of themed widgets, one for Material Design and one for iOS theming (referred to as &quot;Cupertino&quot;). The Cupertino widgets are described later.</p><p>Material widgets can be used on any platform, not just Android. Some Material widgets are platform-ware meaning that they are styled different on iOS versus Android. However, some have Material look and feel on all devices, including iOS.</p><p>Material widgets are documented at <a href="https://docs.flutter.dev/development/ui/widgets/material?v=1.0.19" rel="noopener" target="_blank">Material Component widgets</a>.</p><p>To use Material widgets in a Dart source file, add the following import:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span></code></pre><p>Cupertino widgets can also be used on all platforms. However, due to licensing restrictions it won't use the correct fonts on Android.</p><p>To use Cupertino widgets in a Dart source file, add the following import:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/cupertino.dart'</span><span class="token punctuation">;</span></code></pre><p>All widgets have a <code>build</code> method that is passed a <a href="https://api.flutter.dev/flutter/widgets/BuildContext-class.html?v=1.0.19" rel="noopener" target="_blank">BuildContext</a> object. This provides &quot;a handle to the location of a widget in the widget tree.&quot; It can be used to traverse up and down the widget tree. Supposedly one use is for finding ancestor styles so they can be applied to the current widget, but it's not apparent how this can be done.</p><p>To run code after the <code>build</code> method of a widget has been called the first time, pass a function to <code>WidgetsBinding.instance?.addPostFrameCallback</code>. Often this is done in the <code>initState</code> method of the <code>State</code> class for a <code>StatefulWidget</code>.</p><h3 id="keys">Keys</h3><p>All widget constructors must take an optional parameter named &quot;key&quot; that has the type &quot;Key&quot;. Typically it is only necessary to specify keys when there is a possiblity that multiple sibling widget instances of the same type will be added, removed, or reordered in the widget tree. This can only occur in a <code>StatefulWidget</code>.</p><p>Flutter keys have several uses:</p><ul><li>preserve state when widgets are added, removed, or reordered</li><li>preserve scroll location</li></ul><p>Flutter provides two kinds of keys, <code>LocalKey</code> and <code>GlobalKey</code>. Local keys are only guaranteed to be unique within their parent widget. Global keys are guaranteed to be unique across the entire app. They are useful when the parent of widgets might change, ensuring that their key will remain unique amoung new sibling widgets. Global keys are also useful to render the same widget on multiple pages of an app.</p><p>The <code>LocalKey</code> and <code>GlobalKey</code> classes serve as a superclass to the key classes described in the following table:</p><table><thead><tr><th>Key Superclass</th><th>Key Class</th><th>Description</th></tr></thead><tbody><tr><td><code>LocalKey</code></td><td><code>UniqueKey</code></td><td>automatically creates a unique key with no constructor argument</td></tr><tr><td><code>LocalKey</code></td><td><code>ValueKey</code></td><td>uniqueness is based on a value passed to the constructor</td></tr><tr><td><code>LocalKey</code></td><td><code>ObjectKey</code></td><td>uniqueness is based on the identity of an object passed to the constructor</td></tr><tr><td><code>GlobalKey</code></td><td><code>LabeledGlobalKey</code></td><td>constructor takes a <code>String</code> useful for debugging, but not used for key identity</td></tr><tr><td><code>GlobalKey</code></td><td><code>GlobalObjectKey</code></td><td>uniqueness is based on the identity of an object passed to the constructor</td></tr></tbody></table><p>Use &quot;value&quot; keys when widgets can be uniquely identified by a single value. For example, widgets that render information about people might be uniquely identified by their mobile phone number.</p><p>Use &quot;object&quot; keys when widgets can be only be uniquely identified by a the collection of values in objects. For example, widgets that render information about dogs might only be uniquely identified by the combination of their name, breed, and owner.</p><p>Use <code>UniqueKey</code> to guarantee that all widgets are distinct from all others regardless of their associate data or position within the widget tree.</p><h3 id="child-widgets">Child Widgets</h3><p>Widgets that accept other widgets as arguments typically have a parameter named <code>child</code> with the type <code>Widget</code> for one or <code>children</code> with a type of <code>List&lt;Widget&gt;</code> for multiple. One possible reason that the type of <code>children</code> is not <code>Iterable&lt;Widget&gt;</code> is that it would enable lazy instantiation which might make it difficult to maintain 60 FPS refresh rates.</p><p>The <code>List</code> value of a <code>children</code> argument can use the <code>if</code> and <code>for</code> keywords. The <code>if</code> keyword is used to conditionally add a child widget. The <code>for</code> keyword is used to add multiple child widgets, one for each element in an <code>Iterable</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Column</span><span class="token punctuation">(</span><br>  children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Always present'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><br>    <span class="token comment">// The if condition must be followed by a single widget.</span><br>    <span class="token comment">// Curly braces are not allowed.</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">></span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Good job!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><br>    <span class="token comment">// The for loop must be followed by a single widget.</span><br>    <span class="token comment">// Curly braces are not allowed.</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> student <span class="token keyword">in</span> students<span class="token punctuation">)</span> <span class="token function">Text</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p>Some widgets take a single widget in a <code>child</code> parameter and apply styling. The Flutter documentation refers to these as &quot;single-child layout widgets&quot;. Examples include <code>Center</code>, <code>Container</code>, <code>Expanded</code>, <code>Flexible</code>, <code>Padding</code>, and <code>SizedBox</code>.</p><p>Other widgets take multiple widgets in a <code>children</code> parameter and lay them out in a specific way. The Flutter documentation refers to these as &quot;multi-child layout widgets&quot;. Examples include <code>Column</code>, <code>GridView</code>, <code>ListView</code>, <code>Row</code>, <code>Stack</code>, <code>Table</code>, and <code>Wrap</code>.</p><p>The <code>List.generate</code> static method can be used to generate a <code>List</code> of widgets based on an index. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> List<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'${index + 1}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h3 id="stateless-vs.-stateful-widgets">Stateless vs. Stateful Widgets</h3><p>Every widget is either stateless or stateful.</p><p>Flutter-compatible editors provide snippets for defining new widgets that dramatically reduce the amount of code that must be typed. In a VS Code editor, enter &quot;st&quot; and select &quot;Flutter stateful widget&quot; or &quot;Flutter stateful widget&quot;.</p><p>In both cases the <code>build</code> method returns a single widget, but that widget typically has additional child widgets. This can return an empty <code>Container()</code> to render nothing.</p><h4 id="stateless-widgets">Stateless Widgets</h4><p>Stateless widgets are defined by a class that extends <code>StatelessWidget</code>, defines a constructor, and overrides the <code>build</code> method. All properties in a <code>StatelessWidget</code> must be declared <code>final</code> which makes them immutable. Stateless widgets render one time based parameters passed to them.</p><p>New stateless widgets begin with the following code which defines a single class:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">SomeName</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">SomeName</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of a stateless widget that renders a greeting for a given name.</p><p><img alt="Flutter Greet" style="width: 60%" src="/blog/assets/flutter-greet.png?v=1.0.19" title="Flutter Greet"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Greet</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String name<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">Greet</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><br>        <span class="token string">'Hello, $name!'</span><span class="token punctuation">,</span><br>        style<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span><br>          color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span><br>          fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> Border<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>orange<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      padding<span class="token punctuation">:</span> <span class="token keyword">const</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h4 id="stateful-widgets">Stateful Widgets</h4><p>Stateful widgets render initially and again each time their state changes.</p><p>Stateful widgets are defined by <a href="https://flutteragency.com/stateful-widgets-defined-as-two-classes/?v=1.0.19" rel="noopener" target="_blank">two classes</a>.</p><p>The first class extends <code>StatefulWidget</code>, defines final properties, defines a constructor, and overrides the <code>createState</code> method to create an instance of the second class. This class is immutable because all Flutter widgets must be immutable. This helps Flutter performance when rebuilding the UI.</p><p>The second class extends <code>State</code>, defines state properties, and overrides the <code>build</code> method. It can be defined in the same source file as the first. Storing the state in a separate class allows the widget class to remain immutable.</p><p>By convention the state classes are private, indicated by having a name that begins with an underscore. When a class is private, there isn't a good reason the makes its properties private, so the property names do not need to begin with an underscore.</p><p>State instances hold a reference to their associated <code>StatefulWidget</code> instance in the property <code>widget</code>. This allows them to access properties in the widget instance.</p><p>There is an <a href="https://github.com/dart-lang/language/issues/329?v=1.0.19" rel="noopener" target="_blank">on-going discussion</a> about whether it would be possible to define stateful widgets in another way that doesn't require defining two classes.</p><p>New stateful widgets begin with the following code which defines a pair of related classes:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">SomeName</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> SomeName <span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _SomeNameState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_SomeNameState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_SomeNameState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>SomeName<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of a stateful widget that maintains a count and provides buttons for incrementing and decrementing a count. The <code>setState</code> method defined by the <code>State</code> class is similar to the <code>setState</code> function in React. This is described in more detail later in the &quot;Managing State&quot; section.</p><p><img alt="Flutter Counter" style="width: 60%" src="/blog/assets/Flutter-Counter.png?v=1.0.19" title="Flutter Counter"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> int initialValue<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _CounterState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_CounterState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_CounterState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Counter<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> textStyle <span class="token operator">=</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// call at beginning of initState</span><br>    <span class="token comment">// Note the use of "widget." to refer to</span><br>    <span class="token comment">// properties in the associated stateful widget.</span><br>    count <span class="token operator">=</span> widget<span class="token punctuation">.</span>initialValue<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>      <span class="token function">TextButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> textStyle<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">// The button is disabled when onPressed is null.</span><br>        onPressed<span class="token punctuation">:</span> count <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> count <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$count'</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> textStyle<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">TextButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'+'</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> textStyle<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> count <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Reset'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Lifecycle methods inherited from the <code>State</code> class that can be overridden, listed in the order in which they are called, are described in the following table:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>initState</code></td><td>performs one-time initialization of non-final properties that depends on the context or the widget</td></tr><tr><td><code>didChangeDependencies</code></td><td>performs initialization involving inherited widgets which are widgets that &quot;propagate information down the tree&quot;</td></tr><tr><td><code>build</code></td><td>builds the UI for this widget; only method that MUST be overridden</td></tr><tr><td><code>didUpdateWidget</code></td><td>called after every call to <code>build</code>; rarely overridden</td></tr><tr><td><code>reassemble</code></td><td>called in development when a hot reload occurs</td></tr><tr><td><code>deactivate</code></td><td>called when a widget subtree containing this <code>State</code> object is removed; rarely overridden</td></tr><tr><td><code>dispose</code></td><td>called after <code>deactivate</code> unless the widget subtree is reinserted</td></tr></tbody></table><p>The <code>initState</code> method should begin with <code>super.initState();</code>.</p><p>The <code>dispose</code> method should end with <code>super.dispose();</code>. It is frequently used to call the <code>dispose</code> method on controller objects such as <code>TextEditingController</code>.</p><h3 id="material-structure-widgets">Material Structure Widgets</h3><p>Every Flutter app needs to begin by rendering an &quot;app&quot; widget. Two common choices are <code>MaterialApp</code> and <code>CupertinoApp</code>. The app widget provides a place to store app-wide information such as behavior flags, theming data, route data, the home widget, and more. The app widget doesn't render anything and instead delegates that resposibility to its home widget which typically renders a scaffold.</p><p>A scaffold provides UI structure by defining a place to render widgets like the following:</p><ul><li>app bar: typically contains a title and buttons</li><li>bottom navigation bar: contains buttons for navigating between pages</li><li>bottom sheet: slides up from the bottom; similar to a dialog</li><li>drawer: typically slides in from the left</li><li>floating action button: for primary action</li><li>body: the main widget</li></ul><p>It is common for Flutter apps to have the following top-level structure:</p><ul><li><code>MaterialApp</code><ul><li><code>Scaffold</code><ul><li><code>AppBar</code><ul><li>toolbar row (logical grouping)<ul><li><code>leading</code> <code>Widget</code></li><li><code>title</code> <code>Widget</code></li><li><code>actions</code> <code>List&lt;Widget&gt;</code></li></ul></li><li><code>flexible</code> <code>Widget</code></li><li><code>bottom</code> <code>Widget</code> (often contains a <code>TabBar</code>)</li><li><code>BottomAppBar</code> (alternative to <code>TabBar</code> inside <code>AppBar</code>)</li></ul></li><li><code>drawer</code> <code>Widget</code> (typically is a <code>SizedBox</code> containing a <code>Drawer</code>)</li></ul></li></ul></li></ul><p>The most commonly used application structure widgets are described below:</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/material/AppBar-class.html?v=1.0.19" rel="noopener" target="_blank">AppBar</a></td><td>appears at top of app; can contain &quot;leading&quot;, &quot;title&quot;, &quot;actions&quot; and a <code>TabBar</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/BottomAppBar-class.html?v=1.0.19" rel="noopener" target="_blank">BottomAppBar</a></td><td>appears at bottom of app; contains buttons used to switch between top-level views</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/BottomNavigationBar-class.html?v=1.0.19" rel="noopener" target="_blank">BottomNavigationBar</a></td><td>row of tappable icons and labels typically used to navigate to a page; styled for Material 2</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Drawer-class.html?v=1.0.19" rel="noopener" target="_blank">Drawer</a></td><td>panel that slides in from left (by default) and can contain navigation links</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/MaterialApp-class.html?v=1.0.19" rel="noopener" target="_blank">MaterialApp</a></td><td>topmost widget; &quot;wraps a number of widgets that are commonly required for material design applications&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/NavigationBar-class.html?v=1.0.19" rel="noopener" target="_blank">NavigationBar</a></td><td>similar to <code>BottomNavigationBar</code>, but styled for Material 3; still renders at bottom</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Scaffold-class.html?v=1.0.19" rel="noopener" target="_blank">Scaffold</a></td><td>provides app structure; can show <code>Drawer</code>, <code>SnackBar</code>, and bottom sheets (like modals)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TabBar-class.html?v=1.0.19" rel="noopener" target="_blank">TabBar</a></td><td>horizontal row of tabs</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TabBarView-class.html?v=1.0.19" rel="noopener" target="_blank">TabBarView</a></td><td>a page that corresponds to a <code>TabBar</code> tab</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TabPageSelector-class.html?v=1.0.19" rel="noopener" target="_blank">TabPageSelector</a></td><td>renders dots that indicate current carousel item; cannot click to switch</td></tr></tbody></table><p>See examples of using <code>ButtomNavigationBar</code> and <code>NavigationBar</code> in the &quot;Navigation&quot; section below.</p><h4 id="materialapp-widget">MaterialApp Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/MaterialApp-class.html?v=1.0.19" rel="noopener" target="_blank">MaterialApp</a> widget is topmost widget of applications that use Material Design.</p><p>The <code>MaterialApp</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>darkTheme</code></td><td><code>ThemeData</code> to use when running in dark mode</td></tr><tr><td><code>debugShowCheckedModeBanner</code></td><td><code>bool</code> that determines if a diagonal DEBUG banner should be displayed in the upper-right corner when running in debug mode (<code>true</code> by default)</td></tr><tr><td><code>home</code></td><td><code>Widget</code> to render for the default route ('/')</td></tr><tr><td><code>initialRoute</code></td><td><code>String</code> name of first route to render when using <code>Navigator</code></td></tr><tr><td><code>routes</code></td><td><code>Map</code> of route names to <code>WidgetBuilder</code> instances</td></tr><tr><td><code>theme</code></td><td><code>ThemeData</code> to use when running in light mode</td></tr><tr><td><code>title</code></td><td>single-line <code>String</code> that describes the app; only rendered in Android task manager</td></tr></tbody></table><p>The most common properties to set in <a href="https://api.flutter.dev/flutter/material/ThemeData-class.html?v=1.0.19" rel="noopener" target="_blank">ThemeData</a> property are <code>primarySwatch</code> and <code>textTheme</code>. <code>primarySwatch</code> is a <code>MaterialColor</code> object that specifies many shades of colors to be used throughout the app.</p><p>To set the default color of icons, set the <code>iconTheme</code> property of the <code>ThemeData</code> object used for the <code>theme</code> property to an object like <code>IconThemeData(color: Colors.orange)</code>. This does not affect the color of <code>IconButton</code> widgets.</p><p>For example:</p><pre class="language-dart"><code class="language-dart">theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>  primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>  textTheme<span class="token punctuation">:</span> <span class="token function">TextTheme</span><span class="token punctuation">(</span><br>    <span class="token comment">// Material default text style</span><br>    bodyText2<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>purple<span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h4 id="scaffold-widget">Scaffold Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/Scaffold-class.html?v=1.0.19" rel="noopener" target="_blank">Scaffold</a> widget &quot;implements the basic material design layout structure.&quot; The <code>MaterialApp</code> constructor <code>home</code> argument is typically set to a custom widget whose <code>build</code> method returns an instance of the <code>Scaffold</code> class. It is common for each &quot;page&quot; of an app to have its own <code>Scaffold</code> so it can customize the <code>AppBar</code>.</p><p>The <code>Scaffold</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>appBar</code></td><td><code>AppBar</code> to display at the top</td></tr><tr><td><code>backgroundColor</code></td><td><code>Color</code> for background</td></tr><tr><td><code>body</code></td><td><code>Widget</code> that provides the primary content</td></tr><tr><td><code>bottomNavigationBar</code></td><td><code>Widget</code> to display at the bottom; typically an instance of <code>BottomNavigationBar</code></td></tr><tr><td><code>drawer</code></td><td><code>Widget</code> to slide in (usually from left) when hamburger icon is tapped; typically a <code>SizedBox</code> containing a <code>Drawer</code></td></tr><tr><td><code>floatingActionButton</code></td><td><code>Widget</code> (usually a <code>FloatingActionButton</code> to display over other content in lower-right</td></tr></tbody></table><p>When the <code>drawer</code> argument is provided, a hamburger menu icon is provided on the left side of the <code>AppBar</code>.</p><h4 id="appbar-widget">AppBar Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/AppBar-class.html?v=1.0.19" rel="noopener" target="_blank">AppBar</a> widget holds several other widgets referred to as <code>leading</code>, <code>title</code>, <code>actions</code>, <code>flexibleSpace</code>, and <code>bottom</code>. See the diagram in the <a href="https://api.flutter.dev/flutter/material/AppBar-class.html?v=1.0.19" rel="noopener" target="_blank">official documntation</a>. The first row is referred to as the &quot;toolbar&quot; in documentation and includes the <code>leading</code>, <code>title</code>, and <code>actions</code> widgets.</p><p>The <code>AppBar</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>actions</code></td><td><code>List&lt;Widget&gt;</code> displayed on right side of top row</td></tr><tr><td><code>backgroundColor</code></td><td><code>Color</code> of background</td></tr><tr><td><code>bottom</code></td><td><code>PreferredSizeWidget</code> displayed on bottom row (ex. <code>TabBar</code>)</td></tr><tr><td><code>centerTitle</code></td><td><code>bool</code> defaults to <code>false</code>, but typically want <code>true</code></td></tr><tr><td><code>elevation</code></td><td><code>double</code> defaults 4; set to 0 remove remove bottom shadow</td></tr><tr><td><code>flexibleSpace</code></td><td><code>Widget</code> stacked behind the toolbar and the bottom widget</td></tr><tr><td><code>foregroundColor</code></td><td><code>Color</code> of foreground</td></tr><tr><td><code>leading</code></td><td><code>Widget</code> displayed on left side of top row</td></tr><tr><td><code>leadingWidth</code></td><td><code>double</code> width of <code>leading</code> <code>Widget</code></td></tr><tr><td><code>title</code></td><td><code>Widget</code> displayed in center of top row</td></tr><tr><td><code>titleSpacing</code></td><td><code>double</code> space on left and right side of <code>title</code> <code>Widget</code></td></tr><tr><td><code>titleTextStyle</code></td><td><code>TextStyle</code> of <code>title</code> <code>Widget</code></td></tr><tr><td><code>toolbarHeight</code></td><td><code>double</code> height of the toolbar (first row)</td></tr><tr><td><code>toolbarTextStyle</code></td><td><code>TextStyle</code> of the toolbar widgets</td></tr></tbody></table><p>The <code>bottom</code> parameter is typically used for page navigation buttons to be displayed near the top of the UI as an alternative to the <code>Scaffold</code> <code>botttomNavigationBar</code>.</p><p>See the sample app in the GitHub repo <a href="https://github.com/mvolkmann/flutter_appbar?v=1.0.19" rel="noopener" target="_blank">flutter_appbar</a>.</p><h3 id="cupertino-structure-widgets">Cupertino Structure Widgets</h3><p>The <a href="https://api.flutter.dev/flutter/cupertino/cupertino-library.html?v=1.0.19" rel="noopener" target="_blank">cupertino library</a> defines widgets that implement iOS theming.</p><p>The <a href="https://api.flutter.dev/flutter/cupertino/CupertinoApp-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoApp</a> widget is topmost widget in Cupertino apps.</p><p>The <code>CupertinoApp</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>color</code></td><td>primary <code>Color</code></td></tr><tr><td><code>home</code></td><td><code>Widget</code> to render for the default route ('/')</td></tr><tr><td><code>initialRoute</code></td><td><code>String</code> name of first route to render when using <code>Navigator</code></td></tr><tr><td><code>routes</code></td><td><code>Map</code> of route names to <code>WidgetBuilder</code> instances</td></tr><tr><td><code>theme</code></td><td><code>CupertinoThemeData</code> for global styling</td></tr><tr><td><code>title</code></td><td>single-line <code>String</code> that describes the app; only rendered in Android task manager</td></tr></tbody></table><p>The <code>home</code> <code>Widget</code> is typically either a <a href="https://api.flutter.dev/flutter/cupertino/CupertinoPageScaffold-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPageScaffold</a> or a <a href="https://api.flutter.dev/flutter/cupertino/CupertinoTabScaffold-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTabScaffold</a>. It is common to use a <code>CupertionPageScaffold</code> inside a <code>CupertinoTabScaffold</code>.</p><p>The <code>CupertinoPageScaffold</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>backgroundColor</code></td><td><code>Color</code> for background</td></tr><tr><td><code>child</code></td><td><code>Widget</code> that provides the primary content</td></tr><tr><td><code>navigationBar</code></td><td><code>Widget</code> to display at the bottom; typically an instance of <code>CupertinoNavigationBar</code></td></tr></tbody></table><p>The <code>CupertinoTabScaffold</code> constructor takes the following named parameters and more:</p><table><thead><tr><th>Parameter Name</th><th>Description</th></tr></thead><tbody><tr><td><code>backgroundColor</code></td><td><code>Color</code> for background</td></tr><tr><td><code>tabBar</code></td><td><code>CupertinoTabBar</code> to display at the bottom</td></tr><tr><td><code>tabBuilder</code></td><td><code>IndexedWidgetBuilder</code> function that returns tab content for a given index; typically a <code>CupertinoTabView</code></td></tr></tbody></table><p>Pages rendered for a specific tab can render <code>CupertinoPageScaffold</code> widgets to enable navigating through a different stack of pages for each tab.</p><p>Note that neither Cupertino scaffold widget supports a <code>FloatingActionButton</code>. To render one in a Cupertino app, set the <code>CupertinoPageScaffold</code> <code>child</code> argument to a <code>Scaffold</code> widget and set the <code>Scaffold</code> <code>floatingActionButton</code> argument. For an example, see this <a href="https://github.com/mvolkmann/flutter_floatingactionbutton?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h3 id="layout-widgets">Layout Widgets</h3><p>The layout widgets are documented at <a href="https://docs.flutter.dev/development/ui/widgets/layout?v=1.0.19" rel="noopener" target="_blank">Layout widgets</a>.</p><p>Some layout widgets accept a single <code>child</code> and others accept multiple <code>children</code>.</p><p>When the children of a layout widget do not all fit within it, diagonally yellow and black warning bars are displayed. The example below shows what happens when a <code>Row</code> containing six colored squares is rendered and they do not all fit within the screen width.</p><p><img alt="widget overflow" style="width: 60%" src="/blog/assets/flutter-widget-overflow.png?v=1.0.19" title="widget overflow"> <img></p><p>One way to fix widget overflow is to nest children in a <a href="https://docs.flutter.dev/development/ui/widgets/scrolling?v=1.0.19" rel="noopener" target="_blank">widget that supports scrolling</a>. These included <code>GridView</code>, <code>ListView</code>, <code>PageView</code>, <code>ReorderableListView</code>, <code>SingleChildScrollView</code>, and more.</p><h4 id="single-child-layout-widgets">Single-child Layout Widgets</h4><p>The most commonly used widgets for laying out a single child widget are described below:</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/widgets/Align-class.html?v=1.0.19" rel="noopener" target="_blank">Align</a></td><td>specifies where its child should be positioned within its parent (ex. <code>Alignment.bottomRight</code>)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedContainer-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedContainer</a></td><td>like <code>Container</code>, but &quot;gradually changes its values over a period of time&quot;; provides implicit animations</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/AspectRatio-class.html?v=1.0.19" rel="noopener" target="_blank">AspectRatio</a></td><td>sizes its child to a specific aspect ratio</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Center-class.html?v=1.0.19" rel="noopener" target="_blank">Center</a></td><td>centers its child horizontally and vertically in the available space</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/ConstrainedBox-class.html?v=1.0.19" rel="noopener" target="_blank">ConstrainedBox</a></td><td>&quot;imposes additional constraints on its child&quot; which include min and max width and height</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Container-class.html?v=1.0.19" rel="noopener" target="_blank">Container</a></td><td>surrounds its child with optional <code>padding</code>, <code>decoration</code> (ex. <code>BoxDecoration</code> with optional border and shadow), and <code>margin</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Expanded-class.html?v=1.0.19" rel="noopener" target="_blank">Expanded</a></td><td>&quot;expands a child of a Row, Column, or Flex so that the child fills the available space&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/FittedBox-class.html?v=1.0.19" rel="noopener" target="_blank">FittedBox</a></td><td>&quot;scales and positions its child within itself&quot; including clipping</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Flexible-class.html?v=1.0.19" rel="noopener" target="_blank">Flexible</a></td><td>&quot;controls how a child of a Row, Column, or Flex flexes&quot;; similar to CSS flex layout</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/FractionallySizedBox-class.html?v=1.0.19" rel="noopener" target="_blank">FractionallySizedBox</a></td><td>&quot;sizes its child to a fraction of the total available space&quot;; can specify <code>widthFactor</code>, <code>heightFactor</code>, and <code>alignment</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/LayoutBuilder-class.html?v=1.0.19" rel="noopener" target="_blank">LayoutBuilder</a></td><td>provides min/max width/height constraints that can be used to decide how/what a child component should render</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/LimitedBox-class.html?v=1.0.19" rel="noopener" target="_blank">LimitedBox</a></td><td>&quot;box that limits its size only when unconstrained&quot;; useful for wrapping unconstrained children of a <code>ListView</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/ListTile-class.html?v=1.0.19" rel="noopener" target="_blank">ListTile</a></td><td>&quot;single fixed-height row that typically contains some text as well as a leading or trailing icon&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Padding-class.html?v=1.0.19" rel="noopener" target="_blank">Padding</a></td><td>&quot;insets its child by the given padding&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html?v=1.0.19" rel="noopener" target="_blank">SingleChildScrollView</a></td><td>&quot;box in which a single widget can be scrolled&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/SizedBox-class.html?v=1.0.19" rel="noopener" target="_blank">SizedBox</a></td><td>&quot;box with a specified size&quot; for taking up space; &quot;if given a child, forces it to have a specific width and/or height&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Transform-class.html?v=1.0.19" rel="noopener" target="_blank">Transform</a></td><td>transforms its child by translating, rotating, and scaling it</td></tr></tbody></table><p>Details for some of the single-child layout widgets are provided below.</p><h5 id="center-widget">Center Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Center-class.html?v=1.0.19" rel="noopener" target="_blank">Center</a> widget centers its child in the available space of the parent widget by default. If the <code>heightFactor</code> argument is specified, it will center the child in a height that is the child height multiplied by the <code>heightFactor</code>. The <code>widthFactor</code> argument works similarly, but affects the width in which the child is centered.</p><h5 id="container-widget">Container Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Container-class.html?v=1.0.19" rel="noopener" target="_blank">Container</a> widget is the most customizable single-child layout widget. By default its size is the size of its only child.</p><p>The most frequently used arguments are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>alignment</code></td><td><code>Alignment</code> that specifies the alignment of the <code>child</code> inside</td></tr><tr><td><code>color</code></td><td><code>Color</code> of the background (conflicts with <code>decoration</code>)</td></tr><tr><td><code>constraints</code></td><td><code>BoxConstraints</code> that constrains the minimum and maximum width and height</td></tr><tr><td><code>decoration</code></td><td><code>BoxDecoration</code> that can specify a <code>color</code>, <code>border</code>, <code>borderRadius</code>, <code>boxShadow</code>, <code>gradient</code>, and <code>shape</code></td></tr><tr><td><code>height</code></td><td><code>double</code> height of container (conflicts with <code>constraints</code>)</td></tr><tr><td><code>margin</code></td><td><code>EdgeInsets</code> that specifies the margin to apply outside</td></tr><tr><td><code>padding</code></td><td><code>EdgeInsets</code> that specifies the padding to apply inside</td></tr><tr><td><code>width</code></td><td><code>double</code> width of container (conflicts with <code>constraints</code>)</td></tr></tbody></table><p>To consume all the available width in the parent, set <code>width</code> to <code>double.infinity</code>. Likewise, to consume all the available height in the parent, set <code>height</code> to <code>double.infinity</code>.</p><p>The <code>decoration</code> argument takes a <code>BoxDecoration</code> object that has a <code>shape</code> property. The only supported values are <code>circle</code> and <code>rectangle</code>.</p><h5 id="expanded-and-flexible-widgets">Expanded and Flexible Widgets</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Expanded-class.html?v=1.0.19" rel="noopener" target="_blank">Expanded</a> widget extends from the <a href="https://api.flutter.dev/flutter/widgets/Flexible-class.html?v=1.0.19" rel="noopener" target="_blank">Flexible</a> widget. Both take a <code>flex</code> argument that defaults to <code>1</code> and works similarly to the CSS <code>flex</code> property. The percentage of the available space given to an <code>Expanded</code> or <code>Flexible</code> widget is the percentage that their <code>flex</code> value represents out of the total of the <code>flex</code> values in the same parent widget.</p><p>The <code>Expanded</code> and <code>Flexible</code> widgets can only be children of a widget that extends from the <code>Flex</code> widget. Currently the only provided widgets that do that are <code>Row</code> and <code>Column</code>.</p><p>One use of the <code>Expanded</code> widget is to push the widgets that follow it inside a <code>Row</code> or <code>Column</code> to the end. Another use is to scale an <code>Image</code> widget to fit in the available space.</p><p>The <code>Flexible</code> widget behaves nearly identically to the <code>Expanded</code> widget. But a <code>Flexible</code> widget will take on the size of its child if the child has a fixed size. Otherwise it will choose its size just like <code>Expanded</code>.</p><h5 id="listtile-widget">ListTile Widget</h5><p>The <a href="https://api.flutter.dev/flutter/material/ListTile-class.html?v=1.0.19" rel="noopener" target="_blank">ListTile</a> widget renders a fixed-height row that contains text and optional leading and trailing widgets that are typically icons. By default the text is left justified in the space that remains after the leading and trailing widgets take their space. It is frequently used inside a <code>List</code> widget.</p><p>The most commonly used constructor arguments are summaried below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>enabled</code></td><td><code>bool</code> indicating whether it can be selected</td></tr><tr><td><code>contentPadding</code></td><td><code>EdgeInsets</code> that defaults to <code>EdgeInsets.symmetric(horizontal: 16)</code></td></tr><tr><td><code>iconColor</code></td><td><code>Color</code> of icons</td></tr><tr><td><code>isThreeLine</code></td><td><code>bool</code> indicating whether extra vertical space should be reserved for the <code>subtitle</code></td></tr><tr><td><code>leading</code></td><td><code>Widget</code> placed at the beginning; typically an icon</td></tr><tr><td><code>onTap</code></td><td><code>GestureTapCallback</code> function to call when tapped</td></tr><tr><td><code>selected</code></td><td><code>bool</code> indicating whether it is selected</td></tr><tr><td><code>selectedColor</code></td><td><code>Color</code> of background when selected</td></tr><tr><td><code>selectedTileColor</code></td><td><code>Color</code> of background when selected</td></tr><tr><td><code>subtitle</code></td><td><code>Widget</code> placed in the center, below the <code>title</code></td></tr><tr><td><code>textColor</code></td><td><code>Color</code> of text</td></tr><tr><td><code>tileColor</code></td><td><code>Color</code> of background when not selected</td></tr><tr><td><code>title</code></td><td><code>Widget</code> placed in the center</td></tr><tr><td><code>trailing</code></td><td><code>Widget</code> placed at the end; typically an icon</td></tr><tr><td><code>visualDensity</code></td><td><code>VisualDensity</code> constant that specifies &quot;how compact the listt tile's layout will be&quot;</td></tr></tbody></table><p>If the <code>subtitle</code> argument is set to a <code>Text</code> widget, it will wrap to any number of lines and respects newline characters. This allows each <code>ListTile</code> instance to have a different height.</p><p>If the <code>isThreeLine</code> argument is set to <code>true</code>, space for a minimum of two lines of subtitle will be reserved regardless of whether the subtitle needs two lines.</p><p>If the <code>enabled</code> argument is set to <code>false</code>, the color of all the widgets inside is changed to light gray and taps and long presses are ignored.</p><h5 id="padding-widget">Padding Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Padding-class.html?v=1.0.19" rel="noopener" target="_blank">Padding</a> widget adds padding to its <code>child</code> widget. The constructor <code>child</code> argument specifies the <code>Widget</code> to be padded.</p><p>The constructor <code>padding</code> argument takes an <code>EdgeInsets</code> object that specifies the amount of padding to add to each side. There are several <code>EdgeInsets</code> named constructors summarized below. All their arguments are <code>double</code> values that default to <code>0</code> when not specified.</p><table><thead><tr><th>Constructor</th><th>Description</th></tr></thead><tbody><tr><td><code>EdgeInsets.all(value)</code></td><td>same on all four sides</td></tr><tr><td><code>EdgeInsets.symmetric({horizontal = 0, vertical = 0})</code></td><td>same for left/right and same for top/bottom</td></tr><tr><td><code>EdgeInsets.only({left = 0, right = 0, top = 0, bottom = 0})</code></td><td>can differ on all four sides</td></tr></tbody></table><p>Unlike the <code>Container</code> widget, the <code>Padding</code> widget does not support specifying a background color.</p><h5 id="singlechildscrollview-widget">SingleChildScrollView Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/SingleChildScrollView-class.html?v=1.0.19" rel="noopener" target="_blank">SingleChildScrollView</a> widget allows a single child widget to be scrolled. It is most commonly wrapped around a <code>Row</code> or <code>Column</code> widget. When there is a need to scroll a large number of widgets vertically, using <code>ListView</code> is more efficient because it only renders the visible widgets.</p><p>The following code demonstrates wrapping <code>SingleChildScrollView</code> around both a <code>Row</code> and a <code>Column</code>. It also demonstrates the alternative of using <code>ListView</code>.</p><p><img alt="Flutter SingleChildScrollView" style="width: 40%" src="/blog/assets/flutter-singlechildscrollview.png?v=1.0.19" title="Flutter SingleChildScrollView"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">extension</span> WidgetExtension <span class="token keyword">on</span> Widget <span class="token punctuation">{</span><br>  <span class="token comment">/// Wraps a widget in a Container that has a border.</span><br>  Widget <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Color color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>border<span class="token punctuation">:</span> Border<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> color<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/// Wraps a widget in a Padding with given padding on all sides.</span><br>  Widget <span class="token function">padding</span><span class="token punctuation">(</span>double size<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Padding</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> itemCount <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><br>      <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token string">'Flutter Layout'</span><span class="token punctuation">,</span><br>        theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>          primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>          textTheme<span class="token punctuation">:</span> <span class="token function">TextTheme</span><span class="token punctuation">(</span><br>            <span class="token comment">// Material default text style</span><br>            bodyText2<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>purple<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_HomeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_HomeState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'My Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>        children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>          <span class="token function">ScrollableRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>            height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>            width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span><br>            child<span class="token punctuation">:</span> <span class="token function">ScrollableColumn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>            height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>            child<span class="token punctuation">:</span> <span class="token function">MyListView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">ScrollableRow</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ScrollableRow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">SingleChildScrollView</span><span class="token punctuation">(</span><br>      scrollDirection<span class="token punctuation">:</span> Axis<span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>        children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> itemCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Text #$i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">ScrollableColumn</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ScrollableColumn</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">SingleChildScrollView</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>        crossAxisAlignment<span class="token punctuation">:</span> CrossAxisAlignment<span class="token punctuation">.</span>start<span class="token punctuation">,</span><br>        children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> itemCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Text #$i'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyListView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyListView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> ListView<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><br>      itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> int index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Text #${index + 1}'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      itemCount<span class="token punctuation">:</span> itemCount<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h5 id="transform-widget">Transform Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Transform-class.html?v=1.0.19" rel="noopener" target="_blank">Transform</a> widget applies transformations to its <code>child</code> widget.</p><p>The following code translates its <code>child</code> widget:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> dx <span class="token operator">=</span> <span class="token number">100.0</span><span class="token punctuation">;</span> <span class="token comment">// x values increase going right</span><br><span class="token keyword">var</span> dy <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span> <span class="token comment">// y values increases going down</span><br><span class="token keyword">return</span> Transform<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> button<span class="token punctuation">,</span> offset<span class="token punctuation">:</span> <span class="token function">Offset</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The following code rotates its child widget by 45 degrees counterclockwise:</p><pre class="language-dart"><code class="language-dart">Transform<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>angle<span class="token punctuation">:</span> <span class="token operator">-</span>pi <span class="token operator">/</span> <span class="token number">4.0</span><span class="token punctuation">,</span> child<span class="token punctuation">:</span> someWidget<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The following code uses a transformation matrix to translate, rotate, and scale a given widget: It requires adding the &quot;vector_math&quot; package to <code>pubspec.yaml</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:vector_math/vector_math_64.dart'</span> <span class="token operator">as</span> vm<span class="token punctuation">;</span><br><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><br>Widget <span class="token function">transform</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  required Widget child<span class="token punctuation">,</span><br>  double angle <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token comment">// in radians</span><br>  double dx <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span><br>  double dy <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span><br>  double scale <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> translationVector <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">Vector3</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> axis <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// z axis</span><br>  <span class="token keyword">var</span> rotation <span class="token operator">=</span> vm<span class="token punctuation">.</span>Quaternion<span class="token punctuation">.</span><span class="token function">axisAngle</span><span class="token punctuation">(</span>axis<span class="token punctuation">,</span> angle<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// Use scale for both x and y, but no change in z.</span><br>  <span class="token keyword">var</span> scaleVector <span class="token operator">=</span> vm<span class="token punctuation">.</span><span class="token function">Vector3</span><span class="token punctuation">(</span>scale<span class="token punctuation">,</span> scale<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> matrix <span class="token operator">=</span> Matrix4<span class="token punctuation">.</span><span class="token function">compose</span><span class="token punctuation">(</span>translationVector<span class="token punctuation">,</span> rotation<span class="token punctuation">,</span> scaleVector<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token function">Transform</span><span class="token punctuation">(</span>transform<span class="token punctuation">:</span> matrix<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><br><span class="token comment">// In some widget list ...</span><br><span class="token function">transform</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> someWidget<span class="token punctuation">,</span> dx<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">20.0</span><span class="token punctuation">,</span> angle<span class="token punctuation">:</span> <span class="token operator">-</span>pi <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="multi-child-layout-widgets">Multi-child Layout Widgets</h4><p>The most commonly used widgets for laying out multiple child widgets are described below:</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/widgets/Column-class.html?v=1.0.19" rel="noopener" target="_blank">Column</a></td><td>arranges widgets vertically (like <code>HStack</code> in SwiftUI)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/GridView-class.html?v=1.0.19" rel="noopener" target="_blank">GridView</a></td><td>&quot;scrollable, 2D array of widgets&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/IndexedStack-class.html?v=1.0.19" rel="noopener" target="_blank">IndexedStack</a></td><td>&quot;shows a single child from a list&quot;, &quot;the one with the given index&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/ListView-class.html?v=1.0.19" rel="noopener" target="_blank">ListView</a></td><td>arranges widgets vertically like <code>Column</code>, but scrolls when needed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Row-class.html?v=1.0.19" rel="noopener" target="_blank">Row</a></td><td>arranges widgets horizontally (like <code>HStack</code> in SwiftUI)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Stack-class.html?v=1.0.19" rel="noopener" target="_blank">Stack</a></td><td>stacks widgets on top of each other (like <code>ZStack</code> in SwiftUI)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Table-class.html?v=1.0.19" rel="noopener" target="_blank">Table</a></td><td>similar to <code>GridView</code>, but is more configurable and doesn't scroll</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Wrap-class.html?v=1.0.19" rel="noopener" target="_blank">Wrap</a></td><td>arranges widgets horizontally or vertically and wraps to a new row or column as needed</td></tr></tbody></table><p>Details for some of the multi-child layout widgets are provided below.</p><h5 id="column-widget">Column Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Column-class.html?v=1.0.19" rel="noopener" target="_blank">Column</a> widget renders a vertical list of child widgets. It is similar to a SwiftUI <code>VStack</code>. The child widgets are specified in a <code>List</code> that is the value of the <code>children</code> argument constructor argument.</p><p>The &quot;main&quot; axis is vertical and the &quot;cross&quot; axis is horizontal.</p><p>The constructor for this widget takes the following named parameters, all of which are optional.</p><table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>children</code></td><td><code>List&lt;Widget&gt;</code> of child widgets</td></tr><tr><td><code>crossAxisAlignment</code></td><td><code>CrossAxisAlignment</code> enum; defaults to <code>center</code></td></tr><tr><td><code>mainAxisAlignment</code></td><td><code>MainAxisAlignment</code> enum; defaults to <code>start</code></td></tr><tr><td><code>mainAxisSize</code></td><td><code>MainAxisSize</code> enum; defaults to <code>max</code></td></tr><tr><td><code>textDirection?</code></td><td><code>TextDirection</code> enum; defaults to <code>ltr</code> for &quot;left to right&quot;</td></tr><tr><td><code>verticalDirection</code></td><td><code>VerticalDirection</code> enum; defaults to <code>down</code></td></tr></tbody></table><p>Typically only <code>children</code>, <code>crossAxisAlignment</code>, <code>mainAxisAlignment</code>, and <code>mainAxisSize</code> are specified.</p><p>Values of the <code>CrossAxisAlignment</code> enum include <code>start</code>, <code>center</code> (default), <code>end</code>, <code>stretch</code>, and <code>baseline</code> (aligns text baselines). These have a similar effect to the CSS <code>align-items</code> property. The <code>stretch</code> value causes it to take all available space in the cross-axis direction.</p><p>Values of the <code>MainAxisAlignment</code> enum include <code>start</code> (default), <code>center</code>, <code>end</code>, <code>spaceAround</code>, <code>spaceBetween</code>, and <code>spaceEvenly</code>. These have a similar effect to the CSS <code>justify-content</code> property.</p><p>Values of the <code>MainAxisSize</code> enum include <code>max</code> (uses all available height in parent widget; default) and <code>min</code> (uses only what is needed to fit children).</p><p>The <code>textDirection</code> argument specifies the order in which to layout children horizontally. Values of the <code>TextDirection</code> enum include <code>ltr</code> (left to right) and <code>rtl</code> (right to left).</p><p>The <code>verticalDirection</code> argument specifies the order in which to layout children vertically. Values of the <code>VerticalDirection</code> enum include <code>down</code> (default) and <code>up</code>. When the value is <code>down</code>, child widgets are placed from top to bottom. When the value is <code>up</code>, child widgets are placed from bottom to top.</p><p>There is no parameter that controls the space between the children. This seems like a huge oversight, especially since the <code>Wrap</code> widget takes a <code>spacing</code> argument! One way to add space between them is to insert <code>SizedBox</code> widgets that specify a <code>height</code> argument. To make this easier, consider adding an extension to the <code>List&lt;Widget&gt;</code> type as follows in a file named <code>widget_extension.dart</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">extension</span> WidgetExtension<span class="token operator">&lt;</span>Widget<span class="token operator">></span> <span class="token keyword">on</span> List<span class="token operator">&lt;</span>Widget<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token comment">/// Adds a SizedBox between all Widgets in the List.</span><br>  List<span class="token operator">&lt;</span>Widget<span class="token operator">></span> <span class="token function">spacing</span><span class="token punctuation">(</span>double size<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">insert</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> size<span class="token punctuation">,</span> height<span class="token punctuation">:</span> size<span class="token punctuation">)</span> <span class="token operator">as</span> Widget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>To use this, call the <code>spacing</code> method on the value passed in the <code>children</code> argument. For example, <code>[...].spacing(20)</code>. The same approach can be used with the <code>children</code> parameter of the <code>Row</code> widget. Thanks to Pat Niemeyer for this suggestion!</p><h5 id="listview-widget">ListView Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/ListView-class.html?v=1.0.19" rel="noopener" target="_blank">ListView</a> widget displays a scrollable list of widgets that are often <code>ListTile</code> widgets. The list is vertical by default, but can be changed to horizontal by setting the <code>scrollDirection</code> named argument to <code>Axis.horizontal</code>.</p><p>Scrolling widgets like <code>ListView</code> must be inside a widget that has a constrained size. This means a <code>ListView</code> cannot be a direct child of a widget like <code>Row</code> or <code>Column</code>. But it can be a child of a <code>SizedBox</code> widget or an <code>Expanded</code> widget that is a child of a widget with a constrained size.</p><p>Here's an example of creating a scrollable list of colors.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ColorList</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ColorList</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span> names <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token punctuation">[</span><br>    <span class="token string">'red'</span><span class="token punctuation">,</span><br>    <span class="token string">'orange'</span><span class="token punctuation">,</span><br>    <span class="token string">'yellow'</span><span class="token punctuation">,</span><br>    <span class="token string">'green'</span><span class="token punctuation">,</span><br>    <span class="token string">'blue'</span><span class="token punctuation">,</span><br>    <span class="token string">'purple'</span><span class="token punctuation">,</span><br>    <span class="token string">'white'</span><span class="token punctuation">,</span><br>    <span class="token string">'gray'</span><span class="token punctuation">,</span><br>    <span class="token string">'black'</span><span class="token punctuation">,</span><br>    <span class="token string">'brown'</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>border<span class="token punctuation">:</span> Border<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      margin<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>        height<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span><br>        child<span class="token punctuation">:</span> ListView<span class="token punctuation">.</span><span class="token function">separated</span><span class="token punctuation">(</span><br>          itemCount<span class="token punctuation">:</span> names<span class="token punctuation">.</span>length<span class="token punctuation">,</span><br>          <span class="token comment">// This function is called once for each index value in itemCount</span><br>          <span class="token comment">// to programmatically create a child widgets.</span><br>          itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> int index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token function">ListTile</span><span class="token punctuation">(</span><br>              contentPadding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// removes horizontal padding</span><br>              title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>names<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              visualDensity<span class="token punctuation">:</span> VisualDensity<span class="token punctuation">.</span>compact<span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          separatorBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Divider</span><span class="token punctuation">(</span><br>            color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>black45<span class="token punctuation">,</span><br>            height<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>To provide a visual indication of scroll position and the number of items in a <code>ListView</code>, wrap it in a <code>Scrollbar</code> widget.</p><p>A <code>ListView</code> can be scrolled programmatically by creating a <code>ScrollController</code> object and setting it as the <code>controller</code>. For example:</p><p><img alt="Flutter ListView with Controller" style="width: 40%" src="/blog/assets/flutter-listview-with-controller.png?v=1.0.19" title="Flutter ListView with Controller"></p><pre class="language-dart"><code class="language-dart">    <span class="token keyword">var</span> controller <span class="token operator">=</span> <span class="token function">ScrollController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>      padding<span class="token punctuation">:</span> <span class="token keyword">const</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>        children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>          <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>            height<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span><br>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span><br>            child<span class="token punctuation">:</span> <span class="token function">Scrollbar</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">ListView</span><span class="token punctuation">(</span><br>                controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span><br>                children<span class="token punctuation">:</span> List<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><br>                  <span class="token number">20</span><span class="token punctuation">,</span><br>                  <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Item #${index + 1}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                <span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>            child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Top'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              controller<span class="token punctuation">.</span><span class="token function">animateTo</span><span class="token punctuation">(</span><br>                <span class="token number">0</span><span class="token punctuation">,</span><br>                duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                curve<span class="token punctuation">:</span> Curves<span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Flutter can optimize the rendering of scrollable lists that contain many children with the same type using &quot;deferred rendering&quot;. Rather than creating all the child widgets that will appear in the list up front, it only creates the number that can be visible at the same time. It reuses those widgets when the list is scrolled, by just changing their data. To modify the previous example to take advantage of this optimization, replace the lines that create the <code>ListView</code> with the following:</p><pre class="language-dart"><code class="language-dart">child<span class="token punctuation">:</span> ListView<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><br>  controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span><br>  itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Item #${index + 1}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  itemCount<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// omit for an infinite list</span><br>  itemExtent<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// height of each item</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><p>The way scrolling feels is defined by the <code>ScrollingPhysics</code> class. This provides platform-specific scrolling so it feels different between Android and IOS. If desired this can be overridden.</p><h5 id="row-widget">Row Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Row-class.html?v=1.0.19" rel="noopener" target="_blank">Row</a> widget renders a horizontal list of child widgets. It is similar to a SwiftUI <code>HStack</code>. The &quot;main&quot; axis is horizontal and the &quot;cross&quot; axis is vertical. By default it takes all the available width of its parent because its <code>mainAxisSize</code> argument defaults to <code>MainAxisSize.max</code>.</p><p>This constructor for widget takes the same named parameters as the <code>Column</code> widget.</p><p>There is no parameter that controls the space between the children. This seems like a huge oversight, especially since the <code>Wrap</code> widget takes a <code>spacing</code> argument! One way to add space between them is to insert <code>SizedBox</code> widgets that specify a <code>width</code> argument.</p><h5 id="stack-widget">Stack Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Stack-class.html?v=1.0.19" rel="noopener" target="_blank">Stack</a> widget renders child widgets on top of each other the first child on the bottom and the last child on top. It is similar to a SwiftUI <code>ZStack</code>.</p><p>The width and height of a <code>Stack</code> matches that of its parent if the parent has a fixed size. Otherwise the width is the width of its widest child and the height is the height of its tallest child.</p><p>The constructor for this widget takes the following named parameters, all of which are optional.</p><table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>alignment</code></td><td><code>AlignmentDirectional</code> class constant; defaults to <code>topStart</code></td></tr><tr><td><code>children</code></td><td><code>List&lt;Widget&gt;</code> of child widgets</td></tr><tr><td><code>clipBehavior</code></td><td><code>Clip</code> enum; specifies whether positioned children partially outside the <code>Stack</code> will be clipped</td></tr><tr><td><code>fit?</code></td><td><code>StackFit</code> enum; specifies how to size non-positioned children</td></tr><tr><td><code>textDirection?</code></td><td><code>TextDirection</code> enum; defaults to <code>ltr</code> for &quot;left to right&quot;</td></tr></tbody></table><p>Values of the <code>AlignmentDirection</code> enum include<br><code>topStart</code>, <code>topCenter</code>, <code>topEnd</code>,<br><code>bottomStart</code>, <code>bottomCenter</code>, <code>bottomEnd</code>,<br><code>centerStart</code>, <code>center</code>, and <code>centerEnd</code>.</p><p>To position a child widget at a certain location inside a <code>Stack</code>, wrap it in a <code>Position</code> widget whose constructor takes a <code>child</code> argument. To set the horizontal position, specify either the <code>left</code> or <code>right</code> argument. To set the vertical position, specify either the <code>top</code> or <code>bottom</code> argument. Each specifies the distance from the given side. To constrain the size the child, specify the <code>width</code> and <code>height</code> arguments.</p><h5 id="wrap-widget">Wrap Widget</h5><p>The <a href="https://api.flutter.dev/flutter/widgets/Wrap-class.html?v=1.0.19" rel="noopener" target="_blank">Wrap</a> widget renders widgets in rows or columns. It is similar to the <code>Row</code> and <code>Column</code> widgets, but differs in that it wraps children to multiple rows or columns when they do not all fit in a single row or column.</p><p>The constructor for this widget takes the following named parameters, all of which are optional.</p><table><thead><tr><th>Parameter</th><th>Type</th></tr></thead><tbody><tr><td><code>alignment</code></td><td>main axis alignment within runs; <code>WrapAlignment</code> enum; defaults to <code>start</code></td></tr><tr><td><code>children</code></td><td><code>List&lt;Widget&gt;</code> of child widgets</td></tr><tr><td><code>crossAxisAlignment</code></td><td>cross axis alignment within runs; <code>WrapCrossAlignment</code> enum; defaults to <code>start</code></td></tr><tr><td><code>direction</code></td><td><code>Axis</code> enum; defaults to <code>horizontal</code></td></tr><tr><td><code>runAlignment</code></td><td>cross axis alignment of entire runs, <code>WrapAlignment</code> enum; defaults to <code>start</code></td></tr><tr><td><code>runSpacing</code></td><td>space between runs; <code>double</code>; defaults to 0.0</td></tr><tr><td><code>spacing</code></td><td>space between children in a run; <code>double</code>; defaults to 0.0</td></tr><tr><td><code>textDirection?</code></td><td><code>TextDirection</code> enum; defaults to <code>ltr</code> for &quot;left to right&quot;</td></tr><tr><td><code>verticalDirection</code></td><td><code>VerticalDirection</code> enum; defaults to <code>down</code></td></tr></tbody></table><p>The <code>children</code> are divided into &quot;runs&quot; that fit in a single row or column. The <code>alignment</code> and <code>spacing</code> parameters apply to the children of each &quot;run&quot;. The <code>runAlignment</code> and <code>runSpacing</code> parameters apply to entire runs.</p><p>Values of the <code>Axis</code> enum include <code>horizontal</code> (default) and <code>vertical</code>.</p><p>Values of the <code>WrapAlignment</code> enum include <code>start</code> (default), <code>center</code>, <code>end</code>, <code>spaceAround</code>, <code>spaceBetween</code>, and <code>spaceEvenly</code>. These have a similar effect to the CSS <code>justify-content</code> property.</p><p>Values of the <code>WrapCrossAlignment</code> enum include <code>start</code> (default), <code>center</code>, and <code>end</code>, These have a similar effect to the CSS <code>align-items</code> property.</p><p>Values of the <code>TextDirection</code> and <code>VerticalDirection</code> enums were described with the <code>Column</code> widget above.</p><h3 id="spacer-widget">Spacer Widget</h3><p>The <a href="https://api.flutter.dev/flutter/widgets/Spacer-class.html?v=1.0.19" rel="noopener" target="_blank">Spacer</a> widget &quot;creates an adjustable, empty spacer that can be used to tune the spacing between widgets in a <code>Flex</code> container, like <code>Row</code> or <code>Column</code>. It takes up all available space.</p><p>When there is more than one <code>Spacer</code> widget in a <code>Row</code> or <code>Column</code>, the available space is divided between them. By default they are all given the same amount of space, but this can be changed by specifying an <code>int</code> <code>flex</code> argument. This works similarly to CSS flexbox layout.</p><p>An alternative to using <code>Spacer</code> widgets is to specify the <code>mainAxisAlignment</code> argument in a <code>Row</code> or <code>Column</code> which accepts values like <code>spaceAround</code>, <code>spaceBetween</code>, and <code>spaceEvenly</code>.</p><h3 id="display-widgets">Display Widgets</h3><p>The most commonly used widgets for displaying content are described below:</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/widgets/Banner-class.html?v=1.0.19" rel="noopener" target="_blank">Banner</a></td><td>&quot;displays a diagonal message above the corner of another widget&quot;; can specify the corner</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/CircleAvatar-class.html?v=1.0.19" rel="noopener" target="_blank">CircleAvatar</a></td><td>&quot;circle that represents a user&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/CircularProgressIndicator-class.html?v=1.0.19" rel="noopener" target="_blank">CircularProgressIndicator</a></td><td>rotating icon used to indicate that background activity is occurring, such as waiting for an API call to complete</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Divider-class.html?v=1.0.19" rel="noopener" target="_blank">Divider</a></td><td>&quot;thin horizontal line, with padding on either side&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/ErrorWidget-class.html?v=1.0.19" rel="noopener" target="_blank">ErrorWidget</a></td><td>&quot;renders an exception's message&quot;; useful in an error dialog</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/ExpandIcon-class.html?v=1.0.19" rel="noopener" target="_blank">ExpandIcon</a></td><td>&quot;rotating expand/collapse button&quot;; &quot;rotates 180 degrees when pressed, then reverts the animation on a second press&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/ExpansionPanelList-class.html?v=1.0.19" rel="noopener" target="_blank">ExpansionPanelList</a></td><td>list of <code>ExpansionPanel</code> widgets that can be expanded and collapsed by clicking</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/FlutterLogo-class.html?v=1.0.19" rel="noopener" target="_blank">FlutterLogo</a></td><td>renders the Flutter logo; can specify the size</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Icon-class.html?v=1.0.19" rel="noopener" target="_blank">Icon</a></td><td>renders an icon; typically passed an <code>IconData</code> object from a constant in the <code>Icons</code> class</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Image-class.html?v=1.0.19" rel="noopener" target="_blank">Image</a></td><td>renders an image from a source such as a URL, local file, or <code>AssetBundle</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/LinearProgressIndicator-class.html?v=1.0.19" rel="noopener" target="_blank">LinearProgressIndicator</a></td><td>line used to indicate that background activity is occurring, such as waiting for an API call to complete</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Placeholder-class.html?v=1.0.19" rel="noopener" target="_blank">Placeholder</a></td><td>renders a rectangle containing diagonal lines that represents where future widgets will be placed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/RichText-class.html?v=1.0.19" rel="noopener" target="_blank">RichText</a></td><td>renders runs of text that each use different styles; uses <code>TextSpan</code> objects</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/SnackBar-class.html?v=1.0.19" rel="noopener" target="_blank">SnackBar</a></td><td>renders &quot;a lightweight message with an optional action which briefly displays at the bottom of the screen&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Text-class.html?v=1.0.19" rel="noopener" target="_blank">Text</a></td><td>renders a run of text with a single style</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Tooltip-class.html?v=1.0.19" rel="noopener" target="_blank">Tooltip</a></td><td>used to explain the functionality of a button or other tappable UI widget; press and hold to display</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/VerticalDivider-class.html?v=1.0.19" rel="noopener" target="_blank">VerticalDivider</a></td><td>&quot;thin vertical line, with padding on either side&quot;</td></tr></tbody></table><p>The primary widgets for rendering text are <code>Text</code> and <code>RichText</code>. Both automatically wrap their text if needed by default, but this can be changed by setting their <code>overflow</code> argument to a value from the <code>TextOverflow</code> enum. These include <code>clip</code>, <code>ellipsis</code>, <code>fade</code>, and <code>visible</code>.</p><p>There are many more display widgets provided in pub.dev. For example, the <a href="https://pub.dev/packages/badges?v=1.0.19" rel="noopener" target="_blank">badges package</a> provides the <code>Badge</code> widgets. For a demo, see this <a href="https://www.youtube.com/watch?v=_CIHLJHVoN8?v=1.0.19" rel="noopener" target="_blank">YouTube video</a>.</p><p>Details for some of the display widgets are provided below.</p><h4 id="circleavatar-widget">CircleAvatar Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/CircleAvatar-class.html?v=1.0.19" rel="noopener" target="_blank">CircleAvatar</a> widget displays an image representing a user in a circle. The image can be specified using the <code>backgroundImage</code> or <code>child</code> arguments. The following code demonstrates each option:</p><p><img alt="Flutter CircleAvatar" style="width: 40%" src="/blog/assets/flutter-circleavatar.png?v=1.0.19" title="Flutter CircleAvatar"> <img></p><pre class="language-dart"><code class="language-dart"><span class="token comment">// This doesn't scale the image correctly,</span><br><span class="token comment">// but will if wrapped in a Column widget.  Why?</span><br><span class="token function">CircleAvatar</span><span class="token punctuation">(</span><br>  backgroundImage<span class="token punctuation">:</span> <span class="token function">NetworkImage</span><span class="token punctuation">(</span><br>    <span class="token string">'https://avatars.githubusercontent.com/u/79312?v=4'</span><span class="token punctuation">,</span><br>    scale<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// does not scale the image!</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  radius<span class="token punctuation">:</span> avatarSize <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span><br><br><span class="token comment">// This scales the image correctly.</span><br><span class="token function">CircleAvatar</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">ClipOval</span><span class="token punctuation">(</span><br>    child<span class="token punctuation">:</span> Image<span class="token punctuation">.</span><span class="token function">network</span><span class="token punctuation">(</span><br>      <span class="token string">'https://avatars.githubusercontent.com/u/79312?v=4'</span><span class="token punctuation">,</span><br>      height<span class="token punctuation">:</span> avatarSize<span class="token punctuation">,</span><br>      width<span class="token punctuation">:</span> avatarSize<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  radius<span class="token punctuation">:</span> avatarSize <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h4 id="circularprogressindicator-and-linearprogressindicator">CircularProgressIndicator and LinearProgressIndicator</h4><p>The <a href="https://api.flutter.dev/flutter/material/CircularProgressIndicator-class.html?v=1.0.19" rel="noopener" target="_blank">CircularProgressIndicator</a> and <a href="https://api.flutter.dev/flutter/material/LinearProgressIndicator-class.html?v=1.0.19" rel="noopener" target="_blank">LinearProgressIndicator</a> widgets are both used to indicate that some activity, such as an API call, is occuring in the background. And both have determinant and indeterminant forms. They use colors from <code>ThemeData.accentColor</code> by default, but the colors can be customized. For determinant progress indicators, set the <code>value</code> argument to a state variable that is updated to a value between 0 and 1 when progress occurs. The <code>CircularProgressIndicator</code> constructor takes a <code>strokeWidth</code> argument.</p><h4 id="expandicon-and-animatedcontainer-widgets">ExpandIcon and AnimatedContainer Widgets</h4><p>The <a href="https://api.flutter.dev/flutter/material/ExpandIcon-class.html?v=1.0.19" rel="noopener" target="_blank">ExpandIcon</a> widget renders an icon button that toggles between a down and up pointing angle bracket when tapped by rotating it. The <code>isExpanded</code> argument dictates the direction and the <code>onPressed</code> argument can change the value inside a <code>StatefulWidget</code>. This can be used in combination with an <a href="https://api.flutter.dev/flutter/widgets/AnimatedContainer-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedContainer</a> to show and hide content.</p><p>The following code demonstrates hiding and showing a <code>Text</code> widget by toggling its <code>height</code> between <code>0</code> and <code>20</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ExpandIcon</span><span class="token punctuation">(</span><br>    isExpanded<span class="token punctuation">:</span> isExpanded<span class="token punctuation">,</span><br>    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> isExpanded <span class="token operator">=</span> <span class="token operator">!</span>isExpanded<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token function">AnimatedContainer</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'I am showing!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">:</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  curve<span class="token punctuation">:</span> Curves<span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span><br>  height<span class="token punctuation">:</span> isExpanded <span class="token operator">?</span> <span class="token number">20</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h4 id="expansionpanellist-widget">ExpansionPanelList Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/ExpansionPanelList-class.html?v=1.0.19" rel="noopener" target="_blank">ExpansionPanelList</a> widget renders a vertical list of <code>ExpansionPanel</code> widgets that can be expanded and collapsed by clicking.</p><p>For a concise explanation of its usage, see this <a href="https://www.youtube.com/watch?v=2aJZzRMziJc?v=1.0.19" rel="noopener" target="_blank">Flutter Widget of the week</a> YouTube video.</p><p>For example code, see this <a href="https://github.com/mvolkmann/flutter_expansionpanel/blob/main/lib/main.dart?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h4 id="icon-widget">Icon Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/Icon-class.html?v=1.0.19" rel="noopener" target="_blank">Icon</a> widget renders an icon. The icon to render is specified by the first positional argument whose value must be an <code>IconData</code> object. Typically these come from constants in the <code>Icons</code> class. Other arguments commonly used inlude <code>color</code> and <code>size</code>. The following example displays a large, red fire extinguisher icon.</p><p><img alt="Flutter Icon" style="width: 10%" src="/blog/assets/flutter-icon-fire-extinguisher.png?v=1.0.19" title="Flutter Icon"></p><pre class="language-dart"><code class="language-dart"><span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>fire_extinguisher<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span></code></pre><h4 id="image-widget">Image Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/Image-class.html?v=1.0.19" rel="noopener" target="_blank">Image</a> widget renders an image. Supported image formats include BMP, GIF (including animated), JPEG, PNG, WBMP, and WebP.</p><p>The <code>width</code> and <code>height</code> arguments specify its size.</p><p>The <code>fit</code> argument specifies how the image should be sized within the given space. Options come from the <code>BoxFit</code> enum and include <code>contain</code> (default; centers and scales, leaving blank space), <code>cover</code> (centers and clips), and <code>fill</code> (changes aspect ratio).</p><p>The <code>semanticLabel</code> argument provides a text description that is displayed by assistive technologies, similar to the HTML <code>image</code> <code>alt</code> attribute.</p><p>The <code>Image</code> class supports many named constructors.</p><p>To render an image stored in the <code>assets</code> directory of a application:</p><ol><li>Create an <code>assets</code> directory with an <code>images</code> directory inside it.</li><li>Add image files in this directory.</li><li>Modify <code>pubspec.yaml</code> so the following exists:<pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">flutter</span><span class="token punctuation">:</span><br>  <span class="token key atrule">assets</span><span class="token punctuation">:</span><br>    <span class="token punctuation">-</span> assets/images/</code></pre></li><li>Use the <code>Image.asset</code> constructor. For example:<pre class="language-dart"><code class="language-dart">Image<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'assets/images/comet.jpg'</span><span class="token punctuation">)</span></code></pre></li></ol><p>To render an image from a URL, use <code>Image.network(someUrl)</code>. To provide an indication of the loading progress, use a <code>LinearProgressIndicator</code>. Images are cached, so the progress indicator will likely only be displayed the first time the app requests the image.</p><p>For example:</p><pre class="language-dart"><code class="language-dart">Image<span class="token punctuation">.</span><span class="token function">network</span><span class="token punctuation">(</span><br>  <span class="token string">'https://avatars.githubusercontent.com/u/79312?v=4'</span><span class="token punctuation">,</span><br>  width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>  height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>  fit<span class="token punctuation">:</span> BoxFit<span class="token punctuation">.</span>cover<span class="token punctuation">,</span><br>  loadingBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> child<span class="token punctuation">,</span> progress<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>progress <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> child<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> bytes <span class="token operator">=</span> progress<span class="token punctuation">.</span>cumulativeBytesLoaded<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> total <span class="token operator">=</span> progress<span class="token punctuation">.</span>expectedTotalBytes <span class="token operator">?</span><span class="token operator">?</span> <span class="token number">1</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> percent <span class="token operator">=</span> bytes <span class="token operator">/</span> total<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">LinearProgressIndicator</span><span class="token punctuation">(</span>value<span class="token punctuation">:</span> percent<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><h4 id="snackbar-widget">SnackBar Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/SnackBar-class.html?v=1.0.19" rel="noopener" target="_blank">SnackBar</a> widget renders &quot;a lightweight message with an optional action which briefly displays at the bottom of the screen.&quot;</p><p>The following code displays a <code>Snackbar</code> when a button is pressed. This is typically done inside a <code>build</code> method so a <code>BuildContext</code> object is available.</p><pre class="language-dart"><code class="language-dart"><span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Snack'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    ScaffoldMessenger<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">hideCurrentSnackBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span><br>        <span class="token function">SnackBar</span><span class="token punctuation">(</span><br>          content<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Time for a snack!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// defaults to 4 seconds</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h4 id="text-widget">Text Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/Text-class.html?v=1.0.19" rel="noopener" target="_blank">Text</a> widget renders text with a single style including color, font, font size, and weight.</p><p>Highlights of the arguments that can be passed to the <code>Text</code> constructor are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>maxLines</code></td><td><code>int</code> limit on number of lines to display; defaults to no limit</td></tr><tr><td><code>overflow</code></td><td><code>TextOverflow</code> enum with values <code>clip</code>, <code>ellipsis</code>, <code>fade</code>, and <code>visible</code></td></tr><tr><td><code>style</code></td><td><code>TextStyle</code> object or a property from <code>Theme.of(context).textTheme</code> (ex. <code>headline6</code>)</td></tr><tr><td><code>textAlign</code></td><td><code>TextAlign</code> enum value</td></tr></tbody></table><p>The <code>TextAlign</code> enum that has the values <code>left</code>, <code>center</code>, <code>right</code>, <code>justify</code>, <code>start</code>, and <code>end</code>. When <code>textDirection</code> is <code>TextDirection.ltr</code>, <code>start</code> has the same meaning as <code>left</code> and <code>end</code> has the same meaning as <code>right</code>.</p><p>The <code>overflow</code> property only takes effect when <code>maxLines</code> is specified and that number of lines is exceeded.</p><p>Highlights of the arguments that can be passed to the <code>TextStyle</code> constructor are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>backgroundColor</code></td><td><code>Color</code> of background</td></tr><tr><td><code>color</code></td><td><code>Color</code> of foreground</td></tr><tr><td><code>decoration</code></td><td><code>TextDecoration</code> constant <code>none</code>, <code>underline</code>, <code>lineThrough</code>, or <code>overline</code></td></tr><tr><td><code>fontFamily</code></td><td><code>String</code> name of a font family</td></tr><tr><td><code>fontSize</code></td><td><code>double</code> font size</td></tr><tr><td><code>fontStyle</code></td><td><code>FontStyle</code> enum value <code>normal</code> or <code>italic</code></td></tr><tr><td><code>fontWeight</code></td><td><code>FontWeight</code> constant <code>normal</code>, <code>bold</code>, or <code>wn00</code> where n is 1-9</td></tr><tr><td><code>shadows</code></td><td><code>List&lt;Shadow&gt;</code> describing one or more shadows to be applied</td></tr></tbody></table><p>Lines created by the <code>decoration</code> argument can be styled with the <code>decorationColor</code> (takes a <code>Color</code>), <code>decorationStyle</code> (takes a <code>TextDecorationStyle</code> enum value), and <code>decorationThickness</code> (takes a <code>double</code>) arguments. The values of the <code>TextDecorationStyle</code> enum include <code>dashed</code>, <code>dotted</code>, <code>double</code>, <code>solid</code>, and <code>wavy</code>.</p><p>The <code>Shadow</code> constructor takes the arguments <code>color</code> (a <code>Color</code>), <code>offset</code> (an <code>Offset</code> object with <code>dx</code> and <code>dy</code> properties), and <code>blurRadius</code> (a <code>double</code>).</p><h4 id="richtext-widget">RichText Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/RichText-class.html?v=1.0.19" rel="noopener" target="_blank">RichText</a> widget renders runs of text that can each have a different style. It takes a <code>text</code> argument whose value is a <code>TextSpan</code> widget with a <code>children</code> argument that is typically a <code>List</code> of <code>TextSpan</code> widgets. The top <code>TextSpan</code> widget can specify the default <code>style</code> for the child <code>TextSpan</code> widgets. Typically the text color must be specified because it defaults to white. The child <code>TextSpan</code> widgets can override that style.</p><p>Highlights of the arguments that can be passed to the <code>RichText</code> constructor are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>maxLines</code></td><td><code>int</code> limit on number of lines to display; defaults to no limit</td></tr><tr><td><code>text</code></td><td><code>InlineSpan</code> object (see commonly used subclasses below)</td></tr><tr><td><code>textAlign</code></td><td><code>TextAlign</code> enum value</td></tr><tr><td><code>textOverflow</code></td><td><code>TextOverflow</code> enum with values <code>clip</code>, <code>ellipsis</code>, <code>fade</code>, and <code>visible</code></td></tr></tbody></table><p>Highlights of the arguments that can be passed to the <code>TextSpan</code> constructor are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>text</code></td><td><code>String</code> text</td></tr><tr><td><code>children</code></td><td><code>List&lt;InlineSpan&gt;</code> of additional objects that implement <code>InlineSpan</code></td></tr><tr><td><code>recognizer</code></td><td><code>GestureRecognizer</code> object such as a <code>TapGestureRecognizer</code></td></tr><tr><td><code>style</code></td><td><code>TextStyle</code> object (described earlier)</td></tr></tbody></table><p>If the <code>style</code> argument is omitted or doesn't specify a color, the text is invisible. It's possible that the color defaults to the background color, but I haven't found any documentation to confirm this.</p><p>Classes that extend <code>InlineSpan</code> include <code>TextSpan</code> and <code>WidgetSpan</code>. <code>TextSpan</code> objects represent a tree of text and <code>WidgetSpan</code> objects represent a tree of widgets. This means it is possible for a <code>RichText</code> widget to render runs of both text and other widgets. The <code>WidgetSpan</code> constructor takes a <code>child</code> argument that specifies a widget to render and an <code>alignment</code> argument that specifies how to align the widget vertically with respect to text specified in <code>TextSpan</code> objects.</p><p>Providing a <code>List</code> of text spans enables specifying different styling for each. The styling of each text span defaults to the styling of its parent.</p><p>The optional <code>recognizer</code> argument is typically set to a <code>TapGestureRecognizer</code> which extends <code>GestureRecognizer</code>. Its constructor takes an <code>onTap</code> argument which is a function to call when a tap is detected.</p><h4 id="tooltip-widget">Tooltip Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/Tooltip-class.html?v=1.0.19" rel="noopener" target="_blank">Tooltip</a> widget briefly describe the functionality of a button or other tappable UI widget. To see a tooltip, users must press and hold on a widget that has a tooltip.</p><p>Highlights of the arguments that can be passed to the <code>Tooltip</code> constructor are described below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>child</code></td><td><code>Widget</code> to which the <code>Tooltip</code> belongs</td></tr><tr><td><code>message</code></td><td><code>String</code> text to display</td></tr><tr><td><code>preferBelow</code></td><td><code>bool</code> indicating whether the tooltip should be displayed below rather than above the widget; defaults to <code>true</code></td></tr><tr><td><code>richMessage</code></td><td><code>InlineSpan</code> rich text to display instead of plain text</td></tr><tr><td><code>showDuration</code></td><td><code>Duration</code> that the tooltip should be displayed after long press is released; defaults to 1.5 seconds</td></tr><tr><td><code>triggerMode</code></td><td><code>TooltipTriggerMode</code> enum value of <code>longPress</code> (default), <code>tap</code>, or <code>manual</code></td></tr></tbody></table><p>The following code creates a button that has a tooltip:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Tooltip</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>    child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Press Me'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got ElevatedButton press'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  message<span class="token punctuation">:</span> <span class="token string">'I am a tooltip!'</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p>The <code>FloatingActionButton</code>, <code>IconButton</code>, and <code>PopupMenuButton</code> widgets all takes a <code>tooltip</code> argument, which simplifies adding a tooltip.</p><p>The <code>triggerMode</code> can only be set to <code>tap</code> for widgets that do not have an <code>onPressed</code> argument value.</p><h3 id="input-widgets">Input Widgets</h3><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/material/Autocomplete-class.html?v=1.0.19" rel="noopener" target="_blank">Autocomplete</a></td><td>text input for selecting from a list of options where only options that match the entered text are displayed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/BackButton-class.html?v=1.0.19" rel="noopener" target="_blank">BackButton</a></td><td>&quot;&lt;&quot; button that defaults to calling <code>Navigator.maybePop</code> when pressed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/CloseButton-class.html?v=1.0.19" rel="noopener" target="_blank">CloseButton</a></td><td>&quot;X&quot; button that defaults to calling <code>Navigator.maybePop</code> when pressed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/CalendarDatePicker-class.html?v=1.0.19" rel="noopener" target="_blank">CalendarDatePicker</a></td><td>inline calendar date picker</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Checkbox-class.html?v=1.0.19" rel="noopener" target="_blank">Checkbox</a></td><td>checkbox for toggling a <code>bool</code> value</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/DropdownButton-class.html?v=1.0.19" rel="noopener" target="_blank">DropdownButton</a></td><td>dropdown menu with <code>DropdownMenuItem</code> children similar to the HTML <code>select</code> element with <code>option</code> children</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/EditableText-class.html?v=1.0.19" rel="noopener" target="_blank">EditableText</a></td><td>from the <code>TextField</code> docs, &quot;EditableText ... is the raw text editing control at the heart of a TextField ... rarely used directly&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/ElevatedButton-class.html?v=1.0.19" rel="noopener" target="_blank">ElevatedButton</a></td><td>button containing any widget with a background color whose elevation increases when pressed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/FloatingActionButton-class.html?v=1.0.19" rel="noopener" target="_blank">FloatingActionButton</a></td><td>circular (typically) button &quot;that hovers over other content to promote a primary action&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/Form-class.html?v=1.0.19" rel="noopener" target="_blank">Form</a></td><td>container for grouping form fields; see <code>autovalidateMode</code> property and <code>createState</code> method</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/IconButton-class.html?v=1.0.19" rel="noopener" target="_blank">IconButton</a></td><td>button containing an <code>Icon</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/OutlinedButton-class.html?v=1.0.19" rel="noopener" target="_blank">OutlinedButton</a></td><td>a <code>TextButton</code> with an outlined border</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/PopupMenuButton-class.html?v=1.0.19" rel="noopener" target="_blank">PopupMenuButton</a></td><td>similar to <code>DropdownButton</code>, but displays an ellipsis instead an upside down caret</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Radio-class.html?v=1.0.19" rel="noopener" target="_blank">Radio</a></td><td>radio button for selecting between mutually exclusive options</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/RangeSlider-class.html?v=1.0.19" rel="noopener" target="_blank">RangeSlider</a></td><td>slider for selecting the minimum and maximum values from a range of <code>double</code> values</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/ReorderableList-class.html?v=1.0.19" rel="noopener" target="_blank">ReorderableList</a></td><td>scrollable container where child widgets can be dragged to reorder them</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Slider-class.html?v=1.0.19" rel="noopener" target="_blank">Slider</a></td><td>slider for selecting a double value from a given range of <code>double</code> values</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Stepper-class.html?v=1.0.19" rel="noopener" target="_blank">Stepper</a></td><td>&quot;displays progress through a sequence of steps&quot; like in a wizard UI; not frequently used</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Switch-class.html?v=1.0.19" rel="noopener" target="_blank">Switch</a></td><td>toggle switch for selecting a <code>bool</code> value</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TextButton-class.html?v=1.0.19" rel="noopener" target="_blank">TextButton</a></td><td>button containing any widget, not just <code>Text</code>, with no visible border</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TextField-class.html?v=1.0.19" rel="noopener" target="_blank">TextField</a></td><td>basic text input</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TextFormField-class.html?v=1.0.19" rel="noopener" target="_blank">TextFormField</a></td><td>like <code>TextField</code>, but supports validation</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/ToggleButtons-class.html?v=1.0.19" rel="noopener" target="_blank">ToggleButtons</a></td><td>set of toggle buttons, typically used to choose between exclusive options</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/YearPicker-class.html?v=1.0.19" rel="noopener" target="_blank">YearPicker</a></td><td>scrollable list of years to pick from (I can't get this to work!)</td></tr></tbody></table><p>Many of these widgets render buttons, including <code>DropDownButton</code>, <code>ElevatedButton</code>, <code>FloatingActionButton</code>, <code>IconButton</code>, and <code>TextButton</code>. Flutter 2.0 renamed three button widgets.</p><pre class="language-text"><code class="language-text">FlatButton    -> TextButton<br>RaisedButton  -> ElevatedButton<br>OutlineButton -> OutlinedButton</code></pre><p>Basic usage of all of these widgets is demonstrated in the Flutter project at <a href="https://github.com/mvolkmann/flutter_input?v=1.0.19" rel="noopener" target="_blank">flutter_input</a>.</p><h4 id="elevatedbutton-widget">ElevatedButton Widget</h4><p>The most commonly used button widget is <a href="https://api.flutter.dev/flutter/material/ElevatedButton-class.html?v=1.0.19" rel="noopener" target="_blank">ElevatedButton</a>.</p><p>The most commonly used constructor arguments are summaried below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>child</code></td><td>a <code>Widget</code> to render inside the button; typically <code>Text</code> or <code>Icon</code></td></tr><tr><td><code>key</code></td><td>a <code>Key</code> often used for finding the widget in a test</td></tr><tr><td><code>onPressed</code></td><td>function to call when the button is tapped</td></tr><tr><td><code>style</code></td><td>a <code>ButtonStyle</code> specifying styling details</td></tr></tbody></table><p>The <code>style</code> argument can specify background color, foreground color, font size, shadow, and more. The easiest way to specify the <code>style</code> value is with the <code>ElevatedButton.styleFrom</code> function.</p><p>The following code demonstrates creating an <code>ElevatedButton</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Press Me'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got press'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  style<span class="token punctuation">:</span> ElevatedButton<span class="token punctuation">.</span><span class="token function">styleFrom</span><span class="token punctuation">(</span><br>    padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    primary<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span> <span class="token comment">// background color</span><br>    onPrimary<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span> <span class="token comment">// foreground color</span><br>    textStyle<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><h4 id="floatingactionbutton-widget">FloatingActionButton Widget</h4><p>The <a href="https://api.flutter.dev/flutter/material/FloatingActionButton-class.html?v=1.0.19" rel="noopener" target="_blank">FloatingActionButton</a> widget &quot;is a circular icon button that hovers over content to promote a primary action&quot;. Typically these are used as the value of the <code>Scaffold</code> <code>floatingActionButton</code> argument.</p><p>The most commonly used constructor arguments are summaried below:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>backgroundColor</code></td><td><code>Color</code> of button background</td></tr><tr><td><code>child</code></td><td><code>Widget</code> to render inside button</td></tr><tr><td><code>foregroundColor</code></td><td><code>Color</code> of button foreground</td></tr><tr><td><code>mini</code></td><td><code>bool</code> indicating if a smaller version should be rendered; defaults to <code>false</code></td></tr><tr><td><code>onPressed</code></td><td><code>VoidCallback</code> function to call when pressed</td></tr></tbody></table><p>To customize the location of the button, specify the <code>Scaffold</code> <code>floatingActionButtonLocation</code> argument which takes constant defined in the <a href="https://api.flutter.dev/flutter/material/FloatingActionButtonLocation-class.html?v=1.0.19" rel="noopener" target="_blank">FloatingActionButtonLocation</a> class. Most of the constants place the button near the bottom of the screen, including the default of <code>endFloat</code> which places it in the lower-right corner. Constants with names names that end in &quot;Top&quot; place the button near the top of the screen. Constants with names that begin with &quot;mini&quot; do not reduce the size of the button. Instead the correctly position the button when its <code>mini</code> argument is set to <code>true</code>.</p><p>The named constructor <code>FloatingActionButton.large</code> is similar to the normal constructor, but creates a ridulously large button.</p><p>The named constructor <code>FloatingActionButton.extended</code> removes the <code>child</code> argument, and adds the <code>icon</code> and <code>label</code> arguments. Rather than creating a circle button, tt creates an oval button in order to accommodate an icon on the left and a label on the right.</p><p>Typically there is one <code>FloatingActionButton</code> per <code>Scaffold</code>. To have more than one, wrap them in a <code>Row</code> or <code>Column</code>. The following code creates two <code>FloatingActionButton</code> widgets and places them in the lower-left and lower-right corners of the screen.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// Scaffold arguments</span><br>floatingActionButton<span class="token punctuation">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>  padding<span class="token punctuation">:</span> <span class="token keyword">const</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  child<span class="token punctuation">:</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>    mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span><br>    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>      <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'FAB1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        heroTag<span class="token punctuation">:</span> <span class="token string">'fab1'</span><span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'FAB2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        heroTag<span class="token punctuation">:</span> <span class="token string">'fab2'</span><span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span><br>floatingActionButtonLocation<span class="token punctuation">:</span> FloatingActionButtonLocation<span class="token punctuation">.</span>centerDocked<span class="token punctuation">,</span></code></pre><p>When a page contains more than one <code>FloatingActionButton</code>, each must be given a unique <code>heroTag</code> <code>String</code> value.</p><p>It is also possible to use <code>FloatingActionButton</code> widgets outside of the <code>Scaffold</code> <code>floatingActionButton</code> argument like any other widget.</p><h4 id="textfield-and-textformfield-widgets">TextField and TextFormField Widgets</h4><p>The <a href="https://api.flutter.dev/flutter/material/TextField-class.html?v=1.0.19" rel="noopener" target="_blank">TextField</a> and <a href="https://api.flutter.dev/flutter/material/TextFormField-class.html?v=1.0.19" rel="noopener" target="_blank">TextFormField</a> widget constructors take many optional arguments. The highlights are described in the following table:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>autoCorrect</code></td><td><code>bool</code> indicating of the value should be auto-corrected</td></tr><tr><td><code>controller</code></td><td><code>TextEditingController</code> (described later)</td></tr><tr><td><code>decoration</code></td><td><code>InputDecoration</code> that specifies styling details</td></tr><tr><td><code>inputFormatters</code></td><td><code>List&lt;TextInputFormatter&gt;?</code> input validation</td></tr><tr><td><code>keyboardType</code></td><td><code>TextInputType</code> that requests a certain kind of on-screen keyboard</td></tr><tr><td><code>maxLength</code></td><td><code>int</code> maximum length defaulting to no limit</td></tr><tr><td><code>maxLines</code></td><td><code>int</code> defaulting to <code>1</code></td></tr><tr><td><code>obscureText</code></td><td><code>bool</code> indicating of the value should be obscured (ex. for passwords)</td></tr><tr><td><code>onChanged</code></td><td>function called with new value when the user changes it</td></tr><tr><td><code>readOnly</code></td><td><code>bool</code> indicating if the value cannot currently be modified</td></tr><tr><td><code>style</code></td><td><code>TextStyle</code> of text being edited</td></tr></tbody></table><p>Specify the <code>maxLength</code> argument causes the number of characters entered and the maximum length to be displayed below the input, right justified. For example, &quot;4/10&quot; means 4 characters have been entered out of a maximum of 10.</p><p>The <code>TextFormField</code> constructor takes the following additional optional arguments.</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>initialValue</code></td><td><code>String</code> initial value</td></tr><tr><td><code>validator</code></td><td>function called when value changes (see &quot;Form Validation&quot; section)</td></tr></tbody></table><p>The <code>InputDecoration</code> class specifies styling to be applied described by optional arguments passed to its constructor. The highlights are described in the following table:</p><table><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code>border</code></td><td><code>InputBorder</code> describing a kind of border to be added</td></tr><tr><td><code>errorText</code></td><td><code>String</code> displayed below the input, typically in red</td></tr><tr><td><code>helperText</code></td><td><code>String</code> displayed below the input when there is <code>errorText</code></td></tr><tr><td><code>hintText</code></td><td><code>String</code> displayed inside the input when no value is entered</td></tr><tr><td><code>icon</code></td><td><code>Widget</code> displayed before the input</td></tr><tr><td><code>label</code></td><td><code>Widget</code></td></tr><tr><td><code>labelText</code></td><td><code>String</code> that indicates the meaning of the input</td></tr><tr><td><code>prefix</code></td><td><code>Widget</code> displayed inside the input before entered text</td></tr><tr><td><code>prefixIcon</code></td><td><code>Widget</code> displayed inside the input before entered text</td></tr><tr><td><code>prefixText</code></td><td><code>String</code> displayed inside the input before entered text</td></tr><tr><td><code>suffix</code></td><td><code>Widget</code> displayed inside the input after entered text</td></tr><tr><td><code>suffixIcon</code></td><td><code>Widget</code> displayed inside the input after entered text</td></tr><tr><td><code>suffixText</code></td><td><code>String</code> displayed inside the input after entered text</td></tr></tbody></table><p>When <code>errorText</code> is set, the border and label (if any) become red. Set this to <code>null</code> to indicate that the value is valid and no error message should be displayed.</p><p>It is not valid to specify both <code>prefix</code> and <code>prefixText</code>. Likewise, it is not valid to specify both <code>suffix</code> and <code>suffixText</code>.</p><p>The <code>TextInputType</code> class defines static properties for various kinds of on-screen keyboards. These properties include <code>datetime</code>, <code>emailAddress</code>, <code>multiline</code>, <code>name</code>, <code>none</code> (no on-screen keyboard), <code>number</code>, <code>phone</code>, <code>streetAddress</code>, <code>text</code>, <code>url</code>, and <code>visiblePassword</code>. For example, to get an on-screen keyboard that is optimized for entering numbers, specify <code>keyboardType: TextInputType.number</code>.</p><p>The following code demonstrates creating a <code>TextFormField</code> for entering a dollar amount. It uses <code>prefix</code> and <code>suffix</code> widgets.</p><p><img alt="Flutter TextFormField with prefix and suffix" style="width: 60%" src="/blog/assets/flutter-textformfield-prefix-suffix.png?v=1.0.19" title="Flutter TextFormField with prefix and suffix"></p><pre class="language-dart"><code class="language-dart">    <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        contentPadding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span>zero<span class="token punctuation">,</span><br>        helperText<span class="token punctuation">:</span> <span class="token string">'Enter the price in whole U.S. dollars.'</span><span class="token punctuation">,</span><br>        hintText<span class="token punctuation">:</span> <span class="token string">'price in USD'</span><span class="token punctuation">,</span><br>        labelText<span class="token punctuation">:</span> <span class="token string">'Price'</span><span class="token punctuation">,</span><br>        prefix<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">MyText</span><span class="token punctuation">(</span><span class="token string">'\$'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span><br>          margin<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>right<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        suffix<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">MyText</span><span class="token punctuation">(</span><span class="token string">'.00'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span><br>          margin<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      initialValue<span class="token punctuation">:</span> <span class="token string">'0'</span><span class="token punctuation">,</span><br>      inputFormatters<span class="token punctuation">:</span> <span class="token operator">&lt;</span>TextInputFormatter<span class="token operator">></span><span class="token punctuation">[</span><br>        FilteringTextInputFormatter<span class="token punctuation">.</span>digitsOnly<span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token comment">// This is not enough to restrict the value entered.</span><br>      <span class="token comment">// inputFormatters must also be specified.</span><br>      keyboardType<span class="token punctuation">:</span> TextInputType<span class="token punctuation">.</span>number<span class="token punctuation">,</span><br>      maxLength<span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>icon</code>, <code>prefixIcon</code>, and <code>suffixIcon</code> arguments can be set to any widget, not just an <code>Icon</code>. For example, they can be be <code>IconButton</code> widgets in order to execute code when they are tapped. A ternary operator can be used to display different icons based on the current state.</p><p>The following code demonstrates creating a custom widget for entering passwords that allows the user to toggle between obscuring and showing the value. The <code>suffixIcon</code> is an <code>IconButton</code> that toggles the value of <code>obscureText</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">typedef</span> ValidatorFn <span class="token operator">=</span> String<span class="token operator">?</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>String<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyPasswordField</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String initialValue<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String labelText<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span> onChanged<span class="token punctuation">;</span><br>  <span class="token comment">// Optional function for validating the entered password.</span><br>  <span class="token keyword">final</span> ValidatorFn validator<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">MyPasswordField</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>initialValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>labelText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _MyPasswordFieldState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_MyPasswordFieldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_MyPasswordFieldState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyPasswordField<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> obscure <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> validator <span class="token operator">=</span> widget<span class="token punctuation">.</span>validator<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        labelText<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>labelText<span class="token punctuation">,</span><br>        suffixIcon<span class="token punctuation">:</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>          <span class="token comment">// The icon will either be an eye to show the text</span><br>          <span class="token comment">// or an eye with a slash through it to obscure the text.</span><br>          icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>obscure <span class="token operator">?</span> Icons<span class="token punctuation">.</span>visibility <span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>visibility_off<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> obscure <span class="token operator">=</span> <span class="token operator">!</span>obscure<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      initialValue<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>initialValue<span class="token punctuation">,</span><br>      obscureText<span class="token punctuation">:</span> obscure<span class="token punctuation">,</span><br>      onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> widget<span class="token punctuation">.</span><span class="token function">onChanged</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      validator<span class="token punctuation">:</span> validator<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Instances of the <a href="https://api.flutter.dev/flutter/widgets/TextEditingController-class.html?v=1.0.19" rel="noopener" target="_blank">TextEditingController</a> class can be passed to the <code>TextField</code> and <code>TextFormField</code> constructors in their <code>controller</code> argument. These objects specify the initial value, hold the current value (in their <code>text</code> property), can return the currently selected text, can clear the value, and support adding listeners that are notified when the value changes. Note that <code>TextField</code> and <code>TextFormField</code> widgets are not required to have a controller. They can instead obtain new values using an <code>onChanged</code> callback.</p><p>On the surface it seems the main reason to prefer using <code>TextFormField</code> over <code>TextField</code> is to place it inside a <code>Form</code> and have validation. But another consideration is the ability to specify an initial value. The only way to do this with at <code>TextField</code> is to use a <code>TextEditingController</code> which can also be done with a <code>TextFormField</code>.</p><p>The following code demonstrates using a <code>TextField</code> with an initial value that is specified using a <code>TextEditingController</code>. When the user types a new value, the <code>Text</code> below it is updated. The <code>TextField</code> contains an <code>IconButton</code> that when clicked clears the value. This code and the related code that follows can be found in <a href="https://github.com/mvolkmann/flutter_testfield_vs_textformfield?v=1.0.19" rel="noopener" target="_blank">GitHub</a>.</p><p><img alt="Flutter TextField" style="width: 60%" src="/blog/assets/flutter-textfield.png?v=1.0.19" title="Flutter TextField"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Greet1</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Greet1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _Greet1State <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_Greet1State</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_Greet1State</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Greet1<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> tec <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span>text<span class="token punctuation">:</span> <span class="token string">'Mark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// initial value</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// This triggers a rebuild of the widget</span><br>    <span class="token comment">// so the suffixIcon can be reevaluated.</span><br>    tec<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">TextField</span><span class="token punctuation">(</span><br>          controller<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>          decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>            border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            labelText<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span><br>            suffixIcon<span class="token punctuation">:</span> tec<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty<br>                <span class="token operator">?</span> <span class="token function">Container</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>                <span class="token punctuation">:</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>                    icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>close<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> tec<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">// This is needed to listen for changes in the TextEditingController.</span><br>        ValueListenableBuilder<span class="token operator">&lt;</span>TextEditingValue<span class="token operator">></span><span class="token punctuation">(</span><br>          valueListenable<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>          builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> value<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span>tec<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">'Hello, ${tec.text}!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following code demonstrates the same functionality as above, but using a <code>TextFormField</code>. Since this code is less complex, it can be preferrable to use <code>TextFormField</code> even when validation is not needed. However, if there is a need to update the <code>initialValue</code>, this will not work because the initial value cannot be changed. Unlike in the previous example, when the <code>IconButton</code> is tapped, the value in the <code>TextFormField</code> is not cleared. This can only be done when using a <code>TextEditingController</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Greet2</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Greet2</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _Greet2State <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_Greet2State</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_Greet2State</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Greet2<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span> <span class="token comment">// initial value</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>          decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>            border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            labelText<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span><br>            suffixIcon<span class="token punctuation">:</span> name<span class="token punctuation">.</span>isEmpty<br>                <span class="token operator">?</span> <span class="token function">Container</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>                <span class="token punctuation">:</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>                    icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>close<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                    <span class="token comment">// This doesn't clear the text displayed!</span><br>                    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          initialValue<span class="token punctuation">:</span> name<span class="token punctuation">,</span><br>          onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token comment">// This doesn't clear the text displayed!</span><br>            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> name <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">'Hello, $name!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The bottom line is that text input in Flutter is a bit complicated. Like many things in Flutter, a good approach is to wrap complexity in custom widgets and use them everywhere instead of directly using provided widgets. This also provides an opportunity to specify application-specific styling. The following code demonstrates a custom widget that does this.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">EasyTextField</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String label<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> ValueChanged<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token operator">?</span> onChanged<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String value<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">EasyTextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _EasyTextFieldState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_EasyTextFieldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_EasyTextFieldState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>EasyTextField<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> tec <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    tec<span class="token punctuation">.</span>text <span class="token operator">=</span> widget<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">TextField</span><span class="token punctuation">(</span><br>      controller<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        labelText<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>label<span class="token punctuation">,</span><br>        suffixIcon<span class="token punctuation">:</span> tec<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty<br>            <span class="token operator">?</span> <span class="token function">Container</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span><br>            <span class="token punctuation">:</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>                icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>close<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> tec<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                  <span class="token comment">// This causes a new value for</span><br>                  <span class="token comment">// the "value" parameter to be passed in</span><br>                  <span class="token comment">// which allows the suffixIcon to be reevaluated.</span><br>                  <span class="token comment">// Unlike in Greet1 there is no need to</span><br>                  <span class="token comment">// add a listener to the TextEditingController.</span><br>                  widget<span class="token punctuation">.</span>onChanged<span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token punctuation">}</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      onChanged<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of using the custom widget defined above. Note how much simpler this component is than the <code>Greet1</code> and <code>Greet2</code> components.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'easy_text_field.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Greet3</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Greet3</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _Greet3State <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_Greet3State</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_Greet3State</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Greet3<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">EasyTextField</span><span class="token punctuation">(</span><br>          label<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span><br>          value<span class="token punctuation">:</span> name<span class="token punctuation">,</span><br>          onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> name <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">'Hello, $name!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>In mobile apps an on-screen keyboard appears when focus is a text field. In the iOS simulator, the on-screen keyboard will not appear unless it is toggled on by pressing cmd-k.</p><p>When focus leaves a text field and is not in a new text field, the keyboard should be hidden. This occurs by default in Android, but not in iOS. To make this happen in iOS, define to following widget and wrap the top widget (typically <code>MaterialApp</code>) in it.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">DismissKeyboard</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> Widget child<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">DismissKeyboard</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">GestureDetector</span><span class="token punctuation">(</span><br>      <span class="token comment">// If a TextField has focus, causing the on-screen keyboard to appear,</span><br>      <span class="token comment">// this code will detect taps outside of it and hide the keyboard.</span><br>      <span class="token comment">// However, if what is tapped is a button, this code will not be invoked.</span><br>      <span class="token comment">// It seems that buttons swallow this event.</span><br>      onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        FocusScopeNode currentFocus <span class="token operator">=</span> FocusScope<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>currentFocus<span class="token punctuation">.</span>hasPrimaryFocus <span class="token operator">&amp;&amp;</span><br>            currentFocus<span class="token punctuation">.</span>focusedChild <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          FocusManager<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>primaryFocus<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">unfocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> child<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Another option is to hide the on-screen keyboard if the user scrolls the page. For each custom widget class that defines a page in the app that supports scrolling using a <code>ListView</code> widget, do the following:</p><ol><li><p>Declare in property that holds an instance of <code>ScrollController</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> scrollController <span class="token operator">=</span> <span class="token function">ScrollController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Override the <code>initState</code> method.</p><pre class="language-dart"><code class="language-dart"><span class="token metadata symbol">@override</span><br><span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  scrollController<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Remove focus from the TextField that</span><br>    <span class="token comment">// triggered the on-screen keyboard to open.</span><br>    FocusScope<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token function">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Override the <code>dispose</code> method.</p><pre class="language-dart"><code class="language-dart"><span class="token metadata symbol">@override</span><br><span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  scrollController<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Pass the <code>ScrollController</code> instance to the <code>ListView</code>.</p><pre class="language-dart"><code class="language-dart"><span class="token function">ListView</span><span class="token punctuation">(</span><br>  controller<span class="token punctuation">:</span> scrollController<span class="token punctuation">,</span><br>  children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre></li></ol><h3 id="dialog-widgets">Dialog Widgets</h3><p>Flutter provides many widgets that render modal dialogs. Each of these are described in the following table:</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/material/AboutDialog-class.html?v=1.0.19" rel="noopener" target="_blank">AboutDialog</a></td><td>contains the &quot;application's icon, name, version number, and copyright, plus a button to show licenses for software used by the application&quot;</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/AlertDialog-class.html?v=1.0.19" rel="noopener" target="_blank">AlertDialog</a></td><td>creates a dialog containing a message and some buttons</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoAlertDialog-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoAlertDialog</a></td><td>iOS-themed version of <code>AlertDialog</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/DatePickerDialog-class.html?v=1.0.19" rel="noopener" target="_blank">DatePickerDialog</a></td><td>contains help text and a <code>CalendarDatePicker</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/DateRangePickerDialog-class.html?v=1.0.19" rel="noopener" target="_blank">DateRangePickerDialog</a></td><td>contains help text and a <code>CalendarDatePicker</code> that supports selecting both a start and end date</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/Dialog-class.html?v=1.0.19" rel="noopener" target="_blank">Dialog</a></td><td>used by other dialogs, but not by extending; not typically used directly</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/SimpleDialog-class.html?v=1.0.19" rel="noopener" target="_blank">SimpleDialog</a></td><td>contains a title and a list of clickable <code>SimpleDialogOption</code> options</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/TimePickerDialog-class.html?v=1.0.19" rel="noopener" target="_blank">TimePickerDialog</a></td><td>contains a &quot;lollipop&quot; UI for selecting an hour and minute in a day with toggle buttons for AM and PM</td></tr></tbody></table><p>Flutter also provides a set of functions that show a dialog. All of these return a <code>Future</code> that completes when the user does something to dismiss the dialog. These functions are described in the following table:</p><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/material/showDialog.html?v=1.0.19" rel="noopener" target="_blank">showDialog</a></td><td>displays any dialog returned by the function specified in its <code>builder</code> argument</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/showCupertinoDialog.html?v=1.0.19" rel="noopener" target="_blank">showCupertinoDialog</a></td><td>like <code>showDialog</code>, but themed for iOS</td></tr><tr><td><a href="https://api.flutter.dev/flutter/widgets/showGeneralDialog.html?v=1.0.19" rel="noopener" target="_blank">showGeneralDialog</a></td><td>like <code>showDialog</code> but supports customizing the transition used to display the dialog</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/showDatePicker.html?v=1.0.19" rel="noopener" target="_blank">showDatePicker</a></td><td>provides an easier way to display a <code>DatePickerDialog</code> than using the above functions</td></tr><tr><td><a href="https://api.flutter.dev/flutter/material/showDateRangePicker.html?v=1.0.19" rel="noopener" target="_blank">showDateRangePicker</a></td><td>provides an easier way to display a <code>DateRangePickerDialog</code> than using the above functions</td></tr></tbody></table><p>By default, dialogs created with the <code>showDialog</code> function are dismissed if a user taps outside them. To prevent this, pass the <code>barrierDismissible</code> argument with a value of <code>false</code>.</p><p>Dialogs created with the <code>showCupertinoDialog</code> and <code>showGeneralDialog</code> functions have the opposite default. To cause them to be dismissed if a user taps outside them, pass the <code>barrierDismissible</code> argument with a value of <code>true</code>.</p><p>Dialogs created with the <code>showDatePicker</code> and <code>showDatePickerRange</code> functions are always dismissed if a user taps outside them. They do not take a <code>barrierDismissible</code> argument, so this behavior cannot be changed.</p><p>The <code>showDatePickerRange</code> displays a full-screen modal dialog while the other <code>show</code> functions display modal dialogs that do not cover the full screen.</p><p>The following code simplifies the use of <code>AlertDialog</code> and provides the functions <code>alert</code> and <code>confirm</code> which are similar to their HTML counterparts.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/cupertino.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">/// Displays an AlertDialog with an OK button</span><br><span class="token comment">/// which just closes the dialog.  No value is returned.</span><br>Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  required BuildContext context<span class="token punctuation">,</span><br>  required String title<span class="token punctuation">,</span><br>  required String message<span class="token punctuation">,</span><br>  bool cupertino <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">await</span> showDialog<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><br>    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>    <span class="token comment">// The builder function can return any kind of dialog.</span><br>    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">MyAlertDialog</span><span class="token punctuation">(</span><br>      cupertino<span class="token punctuation">:</span> cupertino<span class="token punctuation">,</span><br>      title<span class="token punctuation">:</span> title<span class="token punctuation">,</span><br>      message<span class="token punctuation">:</span> message<span class="token punctuation">,</span><br>      options<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'OK'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/// Displays an AlertDialog with No and Yes buttons</span><br><span class="token comment">/// and returns a Future that succeeds with a String</span><br><span class="token comment">/// that is the text on the pressed button.</span><br>Future<span class="token operator">&lt;</span>String<span class="token operator">?</span><span class="token operator">></span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  required BuildContext context<span class="token punctuation">,</span><br>  required String title<span class="token punctuation">,</span><br>  required String message<span class="token punctuation">,</span><br>  bool cupertino <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">await</span> showDialog<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">(</span><br>    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">MyAlertDialog</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> title<span class="token punctuation">,</span><br>      message<span class="token punctuation">:</span> message<span class="token punctuation">,</span><br>      options<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'No'</span><span class="token punctuation">,</span> <span class="token string">'Yes'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyAlertDialog</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> bool cupertino<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String title<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String message<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span> options<span class="token punctuation">;</span><br><br>  <span class="token function">MyAlertDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>cupertino <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Dialogs are treated like routes, so to close a dialog and</span><br>    <span class="token comment">// return the previous route, call Navigator.pop(context).</span><br>    <span class="token keyword">var</span> buttons <span class="token operator">=</span> options<br>        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><br>          <span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">TextButton</span><span class="token punctuation">(</span><br>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> option<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> cupertino<br>        <span class="token operator">?</span> <span class="token function">CupertinoAlertDialog</span><span class="token punctuation">(</span><br>            title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            content<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// can be any widget</span><br>            actions<span class="token punctuation">:</span> buttons<span class="token punctuation">,</span> <span class="token comment">// typically a List of TextButton widgets</span><br>          <span class="token punctuation">)</span><br>        <span class="token punctuation">:</span> <span class="token function">AlertDialog</span><span class="token punctuation">(</span><br>            title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            content<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// can be any widget</span><br>            actions<span class="token punctuation">:</span> buttons<span class="token punctuation">,</span> <span class="token comment">// typically a List of TextButton widgets</span><br>          <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following code demonstrates using each of the supported dialog types.</p><figure style="width: 30%"><img alt="Flutter Dialogs" src="/blog/assets/flutter-dialogs.png?v=1.0.19" title="Flutter Dialogs"><figcaption>Flutter Dialogs</figcaption></figure><figure style="width: 30%"><img alt="Flutter About Dialog" src="/blog/assets/flutter-dialog-about.png?v=1.0.19" title="Flutter About Dialog"><figcaption>Flutter About Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter About Dialog Licenses" src="/blog/assets/flutter-dialog-about-licenses.png?v=1.0.19" title="Flutter About Dialog Licenses"><figcaption>Flutter About Dialog Licenses</figcaption></figure><figure style="width: 30%"><img alt="Flutter Material Alert Dialog" src="/blog/assets/flutter-dialog-alert.png?v=1.0.19" title="Flutter Material Alert Dialog"><figcaption>Flutter Material Alert Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter Cupertino Alert Dialog" src="/blog/assets/flutter-dialog-alert-cupertino.png?v=1.0.19" title="Flutter Cupertino Alert Dialog"><figcaption>Flutter Cupertino Alert Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter Confirm Dialog" src="/blog/assets/flutter-dialog-confirm.png?v=1.0.19" title="Flutter Confirm Dialog"><figcaption>Flutter Confirm Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter Date Picker Dialog" src="/blog/assets/flutter-dialog-date-picker.png?v=1.0.19" title="Flutter Date Picker Dialog"><figcaption>Flutter Date Picker Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter Date Range Dialog" src="/blog/assets/flutter-dialog-date-range.png?v=1.0.19" title="Flutter Date Range Dialog"><figcaption>Flutter Date Range Dialog</figcaption></figure><figure style="width: 30%"><img alt="Flutter Time Picker Dialog" src="/blog/assets/flutter-dialog-time-picker.png?v=1.0.19" title="Flutter Time Picker Dialog"><figcaption>Flutter Time Picker Dialog</figcaption></figure><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'my_alert_dialog.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Dialog Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyHomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">_alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required BuildContext context<span class="token punctuation">,</span><br>    bool cupertino <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    required String message<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">alert</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>      cupertino<span class="token punctuation">:</span> cupertino<span class="token punctuation">,</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Alert'</span><span class="token punctuation">,</span><br>      message<span class="token punctuation">:</span> message<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_confirm</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required BuildContext context<span class="token punctuation">,</span><br>    required String question<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> answer <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">confirm</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Confirm'</span><span class="token punctuation">,</span><br>      message<span class="token punctuation">:</span> question<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'answer = $answer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_pickDate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required BuildContext context<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> dateTime <span class="token operator">=</span> DateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> newDateTime <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showDatePicker</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>      helpText<span class="token punctuation">:</span> <span class="token string">'Select a date.'</span><span class="token punctuation">,</span><br>      initialDate<span class="token punctuation">:</span> dateTime<span class="token punctuation">,</span><br>      firstDate<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">1970</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      lastDate<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">2030</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'newDateTime = $newDateTime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_pickDateRange</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required BuildContext context<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> dateRange <span class="token operator">=</span> <span class="token function">DateTimeRange</span><span class="token punctuation">(</span><br>      start<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      end<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Click the start date, then click the end date.</span><br>    <span class="token comment">// Click again to start over, selecting a new start date.</span><br>    <span class="token comment">// The days in between will be shaded</span><br>    <span class="token comment">// to indicate that they are in the range.</span><br>    <span class="token keyword">var</span> newDateRange <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showDateRangePicker</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>      helpText<span class="token punctuation">:</span> <span class="token string">'Select start and end dates.'</span><span class="token punctuation">,</span><br>      initialDateRange<span class="token punctuation">:</span> dateRange<span class="token punctuation">,</span><br>      firstDate<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">1970</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      lastDate<span class="token punctuation">:</span> <span class="token function">DateTime</span><span class="token punctuation">(</span><span class="token number">2030</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'newDateRange = $newDateRange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_pickTime</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> time <span class="token operator">=</span> <span class="token function">TimeOfDay</span><span class="token punctuation">(</span>hour<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> minute<span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> newTime <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showDialog</span><span class="token punctuation">(</span><br>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">TimePickerDialog</span><span class="token punctuation">(</span><br>        helpText<span class="token punctuation">:</span> <span class="token string">'Select a time.'</span><span class="token punctuation">,</span><br>        initialTime<span class="token punctuation">:</span> time<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'newTime = $newTime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_showAbout</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">showDialog</span><span class="token punctuation">(</span><br>        context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">AboutDialog</span><span class="token punctuation">(</span><br>              applicationIcon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>ac_unit_outlined<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              applicationName<span class="token punctuation">:</span> <span class="token string">'Dialog Demos'</span><span class="token punctuation">,</span><br>              applicationVersion<span class="token punctuation">:</span> <span class="token string">'1.0.0'</span><span class="token punctuation">,</span><br>              applicationLegalese<span class="token punctuation">:</span> <span class="token string">'All rights reserved.'</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Dialog Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'About...'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_showAbout</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show Material Alert Dialog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_alert</span><span class="token punctuation">(</span><br>                context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>                message<span class="token punctuation">:</span> <span class="token string">'Something interesting happened.'</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show Cupertino Alert Dialog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_alert</span><span class="token punctuation">(</span><br>                context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>                cupertino<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>                message<span class="token punctuation">:</span> <span class="token string">'Something interesting happened.'</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show Confirm Dialog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_confirm</span><span class="token punctuation">(</span><br>                context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>                question<span class="token punctuation">:</span> <span class="token string">'Are you sure?'</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show DatePickerDialog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token function">_pickDate</span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Select Date Range'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_pickDateRange</span><span class="token punctuation">(</span>context<span class="token punctuation">:</span> context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Select Time'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_pickTime</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="bottom-sheets">Bottom Sheets</h3><p>Bottom sheets are a less intrusive alternative to dialogs. They slide up from the bottom and can be dragged back down by the user or closed programmatically. They can be modal or non-modal.</p><p>Bottom sheets attach themselves to the nearest <code>Scaffold</code> widget.</p><p>To display a bottom sheet, call the function <code>showBottomSheet</code> (for non-modal) or <code>showModalBottomSheet</code> (for modal). These functions take many arguments, but the most commonly used are:</p><ul><li><code>context</code>: any <code>BuildContext</code> that is inside the <code>Scaffold</code></li><li><code>builder</code>: function that takes a <code>BuildContext</code> and returns a widget to render</li><li><code>backgroundColor</code>: a <code>Color</code> object</li></ul><p>It is recommended to return a <code>SafeArea</code> widget from the <code>builder</code> function that wraps the widget to be rendered. This avoid having the bottom sheet overlap unsafe areas such as a status bar.</p><p>Non-modal bottom sheets do not automatically span the width of the device. To achieve this, wrap the <code>SafeArea</code> child in a <code>SizedBox</code> and pass it the <code>width</code> argument with a value of <code>double.infinity</code>.</p><p>If the <code>SafeArea</code> child is a <code>Column</code> widget, it will not automatically have its height adjusted to match its content. To do this, wrap the <code>Column</code> widget in a <code>SizedBox</code> and pass it the <code>mainAxisSize</code> argument with a value of <code>MainAxisSize.min</code>.</p><p>While the user can close the bottom sheet by dragging it down, it may be desirable to include a close button that calls <code>Navigator.pop(context)</code> to close it. Alternatively, capture the controller returned by the <code>showBottomSheet</code> or <code>showModalBottomSheet</code> function and call the <code>close</code> method on that controller object.</p><p>The following helper function addresses all the concerns described above.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">openBottomSheet</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  Color backgroundColor <span class="token operator">=</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>  required BuildContext context<span class="token punctuation">,</span><br>  required Widget widget<span class="token punctuation">,</span><br>  bool modal <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>  bool includeCloseButton <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> fn <span class="token operator">=</span> modal <span class="token operator">?</span> showModalBottomSheet <span class="token punctuation">:</span> showBottomSheet<span class="token punctuation">;</span><br>  fn<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">(</span><br>    backgroundColor<span class="token punctuation">:</span> backgroundColor<span class="token punctuation">,</span><br>    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">SafeArea</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>            widget<span class="token punctuation">,</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>includeCloseButton<span class="token punctuation">)</span><br>              <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>                child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Close'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>          mainAxisSize<span class="token punctuation">:</span> MainAxisSize<span class="token punctuation">.</span>min<span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of using the helper function above to display a non-modal and modal bottom sheet:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'bottom_sheet.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Flutter BottomSheet Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">MyHomePage</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">'BottomSheet Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyHomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> sheetWidget <span class="token operator">=</span> <span class="token function">Text</span><span class="token punctuation">(</span><br>    <span class="token string">'I am in a BottomSheet.'</span><span class="token punctuation">,</span><br>    style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> String title<span class="token punctuation">;</span><br><br>  <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        <span class="token comment">// Using Builder just to get a Context inside Scaffold</span><br>        <span class="token comment">// so the showBottomSheet function can find the Scaffold.</span><br>        child<span class="token punctuation">:</span> <span class="token function">Builder</span><span class="token punctuation">(</span><br>          builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token keyword">var</span> nonModalButton <span class="token operator">=</span> <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show Non-Modal BottomSheet'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">openBottomSheet</span><span class="token punctuation">(</span> <span class="token comment">// function defined above</span><br>                backgroundColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span><br>                context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>                includeCloseButton<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>                modal<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>                widget<span class="token punctuation">:</span> sheetWidget<span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            <span class="token keyword">var</span> modalButton <span class="token operator">=</span> <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show Modal BottomSheet'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">openBottomSheet</span><span class="token punctuation">(</span><br>                context<span class="token punctuation">:</span> context<span class="token punctuation">,</span><br>                modal<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>                widget<span class="token punctuation">:</span> sheetWidget<span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>              mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>              children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span>nonModalButton<span class="token punctuation">,</span> modalButton<span class="token punctuation">]</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="snackbars">SnackBars</h3><p>SnackBars are similar to bottom sheets. Both slide in from the bottom. But SnackBars are intended for short messages that only appear briefly.</p><p>The <code>SnackBar</code> constructor takes many arguments, but the most commonly used are:</p><ul><li><code>action</code>: a <code>SnackBarAction</code> object that acts like a <code>TextButton</code></li><li><code>backgroundColor</code>: a <code>Color</code> object</li><li><code>behavior</code>: a <code>SnackBarBehavior</code> enum with values <code>fixed</code> (default; displays above widgets fixed at the bottom of the screen like <code>BottomNavigationBar</code> and <code>FloatingActionButton</code>) and <code>floating</code> (displays on top of widgets fixed at the bottom of the screen)</li><li><code>content</code>: any widget to display</li><li><code>dismissDirection</code>: <code>DismissDirection</code> enum that defaults to <code>down</code></li><li><code>duration</code>: <code>Duration</code> object that defaults to 4 seconds</li><li><code>elevation</code>: <code>double</code> z-index; defaults to 6; set to <code>0</code> for a flat look that has no shadow</li><li><code>margin</code>: <code>EdgeInsetsGeometry</code> object applied outside <code>SnackBar</code> when <code>width</code> is not specified</li><li><code>padding</code>: <code>EdgeInsetsGeometry</code> object applied inside <code>SnackBar</code></li><li><code>width</code>: <code>double</code> width of <code>SnackBar</code> that defaults to the device width minus the <code>margin</code></li></ul><p>A failed assertion is triggered if both <code>margin</code> and <code>width</code> are specified.</p><p>The <code>SnackBarAction</code> constructor takes the following arguments:</p><ul><li><code>disabledTextColor</code>: <code>Color</code> used for text after the <code>SnackBar</code> is dismissed</li><li><code>label</code>: <code>String</code> to display; does not wrap so keep this short</li><li><code>textColor</code>: <code>Color</code> used for text before the <code>SnackBar</code> is dismissed; defaults to the <code>ThemeData</code> <code>primarySwatch</code> color</li><li><code>onPressed</code>: function to call when the label is tapped</li></ul><p>Here is an example of a <code>SnackBar</code> that displays an error message. Some of the <code>SnackBar</code> arguments are commented out just to show valid values for them.</p><p><img alt="Flutter SnackBar" style="width: 40%" src="/blog/assets/flutter-snackbar.png?v=1.0.19" title="Flutter SnackBar"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MyHomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String title<span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> snackBar <span class="token operator">=</span> <span class="token function">SnackBar</span><span class="token punctuation">(</span><br>    action<span class="token punctuation">:</span> <span class="token function">SnackBarAction</span><span class="token punctuation">(</span><br>      label<span class="token punctuation">:</span> <span class="token string">'Panic'</span><span class="token punctuation">,</span><br>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got press'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      textColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    backgroundColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">.</span>shade900<span class="token punctuation">,</span><br>    <span class="token comment">//behavior: SnackBarBehavior.floating,</span><br>    content<span class="token punctuation">:</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>error_outline<span class="token punctuation">,</span> color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">SizedBox</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">// Using Expanded allows the text to wrap.</span><br>        <span class="token function">Expanded</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><br>            <span class="token string">'This is a long sentence that will require wrapping.'</span><span class="token punctuation">,</span><br>            style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token comment">//dismissDirection: DismissDirection.up,</span><br>    duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token comment">//elevation: 0,</span><br>    <span class="token comment">//margin: EdgeInsets.all(10),</span><br>    <span class="token comment">//padding: EdgeInsets.all(10),</span><br>    <span class="token comment">//shape: StadiumBorder(),</span><br>    <span class="token comment">//width: 200,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show SnackBar #1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                ScaffoldMessenger<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>                  <span class="token comment">// If another SnackBar is currently displayed, remove it.</span><br>                  <span class="token comment">// There are two methods that do this.</span><br>                  <span class="token comment">//..hideCurrentSnackBar() // runs exit animation</span><br>                  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">removeCurrentSnackBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// does not run exit animation</span><br>                  <span class="token comment">// Now show the new SnackBar.</span><br>                  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>snackBar<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Show SnackBar #2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                ScaffoldMessenger<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><br>                  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">hideCurrentSnackBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>                  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>snackBar<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="cupertino-widgets">Cupertino Widgets</h3><p>These widgets use iOS styling rather than Material Design. They are documented at <a href="https://docs.flutter.dev/development/ui/widgets/cupertino?v=1.0.19" rel="noopener" target="_blank">Cupertino (iOS-style) widgets</a>.</p><p>To use Cupertino widgets in a Dart source file, add the following import:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/cupertino.dart'</span><span class="token punctuation">;</span></code></pre><p>The <a href="https://api.flutter.dev/flutter/cupertino/CupertinoColors-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoColors</a> class defines constants for colors that are commonly used in iOS apps. The type of these constants is <code>CupertinoDynamicColor</code> which extends <code>Color</code>, so they can be used anywhere a <code>Color</code> value is expected. Examples include <code>activeBlue</code>, <code>destructiveRed</code>, <code>inactiveGray</code>, <code>label</code>, <code>lightBackgroundGray</code>, <code>link</code>, <code>placeholderText</code>, <code>separator</code>, <code>systemBackground</code>, and <code>systemBlue</code>.</p><table><thead><tr><th>Widget</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoActionSheet-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoActionSheet</a></td><td>modal that slides up from bottom to allow selection from a set of options; sometimes used for confirmation dialogs</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoActivityIndicator-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoActivityIndicator</a></td><td>iOS-style spinner</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoAlertDialog-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoAlertDialog</a></td><td>iOS-style alert dialog with a title, message, and set of buttons</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoButton-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoButton</a></td><td>iOS-style button that can be tapped to execute associated code</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoContextMenu-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoContextMenu</a></td><td>iOS-style modal containing a set of tappable options rendered when a specific widget is long-pressed</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoDatePicker-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoDatePicker</a></td><td>iOS-style wheel picker for entering a date and time</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoDialogAction-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoDialogAction</a></td><td>button with no background color or border, typically used in <code>CupertinoAlertDialog</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoFullscreenDialogTransition-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoFullScreenDialogTransition</a></td><td>iOS-style transition used to render fullscreen dialogs</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoNavigationBar-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoNavigationBar</a></td><td>iOS-style top navigation bar typically used with <code>CupertinoPageScaffold</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoPageScaffold-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPageScaffold</a></td><td>common iOS-style page layout</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoPageTransition-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPageTransition</a></td><td>iOS-style page transition animation</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoPicker-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPicker</a></td><td>iOS-style wheel picker</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoPopupSurface-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPopupSurface</a></td><td>rounded rectangle for an alert dialog or action sheet</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoScrollbar-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoScrollbar</a></td><td>iOS-style scrollbar</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSearchTextField-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSearchTextField</a></td><td>iOS-style search input</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSegmentedControl-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSegmentedControl</a></td><td>iOS-style segmented control which is a horizontal list of mutually-exclusive buttons</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSlider-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSlider</a></td><td>iOS-style slider for selecting a value from a range</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSlidingSegmentedControl-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSlidingSegmentedControl</a></td><td>iOS-style segmented control which is a horizontal list of buttons</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSliverNavigationBar-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSliverNavigationBar</a></td><td>iOS-style navigation bar with a large title</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoSwitch-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoSwitch</a></td><td>iOS-style switch (like the SwiftUI <code>Toggle</code> view)</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoTabBar-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTabBar</a></td><td>iOS-style bottom tab bar that is typically used with <code>CupertinoTabScaffold</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoTabScaffold-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTabScaffold</a></td><td>positions a tab bar below the display of select tab content</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoTabView-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTabView</a></td><td>supports &quot;parallel navigation&quot;? between tabs; typically used with <code>CupertinoTabScaffold</code></td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoTextField-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTextField</a></td><td>iOS-style input text field</td></tr><tr><td><a href="https://api.flutter.dev/flutter/cupertino/CupertinoTimerPicker-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoTimerPicker</a></td><td>iOS-style wheel picker for entering hours, minutes, and seconds that represent a countdown timer</td></tr></tbody></table><h4 id="cupertinodatepicker-widget">CupertinoDatePicker Widget</h4><p>The <a href="https://api.flutter.dev/flutter/cupertino/CupertinoDatePicker-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoDatePicker</a> widget is an alternative to the Material UI <a href="https://api.flutter.dev/flutter/material/CalendarDatePicker-class.html?v=1.0.19" rel="noopener" target="_blank">CalendarDatePicker</a> widget. It allows the user to select a date, time, or both by spinning wheel-like displays.</p><p>The following code demonstrates this:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Container</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">CupertinoDatePicker</span><span class="token punctuation">(</span><br>    initialDateTime<span class="token punctuation">:</span> DateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    minimumYear<span class="token punctuation">:</span> <span class="token number">1990</span><span class="token punctuation">,</span><br>    maximumYear<span class="token punctuation">:</span> <span class="token number">2030</span><span class="token punctuation">,</span><br><br>    <span class="token comment">// Will get "Failed assert" after changing this.</span><br>    <span class="token comment">// Restart the app to resolve.</span><br>    <span class="token comment">//mode: CupertinoDatePickerMode.dateAndTime, // default</span><br>    mode<span class="token punctuation">:</span> CupertinoDatePickerMode<span class="token punctuation">.</span>date<span class="token punctuation">,</span><br>    <span class="token comment">//mode: CupertinoDatePickerMode.time,</span><br><br>    onDateTimeChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>DateTime value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'You selected $value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">// height of wheel; affects # of visible options</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Currently thewre are no enum values in <code>CupertinoDatePickerMode</code> to request getting only a month and year or only a month and day. See this <a href="https://github.com/flutter/flutter/issues/93508?v=1.0.19" rel="noopener" target="_blank">issue</a>.</p><h4 id="cupertinopicker-widget">CupertinoPicker Widget</h4><p>The <a href="https://api.flutter.dev/flutter/cupertino/CupertinoPicker-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPicker</a> widget is an alternative to the Material UI <a href="https://api.flutter.dev/flutter/material/DropdownButton-class.html?v=1.0.19" rel="noopener" target="_blank">DropdownButton</a> widget. It allows the user to select an option from a wheel-like display.</p><p>The following code allows the user to select from a <code>List</code> of words.</p><pre class="language-dart"><code class="language-dart"><span class="token function">Container</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> CupertinoPicker<span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><br>    childCount<span class="token punctuation">:</span> words<span class="token punctuation">.</span>length<span class="token punctuation">,</span><br>    itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    itemExtent<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">// height of each item</span><br>    onSelectedItemChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// This fires while dragging the wheel,</span><br>      <span class="token comment">// not just when it is released.</span><br>      <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'You selected ${words[index]}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token comment">// This makes the vertical space that is occupied clear.</span><br>  decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span><br>    border<span class="token punctuation">:</span> Border<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  height<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token comment">// height of wheel; affects # of visible items</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="swipe-to-delete">Swipe to Delete</h2><p>The <a href="https://api.flutter.dev/flutter/widgets/Dismissible-class.html?v=1.0.19" rel="noopener" target="_blank">Dismissible</a> widget allows a widget to be dragged out of view. The <code>onDismissed</code> argument can be set to a function that usually updates the state so the widget will not be rendered again.</p><p>Typically widgets that can be dismissed are displayed in a <code>List</code> containing <code>ListTile</code> widgets.</p><p>Using the <code>Dismissble</code> widget is not a good option for implementing a list with &quot;swipe to delete&quot; behavior. While a background containing a &quot;Delete&quot; button can be exposed when the user drags a tile to the left, it is hidden when they release the tile which gives them no opportunity to tap the button. A better option is to use the <a href="https://pub.dev/packages/flutter_swipe_action_cell?v=1.0.19" rel="noopener" target="_blank">flutter_swipe_action_cell</a> package. For an example, see this <a href="https://github.com/mvolkmann/flutter_dismissible/blob/main/lib/main.dart?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h2 id="model-view-controller">Model-View-Controller</h2><p>One recommended pattern for organizing a Flutter project is to follow the Model-View-Controller (MVC) pattern. For example, a project can have subdirectories under the <code>lib</code> directory named <code>models</code>, <code>controllers</code>, and <code>views</code>.</p><p>The <code>models</code> directory holds Dart source files that define classes that each describe a particular kind of data use in the application. Theses classes focus on data representation and not business rules. In an application that supports scheduling meetings, the model classes could include <code>User</code> and <code>Meeting</code>. To make it easy for other classes to import all of the model classes consider creating the file <code>data_layer.dart</code> that contains one <code>export</code> statement for each model source file.</p><p>The <code>controllers</code> directory holds Dart source files that define classes the business rules of the application. These classes define methods for performing actions supported by the application. For example, methods could include <code>createUser</code>, <code>updateUser</code>, <code>deleteUser</code>, <code>createMeeting</code>, <code>updateMeeting</code>, <code>deleteMeeting</code>, and <code>sendMeetingInvites</code>.</p><p>The <code>views</code> directory holds Dart source files that define widgets that render the user interface of the application. For example, widgets could include <code>User</code>, <code>Meeting</code>, and <code>Calendar</code>.</p><p>Some applications choose to create classes that combine the roles of models and controllers.</p><h2 id="responsive-uis">Responsive UIs</h2><p>Flutter can build UIs that respond to the current device size. The <code>MediaQuery</code> class provides a way to obtain a <code>MediaQueryData</code> object that holds information about many aspects of the display including size and user preferences. Typically this is used inside the <code>build</code> method of a widget which is passed a <code>BuildContext</code> object.</p><pre class="language-dart"><code class="language-dart">MediaQueryData data <span class="token operator">=</span> MediaQuery<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Highlights of the properties <code>MediaQueryData</code> objects are described below:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>disableAnimations</code></td><td><code>bool</code> indicating whether animations should be reduced</td></tr><tr><td><code>orientation</code></td><td><code>Orientation</code> enum with the values <code>portrait</code> and <code>landscape</code></td></tr><tr><td><code>size</code></td><td><code>Size</code> object with many properties listed below</td></tr><tr><td><code>viewInsets</code></td><td><code>EdgeInsets</code> object describing completely obscured parts of screen (ex. on-screen keyboard)</td></tr><tr><td><code>viewPadding</code></td><td><code>EdgeInsets</code> object describing partially obscured parts of screen (ex. notches and status bars)</td></tr></tbody></table><p>The <code>orientation</code> property can be used to implement different widget layouts based on whether the device is in portrait or layout mode.</p><p>The <code>padding</code> property is an <code>EdgeInsets</code> object that describes partially obscured parts of screen which are not also currently completely obscured. This is complex and likely not useful. For example, a bottom area that is always partially obscured might be temporarily completely obscured by an on-screen keyboard. Suppose <code>viewInsets.bottom</code> has a value of <code>340</code> representing the height of the on-screen keyboard and <code>viewPadding.bottom</code> has a value of <code>30</code> representing the height of a handle. In this case <code>padding.bottom</code> would have a value of <code>0</code>.</p><p><code>EdgeInsets</code> objects have the properties <code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code>, and more.</p><p><code>Size</code> objects have the properties <code>height</code>, <code>width</code>, <code>aspectRatio</code>, <code>longestSize</code>, and <code>shortestSize</code>. This information can be used to size widgets so they occupy a specific percentage of the screen width and/or height.</p><p>The <code>viewInsets</code> and <code>viewPadding</code> properties can be used to avoid rendering widgets in unsafe areas of the screen such as notches and status bars. However, an easier way to accomplish this is to wrap the <code>Scaffold</code> widget in a <code>SafeArea</code> widget.</p><h2 id="form-validation">Form Validation</h2><p>The <a href="https://api.flutter.dev/flutter/widgets/Form-class.html?v=1.0.19" rel="noopener" target="_blank">Form</a> widget supports form validation based on the form fields inside it. It takes a <code>children</code> argument that is a <code>List</code> of widgets.</p><p>Widget classes that extend <a href="https://api.flutter.dev/flutter/widgets/FormField-class.html?v=1.0.19" rel="noopener" target="_blank"><code>FormField</code></a> support a <code>validator</code> argument. This can be set to a function that is passed the current value. Often these functions use the <code>RegExp</code> class and its <code>hasMatch</code> method to compare <code>String</code> values to regular expressions. The function should return a <code>String</code> error message when the value is invalid, and <code>null</code> when the value is valid. Error messages can be multiline strings created using triple quotes.</p><p>The only provided widgets that extend <code>FormField</code> are <code>TextFormField</code>, <code>DropdownButtonFormField</code>, and <code>CupertinoTextFormFieldRow</code>. Additional widget classes can be defined to add validation to other input widgets. To learn how to do this, watch <a href="https://www.youtube.com/watch?v=1vHf5kQ0E2I?v=1.0.19" rel="noopener" target="_blank">this video</a> starting at 9:21.</p><p><code>Form</code> is a stateful widget and the class that holds its state is <code>FormState</code>. Each <code>Form</code> instance should have unique <code>key</code> argument that is used to access the state of the <code>Form</code> and determine whether it is valid.</p><p>To create a key for a <code>Form</code> define a <code>final</code> property in the class that renders the <code>Form</code>. For example:</p><pre class="language-dart"><code class="language-dart">  <span class="token keyword">final</span> _formKey <span class="token operator">=</span> GlobalKey<span class="token operator">&lt;</span>FormState<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Invalid fields are changed to have <code>errorColor</code> accents (typically red) and an error message is displayed below them.</p><p>By default the form fields are not automatically validated. This means that invalid values can be entered and no error messages will be displayed. To validate a <code>Form</code>, call <code>formKey.currentState!.validate()</code> which returns a <code>bool</code> indicating if the form is valid.</p><p>To perform validation automatically, set the <code>Form</code> <code>autovalidateMode</code> argument to a value from the <code>AutovalidateMode</code> enum. There are three values to choose from. <code>disabled</code> never automatically performs validation and is the default. <code>always</code> performs every time the form state changes which could occur programmatically. <code>onUserInteraction</code> performs validation every time a user changes a form input.</p><p>To disable a button in a <code>Form</code> when the form is invalid, set its <code>onPressed</code> argument to <code>null</code>.</p><p>The pub.dev package <a href="https://pub.dev/packages/form_field_validator?v=1.0.19" rel="noopener" target="_blank">form_field_validator</a> provides a set of classes that simplify form validation. This may be overkill for most forms.</p><p>The following code demonstrates implementing a login form with validation:</p><p><img alt="Flutter Form Validation initial" style="width: 40%" src="/blog/assets/flutter-form-validation-1.png?v=1.0.19" title="Flutter Form Validation initial"> <img alt="Flutter Form Validation with data" style="width: 40%" src="/blog/assets/flutter-form-validation-2.png?v=1.0.19" title="Flutter Form Validation with data"></p><p>This code uses a custom widget that wraps the use of <code>TextFormField</code> to simply it's usage a bit. Here is the code from <code>my_text_field.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'widget_extensions.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">typedef</span> ValidatorFn <span class="token operator">=</span> String<span class="token operator">?</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>String<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyTextField</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String hintText<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String initialValue<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String labelText<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> bool obscureText<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>String<span class="token punctuation">)</span><span class="token operator">?</span> onChanged<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> ValidatorFn validator<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">MyTextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>hintText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>initialValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>labelText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>obscureText <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _MyTextFieldState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_MyTextFieldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_MyTextFieldState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyTextField<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> validator <span class="token operator">=</span> widget<span class="token punctuation">.</span>validator<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">// Note how "widget" is used to access</span><br>        <span class="token comment">// properties in the StatefulWidget above.</span><br>        hintText<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>hintText<span class="token punctuation">,</span><br>        labelText<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>labelText<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      initialValue<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>initialValue<span class="token punctuation">,</span><br>      obscureText<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>obscureText<span class="token punctuation">,</span><br>      onChanged<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>onChanged<span class="token punctuation">,</span><br>      validator<span class="token punctuation">:</span> validator<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pad</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is the code from <code>main.dart</code> that uses the <code>MyTextField</code> widget defined above:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'my_text_field.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Flutter Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span>primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyHomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>MyHomePage<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_MyHomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_MyHomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>MyHomePage<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> _formKey <span class="token operator">=</span> GlobalKey<span class="token operator">&lt;</span>FormState<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">var</span> userName <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> password <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br>  String<span class="token operator">?</span> message<span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> valid <span class="token operator">=</span> _formKey<span class="token punctuation">.</span>currentState<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> message <span class="token operator">=</span><br>        valid <span class="token operator">?</span> <span class="token string">'Processing login ...'</span> <span class="token punctuation">:</span> <span class="token string">'One or more fields are invalid.'</span><span class="token punctuation">;</span><br>    ScaffoldMessenger<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span><br>      <span class="token function">SnackBar</span><span class="token punctuation">(</span>content<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  String<span class="token operator">?</span> <span class="token function">validatePassword</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> value<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'A password is required.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'Password must contain at least eight characters.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">r'[A-Z]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'Must contain at least one uppercase letter.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">r'[a-z]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'Must contain at least one lowercase letter.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">r'[0-9]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'Must contain at least one digit.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token comment">// I can't get a single quote to work below.</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">r'[~@#$%^&amp;*()\-_=+\[\]{\]}\\\|;:",&lt;.>/?]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasMatch</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'Must contain at least one special character.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  String<span class="token operator">?</span> <span class="token function">validateUserName</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> value<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'User name is required.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token string">'User name must be at least four characters.'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    Color errorColor <span class="token operator">=</span> Theme<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>errorColor<span class="token punctuation">;</span><br>    Color primaryColor <span class="token operator">=</span> Theme<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>primaryColor<span class="token punctuation">;</span><br><br>    bool valid <span class="token operator">=</span> _formKey<span class="token punctuation">.</span>currentState<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Here is an example of cross-field validation.</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>valid <span class="token operator">&amp;&amp;</span> userName <span class="token operator">==</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      message <span class="token operator">=</span> <span class="token string">'User name and password cannot be the same.'</span><span class="token punctuation">;</span><br>      valid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      message <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Flutter Form Validation'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Form</span><span class="token punctuation">(</span><br>        autovalidateMode<span class="token punctuation">:</span> AutovalidateMode<span class="token punctuation">.</span>onUserInteraction<span class="token punctuation">,</span><br>        key<span class="token punctuation">:</span> _formKey<span class="token punctuation">,</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><br>              <span class="token string">'Login'</span><span class="token punctuation">,</span><br>              style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span><br>                color<span class="token punctuation">:</span> primaryColor<span class="token punctuation">,</span><br>                fontSize<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">,</span><br>                fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">MyTextField</span><span class="token punctuation">(</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'User Name'</span><span class="token punctuation">,</span><br>              initialValue<span class="token punctuation">:</span> userName<span class="token punctuation">,</span><br>              onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                userName <span class="token operator">=</span> value<span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              validator<span class="token punctuation">:</span> validateUserName<span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">MyTextField</span><span class="token punctuation">(</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Password'</span><span class="token punctuation">,</span><br>              initialValue<span class="token punctuation">:</span> password<span class="token punctuation">,</span><br>              obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>              onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                password <span class="token operator">=</span> value<span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              validator<span class="token punctuation">:</span> validatePassword<span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><br>              <span class="token function">Text</span><span class="token punctuation">(</span>message<span class="token operator">!</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> errorColor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Login'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> valid <span class="token operator">?</span> login <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Some examples of using the <code>Form</code> widget show calling <code>_formKey.currentState!.save</code> when the user taps a button to indicate that they are ready to do something with the form data. This calls the <code>onSaved</code> method on each of the form fields. I prefer saving new values of form fields when the user changes them using the callback specified in their <code>onChanged</code> arguments as shown above.</p><h2 id="state-management">State Management</h2><p>For state that is only used by a single stateful widget instance, use the <code>setState</code> function from inside that widget.</p><p>For state that must be shared across multiple widget instances, it is recommended to choose a state management package provided by the community. Popular packages include:</p><ul><li><a href="https://pub.dev/packages/provider?v=1.0.19" rel="noopener" target="_blank">provider</a> package (similar to the Context API in React)</li><li><a href="https://pub.dev/packages/get?v=1.0.19" rel="noopener" target="_blank">GetX</a></li><li><a href="https://riverpod.dev?v=1.0.19" rel="noopener" target="_blank">Riverpod</a></li><li><a href="https://bloclibrary.dev/?v=1.0.19" rel="noopener" target="_blank">bloc</a></li><li><a href="https://pub.dev/documentation/flutter_cubit/latest/?v=1.0.19" rel="noopener" target="_blank">cubit</a></li></ul><p>These reduce the need for stateful widgets.</p><h3 id="setstate-function">setState Function</h3><p>The <code>setState</code> function marks the current widget as &quot;dirty&quot; which causes its <code>build</code> method to be called again in order to rebuild its UI.</p><p>Typically changes to state properties are made in a callback function that is passed to <code>setState</code>. Avoid time consuming code inside these callback functions. This code should be limited to assignments to state properties and not computing new values. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  _counter<span class="token operator">++</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Changes to state properties can also be made before the call to <code>setState</code> and it can be passed a callback function that does nothing. For example:</p><pre class="language-dart"><code class="language-dart">_counter<span class="token operator">++</span><span class="token punctuation">;</span><br><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="callback-functions">Callback Functions</h3><p>One way for a child widget to pass data to its parent widget is to pass a function from the parent to the child and have the child call the function with data to be shared.</p><p>The following code demonstrates this approach. The <code>Home</code> widget renders a <code>Numbers</code> widget and passes it a callback function. The <code>Numbers</code> widget renders two <code>TextField</code> widgets where the user can enter numbers. When either <code>TextField</code> value is changed, it computes their sum and passes it to the parent widget, <code>Home</code>, using the callback function.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_HomeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_HomeState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Callback Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          crossAxisAlignment<span class="token punctuation">:</span> CrossAxisAlignment<span class="token punctuation">.</span>start<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Numbers</span><span class="token punctuation">(</span>callback<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> sum <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'The sum is $sum.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">typedef</span> NumbersCallback <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token keyword">Function</span><span class="token punctuation">(</span>int value<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Numbers</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> NumbersCallback callback<span class="token punctuation">;</span><br><br>  <span class="token function">Numbers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>callback<span class="token punctuation">,</span> Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>Numbers<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_NumbersState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_NumbersState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Numbers<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> controller1 <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> controller2 <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// When the text in either TextField is changed,</span><br>    <span class="token comment">// compute a new sum and send to the parent widget</span><br>    <span class="token comment">// using the callback function.</span><br>    controller1<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>compute<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    controller2<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>compute<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">_buildTextField</span><span class="token punctuation">(</span>controller<span class="token punctuation">:</span> controller1<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">_buildTextField</span><span class="token punctuation">(</span>controller<span class="token punctuation">:</span> controller2<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  Widget <span class="token function">_buildTextField</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required TextEditingController controller<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">TextField</span><span class="token punctuation">(</span><br>        controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span><br>        decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>          border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        keyboardType<span class="token punctuation">:</span> TextInputType<span class="token punctuation">.</span>number<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      width<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> number1 <span class="token operator">=</span> <span class="token function">controllerToInt</span><span class="token punctuation">(</span>controller1<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> number2 <span class="token operator">=</span> <span class="token function">controllerToInt</span><span class="token punctuation">(</span>controller2<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    widget<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>number1 <span class="token operator">+</span> number2<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  int <span class="token function">controllerToInt</span><span class="token punctuation">(</span>TextEditingController controller<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">try</span> <span class="token punctuation">{</span><br>      <span class="token comment">// int.parse throws if the text cannot be converted to an int.</span><br>      <span class="token keyword">return</span> int<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>controller<span class="token punctuation">.</span>value<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="inheritedwidget">InheritedWidget</h3><p>The <a href="https://api.flutter.dev/flutter/widgets/InheritedWidget-class.html?v=1.0.19" rel="noopener" target="_blank">InheritedWidget</a> class is a base class for classes that wish to share data with descendant widgets. They take a child widget to wrap around. Instances are immutable, but they can hold objects whose properties can be mutated.</p><p><code>InheritedWidget</code> does not provide a method to notify descendants of property changes. To achieve that, wrap it in a <code>StatefulWidget</code> or use <code>ChangeNotifier</code>. All of that gets fairly verbose. This is why using other state management solutions such as provider (discussed next) are more popular.</p><p>Here is a basic example of using <code>InheritedWidget</code> just to pass data down. It does not provide a way to modify the data.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">AppState</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">19</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">InheritedState</span> <span class="token keyword">extends</span> <span class="token class-name">InheritedWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> state <span class="token operator">=</span> <span class="token function">AppState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">InheritedState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required Widget child<span class="token punctuation">,</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">,</span> child<span class="token punctuation">:</span> child<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// This is a convenience method to make it easier</span><br>  <span class="token comment">// for descendant widgets to get an instance.</span><br>  <span class="token keyword">static</span> InheritedState <span class="token function">of</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>      context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token operator">&lt;</span>InheritedState<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>          <span class="token operator">as</span> InheritedState<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  bool <span class="token function">updateShouldNotify</span><span class="token punctuation">(</span>InheritedState oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> oldWidget<span class="token punctuation">.</span>state <span class="token operator">!=</span> state<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'InheritedWidget Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token comment">// This wraps HomePage in InheritedState so</span><br>      <span class="token comment">// any descendant widgets can get the state.</span><br>      home<span class="token punctuation">:</span> <span class="token function">InheritedState</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'InheritedWidget Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">ChildWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">ChildWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ChildWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> state <span class="token operator">=</span> InheritedState<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>      children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'count = ${state.count}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'name = ${state.name}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="provider-package">provider Package</h3><p>The <a href="https://pub.dev/packages/provider?v=1.0.19" rel="noopener" target="_blank">provider</a> package is is the state management approach recommended by the Flutter team. It is &quot;A wrapper around <code>InheritedWidget</code> to make them easier to use and more reusable.&quot; It vastly reduces the amount of boilerplate code that must be written and provides many features not present in <code>InheritedWidget</code>.</p><p>The <a href="https://docs.flutter.dev/development/data-and-backend/state-mgmt/simple?v=1.0.19" rel="noopener" target="_blank">official documentation</a> says &quot;If you are new to Flutter and you don’t have a strong reason to choose another approach (Redux, Rx, hooks, etc.), this is probably the approach you should start with.&quot; In June 2019 Chris Sells, the Flutter Project Manager, said &quot;Provider is the recommended way to do State Management for apps of all sizes.&quot;</p><p>The provider package was created by Remi Rousselet. It is a wrapper around the <a href="https://api.flutter.dev/flutter/widgets/InheritedWidget-class.html?v=1.0.19" rel="noopener" target="_blank">InheritedWidget</a> which is a relatively complicated way to share mutable state. <code>InheriteWidget</code> is explained well in this <a href="https://www.youtube.com/watch?v=utrvu-eow6U?v=1.0.19" rel="noopener" target="_blank">YouTube video</a>.</p><p>The steps to use the provider package are:</p><ol><li><p>Add dependency to <code>pubspec.yaml</code>.</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">dependencies</span><span class="token punctuation">:</span><br>  <span class="token key atrule">provider</span><span class="token punctuation">:</span> ^6.0.1</code></pre></li><li><p>Install by entering <code>flutter pub get</code> unless your IDE does this for you.</p></li><li><p>Create <a href="https://api.flutter.dev/flutter/foundation/ChangeNotifier-class.html?v=1.0.19" rel="noopener" target="_blank">ChangeNotifier</a> classes that hold state, define methods for modifying it, and define getters and setters. For example, the following can be defined in the file <code>lib/count_state.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/foundation.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines ChangeNotifier</span><br><br><span class="token keyword">class</span> <span class="token class-name">CountState</span> <span class="token keyword">extends</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Can declare any number of state variables here.</span><br>  <span class="token keyword">var</span> _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> count <span class="token operator">=</span><span class="token operator">></span> _count<span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _count<span class="token operator">--</span><span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _count<span class="token operator">++</span><span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Create an instance of each <code>ChangeNotifier</code> class in the lowest part of the widget tree where they are needed. For example, the following can appear in the file <code>lib/main.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'count_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'counter.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'report.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> ChangeNotifierProvider<span class="token operator">&lt;</span>CountState<span class="token operator">></span><span class="token punctuation">(</span><br>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">CountState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>        home<span class="token punctuation">:</span> <span class="token function">HomePage</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">'My App'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">.</span><span class="token punctuation">.</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// The build method of the HomePage widget can include:</span><br>children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>  <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token function">Report</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></li><li><p>Use the state in descendant widgets of the one where its <code>ChangeNotifier</code> class was created. For example, here is <code>lib/counter.dart</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'circle_button.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'count_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'widget_extensions.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> countState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>CountState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> children <span class="token operator">=</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>      <span class="token function">CircleButton</span><span class="token punctuation">(</span><br>        color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          countState<span class="token punctuation">.</span><span class="token function">decrement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        size<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span><br>        text<span class="token punctuation">:</span> <span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Text</span><span class="token punctuation">(</span>countState<span class="token punctuation">.</span>count<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">CircleButton</span><span class="token punctuation">(</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          countState<span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        size<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span><br>        text<span class="token punctuation">:</span> <span class="token string">'+'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">hSpacing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> children<span class="token punctuation">,</span><br>      mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre></li></ol><p>There are two approaches for access provider state. The first is to use <code>Provider.of</code>. The second is to use <code>Consumer</code>. <code>Consumer</code> is a widget, so it can be only be used in a widget tree. It is good for updating a specific widget when state changes, but it makes the code more deeply nested. <code>Provider.of</code> is a constructor, so it can be used anywhere in a Dart function and used to provide state access to multiple widgets.</p><p>Both approaches are demonstrated in <code>lib/report.dart</code> below:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'count_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'widget_extensions.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Report</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Report</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> countState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>CountState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Report: ${countState.count}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Reset'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          countState<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">hSpacing</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">/*<br>    return Consumer&lt;CountState>(builder: (context, data, child) {<br>      return Row(<br>        children: [ Text('Report: ${data.count}'),<br>          ElevatedButton(<br>            child: Text('Reset'),<br>            onPressed: () {<br>              data.reset();<br>            }),<br>        ].hSpacing(10),<br>        mainAxisAlignment: MainAxisAlignment.center,<br>      );<br>    });<br>    */</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The following Flutter app provides a more full-featured demonstration of using provider. The same app will be shown later using other state management packages. It is composed of two <code>ChangeNotifier</code> subclasses for managing state and three custom widgets that update and display the state. The user can enter a player name and a series of scores. The total and average of the scores is calculated and displayed. Code for this app is in <a href="https://github.com/mvolkmann/flutter_provider?v=1.0.19" rel="noopener" target="_blank">GitHub</a>.</p><p><img alt="provider Demo" style="width: 40%" src="/blog/assets/flutter-provider-demo.png?v=1.0.19" title="provider Demo"></p><p>Here are examples of <code>ChangeNotifier</code> subclasses:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// player_state.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/foundation.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines ChangeNotifier</span><br><br><span class="token keyword">class</span> <span class="token class-name">PlayerState</span> <span class="token keyword">extends</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> _name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br><br>  String <span class="token keyword">get</span> name <span class="token operator">=</span><span class="token operator">></span> _name<span class="token punctuation">;</span><br><br>  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _name <span class="token operator">=</span> value<span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// game_state.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/foundation.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines ChangeNotifier</span><br><br>int <span class="token function">sum</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>int<span class="token operator">></span> numbers<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>    numbers<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> acc <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">GameState</span> <span class="token keyword">extends</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> _scores <span class="token operator">=</span> <span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">addScore</span><span class="token punctuation">(</span>int score<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _scores<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">clearScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _scores<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  double <span class="token keyword">get</span> average <span class="token operator">=</span><span class="token operator">></span> _scores<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token function">sum</span><span class="token punctuation">(</span>_scores<span class="token punctuation">)</span> <span class="token operator">/</span> _scores<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> count <span class="token operator">=</span><span class="token operator">></span> _scores<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> total <span class="token operator">=</span><span class="token operator">></span> <span class="token function">sum</span><span class="token punctuation">(</span>_scores<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Here is the app entry point that registers the <code>ChangeNotifier</code> subclasses:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// main.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_entry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'score_entry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'score_report.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><br>      <span class="token function">MultiProvider</span><span class="token punctuation">(</span><br>        providers<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>          <span class="token function">ChangeNotifierProvider</span><span class="token punctuation">(</span>create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">GameState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">ChangeNotifierProvider</span><span class="token punctuation">(</span>create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">PlayerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        child<span class="token punctuation">:</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'provider Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> gameState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>GameState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'provider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>          padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>            mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>            children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>              <span class="token function">PlayerEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">ScoreEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Number of scores = ${gameState.count}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">ScoreReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">]</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here are widgets that use the <code>ChangeNotifier</code> subclasses:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// player_entry.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_state.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">PlayerEntry</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">PlayerEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> playerState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>PlayerState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> listen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">Expanded</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>            decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>              border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              hintText<span class="token punctuation">:</span> <span class="token string">'player name'</span><span class="token punctuation">,</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Player'</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            initialValue<span class="token punctuation">:</span> playerState<span class="token punctuation">.</span>name<span class="token punctuation">,</span><br>            onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              playerState<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// score_entry.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_state.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This needs to be stateful in order</span><br><span class="token comment">// to hold a TextEditingController instance.</span><br><span class="token keyword">class</span> <span class="token class-name">ScoreEntry</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ScoreEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _ScoreEntryState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_ScoreEntryState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_ScoreEntryState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>ScoreEntry<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> tec <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> gameState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>GameState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> listen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">TextField</span><span class="token punctuation">(</span><br>          controller<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>          decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>              border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              hintText<span class="token punctuation">:</span> <span class="token string">'score'</span><span class="token punctuation">,</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Score'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          keyboardType<span class="token punctuation">:</span> TextInputType<span class="token punctuation">.</span>number<span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Row</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>            <span class="token comment">// This is necessary so onPressed can be updated</span><br>            <span class="token comment">// when the text in the TextEditingController changes.</span><br>            ValueListenableBuilder<span class="token operator">&lt;</span>TextEditingValue<span class="token operator">></span><span class="token punctuation">(</span><br>              valueListenable<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>              builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> value<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token keyword">return</span> <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>                  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Save'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  onPressed<span class="token punctuation">:</span> value<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">save</span><span class="token punctuation">(</span>gameState<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                <span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">SizedBox</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Reset'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> gameState<span class="token punctuation">.</span><span class="token function">clearScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span>gameState<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> score <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>tec<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> gameState<span class="token punctuation">.</span><span class="token function">addScore</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    tec<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// score_report.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:provider/provider.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_state.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_state.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ScoreReport</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token function">ScoreReport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> gameState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>GameState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">final</span> playerState <span class="token operator">=</span> Provider<span class="token punctuation">.</span>of<span class="token operator">&lt;</span>PlayerState<span class="token operator">></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>      <span class="token comment">// Widgets that need to update when controller data changes</span><br>      <span class="token comment">// need to be wrapped in Obx.</span><br>      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Player is ${playerState.name}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Total is ${gameState.total}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Average is ${gameState.average.toStringAsFixed(2)}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="getx-framework">GetX Framework</h3><p><a href="https://pub.dev/packages/get?v=1.0.19" rel="noopener" target="_blank">GetX</a> is a Flutter framework that provides a dependency manager, state manager, navigation manager, and utility functions. It can be found in pub.dev under the name &quot;get&quot;.</p><p>GetX has a reputation for being easier to use than other Flutter state management packages. One critisism is that it is a very large package that provides much more than state management. It can bloat the size of applications that only use it for state management. Another issue is that the official documentation is difficult to navigate and doesn't provide many usage examples.</p><h4 id="dependency-management">Dependency Management</h4><p>GetX dependency management provides a way to register an object in an ancestor widget and get a reference to it in decendant widgets. This removes the need to explicitly pass objects down through the widget hierarchy. It provides a kind of dependency injection.</p><p>To register an object, call <code>Get.put</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// There is no need to capture a reference in a variable</span><br><span class="token comment">// if the instance is not used in this file.</span><br>Get<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">PlayerController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Capture a reference if needed in this file.</span><br><span class="token keyword">final</span> GameController gamectrl <span class="token operator">=</span> Get<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">GameController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To get a reference to a registered object, call <code>Get.find</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> playerCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>PlayerController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> gameCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>GameController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This assumes that only one instance of each class is needed. To register and find multiple instances of the same class, include the <code>tag</code> argument in calls to <code>Get.put</code> and <code>Get.find</code>. This must be a <code>String</code> that uniquely identifies an instance. Consider using <code>static</code> properties to hold tag names and place them in source files that can be imported everywhere they are needed.</p><p>An alternative to <code>Get.put</code> is to use <code>Get.lazyPut</code>. This takes a function that creates and returns the object to be registered. The function is not called until the first call to <code>Get.find</code> that requests the object. This avoids creating and registering objects that are never used in a given user session. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">get</span><span class="token punctuation">.</span><span class="token function">lazyPut</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">PlayerController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The examples above show registering and finding controller objects, but any kind of object can be used.</p><h4 id="state-management-1">State Management</h4><p>GetX supports several approaches to managing state in a Flutter app. This section only covers the approach that is seen as the easiest. The steps require are:</p><ol><li>Create controller classes that hold and update state that must be shared across multiple widgets. These must extend <code>GetxController</code>.</li><li>Define state properties in the controller classes. Typically these are private.</li><li>Define methods (getters, setters, and others) to provide access to state. Call <code>update()</code> at the end of any method that modifies state in order to notify listeners.</li><li>Add <code>.obs</code> after state property values to make them observable. This returns a value of a type whose name begins with <code>Rx</code> such as <code>RxString</code>.</li><li>Register the controller classes using <code>Get.put</code> near the top of the widget tree.</li><li>Get references to controller classes using <code>Get.find</code> in any widgets that need to get or set state.</li><li>Wrap widgets that need to be updated when state changes with the <code>Obx</code> widget. This runs a function passed to it every time that state it uses changes and the function should return a new widget instance created with the new state.</li></ol><p>The following Flutter app demonstrates each of the steps above. It is composed of two controllers for managing state and three custom widgets that update and display the state. The user can enter a player name and a series of scores. The total and average of the scores is calculated and displayed. Code for this app is in <a href="https://github.com/mvolkmann/flutter_getx?v=1.0.19" rel="noopener" target="_blank">GitHub</a>.</p><p><img alt="GetX Demo" style="width: 40%" src="/blog/assets/flutter-getx-demo.png?v=1.0.19" title="GetX Demo"></p><p>Here are examples of controller classes:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// player_controller.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">PlayerController</span> <span class="token keyword">extends</span> <span class="token class-name">GetxController</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> _name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">.</span>obs<span class="token punctuation">;</span> <span class="token comment">// observable String</span><br><br>  <span class="token comment">// _name is an RxString.</span><br>  <span class="token comment">// We need to add .value to get its value.</span><br>  String <span class="token keyword">get</span> name <span class="token operator">=</span><span class="token operator">></span> _name<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br><br>  <span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _name<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span><br>    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// game_controller.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><br>int <span class="token function">sum</span><span class="token punctuation">(</span>List<span class="token operator">&lt;</span>int<span class="token operator">></span> numbers<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>    numbers<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> numbers<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> acc <span class="token operator">+</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">GameController</span> <span class="token keyword">extends</span> <span class="token class-name">GetxController</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> _scores <span class="token operator">=</span> <span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>obs<span class="token punctuation">;</span> <span class="token comment">// observable List of int values</span><br><br>  <span class="token keyword">void</span> <span class="token function">addScore</span><span class="token punctuation">(</span>int score<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _scores<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// notifies listeners</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">clearScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _scores<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  double <span class="token keyword">get</span> average <span class="token operator">=</span><span class="token operator">></span> _scores<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token function">sum</span><span class="token punctuation">(</span>_scores<span class="token punctuation">)</span> <span class="token operator">/</span> _scores<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> count <span class="token operator">=</span><span class="token operator">></span> _scores<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br><br>  int <span class="token keyword">get</span> total <span class="token operator">=</span><span class="token operator">></span> <span class="token function">sum</span><span class="token punctuation">(</span>_scores<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>Here is the app entry point that registers the controllers:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// main.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_controller.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_controller.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_entry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'score_entry.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'score_report.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Change MaterialApp to GetMaterialApp here to use features of GetX</span><br>    <span class="token comment">// not related to state management such as navigation.</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'GetX Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Register controllers with GetX so other widgets can find them.</span><br>    <span class="token keyword">final</span> GameController gameCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">GameController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    Get<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">PlayerController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'GetX Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>          padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>            mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>            children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>              <span class="token function">PlayerEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">ScoreEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">Obx</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Number of scores = ${gameCtrl.count}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">ScoreReport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">]</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here are widgets that use the controllers:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// player_entry.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_controller.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">PlayerEntry</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token function">PlayerEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> playerCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>PlayerController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">Expanded</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>            decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>              border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              hintText<span class="token punctuation">:</span> <span class="token string">'player name'</span><span class="token punctuation">,</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Player'</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            initialValue<span class="token punctuation">:</span> playerCtrl<span class="token punctuation">.</span>name<span class="token punctuation">,</span><br>            onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              playerCtrl<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// score_entry.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_controller.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This needs to be stateful in order</span><br><span class="token comment">// to hold a TextEditingController instance.</span><br><span class="token keyword">class</span> <span class="token class-name">ScoreEntry</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">ScoreEntry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _ScoreEntryState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_ScoreEntryState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_ScoreEntryState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>ScoreEntry<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> gameCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>GameController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> tec <span class="token operator">=</span> <span class="token function">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">TextField</span><span class="token punctuation">(</span><br>          controller<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>          decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>              border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              hintText<span class="token punctuation">:</span> <span class="token string">'score'</span><span class="token punctuation">,</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Score'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          keyboardType<span class="token punctuation">:</span> TextInputType<span class="token punctuation">.</span>number<span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Row</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>            <span class="token comment">// This is necessary so onPressed can be updated</span><br>            <span class="token comment">// when the text in the TextEditingController changes.</span><br>            ValueListenableBuilder<span class="token operator">&lt;</span>TextEditingValue<span class="token operator">></span><span class="token punctuation">(</span><br>              valueListenable<span class="token punctuation">:</span> tec<span class="token punctuation">,</span><br>              builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> value<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                <span class="token keyword">return</span> <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>                  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Save'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  onPressed<span class="token punctuation">:</span> value<span class="token punctuation">.</span>text<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> save<span class="token punctuation">,</span><br>                <span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">SizedBox</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Reset'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> gameCtrl<span class="token punctuation">.</span><span class="token function">clearScores</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> score <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>tec<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> gameCtrl<span class="token punctuation">.</span><span class="token function">addScore</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    tec<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// score_report.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:get/get.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'game_controller.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'player_controller.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ScoreReport</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> gameCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>GameController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> playerCtrl <span class="token operator">=</span> Get<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>PlayerController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">ScoreReport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>      <span class="token comment">// Widgets that need to update when controller data changes</span><br>      <span class="token comment">// need to be wrapped in Obx.</span><br>      <span class="token function">Obx</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Player is ${playerCtrl.name}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Obx</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Total is ${gameCtrl.total}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">Obx</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Average is ${gameCtrl.average.toStringAsFixed(2)}'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h4 id="route-management">Route Management</h4><p>To register page routes, specify the <code>getPages</code> argument in the <code>GetMaterialApp</code> constructor call. The value should be a <code>List</code> of <code>GetPage</code> calls. Each of these is passsed <code>name</code> and <code>page</code> arguments. The <code>name</code> argument value is a <code>String</code>. The <code>page</code> argument value is a function that returns a page widget.</p><p>GetX provides many functions that navigate to a new page. The most useful of these functions are summarized below:</p><table><thead><tr><th>Function</th><th>Description</th><th>Documentation</th></tr></thead><tbody><tr><td><code>Get.back</code></td><td>goes back to previous route, popping current route off of the stack</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/GetNavigation/back.html?v=1.0.19" rel="noopener" target="_blank">back</a></td></tr><tr><td><code>Get.to</code></td><td>goes to a new route, pushing it onto the stack</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/GetNavigation/to.html?v=1.0.19" rel="noopener" target="_blank">to</a></td></tr><tr><td><code>Get.off</code></td><td>pops current route and pushes new route</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/GetNavigation/to.html?v=1.0.19" rel="noopener" target="_blank">to</a></td></tr></tbody></table><h4 id="utilities">Utilities</h4><p>GetX provides many utility functions. In order to use these, the topmost widget must be changed from <code>MaterialApp</code> to <code>GetMaterialApp</code>. The most useful of these functions are summarized below:</p><table><thead><tr><th>Function</th><th>Description</th><th>Documentation</th></tr></thead><tbody><tr><td><code>Get.bottomSheet</code></td><td>displays a bottom sheet</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/ExtensionBottomSheet/bottomSheet.html?v=1.0.19" rel="noopener" target="_blank">bottomSheet</a></td></tr><tr><td><code>Get.changeTheme</code></td><td>changes to a given theme such as <code>ThemeData.dark()</code></td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/GetNavigation/changeTheme.html?v=1.0.19" rel="noopener" target="_blank">changeTheme</a></td></tr><tr><td><code>Get.defaultDialog</code></td><td>displays a dialog</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/ExtensionDialog/defaultDialog.html?v=1.0.19" rel="noopener" target="_blank">defaultDialog</a></td></tr><tr><td><code>Get.snackbar</code></td><td>displays a snackbar</td><td><a href="https://pub.dev/documentation/get/latest/get_navigation_src_extension_navigation/ExtensionSnackbar/snackbar.html?v=1.0.19" rel="noopener" target="_blank">snackbar</a></td></tr><tr><td><code>GetUtils.camelCase</code></td><td>returns camelCase version of a <code>String</code></td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/camelCase.html?v=1.0.19" rel="noopener" target="_blank">camelCase</a></td></tr><tr><td><code>GetUtils.capitalize</code></td><td>returns version of a <code>String</code> where the first letter of each word is capitalized</td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/capitalize.html?v=1.0.19" rel="noopener" target="_blank">capitalize</a></td></tr><tr><td><code>GetUtils.isEmail</code></td><td>returns a <code>bool</code> indicaing if a <code>String</code> is a valid email address</td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/isEmail.html?v=1.0.19" rel="noopener" target="_blank">isEmail</a></td></tr><tr><td><code>GetUtils.isPhoneNumber</code></td><td>returns a <code>bool</code> indicaing if a <code>String</code> is a valid phone number</td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/isPhoneNumber.html?v=1.0.19" rel="noopener" target="_blank">isPhoneNumber</a></td></tr><tr><td><code>GetUtils.isSSN</code></td><td>returns a <code>bool</code> indicaing if a <code>String</code> is a valid social security number</td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/isSSN.html?v=1.0.19" rel="noopener" target="_blank">isSSN</a></td></tr><tr><td><code>GetUtils.isURL</code></td><td>returns a <code>bool</code> indicaing if a <code>String</code> is a valid URL</td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/isURL.html?v=1.0.19" rel="noopener" target="_blank">isURL</a></td></tr><tr><td><code>GetUtils.snakeCase</code></td><td>returns snake_case version of a <code>String</code></td><td><a href="https://pub.dev/documentation/get/latest/get_utils_src_get_utils_get_utils/GetUtils/snakeCase.html?v=1.0.19" rel="noopener" target="_blank">snakeCase</a></td></tr></tbody></table><p>GetX provides language translation using the <code>.tr</code> getter functino and the <code>Get.changeLocale</code> function.`</p><h3 id="riverpod-package">Riverpod Package</h3><p><a href="https://riverpod.dev?v=1.0.19" rel="noopener" target="_blank">Riverpod</a> was created by Remi Rousselet, who is the same developer that created <a href="https://pub.dev/packages/provider?v=1.0.19" rel="noopener" target="_blank">provider</a>. The name comes from rearranging the letters in &quot;provider&quot;. It addresses several issues with provider including:</p><ol><li><p>provider depends on Flutter and cannot be used in non-Flutter Dart appliations. For example, getting state references requires access to a Flutter <code>BuildContext</code> which limits where they can be obtained.</p></li><li><p>provider only supports keeping state in a single instance of each state class.</p></li><li><p>provider does not support asynchronous state.</p></li><li><p>provider does not force code to handle all possible states with compile-time checks. For example, a state that returns a <code>Future</code> can be pending, complete with a value, or complete with an error.</p></li></ol><p>There are three packages for using Riverpod.</p><ol><li><a href="https://github.com/rrousselGit/river_pod/tree/master/packages/riverpod?v=1.0.19" rel="noopener" target="_blank">riverpod</a> for non-Flutter Dart applications.</li><li><a href="https://pub.dev/packages/flutter_riverpod?v=1.0.19" rel="noopener" target="_blank">flutter_riverpod</a> for Flutter applications.</li><li><a href="https://pub.dev/packages/hooks_riverpod?v=1.0.19" rel="noopener" target="_blank">hooks_riverpod</a> for Flutter applications that also use <a href="https://github.com/rrousselGit/flutter_hooks?v=1.0.19" rel="noopener" target="_blank">flutter_hooks</a>.</li></ol><p>Only use of flutter_riverpod v2 is described here.</p><p>Riverpod providers are objects that encapsulate state, provide methods for modifying the state, and support listening for changes. They are typically declared as global constants.</p><p>In order for a Flutter application to use Riverpod, it must wrap the topmost application widget in a <code>ProviderScope</code>. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">ProviderScope</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>All the kinds of providers supported by Riverpod are summarized below.</p><table><thead><tr><th>Provider</th><th>Description</th></tr></thead><tbody><tr><td><code>Provider</code></td><td>provides read-only data synchronously; can modify its own value over time</td></tr><tr><td><code>StateProvider</code></td><td>provides writable data synchronously with <code>state</code> getter and setter methods</td></tr><tr><td><code>FutureProvider</code></td><td>provides read-only data asynchronously</td></tr><tr><td><code>StreamProvider</code></td><td>provides a stream of read-only data, updated as new data becomes available</td></tr><tr><td><code>ChangeNotifierProvider</code></td><td>state is mutable; must call <code>notifyListeners</code> after changing</td></tr><tr><td><code>StateNotifierProvider</code></td><td>state is immutable but can be replaced; replacing state automatically notifies listeners</td></tr></tbody></table><p>The first four options are best suited when it is acceptable to work with state objects as a whole. <code>StateProvider</code> is the only one of thees options that supports updating state and that is done by replacing entire objects rather than updating individual properties.</p><p><code>ChangeNotifierProvider</code> is a good choice when there is a need to update individual properties of state objects rather than replacing entire objects.</p><p><code>StateNotifierProvider</code> is a good alternative to <code>ChangeNotifierProvider</code> when there is a desire for state objects to be immutable. It also has the advantage that change notification is automatic.</p><p>The following app demonstrates basic usage of each provider type. Code for this app is in <a href="https://github.com/mvolkmann/flutter_riverpod_demo?v=1.0.19" rel="noopener" target="_blank">GitHub</a>.</p><p><img alt="Riverpod Demo" style="width: 40%" src="/blog/assets/flutter-riverpod-demo.png?v=1.0.19" title="Riverpod Demo"></p><pre class="language-dart"><code class="language-dart"><span class="token comment">// main.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'change_notifier_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'computed_provider_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'future_provider_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'provider_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'state_notifier_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'state_provider_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'stream_provider_page.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">ProviderScope</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Riverpod Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      routes<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>        ProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">ProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        StateProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">StateProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        FutureProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">FutureProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        StreamProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">StreamProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        ComputedProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">ComputedProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        ChangeNotifierPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">ChangeNotifierPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        StateNotifierPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">StateNotifierPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Riverpod Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Provider'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'StateProvider'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> StateProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'FutureProvider'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> FutureProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'StreamProvider'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> StreamProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'ComputedProvider'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ComputedProviderPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'ChangeNotifier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> ChangeNotifierPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'StateNotifier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> StateNotifierPage<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// provider_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This provide a single, immutable value.</span><br><span class="token comment">// The ref parameter can be used to access other providers.</span><br><span class="token comment">// This could be used to compute the value of this provider.</span><br><span class="token keyword">final</span> greetingProvider <span class="token operator">=</span> <span class="token function">Provider</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Extending ConsumerWidget instead of StatelessWidget</span><br><span class="token comment">// causes a WidgetRef argument to be passed to the build method.</span><br><span class="token comment">// ConsumerWidget extends ConsumerStatefulWidget</span><br><span class="token comment">// which extends StatefulWidget.</span><br><span class="token keyword">class</span> <span class="token class-name">ProviderPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/provider'</span><span class="token punctuation">;</span><br><br>  <span class="token function">ProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> watch <span class="token operator">=</span> ref<span class="token punctuation">.</span>watch<span class="token punctuation">;</span> <span class="token comment">// used later</span><br><br>    <span class="token comment">// This is one way to access the state of a provider</span><br>    <span class="token comment">// that makes it available throughout this widget.</span><br>    <span class="token comment">// When the value changes,</span><br>    <span class="token comment">// this entire widget will be rebuilt.</span><br>    <span class="token keyword">final</span> greeting <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>greetingProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Provider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token function">watch</span><span class="token punctuation">(</span>greetingProvider<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// same as previous line</span><br>            <span class="token comment">// This is another way to access the state of a provider</span><br>            <span class="token comment">// that limits the scope to a single child widget.</span><br>            <span class="token comment">// When the value changes, only this child widget will be rebuilt.</span><br>            <span class="token function">Consumer</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token keyword">final</span> greeting <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>greetingProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span>greeting<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// state_provider_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Adding ".autoDispose" causes the provider to lose its state</span><br><span class="token comment">// there are no longer any widgets listening to it.</span><br><span class="token comment">// The value will reset to zero every time we return to this page.</span><br><span class="token keyword">final</span> counterStateProvider <span class="token operator">=</span> StateProvider<span class="token punctuation">.</span>autoDispose<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">StateProviderPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/state-provider'</span><span class="token punctuation">;</span><br><br>  <span class="token function">StateProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> counter <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>counterStateProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'StateProvider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$counter'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">FloatingActionButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">incrementCounter</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">incrementCounter</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This is overly complex!</span><br>    ref<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>counterStateProvider<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span>state <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// future_provider_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// FutureProvider automatically caches results.</span><br><span class="token comment">// Adding ".autoDispose" causes it to lose the cached value</span><br><span class="token comment">// when there are no longer any widgets listening to it.</span><br><span class="token comment">// Every time we return to this page, it will be recomputed.</span><br><span class="token keyword">final</span> futureProvider <span class="token operator">=</span> FutureProvider<span class="token punctuation">.</span>autoDispose<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Simulate time to make a API request.</span><br>  <span class="token keyword">await</span> Future<span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token number">19</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">FutureProviderPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/future-provider'</span><span class="token punctuation">;</span><br><br>  <span class="token function">FutureProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> score <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>futureProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'FutureProvider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> score<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><br>          loading<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          data<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          error<span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">,</span> stack<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Error: $e'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// stream_provider_pagedart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// StreamProvider automatically continues using the same stream.</span><br><span class="token comment">// Adding ".autoDispose" causes it to dispose of the strean</span><br><span class="token comment">// when there are no longer any widgets listening to it.</span><br><span class="token comment">// Every time we return to this page, it will</span><br><span class="token comment">// create a new stream starting from the beginning.</span><br><span class="token keyword">final</span> streamProvider <span class="token operator">=</span> StreamProvider<span class="token punctuation">.</span>autoDispose<span class="token operator">&lt;</span>int<span class="token operator">></span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Stream<span class="token punctuation">.</span><span class="token function">periodic</span><span class="token punctuation">(</span><span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">StreamProviderPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/stream-provider'</span><span class="token punctuation">;</span><br><br>  <span class="token function">StreamProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> stream <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>streamProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'StreamProvider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> stream<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><br>          loading<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          data<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          error<span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">,</span> stack<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Error: $e'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">//TODO: Why can't this be used instead of the above code?</span><br>        <span class="token comment">//child: buildStream(stream),</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  Widget <span class="token function">buildStream</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> stream<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><br>      loading<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      data<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      error<span class="token punctuation">:</span> <span class="token punctuation">(</span>e<span class="token punctuation">,</span> stack<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Error: $e'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// computed_provider_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">final</span> priceStateProvider <span class="token operator">=</span> StateProvider<span class="token operator">&lt;</span>double<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> taxStateProvider <span class="token operator">=</span> StateProvider<span class="token operator">&lt;</span>double<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">0.075</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> totalStateProvider <span class="token operator">=</span> StateProvider<span class="token operator">&lt;</span>double<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> price <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>priceStateProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> tax <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>taxStateProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> price <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> tax<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ComputedProviderPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/scoped-provider'</span><span class="token punctuation">;</span><br><br>  <span class="token function">ComputedProviderPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> total <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>totalStateProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'ComputedProvider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>          padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>            children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>              <span class="token function">numberField</span><span class="token punctuation">(</span><span class="token string">'Price'</span><span class="token punctuation">,</span> priceStateProvider<span class="token punctuation">,</span> ref<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">numberField</span><span class="token punctuation">(</span><span class="token string">'Tax'</span><span class="token punctuation">,</span> taxStateProvider<span class="token punctuation">,</span> ref<span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Total: \$${total.toStringAsFixed(2)}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">]</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  TextFormField <span class="token function">numberField</span><span class="token punctuation">(</span><br>    String label<span class="token punctuation">,</span><br>    StateProvider provider<span class="token punctuation">,</span><br>    WidgetRef ref<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> value <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>      decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>        border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        labelText<span class="token punctuation">:</span> label<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      initialValue<span class="token punctuation">:</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      keyboardType<span class="token punctuation">:</span> TextInputType<span class="token punctuation">.</span>number<span class="token punctuation">,</span><br>      onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setValue</span><span class="token punctuation">(</span>provider<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">setValue</span><span class="token punctuation">(</span>StateProvider provider<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    ref<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>provider<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span>state <span class="token operator">=</span> double<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// change_notifier_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">DogChangeNotifier</span> <span class="token keyword">extends</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span><br>  String _breed <span class="token operator">=</span> <span class="token string">'Whippet'</span><span class="token punctuation">;</span><br>  String _name <span class="token operator">=</span> <span class="token string">'Comet'</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>String<span class="token operator">?</span> breed<span class="token punctuation">,</span> String<span class="token operator">?</span> name<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>breed <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> _breed <span class="token operator">=</span> breed<span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> _name <span class="token operator">=</span> name<span class="token punctuation">;</span><br>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'DogNotifier dispose called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'$_name is a $_breed.'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Adding ".autoDispose" causes the provider to lose its state</span><br><span class="token comment">// there are no longer any widgets listening to it.</span><br><span class="token comment">// It also enables its "dispose" method to be called.</span><br><span class="token keyword">final</span> dogChangeNotifierProvider <span class="token operator">=</span><br>    ChangeNotifierProvider<span class="token punctuation">.</span>autoDispose<span class="token operator">&lt;</span>DogChangeNotifier<span class="token operator">></span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">DogChangeNotifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ChangeNotifierPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/change-notifier'</span><span class="token punctuation">;</span><br><br>  <span class="token function">ChangeNotifierPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> dog <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>dogChangeNotifierProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Provider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Change Dog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                dog<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>breed<span class="token punctuation">:</span> <span class="token string">'GSP'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Oscar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><pre class="language-dart"><code class="language-dart"><span class="token comment">// state_notifier_page.dart</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_riverpod/flutter_riverpod.dart'</span><span class="token punctuation">;</span><br><br><span class="token comment">// This is an immutable class.</span><br><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String breed<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String name<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>breed <span class="token operator">=</span> <span class="token string">'Whippet'</span><span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Comet'</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  Dog <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>String<span class="token operator">?</span> breed<span class="token punctuation">,</span> String<span class="token operator">?</span> name<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">Dog</span><span class="token punctuation">(</span><br>        breed<span class="token punctuation">:</span> breed <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>breed<span class="token punctuation">,</span><br>        name<span class="token punctuation">:</span> name <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'$name is a $breed.'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">DogStateNotifier</span> <span class="token keyword">extends</span> <span class="token class-name">StateNotifier</span><span class="token operator">&lt;</span>Dog<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token function">DogStateNotifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">void</span> <span class="token function">setBreed</span><span class="token punctuation">(</span>String breed<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    state <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>breed<span class="token punctuation">:</span> breed<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    state <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'DogStateNotifier dispose called'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Adding ".autoDispose" causes the provider to lose its state</span><br><span class="token comment">// there are no longer any widgets listening to it.</span><br><span class="token comment">// It also enables its "dispose" method to be called.</span><br><span class="token keyword">final</span> dogNotifierProvider <span class="token operator">=</span><br>    StateNotifierProvider<span class="token punctuation">.</span>autoDispose<span class="token operator">&lt;</span>DogStateNotifier<span class="token punctuation">,</span> Dog<span class="token operator">></span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span>ref<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">DogStateNotifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">StateNotifierPage</span> <span class="token keyword">extends</span> <span class="token class-name">ConsumerWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/state-notifier'</span><span class="token punctuation">;</span><br><br>  <span class="token function">StateNotifierPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> WidgetRef ref<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> dog <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span>dogNotifierProvider<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">final</span> notifier <span class="token operator">=</span> ref<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>dogNotifierProvider<span class="token punctuation">.</span>notifier<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Provider Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>          children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>            <span class="token function">Text</span><span class="token punctuation">(</span>dog<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'State Dog'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                notifier<span class="token punctuation">.</span><span class="token function">setBreed</span><span class="token punctuation">(</span><span class="token string">'GSP'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                notifier<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'Oscar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token punctuation">}</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="asynchronous-data">Asynchronous Data</h2><p>In some cases it is desireable to load data in an asynchronous way before rendering a given widget. One way to do this is to use the <a href="https://api.flutter.dev/flutter/widgets/FutureBuilder-class.html?v=1.0.19" rel="noopener" target="_blank">FutureBuilder</a> widget. This is typically used in the <code>build</code> method of a <code>StatefulWidget</code>.</p><p>The <code>future</code> argument should be set to a <code>Future</code> object. This is typically is returned by function that obtains data asynchronously, perhaps by sending an HTTP request or querying a database.</p><p>The <code>builder</code> argument should be set to a function that takes a <code>BuildContext</code> and an <code>AsyncSnapshot</code>. The function returns a <code>Widget</code> to render that is selected based on the value of <code>snapshot.connectionState</code>. Possible values include <code>none</code>, <code>waiting</code>, <code>active</code>, and <code>done</code>.</p><p>If an error occurs in the <code>Future</code>, the <code>snapshot.hasError</code> property is set to <code>true</code> and the <code>snapshot.error</code> property is set to an object describing the error.</p><p><code>FutureBuilder</code> calls <code>setState</code> when the <code>Future</code> completes to trigger rebuilding the widget. This means that the <code>Future</code> can set state properties without the need to call <code>setState</code>.</p><p>The following code demonstrates basic usage of <code>FutureBuilder</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Container</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">FutureBuilder</span><span class="token punctuation">(</span><br>    <span class="token comment">// Passing context can be useful when</span><br>    <span class="token comment">// using a state management approach like provider.</span><br>    future<span class="token punctuation">:</span> <span class="token function">_loadData</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> snapshot<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>snapshot<span class="token punctuation">.</span>hasError<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Error fetching data: ${snapshot.error}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>snapshot<span class="token punctuation">.</span>connectionState <span class="token operator">!=</span> ConnectionState<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span>_loadedData<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><h2 id="persisting-state">Persisting State</h2><p>There are many approaches to persisting app data so it is not lost when an app is closed. Two popular options are:</p><ul><li><a href="https://pub.dev/packages/shared_preferences?v=1.0.19" rel="noopener" target="_blank">shared_preferences</a> package</li><li><a href="https://docs.flutter.dev/cookbook/persistence/sqlite?v=1.0.19" rel="noopener" target="_blank">SQLite</a> database on the device</li></ul><h3 id="shared_preferences-package">shared_preferences Package</h3><p>TODO: Add information about this. See usage in flutter_gift_track.</p><h3 id="sqlite">SQLite</h3><p>The SQLite database is a popular choice for persisting data on mobile devices. The pub.dev package <a href="https://pub.dev/packages/sqflite?v=1.0.19" rel="noopener" target="_blank">sqflite</a> is the most popular way to access a SQLite database in a Flutter application.</p><p>The steps to use sqflite are:</p><ol><li><p>Add the <code>path</code> and <code>sqflite</code> dependencies in <code>pubspec.yaml</code>.</p></li><li><p>Define model classes like the following corresponding to each database table:</p></li></ol><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> int id<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> int age<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String breed<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String name<span class="token punctuation">;</span><br><br>  <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>breed<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">></span> <span class="token function">toMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">'id'</span><span class="token punctuation">:</span> id<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> age<span class="token punctuation">,</span> <span class="token string">'breed'</span><span class="token punctuation">:</span> breed<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">:</span> name<span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// For debugging</span><br>  <span class="token metadata symbol">@override</span><br>  String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token string">'Dog{id: $id, name: $name, breed: $breed, age: $age}'</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><ol><li><p>Get a connection to the database.</p><pre class="language-dart"><code class="language-dart">WidgetsFlutterBinding<span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> database <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">openDatabase</span><span class="token punctuation">(</span><br>  <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">getDatabasesPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'doggie_database.db'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onConfigure<span class="token punctuation">:</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Foreign keys must be enabled in order to use them</span><br>    <span class="token comment">// and support cascading deletes.</span><br>    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token string">'pragma foreign_keys = ON'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token comment">// The version can be used to perform database upgrades and downgrades.</span><br>  version<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><br>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Create a table corresponding to each model class by inserting code like the following where <code>...</code> appears above.</p><pre class="language-dart"><code class="language-dart">  onCreate<span class="token punctuation">:</span> <span class="token punctuation">(</span>db<span class="token punctuation">,</span> version<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><br>     <span class="token string">'create table if not exists dogs('</span> <span class="token operator">+</span><br>     <span class="token string">'id integer primary key autoincrement, age integer, breed text, name text)'</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token comment">// The version provides a path to perform database upgrades and downgrades.</span><br>  version<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span></code></pre></li><li><p>Write a function that inserts a record.</p><pre class="language-dart"><code class="language-dart">Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">insertDog</span><span class="token punctuation">(</span>Dog dog<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> database<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><br>    <span class="token string">'dogs'</span><span class="token punctuation">,</span><br>    dog<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    conflictAlgorithm<span class="token punctuation">:</span> ConflictAlgorithm<span class="token punctuation">.</span>replace<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> comet <span class="token operator">=</span> <span class="token function">Dog</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'Comet'</span><span class="token punctuation">,</span> breed<span class="token punctuation">:</span> <span class="token string">'Whippet'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">insertDog</span><span class="token punctuation">(</span>comet<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Write a function that retrieves records.</p><pre class="language-dart"><code class="language-dart">Future<span class="token operator">&lt;</span>List<span class="token operator">&lt;</span>Dog<span class="token operator">>></span> <span class="token function">getDogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>Map<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token operator">>></span> maps <span class="token operator">=</span> <span class="token keyword">await</span> database<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">'dogs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> List<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>maps<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> map <span class="token operator">=</span> maps<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">Dog</span><span class="token punctuation">(</span><br>      id<span class="token punctuation">:</span> map<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      age<span class="token punctuation">:</span> map<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      breed<span class="token punctuation">:</span> map<span class="token punctuation">[</span><span class="token string">'breed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      name<span class="token punctuation">:</span> map<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">var</span> dogs <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getDogs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Write a function that updates a record.</p><pre class="language-dart"><code class="language-dart">Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">updateDog</span><span class="token punctuation">(</span>Dog dog<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> database<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><br>    <span class="token string">'dogs'</span><span class="token punctuation">,</span><br>    dog<span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    where<span class="token punctuation">:</span> <span class="token string">'id = ?'</span><span class="token punctuation">,</span><br>    <span class="token comment">// This prevents SQL injection.</span><br>    whereArgs<span class="token punctuation">:</span> <span class="token punctuation">[</span>dog<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>comet<span class="token punctuation">.</span>age <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> <span class="token function">updateDog</span><span class="token punctuation">(</span>comet<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Write a function that deletes a record.</p><pre class="language-dart"><code class="language-dart">Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">deleteDog</span><span class="token punctuation">(</span>int id<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> database<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><br>    <span class="token string">'dogs'</span><span class="token punctuation">,</span><br>    where<span class="token punctuation">:</span> <span class="token string">'id = ?'</span><span class="token punctuation">,</span><br>    whereArgs<span class="token punctuation">:</span> <span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">await</span> <span class="token function">deleteDog</span><span class="token punctuation">(</span>comet<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p>For a working example, see this <a href="https://github.com/mvolkmann/flutter_sqlite?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h2 id="navigation">Navigation</h2><p>There are many ways to implement page navigation in Flutter. Four that are described here involve using the <code>Navigator</code> class and the widgets <code>BottomNavigationBar</code>, <code>Drawer</code>, and <code>PageView</code>. Each approach is described below.</p><h3 id="navigator-class">Navigator Class</h3><p>The <code>Navigator</code> class supports programmatic navigation between pages of an app, also referred to as &quot;routes&quot;. It provides platform-aware transitions whose animations differ between Android and iOS. Android page transitions slide up from the bottom. iOS page transitions slide in from the left.</p><p>Visited routes are maintained on a stack. Pushing a route onto the stack navigates to it. Popping a route from the stack returns to the previous route.</p><p>Each page is responsible for configuring its layout which often includes a <code>Scaffold</code> and <code>AppBar</code>. The <code>AppBar</code> provides a <code>&lt;</code> back button for returning to the previous route. For consistency it is useful to define a class that provides this structure and then define page widgets that use this class. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> Widget child<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String title<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> child<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of a page class that uses <code>MyPage</code>:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'my_page.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">HelpPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token string">'/help'</span><span class="token punctuation">;</span> <span class="token comment">// used when registering this route</span><br><br>  <span class="token keyword">const</span> <span class="token function">HelpPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MyPage</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Help'</span><span class="token punctuation">,</span><br>      child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>        children<span class="token punctuation">:</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><br>          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Help is coming soon!'</span><span class="token punctuation">)</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>To navigate to a new page, push it onto the navigation stack. One way to do this is to specify the widget responsible for rendering the new page with the <a href="https://api.flutter.dev/flutter/material/MaterialPageRoute-class.html?v=1.0.19" rel="noopener" target="_blank">MaterialPageRoute</a> or <a href="https://api.flutter.dev/flutter/cupertino/CupertinoPageRoute-class.html?v=1.0.19" rel="noopener" target="_blank">CupertinoPageRoute</a> class. These differ in the transition animation they provide.</p><p>For example:</p><pre class="language-dart"><code class="language-dart">Navigator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><br>  context<span class="token punctuation">,</span><br>  <span class="token function">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">SomeWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To programmatically return to the previous page call <code>Navigator.pop(context)</code>.</p><p>Another approach is for the app class, typically defined in <code>lib/main.dart</code>, to register named routes with the <code>routes</code> argument to the <code>MaterialApp</code> widget. Assigning names to routes makes it easier to refer to them from multiple widgets. It is recommended to define route names as static constants in each page class, (as shown above) except for the page class of the home route. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'about_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'help_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'home_page.dart'</span><span class="token punctuation">;</span><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Flutter Navigation'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// the '/' route</span><br>      routes<span class="token punctuation">:</span> <span class="token punctuation">{</span><br>        AboutPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">AboutPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        HelpPage<span class="token punctuation">.</span>route<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">HelpPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span></code></pre><p>Call the <code>Navigator.pushNamed</code> method to push a named route on the stack and navigate to it. Call the <code>Navigator.pushReplacementNamed</code> method to replace top route on stack with a named route and navigate to it. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'About'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    Navigator<span class="token punctuation">.</span><span class="token function">pushNamed</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token string">'/about'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p>To pass arguments to a named route, add the <code>arguments</code> named argument in the call to <code>Navigator.pushNamed</code> with a value that can be any kind of object.</p><p>To retrieve the arguments value inside the page widget, add the following line in the <code>build</code> method:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> arguments <span class="token operator">=</span> ModalRoute<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>settings<span class="token punctuation">.</span>arguments<span class="token punctuation">;</span></code></pre><p>Routes are not required to be named. Call the <code>Navigator.push</code> method to push an unnamed route on the stack and navigate to it. Call the <code>Navigator.pushReplacement</code> method to replace top route on stack with an unnamed route and navigate to it. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Go to SomePage'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Navigator<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><br>    context<span class="token punctuation">,</span><br>    MaterialPageRoute<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span><span class="token punctuation">(</span><br>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">SomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p><code>MaterialPageRoute</code> creates a platform-aware transition between routes. This means that the animation that occurs during a page transition differs between Android and iOS.</p><p>Using a <code>builder</code> above allows Flutter to delay creating the route widget until it is needed.</p><p>Using named routes instead of unnamed routes has two downsides. First, the constructor of the page widgets cannot take custom arguments. Second, the mechanism described above for passing arguments to a named route does not allow type checking to be performed at compile-time.</p><h3 id="bottomnavigationbar-widget">BottomNavigationBar Widget</h3><p>This approach to page navigation displays a row of buttons at the bottom of page, one for each top-level page in the app. Clicking a button causes the corresponding page to be rendered. It doesn't use the <code>Navigator</code> class and routes are not pushed onto a stack.</p><p>The <code>BottomNavigationBar</code> widget renders the row of buttons. It works best when there are three to five pages. This widget doesn't implement page navigation. That part is left up to you, but is not difficult.</p><p>The steps to use <code>BottomNavigationBar</code> are:</p><ul><li>Create a stateful widget.</li><li>In the <code>build</code> method return a <code>Scaffold</code> widget with the following named arguments:<ul><li><code>appBar</code> set to an <code>AppBar</code> instance that specifies the title to be displayed for the current page</li><li><code>body</code> set to the widget to display for the current page</li><li><code>bottomNavigationBar</code> set to a <code>BottomNavigationBar</code> instance created with the following named arguments:<ul><li><code>currentIndex</code> set to the index of the currently selected page</li><li><code>onTap</code> set to a function that takes a selected index and saves it in the state of the stateful widget being defined</li><li><code>selectedItemColor</code> set to the color to use for the icon and label of the selected page</li><li><code>items</code> set to a <code>List&lt;BottomNavigationBarItem&gt;</code> where each element describes the <code>icon</code> and <code>label</code> to display in the bottom bar for one of the pages</li></ul></li></ul></li></ul><p>That's a lot of details to get right! Fortunately the code for doing all of this is typically the same in every app. The helper class below handles all of this. This code can be copied and used without modification in any Flutter app.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">NavOption</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> IconData icon<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> String label<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> Widget widget<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">NavOption</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>icon<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>widget<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">BottomNavigation</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>NavOption<span class="token operator">></span> options<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">BottomNavigation</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>BottomNavigation<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_BottomNavigationState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_BottomNavigationState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>BottomNavigation<span class="token operator">></span> <span class="token punctuation">{</span><br>  int _pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> items <span class="token operator">=</span> widget<span class="token punctuation">.</span>options<br>        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><br>          <span class="token comment">// To use NavigationBar instead,</span><br>          <span class="token comment">// change BottomNavigationBarItem to NavigationDestination.</span><br>          <span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">BottomNavigationBarItem</span><span class="token punctuation">(</span><br>            icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>option<span class="token punctuation">.</span>icon<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            label<span class="token punctuation">:</span> option<span class="token punctuation">.</span>label<span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>options<span class="token punctuation">[</span>_pageIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>label<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>options<span class="token punctuation">[</span>_pageIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>widget<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token comment">// Can change BottomNavigationBar to NavigationBar.</span><br>      bottomNavigationBar<span class="token punctuation">:</span> <span class="token function">BottomNavigationBar</span><span class="token punctuation">(</span><br>        <span class="token comment">// To use NavigationBar instead,</span><br>        <span class="token comment">// change currentIndex to NavigationDestination.</span><br>        currentIndex<span class="token punctuation">:</span> _pageIndex<span class="token punctuation">,</span><br>        <span class="token comment">// To use NavigationBar instead,</span><br>        <span class="token comment">// change onTap to onDestinationSelected.</span><br>        onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> _pageIndex <span class="token operator">=</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token comment">// To use NavigationBar instead, remove this argument.</span><br>        <span class="token comment">// The selected item will automatically</span><br>        <span class="token comment">// be given a unique background color.</span><br>        selectedItemColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>green<span class="token punctuation">,</span><br>        <span class="token comment">// To use NavigationBar instead,</span><br>        <span class="token comment">// change items to destinations.</span><br>        items<span class="token punctuation">:</span> items<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of using the helper class above to add a <code>BottomNavigationBar</code> to an app:</p><p><img alt="Flutter BottomNavigationBar" style="width: 40%" src="/blog/assets/flutter-bottomnavigationbar.png?v=1.0.19" title="Flutter BottomNavigationBar"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'about_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'bottom_navigation.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'home_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'settings_page.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token operator">&lt;</span>NavOption<span class="token operator">></span><span class="token punctuation">[</span><br>    <span class="token function">NavOption</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>info<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">AboutPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">NavOption</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>home<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">NavOption</span><span class="token punctuation">(</span>icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>settings<span class="token punctuation">,</span> label<span class="token punctuation">:</span> <span class="token string">'Settings'</span><span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">SettingsPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'BottomNavigationBar Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">BottomNavigation</span><span class="token punctuation">(</span>options<span class="token punctuation">:</span> options<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="drawer-widget">Drawer Widget</h3><p>This approach to page navigation uses a hamburger menu that slides in from the left to display a list of page links. Clicking a page link causes the corresponding page to be rendered. It doesn't use the <code>Navigator</code> class and routes are not pushed onto a stack.</p><p>The <code>Drawer</code> widget doesn't implement page navigation. That part is left up to you, but is not difficult.</p><p>The steps to use <code>Drawer</code> are:</p><ul><li>Create a stateful widget.</li><li>In the <code>build</code> method return a <code>Scaffold</code> widget with the following named arguments:<ul><li><code>appBar</code> set to an <code>AppBar</code> instance that specifies the title to be displayed for the current page</li><li><code>body</code> set to the widget to display for the current page</li><li><code>drawer</code> set to a <code>Drawer</code> instance created with the following named arguments:<ul><li><code>color</code> set to the drawer background color</li><li><code>drawer</code> set to a <code>Drawer</code> widget with a <code>child</code> argument set to a <code>Container</code> widget with a <code>child</code> argument set to a <code>ListView</code> widget with a <code>children</code> argument set to a <code>List</code></li><li>The <code>List</code> should contain a <code>DrawerHeader</code> widget and one <code>ListTile</code> widget for each page link.</li><li>The <code>DrawerHeader</code> widget has a <code>child</code> argument that can be set to any widget.</li><li>The <code>ListTile</code> widget has the arguments <code>leading</code> (typically set to an icon), <code>title</code> (typically set to a <code>Text</code> widget), and <code>onTap</code> (set to a function to call when the <code>ListTile</code> is tapped).</li><li>The <code>onTap</code> function should set state that affects the <code>appBar</code> <code>title</code> value and the <code>Scaffold</code> body where the selected page is rendered.</li></ul></li></ul></li></ul><p>That's a lot of details to get right! Fortunately the code for doing all of this is typically the same in every app. The helper class below handles all of this. This code can be copied and used without modification in any Flutter app.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'widget_extensions.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">DrawerItem</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> String title<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> IconData icon<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> Widget widget<span class="token punctuation">;</span><br><br>  <span class="token function">DrawerItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>icon<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>widget<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">DrawerScaffold</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>DrawerItem<span class="token operator">></span> drawerItems<span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> Color<span class="token operator">?</span> bgColor<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> Color<span class="token operator">?</span> fgColor<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> double width<span class="token punctuation">;</span><br><br>  <span class="token function">DrawerScaffold</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>drawerItems<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>fgColor<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">140</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>DrawerScaffold<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_DrawerScaffoldState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_DrawerScaffoldState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>DrawerScaffold<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> drawerBgColor <span class="token operator">=</span> widget<span class="token punctuation">.</span>bgColor <span class="token operator">?</span><span class="token operator">?</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">.</span>shade700<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> drawerFgColor <span class="token operator">=</span> widget<span class="token punctuation">.</span>fgColor <span class="token operator">?</span><span class="token operator">?</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> listTiles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> widget<span class="token punctuation">.</span>drawerItems<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> pageItem <span class="token operator">=</span> widget<span class="token punctuation">.</span>drawerItems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><br>      listTiles<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">ListTile</span><span class="token punctuation">(</span><br>        leading<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>pageItem<span class="token punctuation">.</span>icon<span class="token punctuation">,</span> color<span class="token punctuation">:</span> drawerFgColor<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        minLeadingWidth<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// decreases space between leading and title</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><br>          pageItem<span class="token punctuation">.</span>title<span class="token punctuation">,</span><br>          style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> drawerFgColor<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> pageIndex <span class="token operator">=</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          Navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      <span class="token comment">// Scaffolds with an AppBar automatically</span><br>      <span class="token comment">// get a hamburger menu on the left side.</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>drawerItems<span class="token punctuation">[</span>pageIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>drawerItems<span class="token punctuation">[</span>pageIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>widget<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      drawer<span class="token punctuation">:</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>        width<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>width<span class="token punctuation">,</span><br>        child<span class="token punctuation">:</span> <span class="token function">Drawer</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>            color<span class="token punctuation">:</span> drawerBgColor<span class="token punctuation">,</span><br>            child<span class="token punctuation">:</span> <span class="token function">ListView</span><span class="token punctuation">(</span><br>              padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span>zero<span class="token punctuation">,</span> <span class="token comment">// removes default padding</span><br>              children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>                <span class="token function">DrawerHeader</span><span class="token punctuation">(</span><br>                  child<span class="token punctuation">:</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>                    color<span class="token punctuation">:</span> drawerFgColor<span class="token punctuation">,</span><br>                    icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>menu<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Navigator<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">align</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                  padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span>zero<span class="token punctuation">,</span> <span class="token comment">// removes default padding</span><br>                  <span class="token comment">// This size lines up the two hamburger icons perfectly.</span><br>                <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">110</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>listTiles<span class="token punctuation">,</span><br>              <span class="token punctuation">]</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Here is an example of using the helper class above to add a <code>Drawer</code> to an app:</p><p><img alt="Flutter Drawer" style="width: 40%" src="/blog/assets/flutter-drawer.png?v=1.0.19" title="Flutter Drawer"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'about_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'drawer_scaffold.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'home_page.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'settings_page.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">final</span> drawerItems <span class="token operator">=</span> <span class="token operator">&lt;</span>DrawerItem<span class="token operator">></span><span class="token punctuation">[</span><br>    <span class="token function">DrawerItem</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span> icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>info<span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">AboutPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">DrawerItem</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span> icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>home<span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token function">DrawerItem</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string">'Settings'</span><span class="token punctuation">,</span> icon<span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>settings<span class="token punctuation">,</span> widget<span class="token punctuation">:</span> <span class="token function">SettingsPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'Drawer Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span>primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token function">DrawerScaffold</span><span class="token punctuation">(</span>drawerItems<span class="token punctuation">:</span> drawerItems<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="pageview-widget">PageView Widget</h3><p>The <a href="https://api.flutter.dev/flutter/widgets/PageView-class.html?v=1.0.19" rel="noopener" target="_blank">PageView</a> widget provides a carousel-like scrollable list of pages. Users can swipe through viewing the pages one at a time or the current page can be changed programmatically.</p><p>Pages scroll horizontally by default, but can be changed to scroll vertically.</p><p>Page transitions are animated by default and the animation can be customized.</p><p>The following code demonstrates using <code>PageView</code>:</p><p><img alt="Flutter PageView" style="width: 40%" src="/blog/assets/flutter-pageview.png?v=1.0.19" title="Flutter PageView"></p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      title<span class="token punctuation">:</span> <span class="token string">'PageView Demo'</span><span class="token punctuation">,</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_HomeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_HomeState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> PageController _controller <span class="token operator">=</span> <span class="token function">PageController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> _pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> _pages <span class="token operator">=</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><span class="token function">Page1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Page3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>  IconButton <span class="token function">_buildButton</span><span class="token punctuation">(</span>bool forward<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> <span class="token keyword">hide</span> <span class="token operator">=</span> forward <span class="token operator">?</span> _pageIndex <span class="token operator">>=</span> _pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">:</span> _pageIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> icon <span class="token operator">=</span> forward <span class="token operator">?</span> Icons<span class="token punctuation">.</span>arrow_forward_ios <span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>arrow_back_ios<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> method <span class="token operator">=</span> forward <span class="token operator">?</span> _controller<span class="token punctuation">.</span>nextPage <span class="token punctuation">:</span> _controller<span class="token punctuation">.</span>previousPage<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>      icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span>forward <span class="token operator">?</span> <span class="token string">'forwardBtn'</span> <span class="token punctuation">:</span> <span class="token string">'backBtn'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      onPressed<span class="token punctuation">:</span> <span class="token keyword">hide</span><br>          <span class="token operator">?</span> <span class="token keyword">null</span><br>          <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token function">method</span><span class="token punctuation">(</span><br>                curve<span class="token punctuation">:</span> Curves<span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span><br>                duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> _pageIndex <span class="token operator">+=</span> forward <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'PageView Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        leading<span class="token punctuation">:</span> <span class="token function">_buildButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        actions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">_buildButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">SafeArea</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>            <span class="token function">Expanded</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">PageView</span><span class="token punctuation">(</span><br>                children<span class="token punctuation">:</span> _pages<span class="token punctuation">,</span><br>                controller<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span><br>                onPageChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> _pageIndex <span class="token operator">=</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                <span class="token comment">//scrollDirection: Axis.vertical,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token comment">// See notes on using TabPageSelector instead below.</span><br>            <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">Row</span><span class="token punctuation">(</span><br>                mainAxisAlignment<span class="token punctuation">:</span> MainAxisAlignment<span class="token punctuation">.</span>center<span class="token punctuation">,</span><br>                children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>                  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> _pages<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span><br>                    <span class="token function">IconButton</span><span class="token punctuation">(</span><br>                      icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span><br>                        Icons<span class="token punctuation">.</span>circle<span class="token punctuation">,</span><br>                        color<span class="token punctuation">:</span><br>                            index <span class="token operator">==</span> _pageIndex <span class="token operator">?</span> Colors<span class="token punctuation">.</span>black <span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>black26<span class="token punctuation">,</span><br>                        size<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span><br>                      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>                      key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'dot${index + 1}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                        _controller<span class="token punctuation">.</span><span class="token function">animateToPage</span><span class="token punctuation">(</span><br>                          index<span class="token punctuation">,</span><br>                          duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>                          curve<span class="token punctuation">:</span> Curves<span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span><br>                        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>                        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> _pageIndex <span class="token operator">=</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>                      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>                    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>                <span class="token punctuation">]</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>              height<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Page1</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Page1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>Page1<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_Page1State</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_Page1State</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Page1<span class="token operator">></span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">Padding</span><span class="token punctuation">(</span><br>        padding<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>          <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">TextFormField</span><span class="token punctuation">(</span><br>            decoration<span class="token punctuation">:</span> <span class="token function">InputDecoration</span><span class="token punctuation">(</span><br>              border<span class="token punctuation">:</span> <span class="token function">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              filled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>              fillColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>white<span class="token punctuation">,</span><br>              labelText<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            initialValue<span class="token punctuation">:</span> name<span class="token punctuation">,</span><br>            key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'nameField'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>String value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> name <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">Text</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span>isEmpty <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">'Hello, $name!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>            child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'SHOUT'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'shoutBtn'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>pink<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'page1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Page2</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Page2</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'page2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">Page3</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">Page3</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Container</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> <span class="token function">Center</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'page3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>The <code>TabPageSelector</code> widget can be used to render the dots instead creating our own with the <code>IconButton</code> widget. But the dots it creates cannot be tapped to change the page. If all that is needed is to indicate the current page, the following version of the <code>_HomeState</code> class above achieves this.</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// The mixin is required in order to set the TabController vsync argument.</span><br><span class="token keyword">class</span> <span class="token class-name">_HomeState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>Home<span class="token operator">></span> <span class="token keyword">with</span> SingleTickerProviderStateMixin <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> PageController _controller <span class="token operator">=</span> <span class="token function">PageController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> _pages <span class="token operator">=</span> <span class="token operator">&lt;</span>Widget<span class="token operator">></span><span class="token punctuation">[</span><span class="token function">Page1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Page2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">Page3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>  late TabController _tabController<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    _tabController <span class="token operator">=</span> <span class="token function">TabController</span><span class="token punctuation">(</span>length<span class="token punctuation">:</span> _pages<span class="token punctuation">.</span>length<span class="token punctuation">,</span> vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  IconButton <span class="token function">_buildButton</span><span class="token punctuation">(</span>bool forward<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> index <span class="token operator">=</span> _tabController<span class="token punctuation">.</span>index<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> <span class="token keyword">hide</span> <span class="token operator">=</span> forward <span class="token operator">?</span> index <span class="token operator">>=</span> _pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">:</span> index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> icon <span class="token operator">=</span> forward <span class="token operator">?</span> Icons<span class="token punctuation">.</span>arrow_forward_ios <span class="token punctuation">:</span> Icons<span class="token punctuation">.</span>arrow_back_ios<span class="token punctuation">;</span><br>    <span class="token keyword">var</span> method <span class="token operator">=</span> forward <span class="token operator">?</span> _controller<span class="token punctuation">.</span>nextPage <span class="token punctuation">:</span> _controller<span class="token punctuation">.</span>previousPage<span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token function">IconButton</span><span class="token punctuation">(</span><br>      icon<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>icon<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      onPressed<span class="token punctuation">:</span> <span class="token keyword">hide</span><br>          <span class="token operator">?</span> <span class="token keyword">null</span><br>          <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>              <span class="token function">method</span><span class="token punctuation">(</span><br>                curve<span class="token punctuation">:</span> Curves<span class="token punctuation">.</span>easeInOut<span class="token punctuation">,</span><br>                duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">;</span><br>              <span class="token function">setPageIndex</span><span class="token punctuation">(</span>_tabController<span class="token punctuation">.</span>index <span class="token operator">+</span> <span class="token punctuation">(</span>forward <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">setPageIndex</span><span class="token punctuation">(</span>int pageIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      _tabController<span class="token punctuation">.</span>index <span class="token operator">=</span> pageIndex<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>      appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span><br>        title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'PageView Demo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        leading<span class="token punctuation">:</span> <span class="token function">_buildButton</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        actions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">_buildButton</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      body<span class="token punctuation">:</span> <span class="token function">SafeArea</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Column</span><span class="token punctuation">(</span><br>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>            <span class="token function">Expanded</span><span class="token punctuation">(</span><br>              child<span class="token punctuation">:</span> <span class="token function">PageView</span><span class="token punctuation">(</span><br>                children<span class="token punctuation">:</span> _pages<span class="token punctuation">,</span><br>                controller<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span><br>                onPageChanged<span class="token punctuation">:</span> setPageIndex<span class="token punctuation">,</span><br>                <span class="token comment">//scrollDirection: Axis.vertical,</span><br>              <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>            <span class="token function">TabPageSelector</span><span class="token punctuation">(</span><br>              color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>pink<span class="token punctuation">,</span> <span class="token comment">// optional</span><br>              controller<span class="token punctuation">:</span> _tabController<span class="token punctuation">,</span><br>              indicatorSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// optional</span><br>              selectedColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>purple<span class="token punctuation">,</span> <span class="token comment">// optional</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">]</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="fonts">Fonts</h2><p>To use custom fonts:</p><ul><li><p>Download font files such as <code>.ttf</code> files.</p></li><li><p>Create a directory named <code>fonts</code> in the Flutter project.</p></li><li><p>Copy the font files into this directory.</p></li><li><p>Modify the <code>pubspec.yaml</code> file and add the following which assumes the font to be added is named &quot;Corinthia&quot;:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">fonts</span><span class="token punctuation">:</span><br>  <span class="token punctuation">-</span> <span class="token key atrule">family</span><span class="token punctuation">:</span> Corinthia<br>    <span class="token key atrule">fonts</span><span class="token punctuation">:</span><br>      <span class="token punctuation">-</span> <span class="token key atrule">asset</span><span class="token punctuation">:</span> fonts/Corinthia<span class="token punctuation">-</span>Bold.ttf<br>      <span class="token punctuation">-</span> <span class="token key atrule">asset</span><span class="token punctuation">:</span> fonts/Corinthia<span class="token punctuation">-</span>Regular.ttf</code></pre></li></ul><p>To change the font family, size, and weight used to render text, specify the <code>style</code> parameter. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">,</span><br>  style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span><br>    backgroundColor<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span><br>    <span class="token comment">//backgroundColor: CupertinoColors.systemYellow,</span><br>    color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span><br>    <span class="token comment">//color: CupertinoColors.systemRed,</span><br>    fontFamily<span class="token punctuation">:</span> <span class="token string">'Corinthia'</span><span class="token punctuation">,</span><br>    fontSize<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span><br>    fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p>Another way to get fonts is use the <a href="https://pub.dev/packages/google_fonts?v=1.0.19" rel="noopener" target="_blank">google_fonts</a> package. This provides over 1000 fonts. Instead of downloading each of the fonts, they are fetched via HTTP at runtime and cached in the app's file system.</p><p>The steps to use this are:</p><ol><li><p>Add <code>google_fonts</code> as a dependency in <code>pubspec.yaml</code>.</p></li><li><p>Add the following import in all <code>.dart</code> files that wish to use the fonts.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:google_fonts/google_fonts.dart'</span><span class="token punctuation">;</span></code></pre></li><li><p>Use the <code>GoogleFonts</code> class to select fonts.</p><pre class="language-dart"><code class="language-dart"><span class="token function">Text</span><span class="token punctuation">(</span><br>  <span class="token string">'This is Google Fonts'</span><span class="token punctuation">,</span><br>  style<span class="token punctuation">:</span> GoogleFonts<span class="token punctuation">.</span><span class="token function">getFont</span><span class="token punctuation">(</span><br>    <span class="token string">'Dancing Script'</span><span class="token punctuation">,</span><br>    textStyle<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span><br>      color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>purple<span class="token punctuation">,</span><br>      fontSize<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span><br>      fontStyle<span class="token punctuation">:</span> FontStyle<span class="token punctuation">.</span>italic<span class="token punctuation">,</span><br>      fontWeight<span class="token punctuation">:</span> FontWeight<span class="token punctuation">.</span>bold<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token function">Text</span><span class="token punctuation">(</span><br> <span class="token string">'This is Google Fonts'</span><span class="token punctuation">,</span><br> <span class="token comment">// alternative to getFont using method names that are font names</span><br> style<span class="token punctuation">:</span> GoogleFonts<span class="token punctuation">.</span><span class="token function">dancingScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></li></ol><p>Both the <code>getFont</code> method and specific font methods accept a <code>textStyle</code> argument for specifying their color, font size, and more.</p><p>If matching font files are found in the assets directory specified in <code>pubspec.yaml</code>, those will be used in instead of downloading new font files.</p><p>Create the directory <code>asssets/fonts</code> and add the following in <code>pubspec.yaml</code>:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">assets</span><span class="token punctuation">:</span><br>  <span class="token punctuation">-</span> assets/fonts/</code></pre><p>To download font files ahead of time, browse <a href="https:/fonts.google.com?v=1.0.19" rel="noopener" target="_blank">fonts.google.com</a>. For example, download the &quot;Dancing Script&quot; font and move all the <code>.ttf</code> files in the downloaded <code>static</code> directory to a project <code>assets/fonts</code> directory.</p><p>In order for runtime font fetching to work in macOS, a <code>.entitlements</code> file much contain the following:</p><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>com.apple.security.network.client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>true</span><span class="token punctuation">/></span></span></code></pre><h2 id="styling">Styling</h2><p>One way to add styling to a widget is to wrap it in a <code>Container</code> widget. The following example adds padding, a background color, and a border to a <code>Text</code> widget. The equivalent CSS property is shown in comments.</p><pre class="language-dart"><code class="language-dart"><span class="token function">Container</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Hello, World!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span><br>    border<span class="token punctuation">:</span> Border<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token comment">// CSS: border 5px solid blue;</span><br>    borderRadius<span class="token punctuation">:</span> <span class="token keyword">const</span> BorderRadius<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>Radius<span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token comment">// CSS: border-radius: 10px;</span><br>    color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>yellow<span class="token punctuation">,</span><br>    <span class="token comment">// CSS: background-color: yellow;</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  margin<span class="token punctuation">:</span> <span class="token keyword">const</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token comment">// CSS: margin: 20px;</span><br>  padding<span class="token punctuation">:</span> <span class="token keyword">const</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token comment">// CSS: padding: 10px;</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><p>A <code>Container</code> widget can be given a specific size by adding <code>width</code> and/or <code>height</code> parameters whose values are number.</p><h2 id="colors">Colors</h2><p>The <code>Colors</code> class defines a large number of colors as static constants. For example, <code>Colors.pink.shade700</code> is a specific shade of pink.</p><p>To see all the colors defined by the <code>Colors</code> class, see the documentation for the <a href="https://api.flutter.dev/flutter/material/Colors-class.html?v=1.0.19" rel="noopener" target="_blank">Colors class</a>. Note that <code>grey</code> is one of the defined colors, but <code>gray</code> is not.</p><p>To get a color from the current theme, call the <code>Theme.of(context)</code> method. For example, to get the error color, use <code>Theme.of(context).errorColor</code>.</p><h2 id="themes">Themes</h2><p>Flutter uses theme objects to describe styling that should be applied to various kinds of widgets throughout an app. This begins with the <code>ThemeData</code> object that is specified in the <code>MaterialApp</code> <code>theme</code> (used for light mode) and <code>darkTheme</code> arguments. If no theme is specified, Flutter provides a default theme.</p><p>Most Material and Cupertino widgets are theme-aware. This means their styling is affected by the theme specified in the app widget.</p><p>For example, it is possible to specify the background color to be used for all <code>ElevatedButtonWidgets</code> in an app as follows:</p><pre class="language-dart"><code class="language-dart">    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>      theme<span class="token punctuation">:</span> <span class="token function">ThemeData</span><span class="token punctuation">(</span><br>        elevatedButtonTheme<span class="token punctuation">:</span> <span class="token function">ElevatedButtonThemeData</span><span class="token punctuation">(</span><br>          style<span class="token punctuation">:</span> <span class="token function">ButtonStyle</span><span class="token punctuation">(</span><br>            backgroundColor<span class="token punctuation">:</span> MaterialStateProperty<span class="token punctuation">.</span>all<span class="token operator">&lt;</span>Color<span class="token operator">></span><span class="token punctuation">(</span><br>              Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span><br>            <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        primarySwatch<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>ButtonStyle</code> <code>background</code> argument must be set to a <code>MaterialStateProperty</code> object. From the documentation for the <a href="https://api.flutter.dev/flutter/material/ButtonStyle-class.html?v=1.0.19" rel="noopener" target="_blank">ButtonStyle</a> class, &quot;Many of the <code>ButtonStyle</code> properties are <code>MaterialStateProperty</code> objects which resolve to different values depending on the button's state. For example the <code>Color</code> properties are defined with <code>MaterialStateProperty&lt;Color&gt;</code> and can resolve to different colors depending on if the button is pressed, hovered, focused, disabled, etc.&quot;</p><p>To use a theme property for a different purpose, obtain the value using <code>Theme.of(context).propertyName</code>. This uses the <code>BuildContext</code> object passed to <code>Theme.of</code> to traverse up the widget tree to find a <code>Theme</code> widget. It then returns its <code>ThemeData</code> object. The traversal only happens once per widget instance and a reference to the <code>ThemeData</code> object is then stored in the widget.</p><p>The following code finds the theme <code>disabledColor</code> value and uses it in a <code>Text</code> widget:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// This defaults to light gray.</span><br><span class="token comment">// "context" here is a BuildContext object</span><br><span class="token keyword">var</span> disabledColor <span class="token operator">=</span> Theme<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>disabledColor<span class="token punctuation">;</span><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br><span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'some dimmed text'</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> disabledColor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h2 id="icons">Icons</h2><p>The <code>Icon</code> widget renders an icon from a large provided set of icons. For example, the following renders a music note icon.</p><pre class="language-dart"><code class="language-dart"><span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>audiotrack<span class="token punctuation">,</span> color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span></code></pre><p>To see all the icons defined by the <code>Icons</code> class, see the documentation for the <a href="https://api.flutter.dev/flutter/material/Icons-class.html?v=1.0.19" rel="noopener" target="_blank">Icons class</a>.</p><p>Cupertino icons are provided by the &quot;Cupertino Icons&quot; package which is documented at <a href="https://pub.dev/packages/cupertino_icons?v=1.0.19" rel="noopener" target="_blank">cupertino_icons</a>.</p><h2 id="images">Images</h2><p>The <code>Image</code> widget renders an image from a URL or local file. For example, the following renders a photo of an owl.</p><pre class="language-dart"><code class="language-dart">Image<span class="token punctuation">.</span><span class="token function">network</span><span class="token punctuation">(</span><br>  <span class="token string">'https://flutter.github.io/assets-for-api-docs/assets/widgets/owl.jpg'</span><br><span class="token punctuation">)</span></code></pre><p>To render an image from a local file,</p><ul><li><p>Create an <code>assets</code> directory at the top of the project directory. This can have subdirectories for different kinds of assets such as audio, fonts, icons, images, and video.</p></li><li><p>Create an <code>images</code> directory inside the <code>assets</code> directory.</p></li><li><p>Copy image files into the <code>assets/images</code> directory.</p></li><li><p>Edit <code>pubspec.yaml</code> and add the following:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">assets</span><span class="token punctuation">:</span><br>  <span class="token punctuation">-</span> assets/</code></pre></li><li><p>Create an <code>Image</code> widget to render the image. For example, <code>Image.asset('assets/images/comet.jpg')</code></p></li></ul><p>To clip an image to an ellipse, use the <code>ClipOval</code> widget. Clearly the person that named this widget doesn't know geometry. The shape will be a circle if the image width and height are equal. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ClipOval</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> Image<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'assets/images/comet.jpg'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><p>To blend a color with an image, specify the color with the <code>color</code> argument and add the <code>colorBlendMode</code> argument to specify how it should be blended. The <code>colorBlendMode</code> value should be one of the constants defined in the <a href="https://api.flutter.dev/flutter/dart-ui/BlendMode.html?v=1.0.19" rel="noopener" target="_blank">BlendMode</a> class.</p><p>The <code>Image</code> widget does not support SVG files. To render SVGs, add a dependency on the pub.dev package flutter_svg. To use this, create an <code>assets</code> directory and register it in <code>pubspec.yaml</code> as shown above. Then write code like the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter_svg/flutter_svg.dart'</span><span class="token punctuation">;</span><br><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><br>SvgPicture<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'assets/images/some_filename.svg'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><h2 id="drawing">Drawing</h2><p>To draw on a widget, use the <code>CustomPaint</code> widget. This is similar to using the HTML <code>canvas</code> and <code>svg</code> elements.</p><p>There are two steps required. First, define a class that extends the <code>CustomPainter</code> class. This includes a <code>paint</code> method that takes a <code>Canvas</code> and draws on it.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">_MyPainter</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span><br>  <span class="token function">_MyPainter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span>Canvas canvas<span class="token punctuation">,</span> Size size<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">final</span> path <span class="token operator">=</span> <span class="token function">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> inset <span class="token operator">=</span> <span class="token number">10.0</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> minX <span class="token operator">=</span> inset<span class="token punctuation">;</span><br>    <span class="token keyword">final</span> maxX <span class="token operator">=</span> size<span class="token punctuation">.</span>width <span class="token operator">-</span> inset<span class="token punctuation">;</span><br>    <span class="token keyword">const</span> minY <span class="token operator">=</span> inset<span class="token punctuation">;</span><br>    <span class="token keyword">final</span> maxY <span class="token operator">=</span> size<span class="token punctuation">.</span>height <span class="token operator">-</span> inset<span class="token punctuation">;</span><br>    <span class="token comment">// Create a List of points for a triangle.</span><br>    <span class="token keyword">var</span> points <span class="token operator">=</span> <span class="token operator">&lt;</span>Offset<span class="token operator">></span><span class="token punctuation">[</span><br>        <span class="token function">Offset</span><span class="token punctuation">(</span><span class="token punctuation">(</span>minX <span class="token operator">+</span> maxX<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> minY<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Offset</span><span class="token punctuation">(</span>maxX<span class="token punctuation">,</span> maxY<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Offset</span><span class="token punctuation">(</span>minX<span class="token punctuation">,</span> maxY<span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">;</span><br>    path<span class="token punctuation">.</span><span class="token function">addPolygon</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true to close</span><br>    path<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">final</span> paint <span class="token operator">=</span> <span class="token function">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> Colors<span class="token punctuation">.</span>red<br>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> PaintingStyle<span class="token punctuation">.</span>fill <span class="token comment">// or .stroke</span><br>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><br>    <span class="token comment">// Convert the path to pixels.</span><br>    canvas<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> paint<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// Returning false optimizes for drawings</span><br>  <span class="token comment">// that do not change based on state.</span><br>  <span class="token metadata symbol">@override</span><br>  bool <span class="token function">shouldRepaint</span><span class="token punctuation">(</span>CustomPainter oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>The <code>Path</code> class supports a large number of methods for describing what should be drawn. These include: <code>addArc</code>, <code>addOval</code>, <code>addPath</code>, <code>addPolygon</code>, <code>addRect</code>, <code>addRRect</code>, <code>arcTo</code>, <code>arcToPoint</code>, <code>conicTo</code>, <code>cubicTo</code>, <code>lineTo</code>, <code>moveTo</code>, <code>quadraticBezierTo</code>, <code>relativeArcToPoint</code>, <code>relativeConicTo</code>, <code>relativeLineTo</code>, <code>relativeMoveTo</code>, and <code>relativeQuadraticBezierTo</code>. Also see the static Path method combine.</p><p>Second, render the drawing described by the class above on another widget using the <code>CustomPaint</code> widget. Often the targeted widget is an empty <code>SizedBox</code>, but it can be any widget and the drawing appears on top of what that widget renders.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">return</span> <span class="token function">CustomPaint</span><span class="token punctuation">(</span><br>  painter<span class="token punctuation">:</span> <span class="token function">_MyPainter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  child<span class="token punctuation">:</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="animation">Animation</h2><p>Flutter animations provide a way to rebuild parts of the widget tree on every frame with a goal of rendering at least 60 frames per second (fps). Typically Flutter widget building is fast enough to support this.</p><p>For official documentation on Flutter animations, see <a href="https://docs.flutter.dev/development/ui/animations?v=1.0.19" rel="noopener" target="_blank">Introduction to animations</a>. This page contains six videos on the topic and a flow chart for deciding which kind of animation to use.</p><p>Flutter supports two kinds of animations, implicit and explict. Implicit animations are generally easier to use, but provide less control. Explicit animations are generally more difficult to use, but provide more control.</p><p>Use an implicit animation unless any of the following are true, in which case an explicit animation must be used.</p><ul><li>The animation should repeat while some condition is true, including just being on a certain screen.</li><li>The animation is discontinuous, such as a circle whose radius increases and then jumps back to the beginning radius rather than reversing direction.</li></ul><p>There are implicit animation versions of many non-animated widgets. These are listed in the table below.</p><table><thead><tr><th>Property to Animate</th><th>Implicit Animation</th><th>Explicit Animation</th></tr></thead><tbody><tr><td><code>alignment</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedAlign-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedAlign</a></td><td><a href="https://api.flutter.dev/flutter/widgets/AlignTransition-class.html?v=1.0.19" rel="noopener" target="_blank">AlignTransition</a></td></tr><tr><td><code>decoration</code></td><td></td><td><a href="https://api.flutter.dev/flutter/widgets/DecoratedBoxTransition-class.html?v=1.0.19" rel="noopener" target="_blank">DecoratedBoxTransition</a></td></tr><tr><td><code>List</code> items</td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedList-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedList</a> and <a href="https://api.flutter.dev/flutter/widgets/AnimatedListState-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedListState</a></td><td></td></tr><tr><td><code>Listenable</code> value</td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedWidget-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedWidget</a></td><td></td></tr><tr><td>multiple properties</td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedContainer-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedContainer</a></td><td><a href="https://api.flutter.dev/flutter/widgets/TweenAnimationBuilder-class.html?v=1.0.19" rel="noopener" target="_blank">TweenAnimationBuilder</a></td></tr><tr><td><code>offset</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedSlide-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedSlide</a></td><td></td></tr><tr><td><code>opacity</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedOpacity-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedOpacity</a></td><td><a href="https://api.flutter.dev/flutter/widgets/FadeTransition-class.html?v=1.0.19" rel="noopener" target="_blank">FadeTransition</a></td></tr><tr><td><code>padding</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedPadding-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedPadding</a></td><td></td></tr><tr><td><code>position</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedPositioned-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedPositioned</a> and <a href="https://api.flutter.dev/flutter/widgets/AnimatedPositionedDirectional-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedPositionedDirectional</a></td><td><a href="https://api.flutter.dev/flutter/widgets/PositionedTransition-class.html?v=1.0.19" rel="noopener" target="_blank">PositionedTransition</a>, <a href="https://api.flutter.dev/flutter/widgets/RelativePositionedTransition-class.html?v=1.0.19" rel="noopener" target="_blank">RelativePositionedTransition</a>, and <a href="https://api.flutter.dev/flutter/widgets/SlideTransition-class.html?v=1.0.19" rel="noopener" target="_blank">SlideTransition</a></td></tr><tr><td><code>rotation</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedRotation-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedRotation</a></td><td><a href="https://api.flutter.dev/flutter/widgets/RotationTransition-class.html?v=1.0.19" rel="noopener" target="_blank">RotationTransition</a></td></tr><tr><td><code>scale</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedScale-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedScale</a></td><td><a href="https://api.flutter.dev/flutter/widgets/ScaleTransition-class.html?v=1.0.19" rel="noopener" target="_blank">ScaleTransition</a></td></tr><tr><td><code>shadow</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedPhysicalModel-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedPhysicalModel</a></td><td></td></tr><tr><td><code>size</code></td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedSize-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedSize</a></td><td><a href="https://api.flutter.dev/flutter/widgets/SizeTransition-class.html?v=1.0.19" rel="noopener" target="_blank">SizeTransition</a></td></tr><tr><td>text style</td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedDefaultTextStyle-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedDefaultTextStyle</a></td><td><a href="https://api.flutter.dev/flutter/widgets/DefaultTextStyleTransition-class.html?v=1.0.19" rel="noopener" target="_blank">DefaultTextStyleTransition</a></td></tr><tr><td>widget pair showing one</td><td><a href="https://api.flutter.dev/flutter/widgets/AnimatedSwitcher-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedSwitcher</a> and <a href="https://api.flutter.dev/flutter/widgets/AnimatedCrossFade-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedCrossFade</a></td><td></td></tr></tbody></table><p>In order of difficulty from easiest to most difficult, the options for implementing animattions are</p><ol><li>Built-in implicit animations: <code>Animated{property}</code></li><li>Custom implicit animations&quot;: <code>TweenAnimationBuilder</code></li><li>Built-in explicit animations: <code>{property}Transition</code></li><li>Custom explicit animations: <code>AnimatedWidget</code></li><li>Custom drawing animations: <code>CustomPainter</code></li></ol><h3 id="implicit-animation">Implicit Animation</h3><p>Built-in implicit animations have names of the form <code>Animated{property}</code>. They animate changes to a specific property. They are used inside a <code>StatefulWidget</code> (or use <code>StreamBuilder</code> or <code>FutureBuilder</code>) to allow a state variable that provides a property value to be changed.</p><p>Built-in implicit animations all extend <code>ImplicitlyAnimatedWidget</code>.</p><p>Most implicit animations constructors take the arguments <code>duration</code> and <code>curve</code>. The <code>duration</code> argument takes a <code>Duration</code> object that specifies the amount of time over which the animation should take place. The <code>curve</code> argument takes a <code>Curve</code> object that specifies an easing curve to use.` This controls the rate of change in an animation over its duration.</p><p>See the <a href="https://api.flutter.dev/flutter/animation/Curves-class.html?v=1.0.19" rel="noopener" target="_blank">Curves</a> class for a graphical represenation of each of the built-in easing curves. In the page linked above, each curve has a play button. Clicking it animates movement along the curve and demonstrates how it would affect translation, rotation, scale, and opacity. Some easing curves bounce, meaning that the direction of the animation reverses at some point and then goes forward again, possibly multiple times.</p><p>The <code>AnimatedModalBarrier</code> widget is an animated version of the <code>ModalBarrier</code> widget. Both prevent interaction with widgets that are behind it. They are typically used to implement modal dialogs.</p><p>The <code>AnimatedPhysicalModel</code> widget is an animated version of the <code>PhysicalModel</code> widget. Both add a shadow to a shape based on <code>elevation</code> and other arguments.</p><p>The <code>AnimatedContainer</code> widget provides implicit animation of multiple properties.</p><p>The <a href="https://api.flutter.dev/flutter/widgets/AnimatedBuilder/AnimatedBuilder.html?v=1.0.19" rel="noopener" target="_blank">AnimationBuilder</a> and <a href="https://api.flutter.dev/flutter/widgets/TweenAnimationBuilder-class.html?v=1.0.19" rel="noopener" target="_blank">TweenAnimationBuilder</a> classes are used to create custom implicit animations. For an example, see the &quot;Animation From Scratch&quot; section below.</p><h3 id="explicit-animation">Explicit Animation</h3><p>Built-in explicit animations have names of the form “{property}Transition”. For custom &quot;standalone&quot; explicit animations, consider creating a class that extends <code>AnimatedWidget</code>. Otherwise create custom explicit animations using <code>AnimatedBuilder</code>. If these approaches have performance issues, consider using <code>CustomPainter</code>.</p><p>Built-in explicit animations all extend <code>AnimatedWidget</code>. This automatically rebuilds when a given <code>Listenable</code> changes.</p><p>Explict animations require the use of an <a href="https://api.flutter.dev/flutter/animation/AnimationController-class.html?v=1.0.19" rel="noopener" target="_blank">AnimationController</a> that is maintained inside a <code>StatefulWidget</code>. This produces values that are typically in the range 0 to 1. They also require a <a href="https://api.flutter.dev/flutter/scheduler/TickerProvider-class.html?v=1.0.19" rel="noopener" target="_blank">TickerProvider</a> to provide a <code>Ticker</code>. A <a href="https://api.flutter.dev/flutter/scheduler/Ticker-class.html?v=1.0.19" rel="noopener" target="_blank">Ticker</a> calls a callback function once for each animation frame that is rendered. Often the <code>Ticker</code> is provided by the mixin <a href="https://api.flutter.dev/flutter/widgets/SingleTickerProviderStateMixin-mixin.html?v=1.0.19" rel="noopener" target="_blank">SingleTickerProviderStateMixin</a>.</p><p>An <code>AnimationController</code> typically obtains 60 values per second from the <code>Ticker</code> and passes each value to all registered listener functions. It can:</p><ul><li>change the lower and upper bounds to something other than 0 and 1</li><li>set an animation to a specific value (starts at lower bound)</li><li>play an animation forward (current to upper) or backward (current to lower)</li></ul><p>To produce values in another range or with a type other than <code>double</code>, use the <code>Tween</code> class or its subclasses such as <code>ColorTween</code>. To use a sequence of values from multiple <code>Tween</code> objects, use the <code>TweenSequence</code> class.</p><p>Create an instance of <code>AnimationController</code> in the <code>initState</code> method and dispose of it in the <code>dispose</code> method. This avoids creating a new instance of the controller each time the <code>build</code> method is invoked.</p><p>The <code>AnimationController</code> constructor takes the arguments <code>duration</code> (represents seconds per repeat) and <code>vsync</code> (typically set to <code>this</code>).</p><p>The most commonly used <code>AnimationController</code> methods are described below:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>addListener(VoidCallback)</code></td><td>listens for value changes; sometimes used to call <code>setState</code></td></tr><tr><td><code>addStatusListener(AnimationStatusCallback)</code></td><td>listens for animation status changes</td></tr><tr><td><code>animateTo(double target)</code></td><td>animates value from current to target</td></tr><tr><td><code>dispose()</code></td><td>frees resources</td></tr><tr><td><code>forward()</code></td><td>animates value from <code>lowerBound</code> to <code>upperBound</code></td></tr><tr><td><code>repeat()</code></td><td>same as <code>forward</code>, but repeats when end is reached</td></tr><tr><td><code>reset()</code></td><td>stops animation and sets value to <code>lowerBound</code></td></tr><tr><td><code>reverse()</code></td><td>animates value from <code>upperBound</code> to <code>lowerBound</code></td></tr><tr><td><code>stop()</code></td><td>stops animation</td></tr></tbody></table><p>The listener function passed to <code>addStatusListener</code> is passed an <a href="https://api.flutter.dev/flutter/animation/AnimationStatus.html?v=1.0.19" rel="noopener" target="_blank">AnimationStatus</a> constant. When the <code>forward</code> method is called, the status begins as <code>forward</code> and ends as <code>completed</code> (at end). When the <code>reverse</code> method is called, the status begins as <code>reverse</code> and ends as <code>dismissed</code> (at beginning).</p><p>Classes that use an <code>AnimationController</code> typically have a constructor argument of type <code>Animation</code> (like <code>FadeTransition</code>) or have an <code>animate</code> method (like <code>Tween</code>).</p><p>Multiple animations can be controlled by the same controller instance.</p><p>Explicit animations can be composed to perform multiple, simultaneous animations.</p><p><code>AnimatedWidget</code> and <code>AnimatedBuilder</code> are used together to create a custom explicit animation. <code>AnimatedBuilder</code> takes a <code>child</code> argument which is used to avoid recreating the widget that is being animated on each animation change. This is a performance optimization. Note that this is not necessary if the widget being animated has a <code>const</code> constructor because that allows widget instances to be created at compile time.</p><h3 id="animatedswitcher-widget">AnimatedSwitcher Widget</h3><p>The <a href="https://api.flutter.dev/flutter/widgets/AnimatedSwitcher-class.html?v=1.0.19" rel="noopener" target="_blank">AnimatedSwitcher</a> widget renders a given widget and then animates displaying a different widget when the value of its <code>child</code> argument changes. By default it uses a <code>FadeTransition</code>. This can be changed by specifying the <code>transitionBuilder</code> argument. It is important for each of the widgets to have a different <code>key</code> value.</p><p>The following code demonstrates using <code>AnimatedSwitcher</code> to cycle through a set of images that are stored in the <code>assets/images</code> directory of the application.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">ImageCycle</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span> fileNames<span class="token punctuation">;</span><br><br>  <span class="token keyword">const</span> <span class="token function">ImageCycle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>fileNames<span class="token punctuation">,</span> Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _ImageCycleState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_ImageCycleState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_ImageCycleState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>ImageCycle<span class="token operator">></span> <span class="token punctuation">{</span><br>  int index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>  late List<span class="token operator">&lt;</span>Widget<span class="token operator">></span> images<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> imageSize <span class="token operator">=</span> <span class="token number">200.0</span><span class="token punctuation">;</span><br>    images <span class="token operator">=</span> widget<span class="token punctuation">.</span>fileNames<br>        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><br>          <span class="token punctuation">(</span>fileName<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>            child<span class="token punctuation">:</span> Image<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'assets/images/$fileName'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>            height<span class="token punctuation">:</span> imageSize<span class="token punctuation">,</span><br>            key<span class="token punctuation">:</span> <span class="token function">ValueKey</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// must have this!</span><br>            width<span class="token punctuation">:</span> imageSize<span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><br>        <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>      <span class="token function">AnimatedSwitcher</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> images<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span><br>        duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token comment">/*<br>        transitionBuilder: (child, animation) =><br>            //FadeTransition(child: child, opacity: animation), // default<br>            ScaleTransition(child: child, scale: animation),<br>        */</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>        child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Next'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            index <span class="token operator">=</span> <span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> widget<span class="token punctuation">.</span>fileNames<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><br>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="hero-widget">Hero Widget</h3><p>The <a href="https://docs.flutter.dev/development/ui/animations/hero-animations?v=1.0.19" rel="noopener" target="_blank">Hero</a> widget animates a widget between two routes or pages. For example, suppose an app has a page that renders a <code>ListView</code>. This contains a <code>ListTile</code> widget for each item. Each of these displays a thumbnail image and a description.</p><p><img alt="Flutter Hero List View" style="width: 50%" src="/blog/assets/flutter-hero-1.png?v=1.0.19" title="Flutter Hero List View"></p><p>Tapping a <code>ListTile</code> navigates to the detail page that displays a larger version of the image and detailed information about the item.</p><p><img alt="Flutter Hero Detail View" style="width: 50%" src="/blog/assets/flutter-hero-2.png?v=1.0.19" title="Flutter Hero Detail View"></p><p>The image on each page can be wrapped in a <code>Hero</code> widget which takes <code>tag</code> and <code>child</code> arguments. The <code>tag</code> values can be any kind of object that uniquely identifies the image such as a <code>String</code> or <code>ObjectKey</code>. The <code>child</code> values can be <code>Image.asset</code> widgets or any widget type that the two pages have in common. The only requirement is for the <code>tag</code> value to be the same in both pages for corresponding <code>child</code> values.</p><p>Here is the <code>Hero</code> widget from the list view page that is inside a <code>ListTile</code> widget:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Hero</span><span class="token punctuation">(</span><br>  tag<span class="token punctuation">:</span> <span class="token function">ObjectKey</span><span class="token punctuation">(</span>dog<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  child<span class="token punctuation">:</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>    child<span class="token punctuation">:</span> Image<span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span><span class="token string">'assets/images/${dog.photoFileName}'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    height<span class="token punctuation">:</span> thumbnailSize<span class="token punctuation">,</span><br>    width<span class="token punctuation">:</span> thumbnailSize<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span></code></pre><p>The <code>Hero</code> widget in the detail page is the same as above, but uses a larger values for <code>height</code> and <code>width</code>.</p><p>When the user navigates from one page to the other, the <code>Hero</code> <code>child</code> in the current page will animate to the <code>Hero</code> <code>child</code> in the new page. In our example this works when navigating from the list view to the detail view, and also when navigating back to the list view.</p><p>The <code>Hero</code> widget provides a nice effect that keeps the attention of the user focused on the <code>Hero</code> content.</p><h3 id="custom-implicit-animation">Custom Implicit Animation</h3><p>As an example of a custom explicit animation, we can define a <code>FadeIn</code> widget that takes three arguments. The <code>child</code> argument takes the <code>Widget</code> to fade into view. The optional <code>duration</code> argument takes the <code>Duration</code> over which to fade in and defaults to one second. The optional <code>onComplete</code> argument takes a <code>VoidCallback</code> to call when the animation completes.</p><p>The <code>FadeIn</code> widget can be used as follows:</p><pre class="language-dart"><code class="language-dart"><span class="token function">FadeIn</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><br>    <span class="token string">'This text will fade in.'</span><span class="token punctuation">,</span><br>    style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">,</span><br>  duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre><p>This can be implemented by a <code>StatefulWidget</code> that renders an <code>AnimatedOpacity</code> widget as follows:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">FadeIn</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> defaultDuration <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> Widget child<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> Duration duration<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> VoidCallback<span class="token operator">?</span> onComplete<span class="token punctuation">;</span><br><br>  <span class="token function">FadeIn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>duration <span class="token operator">=</span> defaultDuration<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>onComplete<span class="token punctuation">,</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">TweenAnimationBuilder</span><span class="token punctuation">(</span><br>      child<span class="token punctuation">:</span> child<span class="token punctuation">,</span><br>      <span class="token comment">//curve: Curves.easeInOut,</span><br>      duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span><br>      <span class="token comment">// This tweens between two double values.</span><br>      <span class="token comment">// It is also possible to tween between</span><br>      <span class="token comment">// non-numeric values such as colors.</span><br>      tween<span class="token punctuation">:</span> <span class="token function">Tween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> double value<span class="token punctuation">,</span> Widget<span class="token operator">?</span> child<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>          <span class="token function">Opacity</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> child<span class="token punctuation">,</span> opacity<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span><br>      onEnd<span class="token punctuation">:</span> onComplete<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="custom-explicit-animation">Custom Explicit Animation</h3><p>As an example of a custom explicit animation, we can define the same thing as in the previous section. This time we will use the mixin <code>SingleTickerProviderStateMixin</code>, a <code>FadeTransition</code> explicit animation, an <code>AnimationController</code>, and the <code>Tween</code> class. Clearly this approach requires more code, but it is interesting to see how lower-level classes can be used to achieve the same result.</p><p>The implementation of <code>FadeIn</code> follows:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">FadeIn</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> <span class="token keyword">const</span> defaultDuration <span class="token operator">=</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">final</span> Widget child<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> Duration duration<span class="token punctuation">;</span><br>  <span class="token keyword">final</span> VoidCallback<span class="token operator">?</span> onComplete<span class="token punctuation">;</span><br><br>  <span class="token function">FadeIn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>duration <span class="token operator">=</span> defaultDuration<span class="token punctuation">,</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>onComplete<span class="token punctuation">,</span><br>    Key<span class="token operator">?</span> key<span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  State<span class="token operator">&lt;</span>FadeIn<span class="token operator">></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_FadeInState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_FadeInState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>FadeIn<span class="token operator">></span> <span class="token keyword">with</span> SingleTickerProviderStateMixin <span class="token punctuation">{</span><br>  late Animation<span class="token operator">&lt;</span>Color<span class="token operator">?</span><span class="token operator">></span> _colorAnimation<span class="token punctuation">;</span><br>  late Animation<span class="token operator">&lt;</span>double<span class="token operator">></span> _opacityAnimation<span class="token punctuation">;</span><br>  late AnimationController _controller<span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _controller <span class="token operator">=</span> <span class="token function">AnimationController</span><span class="token punctuation">(</span><br>      duration<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>duration<span class="token punctuation">,</span><br>      vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token comment">// a TickerProvider</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// To see all the values the controller takes on ...</span><br>    <span class="token comment">//_controller.addListener(() => print(_controller.value));</span><br><br>    _opacityAnimation <span class="token operator">=</span> <span class="token function">Tween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>_controller<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    _colorAnimation <span class="token operator">=</span><br>      <span class="token function">ColorTween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>blue<span class="token punctuation">,</span> end<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>red<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>_controller<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    TickerFuture future <span class="token operator">=</span> _controller<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start the animation</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onComplete <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> future<span class="token punctuation">.</span><span class="token function">whenComplete</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onComplete<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _controller<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Animations do not have a dispose method.</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">/*<br>    // To only animate opacity ...<br>    return FadeTransition(<br>      opacity: _opacityAnimation,<br>      child: widget.child,<br>    );<br>    */</span><br><br>    <span class="token comment">// To animate both opacity and color ...</span><br>    <span class="token keyword">return</span> <span class="token function">AnimatedBuilder</span><span class="token punctuation">(</span><br>      animation<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span><br>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">var</span> color <span class="token operator">=</span> _colorAnimation<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>        <span class="token keyword">var</span> opacity <span class="token operator">=</span> _opacityAnimation<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token function">DefaultTextStyle</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">,</span><br>          style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> color<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span>opacity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="animation-from-scratch">Animation From Scratch</h3><p>The code in this section demonstrates how most Flutter animations work under the covers.</p><p>First, let's see how we can implement animatating a number from 0 to 100 over a duration of 5 seconds in the easiest way possible.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">HighLevelAnimation</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">HighLevelAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">TweenAnimationBuilder</span><span class="token punctuation">(</span><br>      tween<span class="token punctuation">:</span> <span class="token function">IntTween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      duration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>BuildContext context<span class="token punctuation">,</span> int number<span class="token punctuation">,</span> Widget<span class="token operator">?</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>Now let's see how this can be implemented using lower level Flutter classes. Typically it isn't necessary to work at this level, but it is interesting to get a taste of how higher level animations are actually implemented.</p><p>Objects from the <code>Ticker</code> class take a function and invoke it once per animation frame after their <code>start</code> method is called. Their <code>dispose</code> method should be called when they are no longer needed.</p><p>To simplify managing a <code>Ticker</code>, apply the <code>SingleTTickerProviderStateMixin</code> mixin to the <code>State</code> of a <code>StatefulWidget</code>.</p><p>An <code>AnimationController</code> object can get a <code>Ticker</code> instance from such a class by setting its <code>vsync</code> constructor argument to <code>this</code>. Call the <code>addListener</code> method of the controller to register a funtion to be called once per animation frame. This can update the state of the widget which can change what the widget renders. Call the <code>forward</code> method of the controller to start the animation.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">LowLevelAnimation</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token function">LowLevelAnimation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>Key<span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  _LowLevelAnimationState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_LowLevelAnimationState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">class</span> <span class="token class-name">_LowLevelAnimationState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token operator">&lt;</span>LowLevelAnimation<span class="token operator">></span><br>    <span class="token keyword">with</span> SingleTickerProviderStateMixin<span class="token operator">&lt;</span>LowLevelAnimation<span class="token operator">></span> <span class="token punctuation">{</span><br>  late AnimationController _controller<span class="token punctuation">;</span><br>  int number <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    _controller <span class="token operator">=</span> <span class="token function">AnimationController</span><span class="token punctuation">(</span><br>      duration<span class="token punctuation">:</span> <span class="token function">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>    _controller<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>_update<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    _controller<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// starts animation</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    _controller<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">void</span> <span class="token function">_update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// _controller.value is a number between 0 and 1.</span><br>      number <span class="token operator">=</span> <span class="token punctuation">(</span>_controller<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token metadata symbol">@override</span><br>  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'$number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h3 id="animated-drawings">Animated Drawings</h3><p>For animations of drawings rather than widgets, consider using the packages <a href="https://pub.dev/packages/rive?v=1.0.19" rel="noopener" target="_blank">rive</a> and <a href="https://pub.dev/packages/lottie?v=1.0.19" rel="noopener" target="_blank">lottie</a> in pub.dev.</p><h3 id="more-on-animation">More on Animation</h3><p>For more on animation, see this <a href="https://github.com/mvolkmann/flutter_animation?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a> which contains a Flutter project that uses several animations. These include:</p><ul><li><code>Hero</code> for animating thumbnail images on a list page to larger images on detail pages.</li><li><code>SingleTickerProviderStateMixin</code>, <code>AnimationController</code>, <code>TweenSequence</code>, and <code>AnimatedBuilder</code> to animate the size of an icon up and back down.</li><li><code>SingleTickerProviderStateMixin</code>, <code>AnimationController</code>, <code>Tween</code>, and <code>ColorTween</code> to animate the opacity and color of a <code>Text</code> widget.</li><li><code>AnimatedSwitcher</code> and <code>ScaleTransition</code> to cycle through a set of <code>Image</code> widgets.</li><li><code>AnimatedList</code>, <code>SlideTransition</code>, <code>WidgetsBinding.instance?.addPostFrameCallback</code>, and <code>Future.delayed</code> to slide <code>ListTile</code> widgets in from the right in staggered fashion.</li></ul><h2 id="audio">Audio</h2><p>The <a href="https://pub.dev/packages/audioplayers?v=1.0.19" rel="noopener" target="_blank">audioplayers</a> plugin is a popular option for playing audio files in Flutter applications. It is fairly low-level and has some quirks. For a working example that provides a simplified layer over this plugin and a widget that provides a play/pause button, a stop button, and a progress bar, see this <a href="https://github.com/mvolkmann/flutter_audio?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h2 id="camera-and-photo-plugins">Camera and Photo Plugins</h2><p>There are several pub.dev plugins that support device camera access.</p><p>Android emulators provide a simulated camera where the user can pan around in a room that contains a television, book shelves, a cat, a dog, and a kitchen.</p><p>The iOS Simulator does not support a camera, so apps that require camera access must be run on iOS devices.</p><h3 id="camera-plugin">camera Plugin</h3><p>The <a href="https://pub.dev/packages/camera?v=1.0.19" rel="noopener" target="_blank">camera</a> plugin in pub.dev provides access to device cameras in Android, iOS, and the web. It does not provide access to device photo libraries. See this excellent <a href="https://docs.flutter.dev/cookbook/plugins/picture-using-camera?v=1.0.19" rel="noopener" target="_blank">cookbook page</a> for step-by-step instructions on using the &quot;camera&quot; plugin, including example code.</p><p>While the &quot;camera&quot; plugin is popular, it is not nearly as easy to use or as full-featured as the <a href="https://pub.dev/packages/image_picker?v=1.0.19" rel="noopener" target="_blank">image_picker</a> plugin which is described in the next section.</p><p>To use the &quot;camara&quot; plugin:</p><ol><li><p>Add the following dependencies in <code>pubspec.yaml</code>:`</p><p><code>camera</code>, <code>path</code>, and <code>path_provider</code></p></li><li><p>For Android, edit <code>android/app/build.gradle</code> and change the value of <code>android / defaultConfig / minSdkVersion</code> from <code>flutter.minSdkVersion</code> to <code>23</code>.</p></li><li><p>For iOS, add the following lines in <code>ios/Runner/Info.plist</code> inside the <code>&lt;dict&gt;</code> element:</p><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSCameraUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Explanation on why the camera access is needed.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre></li><li><p>Get access to a camera with the following code. There can be multiple cameras such as front and rear facing.</p><pre class="language-dart"><code class="language-dart">WidgetsFlutterBinding<span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> cameras <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">availableCameras</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">final</span> firstCamera <span class="token operator">=</span> cameras<span class="token punctuation">.</span>first<span class="token punctuation">;</span></code></pre></li><li><p>Create and initialize a <code>CameraController</code>.</p></li><li><p>Use a <code>CameraPreview</code> to display what the camera is seeing.</p></li><li><p>Use <code>CameraController</code> to capture a photo.</p></li><li><p>Use an <code>Image</code> widget to display the photo.</p></li></ol><p>For an example Flutter app that uses the &quot;camera&quot; plugin, see the &quot;main&quot; branch of this <a href="https://github.com/mvolkmann/flutter_camera?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h3 id="image_picker-plugin">image_picker Plugin</h3><p>The <a href="https://pub.dev/packages/image_picker?v=1.0.19" rel="noopener" target="_blank">image_picker</a> plugin in pub.dev provides access to device cameras and photo libraries in Android and iOS.</p><p>To use this plugin:</p><ol><li><p>For iOS, add the following lines in <code>ios/Runner/Info.plist</code> inside the <code>&lt;dict&gt;</code> element with app-specific descriptions:</p><pre class="language-xml"><code class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSCameraUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Camera access is needed to demonstrate the "image_picker" plugin.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSMicrophoneUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Microphone access is needed to demonstrate the "image_picker" plugin.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSPhotoLibraryUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><br> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Photo library access is needed to demonstrate the "image_picker" plugin.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre></li><li><p>Add the following imports:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:io'</span> <span class="token keyword">show</span> File<span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:image_picker/image_picker.dart'</span><span class="token punctuation">;</span></code></pre></li><li><p>Create an <code>ImagePicker</code> instance:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> _picker <span class="token operator">=</span> <span class="token function">ImagePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>To take a photo with the camera:</p><pre class="language-dart"><code class="language-dart">XFile<span class="token operator">?</span> image <span class="token operator">=</span> <span class="token keyword">await</span> _picker<span class="token punctuation">.</span><span class="token function">pickImage</span><span class="token punctuation">(</span>source<span class="token punctuation">:</span> ImageSource<span class="token punctuation">.</span>camera<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>To select an image from the photo library:</p><pre class="language-dart"><code class="language-dart">XFile<span class="token operator">?</span> image <span class="token operator">=</span> <span class="token keyword">await</span> _picker<span class="token punctuation">.</span><span class="token function">pickImage</span><span class="token punctuation">(</span>source<span class="token punctuation">:</span> ImageSource<span class="token punctuation">.</span>gallery<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Save the selected <code>XFile</code> value in the state of a <code>StatefulWidget</code>.</p></li><li><p>The <code>XFile</code> object has <code>name</code> and <code>path</code> properties. To render an image using the selected <code>XFile</code> value:</p><pre class="language-dart"><code class="language-dart"><span class="token function">Image</span><span class="token punctuation">(</span>image<span class="token punctuation">:</span> <span class="token function">FileImage</span><span class="token punctuation">(</span><span class="token function">File</span><span class="token punctuation">(</span>_selectedXFile<span class="token operator">!</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></li><li><p>Restart the app to install the <code>pickImage</code> plugin. Unless this is done, a MissingPluginException will occur.</p></li></ol><p>For an example Flutter app that uses the &quot;image_picker&quot; plugin, see the &quot;image_picker&quot; branch of this <a href="https://github.com/mvolkmann/flutter_camera/tree/image_picker?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>.</p><h2 id="geolocation">GeoLocation</h2><p>The <a href="https://pub.dev/packages/geolocator?v=1.0.19" rel="noopener" target="_blank">geolocator</a> package is a popular option for getting the current latitude and longitude of a device. For a basic example app that uses this package, see this <a href="https://github.com/mvolkmann/flutter_geolocation?v=1.0.19" rel="noopener" target="_blank">GitHub repo</a>. The README contains instructions on configuring Android and iOS to request permission for obtaining geolocation data.</p><p>By default the iOS Simulator always returns a location in San Francisco. This can be changed to use a different mock location, but it cannot detect the location of the computer on which it is running.</p><h2 id="google-maps">Google Maps</h2><p>To display a map of a given location with Google Maps:</p><ol><li><p>Install the <a href="https://pub.dev/packages/google_maps_flutter?v=1.0.19" rel="noopener" target="_blank">google_maps_flutter</a> plugin from pub.dev.</p></li><li><p>Get an API key.</p><ul><li>Browse the <a href="https://mapsplatform.google.com?v=1.0.19" rel="noopener" target="_blank">Google Maps Platform</a>.</li><li>Click the &quot;Get Started&quot; button.</li><li>Click the project dropdown in the header.</li><li>In the dialog that opens, click &quot;NEW PROJECT&quot;.</li><li>Enter a name for the project.</li><li>Click the &quot;CREATE&quot; button.</li><li>Click &quot;SELECT PROJECT&quot;.</li><li>In the left nav, click &quot;Credentials&quot;.</li><li>Click &quot;+ CREATE CREDENIALS&quot;.</li><li>Click &quot;API key&quot;.</li><li>Copy the API key that is displayed.</li><li>Click the &quot;CLOSE&quot; button.</li></ul></li><li><p>Enable APIs.</p><ul><li>In the left nav, click &quot;APIs&quot;.</li><li>Click &quot;Maps SDK for Android&quot;.</li><li>Click the &quot;ENABLE&quot; button.</li><li>Under &quot;Additional APIs, click &quot;Maps SDK for iOS&quot;.</li><li>Click the &quot;ENABLE&quot; button.</li><li>Optionally click and enable &quot;Directions API&quot; under &quot;Additional APIs&quot;.</li></ul></li><li><p>Edit <code>android/app/src/main/AndroidManifest.xml</code> and add the following after the <code>meta-data</code> element for <code>flutterEmbedding</code>:</p><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span><br>    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.google.android.geo.API_KEY<span class="token punctuation">"</span></span><br>    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>your-api-key<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></li><li><p>Add this file in <code>.gitignore</code> so the API key is no exposed in the Git repository. s</p></li><li><p>Edit <code>ios/Runner/AppDelegate.swift</code>.</p><ul><li><p>Add the following import after the existing imports:</p><pre class="language-swift"><code class="language-swift"><span class="token keyword">import</span> <span class="token builtin">GoogleMaps</span></code></pre></li><li><p>Add the following line as the first line in the <code>application</code> function:</p><pre class="language-swift"><code class="language-swift"><span class="token builtin">GMSServices</span><span class="token punctuation">.</span><span class="token function">provideAPIKey</span><span class="token punctuation">(</span><span class="token string">"your-api-key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul></li><li><p>Add this file in <code>.gitignore</code> so the API key is no exposed in the Git repository.</p></li><li><p>Display a map.</p><ul><li>Add the following imports:</li></ul><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'dart:async'</span> <span class="token keyword">show</span> Completer<span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/foundation.dart'</span> <span class="token keyword">show</span> Factory<span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter/gestures.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:google_maps_flutter/google_maps_flutter.dart'</span><span class="token punctuation">;</span></code></pre><ul><li>Render a map with the following code inside a <code>StatefulWidget</code>. Zoom controls are only supported in Android. See <a href="https://github.com/flutter/plugins/pull/831#discussion_r400472577?v=1.0.19" rel="noopener" target="_blank">this discussion</a>. The code below adds its own zoom in and zoom out buttons for a consistent UI in Android and iOS. It wraps the <code>GoogleMap</code> widget in a <code>Stack</code> and positioning buttons over the map.</li></ul><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> controllerCompleter <span class="token operator">=</span> Completer<span class="token operator">&lt;</span>GoogleMapController<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Call this to render the map</span><br>Widget <span class="token function">buildMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// position is a Position object from geolocator plugin.</span><br>  <span class="token keyword">final</span> latLng <span class="token operator">=</span> <span class="token function">LatLng</span><span class="token punctuation">(</span>position<span class="token operator">!</span><span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> position<span class="token operator">!</span><span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> cameraPosition <span class="token operator">=</span> <span class="token function">CameraPosition</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span> latLng<span class="token punctuation">,</span> zoom<span class="token punctuation">:</span> zoom<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">final</span> marker <span class="token operator">=</span> <span class="token function">Marker</span><span class="token punctuation">(</span>markerId<span class="token punctuation">:</span> <span class="token function">MarkerId</span><span class="token punctuation">(</span><span class="token string">'my-location'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> position<span class="token punctuation">:</span> latLng<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// This allows the GoogleMap widget to process gestures for</span><br>  <span class="token comment">// panning and zooming the map even if it is inside a ListView</span><br>  <span class="token comment">// which would otherwise capture all of those gestures.</span><br>  <span class="token keyword">final</span> gestureRecognizers <span class="token operator">=</span> <span class="token punctuation">{</span><br>    Factory<span class="token operator">&lt;</span>OneSequenceGestureRecognizer<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">EagerGestureRecognizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">return</span> <span class="token function">SizedBox</span><span class="token punctuation">(</span><br>    child<span class="token punctuation">:</span> <span class="token function">Stack</span><span class="token punctuation">(</span><br>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token function">GoogleMap</span><span class="token punctuation">(</span><br>          gestureRecognizers<span class="token punctuation">:</span> gestureRecognizers<span class="token punctuation">,</span><br>          initialCameraPosition<span class="token punctuation">:</span> cameraPosition<span class="token punctuation">,</span><br>          onMapCreated<span class="token punctuation">:</span> <span class="token punctuation">(</span>GoogleMapController controller<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            controllerCompleter<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          mapType<span class="token punctuation">:</span> MapType<span class="token punctuation">.</span>normal<span class="token punctuation">,</span> <span class="token comment">// or .hybrid or .satellite</span><br>          markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>marker<span class="token punctuation">}</span><span class="token punctuation">,</span><br>          myLocationButtonEnabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// hides provided lower-right button</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Positioned</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> FloatingActionButton<span class="token punctuation">.</span><span class="token function">small</span><span class="token punctuation">(</span><br>            child<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">changeCamera</span><span class="token punctuation">(</span>latLng<span class="token punctuation">,</span> <span class="token operator">++</span>zoom<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          bottom<span class="token punctuation">:</span> <span class="token number">45</span><span class="token punctuation">,</span><br>          right<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">Positioned</span><span class="token punctuation">(</span><br>          child<span class="token punctuation">:</span> FloatingActionButton<span class="token punctuation">.</span><span class="token function">small</span><span class="token punctuation">(</span><br>            child<span class="token punctuation">:</span> <span class="token function">Icon</span><span class="token punctuation">(</span>Icons<span class="token punctuation">.</span>remove<span class="token punctuation">)</span><span class="token punctuation">,</span><br>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">changeCamera</span><span class="token punctuation">(</span>latLng<span class="token punctuation">,</span> <span class="token operator">--</span>zoom<span class="token punctuation">)</span><span class="token punctuation">,</span><br>          <span class="token punctuation">)</span><span class="token punctuation">,</span><br>          bottom<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>          right<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    height<span class="token punctuation">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br>    width<span class="token punctuation">:</span> double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">changeCamera</span><span class="token punctuation">(</span>LatLng latLng<span class="token punctuation">,</span> double zoom<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">final</span> controller <span class="token operator">=</span> <span class="token keyword">await</span> controllerCompleter<span class="token punctuation">.</span>future<span class="token punctuation">;</span><br>  controller<span class="token punctuation">.</span><span class="token function">moveCamera</span><span class="token punctuation">(</span>CameraUpdate<span class="token punctuation">.</span><span class="token function">newCameraPosition</span><span class="token punctuation">(</span><br>  <span class="token function">CameraPosition</span><span class="token punctuation">(</span>target<span class="token punctuation">:</span> latLng<span class="token punctuation">,</span> zoom<span class="token punctuation">:</span> zoom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></li><li><p>If the app is already running, stop it and restart it.</p></li></ol><h2 id="app-icons">App Icons</h2><p>The steps to customize the launcher icon used by a Flutter app are:</p><ol><li><p>Enter <code>flutter pub add flutter_launcher_icons</code></p></li><li><p>Edit <code>pubspec.yaml</code> and add the following at the end:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">flutter_icons</span><span class="token punctuation">:</span><br>  <span class="token key atrule">android</span><span class="token punctuation">:</span> <span class="token string">'launcher_icon'</span><br>  <span class="token key atrule">ios</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><br>  <span class="token key atrule">image_path</span><span class="token punctuation">:</span> <span class="token string">'assets/images/icon.png'</span><br>  <span class="token key atrule">remove_alpha_ios</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></code></pre></li><li><p>Create the directory <code>assets/images</code> in the project.</p></li><li><p>Copy a square PNG file into this file and name it <code>icon.png</code>.</p></li><li><p>Edit <code>android/app/build.gradle</code> and change <code>minSdkVersion flutter.minSdkVersion</code> to <code>minSdkVersion 21</code> (or at least version 16)</p></li><li><p>Enter <code>flutter pub run flutter_launcher_icons:main</code></p></li></ol><h2 id="tests">Tests</h2><p>Three primary kinds of tests can be written for Flutter applications. These include unit tests, widget tests, and integration tests. Unit and widget tests always run headless, not requiring a simulator or device. Integration tests always run in a simulator, web browser or device. Unit and widget tests run fairly quickly. Integration tests take a long time to build and start, often around two minutes.</p><p>An additional kind of test is supported by the <a href="https://pub.dev/packages/golden_toolkit?v=1.0.19" rel="noopener" target="_blank">golden_toolkit</a> package. It is used to implement tests that capture an image of a widget and compare it to a previously captured image. These are regression tests that test fail if the images differ. For those familiar with the <a href="https://jestjs.io?v=1.0.19" rel="noopener" target="_blank">Jest</a> testing framework for web applications, golden_toolkit is similar to Jest snapshot tests.</p><p>In general each test is composed of three sections: arrange, act, and assert. The arrange section creates the environment needed by the test. For example, in a widget test this renders the widget with certain characteristics. The act section performs actions on the environment. For example, in a widget test this might include entering text and clicking buttons. The assert part makes assertions about the expected state of the environment. For example, in a widget test this might assert that specific text is present on the screen or that a button becomes enabled.</p><p>Flutter projects created with the <code>flutter create</code> command already have a dev dependency on the <code>flutter_test</code> package which is built on the <code>test</code> package. Do not add a dependency on <a href="https://pub.dev/packages/test?v=1.0.19" rel="noopener" target="_blank">test</a> in<code>pubspec.yaml</code>. This will likely cause a &quot;version solving failed&quot; error when the tests are run.</p><p>The <a href="https://api.flutter.dev/flutter/flutter_test/flutter_test-library.html?v=1.0.19" rel="noopener" target="_blank">flutter_test</a> package defines many classes, constants, and functions used to implement tests.</p><p>Commonly used test constants are described below. All of these are <code>Matcher</code> objects that match certain values. These are used as the second positional argument in calls to the <code>expect</code> function.</p><table><thead><tr><th>Constants</th><th>Matches</th></tr></thead><tbody><tr><td><code>findsNothing</code></td><td>widget tree that contains no matching widgets</td></tr><tr><td><code>findsOneWidget</code></td><td>widget tree that contains a single matching widget</td></tr><tr><td><code>findsWidget</code></td><td>widget tree that contains at least one matching widget</td></tr><tr><td><code>isFalse</code></td><td>everything but <code>true</code></td></tr><tr><td><code>isNan</code></td><td>number value <code>NaN</code></td></tr><tr><td><code>isNegative</code></td><td>any negative number</td></tr><tr><td><code>isNonNegative</code></td><td>zero or any positive number</td></tr><tr><td><code>isNonPositive</code></td><td>zero or any negative number</td></tr><tr><td><code>isNonZero</code></td><td>any number except zero</td></tr><tr><td><code>isNotNan</code></td><td>any number except <code>NaN</code></td></tr><tr><td><code>isNotNull</code></td><td>any value except <code>null</code></td></tr><tr><td><code>isNull</code></td><td>only <code>null</code></td></tr><tr><td><code>isPositive</code></td><td>any positive number</td></tr><tr><td><code>isTrue</code></td><td>only <code>true</code></td></tr><tr><td><code>isZero</code></td><td>only zero</td></tr><tr><td><code>returnsNormally</code></td><td>function call that does not throw an exception</td></tr><tr><td><code>throwsException</code></td><td>function call that throws an exception</td></tr></tbody></table><p>Commonly used test functions are described below:</p><table><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>addTearDown</code></td><td>registers a function to call after the current test completes</td></tr><tr><td><code>allOf</code></td><td>returns <code>Matcher</code> that matches if all of the argument matchers (limit of 7) match</td></tr><tr><td><code>anyElement</code></td><td>returns <code>Matcher</code> that matches if any element in an <code>Iterable</code> matches a value or <code>Matcher</code></td></tr><tr><td><code>anyOf</code></td><td>returns <code>Matcher</code> that matches if any of the argument matchers (limit of 7) match</td></tr><tr><td><code>closeTo</code></td><td>returns <code>Matcher</code> that matches if a number is within a delta of a given value</td></tr><tr><td><code>contains</code></td><td>returns <code>Matcher</code> that matches if a value &quot;contains&quot; an expected value; specialized for <code>String</code>, <code>Map</code>, and <code>Iterable</code> values</td></tr><tr><td><code>containsPair</code></td><td>returns <code>Matcher</code> that matches a <code>Map</code> containing a given key/value pair</td></tr><tr><td><code>containsValue</code></td><td>returns <code>Matcher</code> that matches a <code>Map</code> containing a given value (ignores keys)</td></tr><tr><td><code>endsWith</code></td><td>returns <code>Matcher</code> that matches a <code>String</code> that ends with a given substring</td></tr><tr><td><code>equals</code></td><td>returns <code>Matcher</code> that matches any object that is &quot;structurally equal&quot; to a given value</td></tr><tr><td><code>equalsIgnoringCase</code></td><td>returns <code>Matcher</code> that matches a <code>String</code> that equal to a given <code>String</code> ignoring case substring</td></tr><tr><td><code>everyElement</code></td><td>returns <code>Matcher</code> that matches any <code>Iterable</code> where all the elements match a given value or <code>Matcher</code></td></tr><tr><td><code>expect</code></td><td>asserts that a value matches another value or <code>Matcher</code>; very commonly used</td></tr><tr><td><code>expectLater</code></td><td>asserts that a <code>Future</code> completes with a value that matches another value or <code>Matcher</code> (such as <code>emitsInOrder</code>)</td></tr><tr><td><code>fail</code></td><td>throws <code>TestFailure</code> with a given <code>String</code> message</td></tr><tr><td><code>findsNWidgets</code></td><td>returns <code>Matcher</code> that matches a <code>Finder</code> that finds a given number of matching widgets; alternative to <code>findsNothing</code>, <code>findsOneWidget</code>, and <code>findsWidget</code></td></tr><tr><td><code>greaterThan</code></td><td>returns <code>Matcher</code> that matches any value greater than a given value</td></tr><tr><td><code>greaterThanOrEqualTo</code></td><td>returns <code>Matcher</code> that matches any value greater than or equal to a given value</td></tr><tr><td><code>group</code></td><td>creates a group (or suite) of tests</td></tr><tr><td><code>hasLength</code></td><td>returns <code>Matcher</code> that matches any object with a <code>length</code> property whose value is a given value</td></tr><tr><td><code>inClosedOpenRange</code></td><td>returns <code>Matcher</code> that matches any number in the range [low, high); closed includes and open excludes</td></tr><tr><td><code>inExclusiveRange</code></td><td>returns <code>Matcher</code> that matches any number in the range (low, high)</td></tr><tr><td><code>inInclusiveRange</code></td><td>returns <code>Matcher</code> that matches any number in the range [low, high]</td></tr><tr><td><code>inOpenClosedRange</code></td><td>returns <code>Matcher</code> that matches any number in the range (low, high]</td></tr><tr><td><code>isA</code></td><td>returns <code>Matcher</code> that matches any value that is or extends/implements a given type</td></tr><tr><td><code>isIn</code></td><td>returns <code>Matcher</code> that matches if an expected value value &quot;contains&quot; a given value; opposite of <code>contains</code> values</td></tr><tr><td><code>isInstanceOf</code></td><td>returns <code>Matcher</code> that matches any value that is exactly a given type</td></tr><tr><td><code>isNot</code></td><td>returns <code>Matcher</code> that gives the opposite result of a given <code>Matcher</code></td></tr><tr><td><code>lessThan</code></td><td>returns <code>Matcher</code> that matches any value less than a given value</td></tr><tr><td><code>lessThanOrEqualTo</code></td><td>returns <code>Matcher</code> that matches any value less than or equal to a given value</td></tr><tr><td><code>matches</code></td><td>returns <code>Matcher</code> that matches a <code>String</code> that matches a given <code>Pattern</code> (regular expression)</td></tr><tr><td><code>moreOrLessEquals</code></td><td>returns <code>Matcher</code> that matches a <code>double</code> that is within a given epsilon of another</td></tr><tr><td><code>same</code></td><td>returns <code>Matcher</code> that matches an object that is the same object as another reference</td></tr><tr><td><code>setUp</code></td><td>registers a function to call before each test</td></tr><tr><td><code>setUpAll</code></td><td>registers a function to call once before the first test</td></tr><tr><td><code>startsWith</code></td><td>returns <code>Matcher</code> that matches a <code>String</code> that starts with a given substring</td></tr><tr><td><code>tearDown</code></td><td>registers a function to call after each test</td></tr><tr><td><code>tearDownAll</code></td><td>registers a function to call once after the last test</td></tr><tr><td><code>test</code></td><td>defines a single unit test</td></tr><tr><td><code>testWidgets</code></td><td>defines a single widget test</td></tr><tr><td><code>throwsA</code></td><td>returns <code>Matcher</code> that matches a function, <code>Future</code>, or function that returns a <code>Future</code> that matches a given <code>Matcher</code></td></tr><tr><td><code>within</code></td><td>returns <code>Matcher</code> that matches a number that is within a &quot;distance&quot; of another, computed by a <code>DistanceFunction</code></td></tr></tbody></table><h3 id="unit-tests">Unit Tests</h3><p>Flutter unit tests are for testing logic, not widgets. Each unit test is intended to test a single function, method, or class.</p><p>To implement a unit test for classes and functions defined in the file <code>lib/sample.dart</code>, create the file <code>test/sample_test.dart</code>.</p><p>In VS Code, right-click a source file in the <code>lib</code> directory to be tested in the Navigator and select &quot;Go to Tests&quot;. If a corresponding test file exists in the <code>test</code> directory, it will be opened. If not, VS Code will offer to create it.</p><p>The provided test code contains a single call to <code>testWidgets</code>, passing it a function that takes a <a href="https://api.flutter.dev/flutter/flutter_test/WidgetTester-class.html?v=1.0.19" rel="noopener" target="_blank">WidgetTester</a> object. For non-widget tests, change this to a <code>test</code> function that is passed a function that takes no arguments.</p><p>Each test file defines a <code>main</code> function. This should contain calls to the global <code>test</code> function. The <code>test</code> function takes positional arguments for a description (<code>String</code>) and a no-arg function that contains calls to the global <code>expect</code> function.</p><p>The <code>test</code> function also takes the named argument <code>skip</code> (<code>bool</code> or <code>String</code> describing why) and several others. Unfortunatly since Dart requires named arguments to follow all positional arguments, the <code>skip</code> argument must follow the no-arg function that defines the test. This makes it difficult to spot the skipped tests.</p><p>The <code>expect</code> function takes positional arguments for an actual value and a matcher (expected value or <code>Matcher</code> object). It also takes the named arguments <code>reason</code> (<code>String</code>) and <code>skip</code> (<code>bool</code> or <code>String</code> describing why).</p><p>To create test suites that group tests, call the global <code>group</code> function, passing it positional arguments for a description (<code>String</code>) and a no-arg function that contains several calls to the <code>test</code> function. It also takes the named argument <code>skip</code> (<code>bool</code> or <code>String</code> describing why).</p><p>To run all the test files from a terminal, enter <code>flutter test</code>. Currently there is no option to run tests in a &quot;watch&quot; mode to automatically rerun them when code changes are saved. To run only tests in specific files, specify a file path after the command. For example, <code>flutter test test/home_test.dart</code>.</p><p>When viewing a test file in VS Code, there will be &quot;Run&quot; and &quot;Debug&quot; links above the <code>main</code> function and each call to the <code>group</code> and <code>test</code> functions. Click those links to run or debug only the corresponding code.</p><p>If a test passes, VS Code will display a green, circled checkbox in the gutter to the left of the <code>test</code> function call. If a test fails, VS Code will display a red, circled &quot;X&quot; in the same location along with the expected and actual values of the failed <code>expect</code> call. Each <code>group</code> call will have a similar gutter icon indicating whether all of its tests passed or any failed.</p><p>After attempting to fix the failed tests, rerun them and repeat until all the tests have a green checkmark. Tests can be rerun by clicking the green and red gutter icons or by clicking the &quot;Run&quot; and &quot;Debug&quot; links. It can take a few seconds before it is apparent that tests have started running again, but a beaker icon appears in the Activity Bar (left side column of icons). with a blue clock indicator.</p><p>The following code provides a basic example of a unit test source file:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter_test/flutter_test.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_pageview/math.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'addition'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'multiplication'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h3 id="widget-tests">Widget Tests</h3><p>Flutter widget tests are for testing individual widgets. Each test should focus on a single widget.</p><p>New Flutter projects ship with a file named <code>widget_test.dart</code>. Use this is as an example when writing widget tests.</p><p>In contains a <code>main</code> function that makes a single call to the <code>testWidgets</code> function. This is passed a description <code>String</code> and a function that is passed a <a href="https://api.flutter.dev/flutter/flutter_test/WidgetTester-class.html?v=1.0.19" rel="noopener" target="_blank">WidgetTester</a> object. The <code>WidgetTester</code> object is key to interacting with widgets. This includes tapping buttons, entering text, and dragging widgets.</p><p>Modify the provided function passed to <code>testWidgets</code> and add more similar calls to define additional tests.</p><p>The function passed to <code>testWidget</code> should do four basic things:</p><ol><li>Render an app widget.</li><li>Find widgets within the app to be used by the test using the <code>find</code> object.</li><li>Interact with the widgets that were found.</li><li>Make assertions about the state of the UI after the interactions.</li></ol><p>The <code>find</code> object support several methods for finding widgets in different ways. The most commonly used methods are described below:</p><table><thead><tr><th><code>find</code> Method</th><th>Description</th></tr></thead><tbody><tr><td><code>byIcon</code></td><td>pass an <code>IconData</code> object such as those in constants of the <code>Icons</code> class</td></tr><tr><td><code>byKey</code></td><td>pass a <code>ValueKey</code> object that created with a key string</td></tr><tr><td><code>byType</code></td><td>pass a widget <code>Type</code>; returns a <code>Finder</code> object</td></tr><tr><td><code>text</code></td><td>pass a <code>String</code> to find a widget containing it</td></tr></tbody></table><p>Key strings assigned to widgets should be unique throughout the app.</p><p>To get individual widgets from a <code>Finder</code> object, use the properties <code>first</code>, and <code>last</code> and the method <code>at(int index)</code>. Interestingly there is no way to determine the number of matches that were found.</p><p>Suppose an app renders the following button:</p><pre class="language-dart"><code class="language-dart"><span class="token function">ElevatedButton</span><span class="token punctuation">(</span><br>  child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Press Me'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  key<span class="token punctuation">:</span> <span class="token function">Key</span><span class="token punctuation">(</span><span class="token string">'myButton'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  onPress<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'got press'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>A test can find this button using any of the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> myButton <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'myButton'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> myButton <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Press Me'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">var</span> myButton <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span>ElevatedButton<span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span></code></pre><p>Once the button is found, it can be tapped with the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>myButton<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>If <code>find.byType</code> finds a single match, it can be acted on without using the <code>first</code> property. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">var</span> buttons <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span>ElevatedButton<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// These are equivalent when only one match is found.</span><br><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>buttons<span class="token punctuation">.</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>buttons<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// But if more than one match is found,</span><br><span class="token comment">// the previous line results in the following error:</span><br><span class="token comment">// The finder "2 widgets with type ElevatedButton" ...</span><br><span class="token comment">// (used in a call to "tap()") ambiguously found multiple</span><br><span class="token comment">// matching widgets.  The "tap()" method needs a single target.</span></code></pre><p>If a <code>TextField</code> or <code>TextFormField</code> widget is found, text can be entered into it with the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">enterText</span><span class="token punctuation">(</span>myTextField<span class="token punctuation">,</span> <span class="token string">'some text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>After interacting with widgets, call the <code>WidgetTester</code> <a href="https://api.flutter.dev/flutter/flutter_test/WidgetTester/pump.html?v=1.0.19" rel="noopener" target="_blank">pump</a> or <a href="https://api.flutter.dev/flutter/flutter_test/WidgetTester/pumpAndSettle.html?v=1.0.19" rel="noopener" target="_blank">pumpAndSettle</a> method to rebuild the UI. Both methods return a <code>Future</code> to <code>await</code> before making assertions. By default the <code>pumpAndSettle</code> method repeatedly calls <code>pump</code> every 100ms until there are no longer any frames scheduled. It is the safest way to ensure that the UI is in the intended state before calling the <code>expect</code> function.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Objects from the <code>WidgetTester</code> class have a <code>testDescription</code> property that holds the <code>String</code> description of the currently running test. It may be useful to include this in error messages.</p><p>The most commonly used <code>WidgetTester</code> methods are described below:</p><table><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>drag(...)</code></td><td>drags a given widget by a specified offset</td></tr><tr><td><code>enterText(Finder, String)</code></td><td>moves focus to a text input widget and replaces its contents</td></tr><tr><td><code>fling(...)</code></td><td>executes a fling gesture from the center of a widget over some offset</td></tr><tr><td><code>flingFrom(...)</code></td><td>executes a fling gesture from a starting location over some offset</td></tr><tr><td><code>getRect(Finder)</code></td><td>gets the <code>Rect</code> of a widget</td></tr><tr><td><code>getSize(Finder)</code></td><td>gets the <code>Size</code> of a widget</td></tr><tr><td><code>longPressj(...)</code></td><td>executes a long press at the center of a widget</td></tr><tr><td><code>longPressAt(...)</code></td><td>executes a long press at a given location</td></tr><tr><td><code>pageBack()</code></td><td>dismisses the current page</td></tr><tr><td><code>printToConsole(String)</code></td><td>prints a <code>String</code> to the console; can also use the Dart <code>print</code> function</td></tr><tr><td><code>pump</code></td><td>triggers a new &quot;frame&quot; (rebuilding the UI) after an optional duration</td></tr><tr><td><code>pumpAndSettle</code></td><td>&quot;repeatedly calls pump with the given duration until there are no longer any frames scheduled&quot;; frequently used</td></tr><tr><td><code>pumpWidget</code></td><td>&quot;renders the UI from the given widget&quot;</td></tr><tr><td><code>showKeyboard</code></td><td>moves focus to a given text input widget, triggering display of an on-screen keyboard</td></tr></tbody></table><p>The following code provides widget tests for the <code>PageView</code> demo app presented earlier. While <code>MyApp</code> can be viewed as a &quot;single widget&quot;, widget tests typically test widgets lower in the widget tree.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_test/flutter_test.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">import</span> <span class="token string">'package:flutter_pageview/main.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'Page1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Build the app and trigger the first frame.</span><br>    <span class="token comment">// When testing a widget that does not return a `MaterialApp` widget,</span><br>    <span class="token comment">// tests generally need to begin with the following:</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><br>      <span class="token function">MaterialApp</span><span class="token punctuation">(</span><br>        home<span class="token punctuation">:</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span><br>          body<span class="token punctuation">:</span> <span class="token function">MyWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// widget being tested</span><br>        <span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Find widgets.</span><br>    <span class="token keyword">var</span> shoutBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'shoutBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> nameField <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'nameField'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Verify the contents of the first page.</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">enterText</span><span class="token punctuation">(</span>nameField<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, $name!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>shoutBtn<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, ${name.toUpperCase()}!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'forward and back buttons'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">changePage</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> expectedText<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>expectedText<span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    bool <span class="token function">buttonEnabled</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><br>        tester<span class="token punctuation">.</span>widget<span class="token operator">&lt;</span>IconButton<span class="token operator">></span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">.</span>onPressed <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Build the app and trigger the first frame.</span><br>    <span class="token comment">// Note that MyApp creates a `MaterialApp` that creates a `Scaffold`.</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> backBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'backBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> forwardBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'forwardBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Verify that we can change pages with the forward and back buttons.</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">buttonEnabled</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">)</span><span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'swipe left and right'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">swipe</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> swipeLeft<span class="token punctuation">,</span> expectedText<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      double deviceWidth <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span> <span class="token comment">// MediaQuery.of(context).size.width;</span><br>      <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span>deviceWidth <span class="token operator">*</span> <span class="token punctuation">(</span>swipeLeft <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">300.0</span><span class="token punctuation">;</span> <span class="token comment">// pixels per second</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">fling</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> speed<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>expectedText<span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> page1 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> page2 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> page3 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes forward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes forward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page3<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stays on same page</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page3<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes backward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page2<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes backward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page1<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stays on same page</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'tap dots'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">tapDot</span><span class="token punctuation">(</span>int number<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> dot <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'dot$number'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>dot<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #$number.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> number <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> number<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">await</span> <span class="token function">tapDot</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h3 id="integration-tests">Integration Tests</h3><p>Flutter integration tests are for testing an app as a whole.</p><p>The code written for integration tests is nearly identical to the code written for widget tests. Both use the <code>find</code> object, a <code>WidgetTester</code> object for interacting with widgets, and the <code>expect</code> function.</p><p>The way that integration tests render the app to be tested is a bit different. Rather than calling <code>await tester.pumpWidget(SomeWidget());</code>, integration tests call <code>IntegrationTestWidgetsFlutterBinding.ensureInitialized();</code> outside the test functions and call the following inside each test:</p><pre class="language-dart"><code class="language-dart">app<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The steps to setup and create an integration test are:</p><ol><li><p>Edit <code>pubspec.yaml</code> and add the following under <code>dev_dependencies</code>:</p><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">integration_test</span><span class="token punctuation">:</span><br>  <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter</code></pre></li><li><p>Create a top-level directory named &quot;integration_test&quot;.</p></li><li><p>Create the file <code>app_test.dart</code> in this directory.</p></li><li><p>Add code in <code>app_test.dart</code> similar to the following:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter_test/flutter_test.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:integration_test/integration_test.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">import</span> <span class="token string">'package:introduction/main.dart'</span> <span class="token operator">as</span> app<span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  IntegrationTestWidgetsFlutterBinding<span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'end-to-end test'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'tap floating action button and verify counter'</span><span class="token punctuation">,</span><br>        <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      app<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Verify counter starts at 0.</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Find and tap the floating action button.</span><br>      <span class="token keyword">final</span> Finder fab <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byTooltip</span><span class="token punctuation">(</span><span class="token string">'Increment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>fab<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Rebuild the UI, triggering a new frame.</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Verify counter increments by 1.</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre></li><li><p>Run the test by entering <code>flutter test integration_test</code>. This runs all of the test source files in the <code>integration_test</code> directory. You will prompted to select where the test should be run. For example, if an iPhone is attached to the computer with a USB cable and the iOS simulator is running, you could see the following:</p><pre class="language-text"><code class="language-text">[1]: iPhone (00008020-001A7D141A9A002E)<br>[2]: iPhone 13 (46325045-B5FE-4313-BBD5-10A7D1178B50)<br>[3]: Chrome (chrome)</code></pre><p>Press 1, 2, or 3 to select one.</p><p>This only runs the first test file it finds in the <code>integration_test</code> directory. To run others one at a time, add their name after the directory name. For example, enter <code>flutter test integration_test/second_text.dart</code>. To run all the test files, enter <code>flutter test integration_test/*.dart</code>.</p><p>Alternatively to run the test on a specific device, enter <code>flutter devices</code> to see a list of available devices. Copy the id of a device where the test should be run and enter <code>flutter test integration_test/app_test.dart -d {device-id}</code>.</p></li></ol><p>Even a basic integration test will take 1-2 minutes to build and start.</p><p>The following code provides integration testing for the <code>PageView</code> demo app presented earlier.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter/material.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:flutter_test/flutter_test.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:integration_test/integration_test.dart'</span><span class="token punctuation">;</span><br><br><span class="token keyword">import</span> <span class="token string">'package:flutter_pageview/main.dart'</span> <span class="token operator">as</span> app<span class="token punctuation">;</span><br><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  IntegrationTestWidgetsFlutterBinding<span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'Page1'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    app<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Find widgets.</span><br>    <span class="token keyword">var</span> shoutBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'shoutBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> nameField <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'nameField'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Verify the contents of the first page.</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'Mark'</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">enterText</span><span class="token punctuation">(</span>nameField<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, $name!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>shoutBtn<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'Hello, ${name.toUpperCase()}!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'forward and back buttons'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">changePage</span><span class="token punctuation">(</span>button<span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    app<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> backBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'backBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> forwardBtn <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'forwardBtn'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>forwardBtn<span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">changePage</span><span class="token punctuation">(</span>backBtn<span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'swipe left and right'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    <span class="token keyword">var</span> deviceWidth <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span><br><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">swipe</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> swipeLeft<span class="token punctuation">,</span> expectedText<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> offset <span class="token operator">=</span> <span class="token function">Offset</span><span class="token punctuation">(</span>deviceWidth <span class="token operator">*</span> <span class="token punctuation">(</span>swipeLeft <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">300.0</span><span class="token punctuation">;</span> <span class="token comment">// pixels per second</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">fling</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> speed<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>expectedText<span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Get the device width.</span><br>    <span class="token keyword">final</span> BuildContext context <span class="token operator">=</span> tester<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span>Container<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    deviceWidth <span class="token operator">=</span> MediaQuery<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">;</span><br><br>    <span class="token keyword">var</span> page1 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> page2 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page2'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">var</span> page3 <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'page3'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes forward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes forward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page3<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'This is page #3.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stays on same page</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page3<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #2.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes backward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page2<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// goes backward</span><br>    <span class="token keyword">await</span> <span class="token function">swipe</span><span class="token punctuation">(</span>page1<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'This is page #1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// stays on same page</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string">'tap dots'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>WidgetTester tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>    Future<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">></span> <span class="token function">tapDot</span><span class="token punctuation">(</span>int number<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>      <span class="token keyword">var</span> dot <span class="token operator">=</span> find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token function">ValueKey</span><span class="token punctuation">(</span><span class="token string">'dot$number'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>dot<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string">'This is page #$number.'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    app<span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> number <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> number<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">await</span> <span class="token function">tapDot</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><h3 id="mocking">Mocking</h3><p>Mocking in tests supplies canned results from functions that are not meant to be tested. For example, a function that makes an API call can be mocked to return the same data every time. This allows tests to focus on specific functionality being tested. It also allows tests to run without requiring an internet connection.</p><p>The <a href="?v=1.0.19" rel="noopener" target="_blank">http</a> package includes the ability to mock responses to HTTP requests.</p><p>The steps to use this are:</p><ol><li><p>Add <code>http</code> to the list of <code>dependencies</code> in <code>pubspec.yaml</code>.</p></li><li><p>Add the following imports in a test file:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:flutter_test/flutter_test.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines test and expect</span><br><span class="token keyword">import</span> <span class="token string">'package:http/http.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines Response</span><br><span class="token keyword">import</span> <span class="token string">'package:http/testing.dart'</span><span class="token punctuation">;</span> <span class="token comment">// defines MockClient</span></code></pre></li><li><p>Create a <code>MockClient</code> that specifies HTTP responses for given HTTP requests. For example:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">final</span> client <span class="token operator">=</span> <span class="token function">MockClient</span><span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> Employees<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">Response</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">var</span> mockJson <span class="token operator">=</span><br>      <span class="token string">'{"data": [{"employee_salary": 100}, {"employee_salary": 200}]}'</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'content-type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token function">Response</span><span class="token punctuation">(</span>mockJson<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> headers<span class="token punctuation">:</span> headers<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>Tell the code being tested to use <code>MockClient</code> in place of the normal <code>Client</code> instance provided by the <code>http</code> package.</p><p>There are multiple ways to do this. One way is to define a static property in the class being tested like the following which can be directly set from a test. Then use this inside the class being tested for sending all HTTP requests.</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">static</span> <span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token function">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ol><p>Mock operations other than HTTP requests is simplified by using a mocking package. The preferred Flutter mocking package is <a href="https://pub.dev/packages/mockito?v=1.0.19" rel="noopener" target="_blank">mockito</a>. This generates code for mock implementations of classes and provides methods that are useful in writing tests.</p><p>The steps to use mockito are:</p><ol><li><p>Add <code>mockito</code> and <code>build_runner</code> to the list of <code>dev_dependencies</code> in <code>pubspec.yaml</code>.</p></li><li><p>In the main <code>.dart</code> file of the app, add the following imports:</p><pre class="language-dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string">'package:mockito/annotations.dart'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token string">'package:mockito/mockito.dart'</span><span class="token punctuation">;</span><br><span class="token comment">// One of these for each class that will be mocked.</span><br><span class="token keyword">import</span> <span class="token string">'some-class.mocks.dart'</span><span class="token punctuation">;</span></code></pre></li><li><p>Add the following annotation before the <code>main</code> function:</p><pre class="language-dart"><code class="language-dart"><span class="token comment">// List each class to be mocked.</span><br><span class="token metadata symbol">@GenerateMocks</span><span class="token punctuation">(</span><span class="token punctuation">[</span>SomeClass1<span class="token punctuation">,</span> SomeClass2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre></li><li><p>Generate <code>.dart</code> files for the classes to be mocked by entering <code>dart run build_runner build</code>. These classes have the same functionality as the classes they mock, but gain new methods used for verifying and stubbing calls.</p></li><li><p>Call the following methods in tests to verify calls to methods of stubbed objects:</p><ul><li><p><code>verify(call)</code></p><p>This causes a test to fail if the call has not occurred. <code>call</code> here can have the syntax <code>mockedObject.someMethod(someArguments)</code> or <code>mockedObject.someGetter</code>. This can be followed by <code>.called(n)</code> to verify that the call occurred <code>n</code> times. <code>n</code> can be a number of a matcher like <code>greaterThan(n)</code>.</p></li><li><p><code>verifyInOrder([call1, call2, ...])</code></p><p>This causes a test to fail if the calls were not all made in the order specified.</p></li><li><p><code>verifyNever(call)</code></p><p>This causes a test to fail if the call has occurred.</p></li></ul></li><li><p>Call the following methods in tests to change what is returned or thrown from methods of stubbed objects:</p><ul><li><p><code>when(call).thenReturn(value)</code></p><p>This changes a specific call to always return a fixed value. To return a <code>Future</code> or <code>Stream</code>, use <code>thenAnswer</code> instead which is described below.</p></li><li><p><code>when(call).thenThrows(SomeException(someArguments))</code></p><p>This changes a specific call to always throw a fixed exception.</p></li><li><p><code>when(call).thenAnswer((_) { code to calculate response })</code></p><p>This changes a specific call to calculate a different value to return.</p></li></ul><p>If a call matches multiple stubs, the one defined last is used.</p></li></ol><p>Mockito provides &quot;argument matchers&quot; that can be used in calls passed to <code>when</code> in place of each argument value. These include <code>any</code>, <code>anyNamed</code>, <code>argThat</code>, and <code>captureThat</code>.</p><ul><li><code>any</code>: matches any positional argument value</li><li><code>anyNamed</code>: matches any named argument value with a given name</li><li><code>argThat</code>: matches any positional or named argument that matches a given <code>Matcher</code></li><li><code>captureThat</code>: matches the same as <code>argThat</code>, but also captures the value so it can be used in a test assertion</li></ul><p>For more details, see the <a href="https://pub.dev/packages/mockito?v=1.0.19" rel="noopener" target="_blank">offical mockito documentation</a>.</p><p>Another mocking approach to consider is implementing a service registry class. This class becomes the authority on deciding which service instances should be used. It can be configured to use mock service instances instead of real ones when tests are being run. A downside of this approach is that all code that uses services must be modified to get instances from the service registry class.</p><h3 id="test-coverage">Test Coverage</h3><p>The <code>flutter test</code> command can generate test coverage data. To measure and report on test coverage:</p><ol><li><p>Run tests with the <code>--coverage</code> flag. This creates the file <code>coverage/lcov.info</code>.</p><pre class="language-bash"><code class="language-bash">flutter <span class="token builtin class-name">test</span> --coverage test/*.dart</code></pre></li><li><p>Generate an HTML report using the <code>genhtml</code> command.</p><p>To install this on macOS using Homebrew, enter <code>brew install lcov</code>.</p><pre class="language-bash"><code class="language-bash">genhtml -o coverage coverage/lcov.info</code></pre></li><li><p>View the report.</p><pre class="language-bash"><code class="language-bash"><span class="token function">open</span> coverage/index.html</code></pre></li></ol><p>The following screenshot shows a sample test coverage report. Click the links for each source file to see detail on the lines covered by a test.</p><p><img alt="Test Coverage" style="width: 80%" src="/blog/assets/flutter-lcov.png?v=1.0.19" title="Test Coverage"></p><h2 id="deploying-to-app-stores">Deploying to App Stores</h2><p>Popular services that simpilify deploying Flutter apps to the Google Play Store and the iOS App Store include <a href="https://docs.fastlane.tools?v=1.0.19" rel="noopener" target="_blank">fastlane</a>, <a href="https://blog.codemagic.io/getting-started-with-codemagic/?v=1.0.19" rel="noopener" target="_blank">Codemagic</a>, <a href="https://devcenter.bitrise.io/en/getting-started/getting-started-with-flutter-apps.html?v=1.0.19" rel="noopener" target="_blank">Bitrise</a>, and <a href="https://appcircle.io/blog/guide-to-automated-mobile-ci-cd-for-flutter-projects-with-appcircle/?v=1.0.19" rel="noopener" target="_blank">Appcircle</a>.</p><p>TODO: Add more detail on at least one of these options.</p><h3 id="renaming">Renaming</h3><p>Before deploying a new app it may be desirable to rename it. The easiest way to do this is to use the pub.dev package <a href="https://pub.dev/packages/rename?v=1.0.19" rel="noopener" target="_blank">rename</a>. This updates <code>appName</code> and <code>bundleId</code>.</p><p>The steps to use this are:</p><ol><li>Install the <code>rename</code> command by entering <code>flutter pub global activate rename</code>.</li><li>Change the <code>appName</code> by entering <code>flutter pub global run rename --appname {new-app-name}</code>.</li><li>Change the <code>bundleId</code> by entering <code>flutter pub global run rename --bundleId {new-bundle_id}</code>. The bundle id must include at least one period. It must be unique across all apps in the world. One way to achieve this it to begin with your reverse internet domain such as <code>com.objectcomputing.</code>. Another way is to begin with your email adddress such as <code>r.mark.volkmann.gmail.</code>.</li></ol><p>To target a specific platform rather than all, add <code>-t {platform}</code> at the end of each <code>rename</code> command. Examples include <code>-t android</code> and <code>-t ios</code>.</p><h3 id="google-play">Google Play</h3><p>A Google Developer account is required to deploy apps to the Google Play store. If you do not already have a Google account, create that first by browsing <a href="https://accounts.google.com/?v=1.0.19" rel="noopener" target="_blank">accounts.google.com</a>.</p><p>To create a developer account, browse the <a href="https://play.google.com/console/?v=1.0.19" rel="noopener" target="_blank">Google Play console</a> and click one of the &quot;Get Started&quot; links, either for &quot;Yourself&quot; or &quot;An organization or business&quot;. Enter all the required data and click the &quot;Create account and pay&quot; button. Enter credit card information and complete the payment process to pay a one-time 25 USD fee.</p><p>You will receive an email requesting identity verification. Click the &quot;Verify&quot; button in the email. Enter all the requested information, including uploading a photo of an official ID such as a driver's licences. It can take a few days to receive notification that your identity has been verified.</p><p>Android apps can be bundled in either an Android Package (<code>.apk</code>) or Android App Bundle (<code>.aab</code>) file. Bundle files are smaller and are preferred. To generate an <code>.apk</code> file, enter <code>flutter build apk</code>. To generate an <code>.aab</code> file, enter <code>flutter build appbundle</code>. These commands takes several minutes to complete.</p><h3 id="first-time-deployment">First-time Deployment</h3><p>To prepare for uploading an app to the Google Play store:</p><ul><li><p>Create an upload keystore by entering the command below (specific to macOS or Linux) and answering questions. Enter a password when requested and remember it. For apps created by an individual as opposed to a company, consider using an email address for both &quot;organizational unit&quot; and &quot;organization&quot;.</p><pre class="language-bash"><code class="language-bash">keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize <span class="token number">2048</span> -validity <span class="token number">10000</span> -alias upload --storetype JKS</code></pre><p>This creates the file <code>upload-keystore.jks</code> in your home directory. Move the file into the project <code>android/app</code> directory. Verify that <code>.gitignore</code> contains <code>**.*.jks</code> so no keystore files are committed to the repository.</p></li><li><p>In the <code>android</code> directory at the top of the project directory, create the file <code>key.properties</code> containing the following:</p><pre class="language-text"><code class="language-text">storePassword={keystore-password}<br>keyPassword={keystore-password}<br>keyAlias=upload<br>storeFile=../app/upload-keystore.jks</code></pre></li><li><p>Add <code>android/key.properties</code> to <code>.gitignore</code>.</p></li><li><p>Edit the <code>android/app/build.gradle</code> file.</p><ul><li><p>Add the following before the line that begins with <code>android {</code>:</p><pre class="language-text"><code class="language-text">def keystoreProperties = new Properties()<br>def keystorePropertiesFile = rootProject.file('key.properties')<br>if (keystorePropertiesFile.exists()) {<br>  keystoreProperties.load(new FileInputStream(keystorePropertiesFile))<br>}</code></pre></li><li><p>Replace the <code>buildTypes</code> block with the following:</p><pre class="language-text"><code class="language-text">signingConfigs {<br>  release {<br>    keyAlias keystoreProperties['keyAlias']<br>    keyPassword keystoreProperties['keyPassword']<br>    storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null<br>    storePassword keystoreProperties['storePassword']<br>  }<br>}<br>buildTypes {<br>  release {<br>    signingConfig signingConfigs.release<br>  }<br>}</code></pre></li></ul></li><li><p>Edit the <code>android/app/src/main/AndroidManifest.xml</code> file.</p><ul><li><p>Change the <code>application</code> element <code>android:label</code> attribute value to the actual name of the application.</p></li><li><p>Add the following line after the other <code>uses-permission</code> elements if the app needs internet access, such as accessing Google Maps:</p><pre class="language-text"><code class="language-text"><uses-permission android:name="android.permission.INTERNET"></code></pre></li></ul></li><li><p>Edit the <code>android/app/build.gradle</code> file.</p><ul><li>Correct the value of <code>applicationId</code> under <code>android</code> ... <code>defaultConfig</code></li><li>Verify the values of <code>compileSdkVersion</code>, <code>minSdkVersion</code>.</li></ul></li><li><p>Edit the value of <code>version</code> in the <code>pubspec.yaml</code> file. This is a value like <code>1.0.1+2</code>. It is used to automatically update <code>android/local.properties</code>. The part before the <code>+</code> is a semantic version that is used for the value of <code>flutter.versionName</code> and the part after the plus is an incrementing integer that is used for the value of <code>flutter.versionCode</code>.</p></li><li><p>Edit the <code>android/local.properties</code> file and verify the value of <code>flutter.buildMode</code>. It can be set to <code>release</code>, <code>profile</code>, or <code>debug</code>. Do not modify <code>flutter.versionName</code> or <code>flutter.versionCode</code>. Those are automatically updated using the value of <code>version</code> in <code>pubspec.yaml</code>.</p></li><li><p>Update the version number displayed in the app if that is being done. This might appear on an &quot;About&quot; page.</p></li><li><p>Build an app bundle.</p><ul><li>In a terminal, cd to the top app directory.</li><li>Enter <code>flutter clean</code> to delete any previous build artifacts.</li><li>Enter <code>flutter build appbundle</code> to build a new app bundle.</li><li>This creates the file <code>build/app/outputs/bundle/release/app-release.aab</code>.</li></ul></li><li><p>Browse the <a href="https://play.google.com/console/?v=1.0.19" rel="noopener" target="_blank">Goole Play Console</a>.</p></li><li><p>Select your developer account.</p></li><li><p>Click the &quot;Create app&quot; button.</p></li><li><p>Enter an app name as it should appear in the store.</p></li><li><p>Choose a language such as &quot;English (United States) - en-US&quot;.</p></li><li><p>Specify whether it is a game or app.</p></li><li><p>Specify whether it is free or paid. Once an app is published as free, it cannot be changed to paid.</p></li><li><p>Check the &quot;Developer Program Policies&quot; checkbox.</p></li><li><p>Check the &quot;Play App Signing&quot; checkbox.</p></li><li><p>Check the &quot;US export laws&quot; checkbox.</p></li><li><p>Click the &quot;Create app&quot; button in the lower-right corner.</p></li></ul><p>At this point you can select the new app or an existing app. There are two ways to use the Google Play Console.</p><p>The first way to use the Google Play Console is to select &quot;Dashboard&quot; in the left nav and then work through all the sections it contains in order. This is the preferred approach, especially for developers that are new to use the Google Play Console.</p><p>To see the tasks to be completed in each section, click ther &quot;View tasks&quot; dropdown. Clicking on a task to be completed will open a new page for answering questions. Typically after answering all of the questions for a tasks you will need to click &quot;Save&quot; (near the bottom) and then &quot;&lt;- Dashbard&quot; (near the top) to return to the Dashboard and see the next task to be completed.s If there is no &quot;&lt;- Dashboard&quot; link, click &quot;Dashboard&quot; in the left nav.</p><p>Once the app is deployed, the sections presented in the Dashboard will change. For example, once an app is deployed to production, the dashboard will no longer offer to help with creating a test version of the app.</p><p>To share the app with testers:</p><ul><li><p>In the left nav, click &quot;Testing&quot;.</p></li><li><p>To only allow a limited group of internal testers (up to 100) to test the app, click &quot;Internal Testing&quot;.</p></li><li><p>To only allow invited testers (unlimited) to test the app, click &quot;Closed Testing&quot;.</p></li><li><p>To allow anyone to test the app, click &quot;Open Testing&quot;.</p></li><li><p>If using &quot;Open Testing&quot;</p><ul><li>Click the &quot;New release&quot; button.</li><li>Upload a new app bundle file.</li><li>Browse <a href="https://play.google.com/store?hl=en_US&gl=US?v=1.0.19" rel="noopener" target="_blank">play.google.com</a>.</li><li>Search for the app name.</li><li>Email the app URL to testers and ask them to install and test it.</li></ul></li></ul><p>The second way to use the Google Play Console is to click left-nav items in the order you would like to complete them. This requires more knowledge of the available sections.</p><p>In order to collect money for paid apps and apps that have in-app purchases, a payment profile must be created.</p><ul><li>Browse the <a href="https://play.google.com/console/?v=1.0.19" rel="noopener" target="_blank">Google Play Console</a> and elect your developer account.</li><li>In the left nav., click &quot;Payments profile&quot;.</li><li>Click the &quot;Create payments profile&quot;.</li><li>Click your name.</li><li>If you are operating as an individual as opposed to a business, uncheck the checkbox for &quot;Use legal business info name, contact, address&quot;.</li><li>Enter your mailing address.</li><li>Enter a business name which can be your email address.</li><li>Optionally enter your website URL.</li><li>For &quot;What do you sell&quot; dropdown, select &quot;Computer Software&quot;.</li><li>For &quot;Customer support email&quot;, enter your email address.</li><li>For &quot;Credit card statement name&quot;, enter a credit card name such as &quot;Visa&quot;.</li><li>Click the &quot;Submit&quot; button in the lower-right corner.</li><li>On the &quot;Payment profile&quot; page, click &quot;Manage account group&quot;.</li><li>Click the &quot;Create account group&quot; button.</li><li>Verify the &quot;Account group name&quot;, modifying it if necessary.</li><li>Click the &quot;Create account group&quot; button in the lower-right corner.</li><li>Click &quot;Start&quot;.</li><li>For &quot;Developer accounts owned by your legal entity&quot;, select &quot;No&quot;.</li><li>For &quot;Developer accounts with similar brand features&quot;, select &quot;No&quot;.</li><li>Click the &quot;Save&quot; button in the lower-right corner.</li><li>Click &quot;Review and enroll&quot;.</li><li>Click the &quot;Confirm and view terms&quot; button in the lower-right corner.</li><li>Click the &quot;Accept and enroll&quot; button in the lower-right corner.</li></ul><h3 id="deploying-an-update">Deploying an Update</h3><ul><li>Edit the value of <code>version</code> in the <code>pubspec.yaml</code> file. This is a value like <code>1.0.1+2</code>. It is used to automatically update <code>android/local.properties</code>. The part before the <code>+</code> is a semantic version that is used for the value of <code>flutter.versionName</code> and the part after the plus is an incrementing integer that is used for the value of <code>flutter.versionCode</code>.</li><li>Edit the <code>android/local.properties</code> file and verify the value of <code>flutter.buildMode</code>. It can be set to <code>release</code>, <code>profile</code>, or <code>debug</code>. Do not modify <code>flutter.versionName</code> or <code>flutter.versionCode</code>. Those are automatically updated using the value of <code>version</code> in <code>pubspec.yaml</code>.</li><li>If the app displays its version number, perhaps on an &quot;About&quot; page, update it to match.</li><li>Create a new app bundle by entering <code>flutter build appbundle</code>. This creates the file <code>build/app/outputs/bundle/release/app-release.aab</code>.</li><li>Browse the <a href="https://play.google.com/console/?v=1.0.19" rel="noopener" target="_blank">Goole Play Console</a>.</li><li>Select your developer account.</li><li>Click the row of the app being updated.</li><li>In the left-nav, click &quot;Testing&quot;, then &quot;Open Testing&quot;.</li><li>Click the &quot;New release&quot; button.</li><li>Click &quot;Upload&quot; and upload the new <code>.aab</code> file.</li><li>Browse <a href="https://play.google.com/store?hl=en_US&gl=US?v=1.0.19" rel="noopener" target="_blank">play.google.com</a>.</li><li>Search for the app name.</li><li>Email the app URL to testers and ask them to install and test it.</li></ul><h3 id="ios-app-store">iOS App Store</h3><p>Note that the value of <code>PRODUCT_BUNDLE_IDENTIFIER</code> cannot contain underscores. This is specified in the file <code>ios/Runner.xcodeproj/project.pbxproj</code>.</p><p>TODO: Finish this section.</p><h2 id="in-app-purchases">In-App Purchases</h2><p>One approach to enabling in-app purchases in a Flutter app is to use the pub.dev package <a href="https://pub.dev/packages/in_app_purchase?v=1.0.19" rel="noopener" target="_blank">in_app_purchase</a>. Click the link after &quot;codelab&quot; for a detailed guide. This requires having a backend such as Firebase. It is a good option for apps that are using Firebase for other purposes</p><p>One way to enable in-app purchases that does not require configuring a backend is <a href="https://docs.revenuecat.com/docs/flutter?v=1.0.19" rel="noopener" target="_blank">RevenueCat</a>. This is a commercial service, but it is free for a single developer and up to 10,000 USD in monthly tracked revenue (MTR).</p><h3 id="revenuecat">RevenueCat</h3><p>RevenueCat requires store setup of in-app purchases and subscriptions.</p><p>For the Google Play Store:</p><ol><li>Browse the <a href="https://play.google.com/console/?v=1.0.19" rel="noopener" target="_blank">Google Play Console</a> and elect your developer account.</li><li>In the left nav., click &quot;All apps&quot;.</li><li>Click the row describing the app to which in-app payments will be added.</li><li>In the left-nav, scroll down to the &quot;Monetize&quot; section, click &quot;Products&quot;, then click &quot;In-app products&quot;.</li><li>Click the &quot;Create product&quot; button.</li><li>Enter a &quot;Product ID&quot;, &quot;Name&quot;, &quot;Description&quot;, and &quot;Default Price&quot;. The product ID should be unique across all of your apps, so it is recommended for it to begin with the app name. It can contain underscores and periods, but not hyphens.</li><li>Click the &quot;Save&quot; button in the lower-right corner</li><li>Click the &quot;Activate&quot; button in the lower-right corner</li></ol><p>For the iOS App Store:</p><p>TODO: Add these steps.</p><p>Describing subscriptions is similar to describing one-time in-app payments.</p><p>After configuring in-app purchases in the stores, configure RevenueCat by following these steps:</p><ol><li><p>Browse <a href="https://www.revenuecat.com?v=1.0.19" rel="noopener" target="_blank">revenuecat.com</a>.</p></li><li><p>Click the &quot;Get Started -&gt;&quot; button.</p></li><li><p>If you do not already have an account, enter account information and click the &quot;Sign Up&quot; button.</p></li><li><p>Click &quot;Setup your first project&quot;.</p></li><li><p>Enter a name for the project and click the &quot;Create project&quot; button.</p></li><li><p>Click a platform button such as &quot;App Store&quot; or &quot;Play Store&quot;.</p></li><li><p>Enter the &quot;App name&quot;</p></li><li><p>Enter the &quot;Google Play package&quot; which is the bundle ID.</p></li><li><p>Create a &quot;Service Account credentials JSON&quot; file. This is very complicated. The steps are described <a href="https://docs.revenuecat.com/docs/creating-play-service-credentials?v=1.0.19" rel="noopener" target="_blank">here</a>. After all of this you will see the message in the Google Cloud Console page: &quot;It can take up to 36 hours for your Play Service Credentials to work properly with the Google Play Developer API. You may see &quot;Invalid Play Store credentials&quot; errors and be unable to make purchases with RevenueCat until this happens.&quot;</p></li><li><p>Back on the RevenueCat &quot;Get Started&quot; page, click, &quot;2. Configure entitlements&quot; and click an app name. This page supports creating products, entitlements, and offerings. From the docs, &quot;An entitlement represents a level of access, features, or content that a user is &quot;entitled&quot; to.&quot; &quot;Attach products to entitlements. These let RevenueCat know which entitlements to unlock for users after they purchase a specific product. &quot;Offerings are the selection of products that are offered to a user.&quot;</p></li><li><p>Click &quot;Products&quot; in the left nav and create one.</p></li><li><p>Click &quot;Entitlements&quot; in the left nav and create one. Attach a product to each entitlement.</p></li><li><p>Click &quot;Offerings&quot; in the left nav and create one. Create a package for each offering and attach a product to each package.</p></li><li><p>Add the following line in <code>android/app/src/main/AndroidManifest.xml</code> after the other <code>uses-permission</code> elements:</p><pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.vending.BILLING<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre></li><li><p>Build a new app bundle by entering <code>flutter build appbundle</code>.</p></li><li><p>Deploy the new app bundle to the stores. The steps to do this are provided in the previous section.</p></li></ol><p>In the Flutter app:</p><ol><li><p>Add the <code>purchases_flutter</code> package in <code>pubspec.yaml</code>.</p></li><li><p>In <code>ios/Podfile</code>, uncomment the following line:</p><pre class="language-text"><code class="language-text"># platform :ios, '9.0'</code></pre></li><li><p>Add a button in the app to show purchase options.</p></li><li><p>TODO: Add more steps to display the offers!</p></li></ol><h2 id="advice">Advice</h2><ul><li><p>Flutter prefers project and file names that separate words with underscores instead of hyphens, so use those. `</p></li><li><p>Create lots of custom widgets that hide the complexity of provided widgets and provide application-specific styling.</p></li><li><p>Create extentions to provided Flutter classes that simplify there use. Examples can be found in <a href="https://github.com/mvolkmann/flutter_input/blob/main/lib/widget_extensions.dart?v=1.0.19" rel="noopener" target="_blank">GitHub</a>.</p></li><li><p>Add a comma after every function argument value so Dart code formatting works better.</p></li></ul><h2 id="annoyances">Annoyances</h2><ul><li><p>Dart needs to support type inference of enum values the way Swift does. For example, instead of <code>color: Colors.red,</code> I want to use <code>color: .red,</code>.</p></li><li><p>Flutter needs to find a way to define stateful widgets without defining two classes. See this <a href="https://github.com/dart-lang/language/issues/329?v=1.0.19" rel="noopener" target="_blank">on-going discussion</a>.</p></li><li><p>The VS Code Flutter extension displays a comment after the closing paren of all widgets. It isn't really in the code, but adds visual clutter. This can be disabled. See &quot;Phantom Comments&quot; in the &quot;VS Code&quot; section.</p></li><li><p>The <code>Row</code>, <code>Column</code>, and <code>Flex</code> widgets need to take a <code>spacing</code> parameter like the <code>Wrap</code> widget does so it isn't necessary to do tedious things like adding a <code>SizedBox</code> between each child to leave space between them. My <code>widget_extensions.dart</code> file adds a <code>gap</code> method to <code>Row</code> and <code>Column</code>. It also adds many methods to <code>Widget</code> and <code>List&lt;Widget&gt;</code>.</p></li><li><p>It is often convenient to use the <code>Iterable</code> methods <code>map</code> and <code>filter</code> to create a new <code>Iterable</code>. But many Flutter properties and methods arguments require a <code>List</code> instead of an <code>Iterable</code>. This requires calling <code>.toList()</code> on the <code>Iterable</code> to create a <code>List</code>. I wish Flutter had more support for <code>Iterable</code> so this wouldn't be necessary.</p></li><li><p>The default linting rule settings related to use of the <code>const</code> keyword are incredibly annoying! I wish Dart could figure out what should be <code>const</code> on its own so we wouldn't need to litter our code with that keyword.</p></li><li><p>The need to pass <code>context</code> and <code>key</code> in so many places is annoying.</p></li><li><p>Sometimes after a hot reload the simulator will display an error message in yellow text on a red background. There may not really be an error in the code. Restarting the app can make the problem go away.</p></li><li><p>The error screen shown in the simulator when there is a runtime error displays the message in yellow on a red background. This combination is somewhat hard on the eyes.</p></li><li><p>The error screen often does not provide the filename and line number of the error. It is displayed, in the terminal where the app is running, but it is buried in a long stack trace which makes it difficult to find.</p></li></ul></article>