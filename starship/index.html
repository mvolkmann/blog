<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Starship</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#installing">Installing</a></li><li><a href="#enabling">Enabling</a></li><li><a href="#configuring">Configuring</a></li><li><a href="#custom-commands">Custom Commands</a></li></ol></nav></aside><article><h2 id="overview">Overview</h2><p><a href="https://starship.rs?v=1.0.15" rel="noopener" target="_blank">Starship</a> is a highly customizable tool for customizing shell prompts. It works in nearly all shells including Bash, Fish, Nushell, Powershell, and Zsh. This removes the need to customize the prompt in shell-specific ways. It can be configured in one place for all shells, which is great for users that utilize multiple shells.</p><p>Starship was inspired by <a href="https://github.com/denysdovhan/spaceship-prompt?v=1.0.15" rel="noopener" target="_blank">spaceship-prompt</a> which has similar functionality, but only for Zsh.</p><p>Starship is implemented in Rust, so it is very fast.</p><h2 id="installing">Installing</h2><p>One way to install Starship is to install Rust and enter <code>cargo install starship</code>. It can also be installed via a <code>curl</code> command, using Scoop in Windows, or using Homebrew in macOS. For more details on installation, see <a href="https://starship.rs/guide/#üöÄ-installation?v=1.0.15" rel="noopener" target="_blank">Installation</a>.</p><p>Starship uses &quot;Nerd Font&quot; characters, so a font must be installed. Browse <a href="https://www.nerdfonts.com?v=1.0.15" rel="noopener" target="_blank">nerdfonts.com</a> and download a font such as &quot;FiraCode Nerd Font&quot;. To install the font in macOS, double-click the file <code>Fira Code Regular Nerd Font Complete.ttf</code> and press the &quot;Install Font&quot; button.</p><p>Terminal apps must then be configured to use the font.</p><ul><li><p><b>macOS Terminal app</b></p><p>Select Preferences...Profiles...Text, press the &quot;Change...&quot; button in the &quot;Font&quot; section to open the &quot;Fonts&quot; dialog, and select &quot;FiraCodeNerdFont&quot;.</p></li><li><p><b>macOS iTerm2 app</b></p><p>Select Preferences...Profiles...Text and select &quot;Fira Code Nerd Font&quot; from the Font drop-down. Also consider checking the &quot;Use ligatures&quot; checkbox. A new terminal window must be opened for the changes to take effect.</p></li><li><p><b>VS Code</b></p><p>Select Preferences...Settings, enter &quot;Editor: FontFamily&quot;, and enter &quot;Fira Code Nerd Font&quot;.</p></li></ul><h2 id="enabling">Enabling</h2><p>To enable the use of Starship in each shell:</p><ul><li><p>for Bash, edit <code>.bashrc</code> and add<br><code>eval &quot;$(starship init bash)&quot;</code></p></li><li><p>for Fish, edit <code>.config/fish/config.fish</code> and add<br><code>starship init fish | source</code></p></li><li><p>for Nushell, edit <code>$(config path)</code> and add<br><code>prompt = &quot;starship prompt&quot;</code></p></li><li><p>for Powershell, edit <code>Microsoft.PowerShell_profile.ps1</code> and add<br><code>Invoke-Expression (&amp;starship init powershell)</code></p></li><li><p>for Zsh, edit <code>.zshrc</code> and add<br><code>eval &quot;$(starship init zsh)&quot;</code></p></li><li><p>for other shells, see <a href="https://starship.rs/guide/#üöÄ-installation?v=1.0.15" rel="noopener" target="_blank">Getting Started</a></p></li></ul><h2 id="configuring">Configuring</h2><p>To configure Starship, create the file <code>~/.config/starship.toml</code>. Changes to this file take effect immediately.</p><p>The example configuration below results in the following prompts which begin by indicating the current shell: bash, fish, or Nushell.</p><p><img alt="Starship bash prompt" style="width: 40%" src="/blog/assets/starship-bash-prompt.png?v=1.0.15" title="Starship bash prompt"></p><p><img alt="Starship fish prompt" style="width: 40%" src="/blog/assets/starship-fish-prompt.png?v=1.0.15" title="Starship fish prompt"></p><p><img alt="Starship Nushell prompt" style="width: 40%" src="/blog/assets/starship-nu-prompt.png?v=1.0.15" title="Starship Nushell prompt"></p><p>Many string values in the configuration file can contain the syntax <code>[value](style)</code> where <code>value</code> is literal text and variable values to display, and <code>style</code> specifies a color and style.</p><p>A color specifier can be one of the following:</p><ul><li>red, green, blue, yellow, purple, cyan, black, or white</li><li><code>#</code> followed by a six-digit hexadecimal number (ex. cornflower blue is #6495ed)</li><li>number between 0-255 to specify an 8-bit <a href="https://i.stack.imgur.com/KTSQa.png?v=1.0.15" rel="noopener" target="_blank">ANSI color code</a> (ex. orange is 208)</li></ul><p>Style prefixes include:</p><ul><li><code>fg:</code> (default) or <code>bg:</code> with no space after the colon to distinguish between foreground and background styles (ex. <code>fg:#6495ed bg:yellow</code>)</li><li><code>bold</code>, <code>italic</code>, or <code>underline</code></li><li><code>bright</code> or <code>dimmed</code></li></ul><p>For example:</p><pre class="language-toml"><code class="language-toml"><span class="token key property">format</span> <span class="token punctuation">=</span> <span class="token string">"$git_branch$git_status$directory$character"</span><br><span class="token comment"># Nushell controls the color of commands typed after the prompt.</span><br><br><span class="token comment"># Displays text, typically a single character,</span><br><span class="token comment"># based on the status of the previous command.</span><br><span class="token punctuation">[</span><span class="token table class-name">character</span><span class="token punctuation">]</span><br><span class="token key property">success_symbol</span> <span class="token punctuation">=</span> <span class="token string">"[‚ñ∂](bold green)"</span> <span class="token comment"># normal prompt</span><br><span class="token key property">error_symbol</span> <span class="token punctuation">=</span> <span class="token string">"[‚úó](bold red)"</span> <span class="token comment"># used if previous command failed</span><br><span class="token comment"># error_symbol does not work in Nushell</span><br><br><span class="token comment"># Displays current directory.</span><br><span class="token punctuation">[</span><span class="token table class-name">directory</span><span class="token punctuation">]</span><br><span class="token key property">format</span> <span class="token punctuation">=</span> <span class="token string">"[$path]($style)"</span><br><span class="token key property">style</span> <span class="token punctuation">=</span> <span class="token string">"yellow"</span><br><span class="token key property">truncate_to_repo</span> <span class="token punctuation">=</span> <span class="token boolean">false</span><br><span class="token key property">truncation_length</span> <span class="token punctuation">=</span> <span class="token number">3</span> <span class="token comment"># parent directories to show; default is 3</span><br><span class="token key property">truncation_symbol</span> <span class="token punctuation">=</span> <span class="token string">"‚Ä¶/"</span><br><br><span class="token comment"># Displays current Git branch when in a directory of a Git repository.</span><br><span class="token punctuation">[</span><span class="token table class-name">git_branch</span><span class="token punctuation">]</span><br><span class="token key property">format</span> <span class="token punctuation">=</span> <span class="token string">"[$symbol](green)[$branch]($style)"</span><br><span class="token key property">style</span> <span class="token punctuation">=</span> <span class="token string">"italic green"</span><br><span class="token key property">symbol</span> <span class="token punctuation">=</span> <span class="token string">"ÔÑì"</span><br><br><span class="token comment"># Displays status of Git repository when in a directory of a Git repository.</span><br><span class="token punctuation">[</span><span class="token table class-name">git_status</span><span class="token punctuation">]</span><br><span class="token key property">format</span> <span class="token punctuation">=</span> <span class="token string">"[$all_status$ahead_behind]($style)"</span><br><span class="token key property">ahead</span> <span class="token punctuation">=</span> <span class="token string">"‚á° $count "</span><br><span class="token key property">behind</span> <span class="token punctuation">=</span> <span class="token string">"‚á£ $count "</span><br><span class="token key property">deleted</span> <span class="token punctuation">=</span> <span class="token string">"üóë $count "</span><br><span class="token key property">diverged</span> <span class="token punctuation">=</span> <span class="token string">"Ôó∫ $count "</span><br><span class="token key property">stashed</span> <span class="token punctuation">=</span> <span class="token string">"üì¶ $count "</span><br><span class="token key property">modified</span> <span class="token punctuation">=</span> <span class="token string">"Ô≠é $count "</span><br><span class="token key property">staged</span> <span class="token punctuation">=</span> <span class="token string">'[ÔÅß $count ](green)'</span><br><span class="token key property">renamed</span> <span class="token punctuation">=</span> <span class="token string">"Ôëö $count "</span><br><span class="token key property">untracked</span> <span class="token punctuation">=</span> <span class="token string">"ü§∑ ‚Äç$count "</span><br><span class="token key property">style</span> <span class="token punctuation">=</span> <span class="token string">"bold red"</span></code></pre><p>The top <code>format</code> setting that defines the prompt can contain newline characters for a multi-line prompt. Alternatively it can be delimited by triple quotes (single or double) to actually specify a multi-line prompt with multiple lines. For example:</p><pre class="language-toml"><code class="language-toml"><span class="token key property">format</span> <span class="token punctuation">=</span> <span class="token string">'''<br>$directory $git_branch$git_status<br>$custom$character'''</span></code></pre><p>The prompt can contain icons. To see available icons, browse <a href="https://www.nerdfonts.com/cheat-sheet?v=1.0.15" rel="noopener" target="_blank">Nerd Fonts Cheatsheet</a>.</p><p>The prompt defined above displays an icon at the beginning to indicate the current shell. It uses the environment variable <code>SHELL_ICON</code> which must be defined in the configuration script of each shell. For example:</p><ul><li>For Bash, edit <code>.bash_profile</code> and add <code>export SHELL_ICON=üöÄ</code>.</li><li>For Fish, edit <code>~/.config/fish/config.fish</code> and add <code>set -x SHELL_ICON üê†</code>.</li><li>For Nushell, edit <code>$(config path)</code> and add <code>SHELL_ICON = &quot;ü¶Ä&quot;</code> in the <code>[env]</code> section.</li></ul><h2 id="custom-commands">Custom Commands</h2><p>Custom commands display the output of a given shell command. To define a custom command, add a <code>[command.{name}]</code> section in <code>starship.toml</code>. For example:</p><pre class="language-toml"><code class="language-toml"><span class="token comment"># Indicates when in bash shell.</span><br><span class="token punctuation">[</span><span class="token table class-name">custom.bash</span><span class="token punctuation">]</span><br><span class="token key property">command</span> <span class="token punctuation">=</span> <span class="token string">"echo üöÄ"</span><br><span class="token key property">when</span> <span class="token punctuation">=</span> <span class="token string">'[ "$STARSHIP_SHELL" == "bash" ]'</span><br><br><span class="token comment"># Indicates when in fish shell.</span><br><span class="token punctuation">[</span><span class="token table class-name">custom.fish</span><span class="token punctuation">]</span><br><span class="token key property">command</span> <span class="token punctuation">=</span> <span class="token string">"echo üê†"</span><br><span class="token key property">when</span> <span class="token punctuation">=</span> <span class="token string">'test "$STARSHIP_SHELL" = "fish"'</span><br><br><span class="token comment"># Indicates when in Nushell.</span><br><span class="token punctuation">[</span><span class="token table class-name">custom.nu</span><span class="token punctuation">]</span><br><span class="token key property">command</span> <span class="token punctuation">=</span> <span class="token string">"echo ü¶Ä"</span><br><span class="token key property">shell</span> <span class="token punctuation">=</span> <span class="token string">'bash'</span><br><span class="token key property">when</span> <span class="token punctuation">=</span> <span class="token string">'[ "$STARSHIP_SHELL" == "" ]'</span> <span class="token comment"># not set in Nushell</span></code></pre><p>The <code>command</code> specified for each of these is only executed if the <code>when</code> command returns <code>0</code> indicating success. The <code>shell</code> option specifies the shell to use when executing the <code>when</code> command and defaults to the current shell. To run all the custom commands in the order they are defined, add <code>$command</code> to the prompt string. To run a specific custom command, add <code>${custom.name}</code> to the prompt string where <code>name</code> is the name of a custom command.</p><p>For more details on configuration, see <a href="https://starship.rs/config/#prompt?v=1.0.15" rel="noopener" target="_blank">Configuration</a>.</p></article>