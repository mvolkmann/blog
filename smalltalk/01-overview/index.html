<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Overview</h2><aside><nav class="toc"><ol><li><a href="#why-learn-smalltalk">Why Learn Smalltalk</a></li><li><a href="#resources">Resources</a></li><li><a href="#pros-and-cons">Pros and Cons</a></li><li><a href="#history">History</a></li><li><a href="#implementations">Implementations</a></li><li><a href="#commerial-applications">Commerial Applications</a></li><li><a href="#cuis-smalltalk">Cuis Smalltalk</a></li><li><a href="#github-account">GitHub Account</a></li></ol></nav></aside><article><style>.logo {
    --size: 8rem;
    max-height: var(--size);
    max-width: var(--size); 
    margin-left: 2rem;
  }

  .row {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
  }</style><figure style="width: 30%"><img alt="Smalltalk Byte magazine cover" src="/blog/assets/smalltalk-byte-cover.jpg?v=1.1.1"></figure><p>The target audience for this series of articles on Smalltalk is readers that already know at least one programming language. There are many tables that summarize features of Smalltalk. These aim to quickly provide a sense of what is available by including the most useful features and not aiming to be exhaustive.</p><p><a href="https://en.wikipedia.org/wiki/Smalltalk" target="_blank">Smalltalk</a> &quot;is a purely object oriented programming language (OOP).&quot; Everything is represented by an object that is an instance of some class. This includes classes themselves and all the GUI elements in the development environment. Everything happens by sending messages to objects. The objects decide whether and how to act on the messages.</p><p><a href="https://en.wikipedia.org/wiki/Simula" target="_blank">Simula</a> is considered to be the first object-oriented programming (OOP) language. In Simula, the data that models a simulation are represented by objects, but primitive data types like numbers are not. While Simula preceded Smalltalk, Smalltalk was the first programming language to make OOP popular.</p><p>Running Smalltalk programs requires two parts, a virtual machine (VM) and an image file. The VM reads and executes Smalltalk code found in an image file. It is specific to the operating system and CPU architecture being used.</p><p>Image files can be moved between operating systems on different CPU architectures. An image will display the same windows, pixel for pixel, across Windows, Linux, and MacOS, only differing based on screen size. There is no need to recompile code for different environments. This makes Smalltalk code highly portable!</p><p>Smalltalk is not an interpreted language. It was the first programming language to use just-in-time (JIT) compilation. Smalltalk code is compiled to optimized bytecode that is executed by a VM. Compilation occurs during program execution rather than before execution. This results in better performance than interpreting code.</p><p>Everything in Smalltalk is represented by an object, including classes and all GUI elements in the development environment. An image file can be thought of as a snapshot of the current state of the development environment. It describes a collection of all the active objects. During development, changes can be saved to the current image or to a new image.</p><p>Smalltalk is perhaps most known for its incredible development tools. These support:</p><ul><li>finding code in many ways</li><li>live environment where code changes are immediately reflected (no need to recompile or restart the environment)</li><li>debugging with the ability to modify code and data, then continue or restart</li><li>ability to modify the classes and methods that implement the development environment as easily as modifying your own classes and methods</li><li>inspecting objects to see their class and instance variables</li><li>rapid prototyping</li><li>TODO: add more?</li></ul><p>Smalltalk is a dynamically typed language. Types of variables, method parameters, and method return types are never specified. Instead, duck typing is used. Any object can be used as long as it is able to respond to all the messages that are sent to it. This is determined at run-time.</p><p>Alan Kay, Dan Ingalls, and Adele Goldberg worked at Xerox PARC (Palo Alto Research Center) in the 1970s. All of them collaborated to create Smalltalk. Alan Kay was the primary designer of Smalltalk and gave it its name. Dan Ingalls was the primary implementor. Adele Goldberg primarily focused on documentation and promoting Smalltalk outside of PARC. The original goal was to use Smalltalk to teach programming.</p><p>Many other technologies were invented at PARC including graphical user interfaces, the mouse, drag and drop, model-view-controller architecture, and virtual machines. The office metaphor of applying the terms desktop, folder, and file were also introduced at PARC.</p><p>Alan Kay said &quot;OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things.&quot; He also said &quot;I'm sorry that I, long ago, coined the term 'Objects' for this topic, because it gets many people to focus on the lesser idea. The big idea is messaging!&quot;.</p><p>Late binding means that messages sent to objects are looked up for compatible methods at runtime. A method name is referred to as a selector. However, Smalltalk editors do check for &quot;unknown selectors&quot; when code is entered that sends a message to a literal object (not to a variable).</p><p>Smalltalk did not gain much traction outside Xerox Parc until BYTE magizine published an issue focused on Smalltalk in August 1981. The cover, shown at the beginning of this article, featured a colorful hot air balloon.</p><p>In the 1990's the popularity of Smalltalk had risen enough that it was seen as a possible alternative to C++. For a time, IBM promoted replacing COBOL with Smalltalk. In 1995, Smalltalk was the second most popular OO language after C++. Smalltalk had a 15% market share compared to 71% for C++.</p><p>At the OOPSLA 1997 conference, Alan Kay said &quot;Actually, I made up the term 'object-oriented' and I can tell you I did not have C++ in mind.&quot; He also said &quot;Languages like C++ and Java are OOP done wrong. Smalltalk is OOP done right.&quot;</p><p>Today Smalltalk is still used by the financial industry, manufacturers, utilities, transportation, and academia.</p><p>The entire syntax of Smalltalk can be demonstrated on a post card.</p><p><img alt="Smalltalk on a post card" src="/blog/assets/smalltalk-on-postcard.jpg?v=1.1.1"></p><h2 id="why-learn-smalltalk" tabindex="-1">Why Learn Smalltalk</h2><p>Some reasons to learn Smalltalk include:</p><ul><li>Gaining an understanding of its pros and cons compared to other languages.</li><li>Getting ideas for features to be added to other languages.</li><li>Getting ideas for features to be added in the development environments of other languages.</li><li>Actually using it as an alternative to other languages.</li></ul><h2 id="resources" tabindex="-1">Resources</h2><ul><li><p><a href="https://en.wikipedia.org/wiki/Smalltalk" target="_blank">Smalltalk in Wikipedia</a></p></li><li><p><a href="https://archive.org/details/byte-magazine-1981-08" target="_blank">Byte Magazine issue on Smalltalk</a></p></li><li><p><a href="https://cuis.st" target="_blank">Cuis Smalltalk</a></p></li><li><p><a href="https://cuis-smalltalk.github.io/TheCuisBook/" target="_blank">The Cuis Book</a></p></li><li><p><a href="https://github.com/Cuis-Smalltalk" target="_blank">Cuis GitHub repositories</a></p></li><li><p><a href="https://pharo.org" target="_blank">Pharo Smalltalk</a></p></li><li><p><a href="https://squeak.org" target="_blank">Squeak Smalltalk</a></p></li><li><p><a href="https://squeak.js.org" target="_blank">SqueakJS</a> - &quot;A Squeak VM in JavaScript&quot; by Vanessa Freudenberg</p></li><li><p><a href="https://github.com/Cuis-Smalltalk/Learning-Cuis/blob/master/Quick-UI-Tour.md" target="_blank">Quick-UI-Tour</a> for Cuis Smalltalk</p></li><li><p><a href="https://www.fast.org.ar" target="_blank">Fundación Argentina de Smalltalk</a> (FAST)</p></li><li><p><a href="https://www.gnu.org/software/dr-geo/" target="_blank">Dr. Geo</a></p><p>&quot;A program to design and manipulate interactive geometric sketches. It helps kids to explore geometry.&quot;</p></li><li><p><a href="https://www.goodreads.com/shelf/show/smalltalk" target="_blank">Smalltalk Books</a> list on goodreads.</p></li><li><p><a href="https://www.youtube.com/playlist?list=PL6601A198DF14788D" target="_blank">Squeak from the very start</a> YouTube videos by Lawson English</p></li></ul><p>There is a <a href="https://lists.cuis.st/mailman/listinfo/cuis-dev" target="_blank">Cuis Smalltalk mailing list</a>, but no Discord or Slack channel.</p><p>There is a <a href="https://discord.gg/43VEWSw2" target="_blank">Discord channel channel for Squeak Smalltalk</a>.</p><p>The following recent podcast episodes discuss Smalltalk:</p><ul><li><a href="https://www.youtube.com/watch?v=sokb6zZC-ZE&t=3105s" target="_blank">Cuis Smalltalk and the History of Computing’s Future</a> with Juan Vuletich</li><li><a href="https://podcasts.apple.com/us/podcast/software-unscripted/id1602572955?i=1000656742775" target="_blank">A Haskller Tries Smalltalk</a> with Ian Jeffries</li><li><a href="https://podcasts.apple.com/us/podcast/software-unscripted/id1602572955" target="_blank">Smalltalk's Past, Present, and Future</a> with Juan Vuletich</li></ul><h2 id="pros-and-cons" tabindex="-1">Pros and Cons</h2><p>Smalltalk has the following pros:</p><ul><li>It has a small, consistently applied syntax.</li><li>It has a great development environment consisting of tools such as System Browser, Workspace, Transcript, Method Finder, Debugger, Hierarchy Browser, Protocol Browser, and more.</li><li>Everything is an object.</li><li>All methods are invoked through message passing which supports polymorphism. Any kind of object can be passed as a message argument as long as it responds to the messages that will be sent to it.</li><li>It provides automatic garbage collection to free the space used by objects when they are no longer referenced.</li><li>It provides versioning and development history.</li><li>It has a great web app. framework (Seaside) and a great CMS framework (Pier).</li></ul><p>Smalltalk has the following cons:</p><ul><li><p>It isn't as popular as many other programming languages.</p><ul><li>Schools generally don't teach it.</li><li>Few jobs using it are available.</li><li>IT press rarely talks about it.</li><li>It's difficult to convince others to use it.</li></ul></li><li><p>Help is limited.</p><p>There are fewer developers using Smalltalk than many other programming languages. This means there are fewer people available to answer questions for new developers.</p></li><li><p>Library documentation is lacking.</p><p>Many Smalltalk libraries have little to no documentation and example code. There seems to be a feeling that since the source code is easily accessible, developers can just read it to determine how to use a library. This makes it difficult to get started using new libraries.</p></li><li><p>Interfacing with resources is challenging.</p><p>Interfacing with resources outside of the Smalltalk environment can be difficult. Examples include accessing databases and operating in cloud environments with tools like AWS and Docker.</p></li><li><p>Team development is challenging.</p><p>Resolve conflicts in code edited by multiple developers may require working with the &quot;chunk format&quot;.</p></li><li><p>Classes are global and not in namespaces, so all class names must be unique.</p><p>Using class name prefixes is sometimes recommended. These use 1, 2, or 3 capital letters. Prefixes are important for packages of classes and methods intended to be reused by others. Squeak has a <a href="http://wiki.squeak.org/squeak/3318" target="_blank">prefix registry</a> in its wiki. Unfortunately it was last updated in 2010.</p><p>There is an effort to add module support which would scope class names to a module. See <a href="http://haver.klix.ch/" target="_blank">HaverOnCuis: A Cuis based Smalltalk With Modules</a>.</p></li><li><p>Many errors are only caught at run-time.</p><p>The use of late binding for resolving message sends means that there are more errors that can only be detected at run-time than in statically typed languages such as C++, C#, and Java. However, Smalltalk does do incremental compiling when methods are saved, so it finds syntax errors before runtime, unlike most scripting languages.</p></li><li><p>Immutability is not favored.</p><p>While it is possible to define Smalltalk classes whose objects are immutable, this is not common. The lack of focus on immutability will feel wrong to developers that prefer functional programming.</p></li><li><p>Application deployment is tedious in free versions of Smalltalk.</p><p>Tools to strip a Smalltalk image of developer-only features in order to create an image that is suitable for deployment are lacking. This is a highly manual process.</p><p>Commercial Smalltalks semi-automatically upgrade application code as their base implementation features change over time. See the VAST, GemStone, and Circom Smalltalk implementations. TODO: Do they provide tooling to strip out classes that are only used in the development environment so what remains in the image is only what is needed to run the application being developed?</p></li><li><p>The image file can be large. The base image for Cuis Smalltalk is 19 MB, but installing optional packages can easily increase the size to around 200 MB. However, it is common to store custom code and modifications to provided classes in a &quot;file out&quot; or package that can be shared with other developers and installed into fresh images.</p></li></ul><h2 id="history" tabindex="-1">History</h2><ul><li><p>Smalltalk-71</p><p>This was a product of research led by Alan Kay at Xerox Palo Alto Research Center (PARC). It was created by Alan Kay in just a few days.</p></li><li><p>Smalltalk-72</p><p>This version influenced the actor model that is used by some modern programming languages. From this point on, most of the implementation was provided by Dan Ingalis.</p></li><li><p>Smalltalk-76</p><p>This version added most of GUI tools present in current versions of Smalltalk.</p></li><li><p>Smalltalk-80</p><p>This version added support for metaclasses of everything, including classes, so everything could be treated as an object. This was the first version of Smalltalk that was shared outside of PARC.</p></li><li><p>ANSI Smalltalk</p><p>This became the standard language reference for Smalltalk in 1998.</p></li><li><p>Squeak Smalltalk</p><p>The first release of Squeak Smalltalk was in October, 1996. See <a href="http://files.squeak.org/docs/OOPSLA.Squeak.html" target="_blank">Back to the Future</a> - The Story of Squeak, A Practical Smalltalk Written in Itself</p></li><li><p>Pharo Smalltalk</p><p>The first release of Pharo Smalltalk was in March, 2008. See <a href="https://en.wikipedia.org/wiki/Pharo" target="_blank">Wikipedia</a>.</p></li><li><p>Cuis Smalltalk</p><p>The first release of Cuis Smalltalk was in March, 2009. See <a href="https://github.com/Cuis-Smalltalk/Cuis-Smalltalk-Dev/blob/master/Documentation/CuisHistory.md" target="_blank">A short history of Cuis</a>.</p></li></ul><h2 id="implementations" tabindex="-1">Implementations</h2><p>The following implementations of Smalltalk were created after those listed above in the &quot;History&quot; section.</p><ul><li><p>Squeak</p><p>This was the first popular implementation that was free and open source.</p></li><li><p>VisualWorks</p></li><li><p>ObjectWorks</p></li><li><p>ParcPlace Systems for Unix and Sun systems</p></li><li><p>Digitalk for Windows and OS/2 systems</p></li><li><p>Enfin</p></li><li><p>Cincom</p></li><li><p>GemTalk</p></li><li><p><a href="https://en.wikipedia.org/wiki/Etoys_(programming_language)" target="_blank">Etoys</a></p><p>&quot;Etoys is a child-friendly computer environment and object-oriented prototype-based programming language for use in education.&quot; It was used in the One Laptop per Child (OLPC) project.</p></li><li><p>GNU Smalltalk</p><p>This uses text files for code rather than providing a GUI environment that uses an image file.</p></li><li><p><a href="https://amber-lang.net" target="_blank">Amber</a></p><p>This is a language that is &quot;deeply inspired by Smalltalk&quot;. It compiles to JavaScript.</p></li><li><p><a href="https://github.com/dolphinsmalltalk" target="_blank">Dolphin Smalltalk</a>, only for Microsoft Windows</p></li><li><p><a href="https://www.gnu.org/software/smalltalk/" target="_blank">GNU Smalltalk</a></p></li><li><p><a href="https://github.com/nikboyd/hoot-smalltalk#hoot-smalltalk" target="_blank">Hoot Smalltalk</a></p><p>This runs on the Java Virtual Machine and uses some Java features.</p></li><li><p><a href="https://www.cincomsmalltalk.com/main/" target="_blank">Cincom Smalltalk</a></p></li><li><p><a href="https://www.instantiations.com/vast-platform/" target="_blank">VAST Platform</a></p><p>VAST stands for &quot;VisualAge SmallTalk&quot; and is provided by Instantiations.</p></li><li><p><a href="https://gemtalksystems.com/products/gs64/" target="_blank">GemStone/S</a></p></li><li><p>Pharo - forked from Squeak with goal to be more comprehensive</p></li><li><p>Cuis - forked from Squeak with goal to remain small and easy to learn</p></li></ul><p>The most popular open source Smalltalk implementations include the following:</p><ul><li><div class="row"><a href="https://squeak.org" target="_blank">Squeak (2,832 classes)</a> <img alt="Squeak Smalltalk log" class="logo" src="/blog/assets/squeak-smalltalk-logo.svg?v=1.1.1"></div></li><li><div class="row"><a href="https://pharo.org" target="_blank">Pharo (10,405 classes)</a> <img alt="Pharo Smalltalk log" class="logo" src="/blog/assets/pharo-smalltalk-logo.png?v=1.1.1"></div></li><li><div class="row"><a href="https://cuis.st" target="_blank">Cuis (675 classes)</a> <img alt="Cuis Smalltalk log" class="logo" src="/blog/assets/cuis-smalltalk-logo.png?v=1.1.1"></div></li></ul><p>Squeak, Pharo, and Cuis all use the MIT license. Both Pharo and Cuis began as forks of Squeak after maintenance of Squeak was turned over to the community and there was a lack of concensus on its future goals.</p><p>The number of predefined classes in each implementation above were obtained by printing the result of <code>Smalltalk allClasses size</code> with latest versions as of June 10, 2024.</p><h2 id="commerial-applications" tabindex="-1">Commerial Applications</h2><p>Commercial applications built with Smalltalk are listed at:</p><ul><li><a href="https://gemtalksystems.com/about/customers/" target="_blank">GemTalk Systems</a></li><li><a href="https://web.archive.org/web/20070101092404/http://wiki.cs.uiuc.edu/VisualWorks/Commercial+projects+that+use+Smalltalk" target="_blank">VisualWorks</a></li></ul><h2 id="cuis-smalltalk" tabindex="-1">Cuis Smalltalk</h2><p>This blog primarily focuses on Cuis Smalltalk and running in macOS. Most keyboard shortcuts in macOS use the command key, abbreviated as &quot;cmd&quot;. In Linux and Windows, the control key is used instead, abbreviated as &quot;ctrl&quot;.</p><p>Cuis Smalltalk was created by Juan Vuletich who has been active in the Smalltalk community since 1997. Juan began work on Cuis Smalltalk began in 2005 and version 1.0 was released in March 2009.</p><p>The objectives of Cuis Smalltalk are to:</p><ul><li>Strive for the simplicity of Smalltalk-80.</li><li>Include a minimal number of classes required for the kernel, a GUI framework, and development tools, removing everything that is not essential.</li><li>Create a system that is good for learning and experimenting.</li></ul><p>Any missing features can be defined by combining the features that are present and by installing more packages.</p><p>Some advantages that Cuis has over Squeak and Pharo are that it has built-in support for Unicode and TrueType fonts. Those can be added to Squeak and Pharo through foreign libraries. Cuis also adds support for high quality vector graphics and rendering Scalable Vector Graphics (SVG).</p><p>Cuis Smalltalk uses the same VM as Squeak Smalltalk, now called the <a href="https://opensmalltalk.org" target="_blank">Open Smalltalk Virtual Machine</a>. Pharo Smalltalk has its own VM which is a fork of the Open Smalltalk VM.</p><p>The Cuis Smalltalk base image is almost entirely implemented in Smalltalk.</p><p>The Cuis mascot is southern mountain cavy which is a &quot;tailless rodent with short, speckled, greyish-yellow fur, fading to pale grey on the underparts.&quot; They look similar to a mouse, but grow to around eight inches in length. They are found in Argentina. Juan Vuletich began development of Cuis Smalltalk in Buenos Aires, Argentina. The word &quot;cuis&quot; means &quot;squeak&quot; in Rioplatense Spanish.</p><h2 id="github-account" tabindex="-1">GitHub Account</h2><p>The GitHub account for Cuis Smalltalk is at <a href="https://github.com/Cuis-Smalltalk" target="_blank">Cuis-Smalltalk</a>. This hosts many related repositories including the main one that holds the latest code for the Cuis Smalltalk image, <a href="https://github.com/Cuis-Smalltalk/Cuis-Smalltalk-Dev" target="_blank">Cuis-Smalltalk-Dev</a>. As of May 2024, 96.8% of the code in the repository is written in Smalltalk. Other related repositories include:</p><ul><li>AMQP: messaging client library compatible with RabbitMQ and other AMQP servers</li><li>AnimatedGIF: supports animated GIFs</li><li>Cairo: supports Cairo graphics</li><li>Cuis6-2: stable release</li><li>Cuis7-0: stable release</li><li>Cuis-Smalltalk-UI: collection of Morphic components</li><li>Cuis-Smalltalk-Tools: collection of additional development tools</li><li>Cuis-Smalltalk-Regex: code for parsing and evaluating regular expressions</li><li>Cuis-Website: a Jekyll site that uses Markdown files to generate the Cuis website</li><li>DatabaseSupport: implementation of the Open Database Connectivity (ODBC) standard for access databases that support ODBC. This includes MariaDB, Microsoft SQL Server, MongoDB, MySQL, Oracle, PostgreSQL, SQLite, and many more.</li><li>Games: collection of games implemented in Smalltalk including Anagram Aid, Construction, Life, Solitaire (FreeCell and Klondike), and classes that can be used to build your own games</li><li>GeographicInformationSystems: supports cartography (maps) and includes some data sets</li><li>LearningCuis: learning &quot;tours&quot; of various Cuis Smalltalk aspects such as the development environment (UITour) and Morphic layout (LayoutTour)</li><li>Machine-Learning: code for machine learning in Smalltalk</li><li>Measures: code for operating on measurements that combine a number and a unit such as 2 meters, 17 celcius, 3 days, and 4 dollars</li><li>Numerics: code for image processing, linear algebra, numerical methods, probability distribution, signal processing, statistics, and 3D operations</li><li>OSProcess: provides access to operating system functions, including pipes, child process creation, and control of Squeak VM processes</li><li>Parsers: for parsing Smalltalk source code (TODO: Verify this.)</li><li>Styled Text Editor: a framework for rich text editing using styles seen in word processors like Apple Pages and Microsoft Word</li><li>SVG: code for reading and displaying Scalable Vector Graphics files</li><li>TheCuisBook: a free book about Cuis Smalltalk</li><li>VMMaker: port of the Squeak VMMaker for building VM plugins</li></ul><p>Many of these repositories define optional packages. To install them, clone their repository into the same directory as the Cuis-Smalltalk-Dev directory (or Cuis6-2 or Cuis7-0). Then install them using one of the approaches described in the &quot;Packages&quot; section of the &quot;Saving Code&quot; chapter.</p><p>For additional packages, search GitHub for repositories whose names begin with &quot;Cuis-Smalltalk-&quot;.</p></article>