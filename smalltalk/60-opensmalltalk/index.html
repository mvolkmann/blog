<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>OpenSmalltalk</h2><aside></aside><article><p><a href="https://opensmalltalk.org" target="_blank">OpenSmalltalk</a> is a &quot;cross-platform virtual machine for Squeak, Pharo, Cuis, and Newspeak&quot;.</p><p>Many variants of the VM can be built with options such as:</p><ul><li><p>with or without just-in-time (JIT) compilation</p></li><li><p>green threads (&quot;light-weight processes above a single-threaded VM) or multi-threaded VM (&quot;shares the VM betwwen any number of native threads&quot;)</p></li><li><p>with or without Spur</p><p>Spur provides &quot;a partial read barrier for efficient support of live object-oriented programming.&quot; It is currently used by Squeak, Pharo, and Cuis.</p></li><li><p>with or without Sista</p><p>Sista &quot;adds support for adaptive optimization that does speculative inlining&quot;. As of October 2024 it was still in development.</p></li></ul><p>To build a VM:</p><ul><li><p><code>git clone https://github.com/OpenSmalltalk/opensmalltalk-vm.git</code></p></li><li><p><code>./scripts/updateSCCSVersions</code></p></li><li><p>run one of the scripts in the <code>scripts</code> directory such as ``</p></li><li><p>For ARM-based Macs</p><ul><li><p>cd to the <code>building/macos64ARMv8</code> directory.</p></li><li><p>enter 'xcodebuild -runFirstLaunch`</p></li><li><p>enter './makespur`</p><p>This will run for a long time (~10 minutes) and produces a large amount of output. There will be many warnings about issues such as unused variables. I got 39 warnings and 1 error. The error was &quot;call to undeclared function 'literalBeforeInlineCacheTagAt'&quot;. Where is the generated VM placed?</p></li></ul></li></ul></article>