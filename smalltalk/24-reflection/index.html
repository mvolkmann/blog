<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Reflection</h2><aside></aside><article><p>Smalltalk provides many methods for getting information about classes and objects. The following table lists some of them.</p><table><thead><tr><th>Method</th><th>Answers</th></tr></thead><tbody><tr><td><code>Smalltalk allClasses</code></td><td>an <code>Array</code> of all classes defined in the current image</td></tr><tr><td><code>Smalltalk allClassesImplementing: #selector</code></td><td>an <code>Array</code> of all classes that implement a given selector</td></tr><tr><td><code>SystemOrganization categoryOfElement: #SomeClass</code></td><td>name of the class category to which a given class belongs</td></tr><tr><td><code>SomeClass allClassVarNames</code></td><td>a <code>Set</code> of class variable names defined in this class</td></tr><tr><td><code>SomeClass allSelectors</code></td><td>an <code>IdentitySet</code> of all message selectors supported by this class, including selectors for inherited methods</td></tr><tr><td><code>SomeClass lookupSelector: #selector</code></td><td>the matching <code>CompiledMethod</code>, indicating where it is found</td></tr><tr><td><code>SomeClass allInstances</code></td><td>an <code>Array</code> of all existing instances of this class</td></tr><tr><td><code>SomeClass allInstVarNames</code></td><td>an <code>Array</code> of instance variable names defined in this class</td></tr><tr><td><code>SomeClass allInstVarNamesEverywhere</code></td><td>an <code>Array</code> of instance variable names defined in this class and inherited classes</td></tr><tr><td><code>SomeClass allMethodsInCategory: 'some-category'</code></td><td>an <code>Array</code> of instance methods in a given category, including those defined in this class and inherited</td></tr><tr><td><code>SomeClass allSubclasses</code></td><td>an <code>OrderedCollection</code> of subclasses</td></tr><tr><td><code>SomeClass superclass</code></td><td>a <code>Class</code> that is the superclass of this class</td></tr><tr><td><code>SomeClass withAllSuperclasses</code></td><td>an <code>OrderedCollection</code> containing all superclasses of this class going up the hierarchy</td></tr><tr><td><code>SomeClass allSuperclasses</code></td><td>an <code>OrderedCollection</code> of superclasses</td></tr><tr><td><code>SomeClass selectors</code></td><td>an <code>Array</code> of all instance method selectors of this class</td></tr><tr><td><code>SomeClass class</code></td><td>the <code>Metaclass</code> subclass of this class</td></tr><tr><td><code>SomeClass class selectors</code></td><td>an <code>Array</code> of all class method selectors of this class</td></tr><tr><td><code>SomeClass class allMethodsInCategory: 'some-category'</code></td><td>an <code>Array</code> of class methods in a given category, including those defined in this class and inherited</td></tr><tr><td><code>CodeListPackages installedPackages</code></td><td>an <code>Array</code> of <code>CodePackage</code> objects (appear in System Browser class category pane)</td></tr></tbody></table><p>TODO: Why does <code>allClassVarNames</code> return a <code>Set</code> when <code>allInstVarNames</code> returns an <code>Array</code>? TODO: Is there a way to get all the message categories used by a class?</p><p>To run code on every instance of a given class, send the <code>allInstancesDo:</code> message to the class.</p><p>For example, to delete all instances of a given class, run <code>SomeClass allInstancesDo: [:obj | obj delete]</code>.</p></article>