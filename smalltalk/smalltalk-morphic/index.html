<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Morphic</h2><aside><nav class="toc"><ol><li><a href="#creating-and-modifying-morphs">Creating and Modifying Morphs</a></li><li><a href="#halo">Halo</a></li><li><a href="#desktop-color">Desktop Color</a></li><li><a href="#embedding">Embedding</a></li><li><a href="#layoutmorph">LayoutMorph</a></li><li><a href="#editing-characteristics">Editing Characteristics</a></li><li><a href="#button-labels">Button Labels</a></li><li><a href="#button-issue">Button Issue</a></li><li><a href="#button-demo-in-cuis">Button Demo in Cuis</a></li><li><a href="#canvas-drawing">Canvas Drawing</a></li><li><a href="#svg">SVG</a></li><li><a href="#full-screen-buttons">Full Screen Buttons</a></li></ol></nav></aside><article><p>Morphic is a GUI framework that is included into popular Smalltalk images. It defines user interfaces with &quot;morphs&quot; which are what other graphical systems refer to as widgets or components. Morphs are graphical items that can be added to the <code>WorldMorph</code> (desktop) or a <code>LayoutMorph</code>. TODO: Technically speaking, can any morph be embedded in any other morph?</p><p>For a great introduction to Morphic, see <a href="https://www.youtube.com/watch?v=62baNn3c56Y" target="_blank">Holistic computing with Smalltalk and Morphic. Part 1</a>.</p><p>Some of the methods in Morphic classes are inconsistently named. For example, the class <code>TextModelMorph</code> defines the methods <code>alwaysHideVerticalScrollbar</code> and <code>hideScrollBarsIndefinitely</code>. Note how the &quot;b&quot; is sometimes lowercase and sometimes uppercase.</p><h2 id="creating-and-modifying-morphs" tabindex="-1">Creating and Modifying Morphs</h2><p>To create a morph:</p><ul><li>Open the World menu.</li><li>Select &quot;New morph...&quot;.</li><li>In the dialog that appears, select a category of morphs and then a specific kind (ex. <code>BoxedMorph</code>).</li><li>The morph will appear attached to the cursor (uses the <code>Morph</code> method <code>openInHand</code>).</li><li>Move the cursor to the location where the morph should be placed and click to drop it.</li></ul><p>To modify an existing morph:</p><ul><li>cmd-click a morph to open its halo.</li><li>Click the blue menu button on the top and select &quot;copy to clipboard&quot;.</li><li>Open a Workspace window.</li><li>Assign the morph to a variable. For example, enter <code>morph :=</code> and press cmd-p to paste the reference.</li><li>Press cmd-d (Do it).</li><li>Send messages to the morph to modify it. For example, <code>morph borderColor: Color red</code></li></ul><p>To change the colors used by a morph from its halo:</p><ul><li>cmd-click a morph to open its halo.</li><li>Click the blue menu button on the top and select &quot;copy to clipboard&quot;.</li><li>Select &quot;change color...&quot;</li><li>A window titled &quot;Click-Select a Color&quot; will appear attached to the cursor.</li><li>Position the window by moving the cursor and click to drop it.</li><li>Click a color swatch.</li><li>A menu will appear with the options &quot;Cancel&quot;, &quot;adoptWidgetsColor:&quot;, &quot;color:&quot;, and &quot;borderColor:&quot;. Select an option to change that color property of the morph. Some morphs don't support all the options. For example, &quot;color&quot; of a <code>LabelMorph</code> can be changed, but it does not have a border. TODO: What does &quot;adoptWidgetsColor:&quot; do?</li></ul><p>To explicitly set the size of a morph, send it the <code>morphExtent:</code> message with a <code>Point</code> value that represents the new width and height. For example, <code>morph morphExtent: 200@100</code>.</p><p>Only a small set of morphs are provided by default. A good source of additional morphs is the package &quot;UI-Tools&quot;. To install this, open a Workspace, enter <code>Feature require: 'UI-Tools'</code>, and press cmd-d (Do it). This installs many other packages including:</p><ul><li>Collections-CompactArrays</li><li>Compression</li><li>CSS3</li><li>Graphics-Files-Additional</li><li>UI-Click-Select</li><li>UI-Color-Panel</li><li>UI-Components</li><li>UI-Core</li><li>UI-DragAndDrop</li><li>UI-Edit-Lens</li><li>UI-Entry</li><li>UI-Layout-Panel</li><li>UI-MetaProperties</li><li>UI-Palette</li><li>UI-Panel</li><li>UI-Shapes</li><li>UI-Tools</li><li>UI-Widgets</li></ul><p>The set of &quot;Basic&quot; morphs will now include <code>BoxedMorph</code>, <code>EllipseMorph</code>, <code>FrameMorph</code>, <code>ImageMorph</code>, <code>LabelMorph</code>, <code>LineMorph</code>, <code>PointerLineMorph</code>, <code>Sonogram</code>, and <code>TileResizeMorph</code>. TODO: Why does selecting <code>Sonogram</code> lock up the image, requiring a Force Quit?</p><p>TODO: Supposedly Cuis 7 will remove support for the UI-Tools package and the desired subpackages will need to be installed individually. Still true?</p><p>See my Morphic demos in package <code>Volkmann</code> in the classes <code>MorphicDemos</code> and <code>MorphicGreet</code>. In a Workspace, enter <code>MorphicDemos incDecButtons.</code> and &quot;Do it&quot;. Then enter <code>MorphicGreet new.</code> and &quot;Do it&quot;.</p><h2 id="halo" tabindex="-1">Halo</h2><p>A morph halo is a set of circle buttons, referred to as &quot;handles&quot;, that surround a morph. Each handle changes the morph in some way or reveals information about it.</p><p>To open the halo for a morph, cmd-click it in Cuis or option-click it in Squeak. If the item is embedded in other morphs, repeat this multiple times until a halo appears around the desired morph.</p><p>The class of the morph will be displayed at the bottom of the morph.</p><p><img alt="Smalltalk halo" style="width: 50%" src="/blog/assets/smalltalk-halo.png?v=1.1.1"></p><p>The following buttons are provided:</p><table><thead><tr><th>Button</th><th>Location</th><th>Purpose</th></tr></thead><tbody><tr><td>red circle with white &quot;x&quot;</td><td>upper-left</td><td>removes the item</td></tr><tr><td>blue circle with white document</td><td>top</td><td>opens menu &quot;A&quot; (1)</td></tr><tr><td>black circle with house</td><td>top</td><td>drag to move the item within its parent</td></tr><tr><td>brown circle with resize icon</td><td>top</td><td>drag to move the item out of its parent</td></tr><tr><td>green circle with copy icon</td><td>upper-right</td><td>drag to position a duplicate of the item</td></tr><tr><td>orange circle with wrench</td><td>right side</td><td>opens a menu of debugging options</td></tr><tr><td>blue circle with magnifier glass</td><td>right side</td><td>drag to change scale of item</td></tr><tr><td>yellow circle with resize icon</td><td>lower-right</td><td>drag to resize the item</td></tr><tr><td>light blue circle with question mark</td><td>bottom</td><td>click and hold to display a related tooltip (2)</td></tr><tr><td>blue circle with rotate icon</td><td>lower-left</td><td>drag to rotate item</td></tr><tr><td>dull yellow circle with odd shape</td><td>left side</td><td>click to collapse (hide) the item (3)</td></tr><tr><td>orange circle with wrench</td><td>left side</td><td>opens an &quot;Explore&quot; window (4)</td></tr></tbody></table><p>A morph can also be dragged directly without opening its halo and using the drag buttons. This only works if the area that is dragged does not process mouse events. For example, you cannot drag a morph that contains a button by dragging the button.</p><p>TODO: How can you change the point about which a morph rotates?</p><p>(1) This menu contains the following options:</p><ul><li>send to back</li><li>bring to front</li><li>embed into &gt;</li><li>change color...</li><li>halo actions...</li><li>checkbox for &quot;resist being picked up&quot;</li><li>checkbox for &quot;be locked&quot;</li><li>copy to clipboard</li><li>export...</li><li>debug...</li></ul><p>(2) It seems most of the help tooltips default to &quot;Help not yet supplied&quot;. To edit the help text, click the orange circle on the right, select &quot;edit balloon help&quot;, and modify the help text.</p><p>(3) To restore a collapsed item, click it's thumbnail in the bottom bar.</p><p>(4) &quot;Explore&quot; windows enable viewing data associated with an item such as its location, extent (size), and color.</p><p>For more detail, see <a href="https://cuis-smalltalk.github.io/TheCuisBook/A-brief-introduction-to-Inspectors.html" target="_blank">A brief introduction to Inspectors</a>.</p><h2 id="desktop-color" tabindex="-1">Desktop Color</h2><p>One way to change the desktop color is to:</p><ul><li>Right-click the desktop to open its halo.</li><li>Click the blue menu button.</li><li>Select debug...inspect morph to open an Inspect window.</li><li>Click in the bottom pane of the Inspect window.</li><li>Enter <code>self color: Color red</code> or use some other color name.</li><li>&quot;Do it&quot;.</li></ul><p>This works with all colors except <code>transparent</code> and alpha values are ignored.</p><h2 id="embedding" tabindex="-1">Embedding</h2><p>To embed a morph into another (such as a LayoutMorph) so they are treated as a single unit and can be positioned together:</p><ul><li>Drag a morph on top of its intended parent morph.</li><li>Open the halo of the morph.</li><li>Click the blue circle on the top.</li><li>Select &quot;embed into&quot; ... {parent morph name}. The parent morph name is typically &quot;LayoutMorph&quot;.</li></ul><h2 id="layoutmorph" tabindex="-1">LayoutMorph</h2><p>A <code>LayoutMorph</code> arranges submorphs in a row or column. Pratically any layout can be achieved by nesting instances of this class.</p><p>An instance can be created with:</p><ul><li><p><code>LayoutMorph newColumn</code></p></li><li><p><code>LayoutMorph newRow</code></p></li><li><p><code>LayoutMorph new</code></p><p>This calls <code>newRow</code> and sets the background color to <code>Color red alpha: 0.2</code>.</p></li></ul><p>For example, <code>myLayout := Layout newRow</code>.</p><p>To add a submorph to a <code>LayoutMorph</code>, send it the <code>#addMorph:</code> message. For example, <code>myLayout addMorph: EllipseMorph new</code> and <code>myLayout addMorph: BoxedMorph new</code>.</p><p>By default, there will be no separation between the submorphs. To add separation, send the <code>#separationX:</code>, <code>#separationY</code>, or <code>#separation:</code> (both x and y) messages. For example, <code>myLayout separation: 20</code>.</p><p>By default, all the submorphs will be pushed to the left of a row or top of a column. To change this, send the <code>#axisEdgeWeight:</code> message with a number from 0 to 1. A value zero pushes to the left/top, a value one pushes to the right/bottom, and a value of 0.5 centers.</p><p>If the UI-Layout-Panel package is installed, all of these values can be specified interactively.</p><ul><li>Open the halo for a <code>LayoutMorph</code>.</li><li>Click the blue menu button.</li><li>Select &quot;edit me (a LayoutMorph)&quot;. The dialog below will appear.</li><li>Click the red push pin to enable trying multiple changes.</li><li>After each set of changes, click the &quot;Update&quot; button.</li><li>When satisfied withthe changes, close the dialog.</li></ul><p><img alt="Cuis Morphic Layout dialog" style="width: 75%" src="/blog/assets/cuis-morphic-layout-dialog.png?v=1.1.1"></p><h2 id="editing-characteristics" tabindex="-1">Editing Characteristics</h2><p>Many chararacteristics of a morph can be edited by opening its halo and clicking its blue menu button. To get a halo for a submorph, cmd-click repeatedly until the halo appears around the target morph. The following menu will appear:</p><p><img alt="Cuis halo blue menu" style="width: 60%" src="/blog/assets/cuis-halo-blue-menu.png?v=1.1.1"></p><p>Click the push pin at the upper-right of the menu to keep the menu open, which simplifies making multiple changes.</p><p>To change the border width, size (<code>morphExtent</code>), or position (<code>morphPosition</code>) of a morph:</p><ul><li>Click <code>borderWidth</code>, <code>morphExtent</code>, or <code>morphPosition</code>.</li><li>Modify the numbers in the dialog that appears.</li><li>Click the &quot;Accept&quot; to save the changes or the &quot;Cancel&quot; button to discard them.</li></ul><p>To change the border color or color of a morph:</p><ul><li>Click &quot;borderColor&quot; or &quot;color&quot;.</li><li>Select one of the following color sets to open a dialog containing color swatches: CSS3 (Web) Colors, Crayon Colors, NBSISCC Colors, XKCD COlors, or ColorMix Editor (opens a Color Editor dialog). A Color Editor dialog enables selecting a color with RGB, HSL, and transparency.</li><li>Drag a color swatch from the dialog onto the swatch for &quot;borderColor&quot; or &quot;color&quot;.</li><li>Close the color swatch dialog.</li><li>Close the morph options menu.</li></ul><p>To edit the width, height, and off-axis edge weight of a submorph</p><ul><li>Open the halo for a submorph.</li><li>Click the blue menu button.</li><li>Select &quot;edit my LayoutSpec&quot;. The dialog below will appear.</li><li>Click the red push pin to enable trying multiple changes.</li><li>After each set of changes, click the &quot;Update&quot; button.</li><li>When satisfied withthe changes, close the dialog.</li></ul><p><img alt="Cuis edit my LayoutSpec" style="width: 80%" src="/blog/assets/cuis-edit-my-layoutspec.png?v=1.1.1"></p><p>For more detail on layouts, see <a href="https://github.com/Cuis-Smalltalk/Learning-Cuis/blob/master/LayoutTour.md" target="_blank">Exploring morph layouts in Cuis</a>.</p><h2 id="button-labels" tabindex="-1">Button Labels</h2><p>Button labels are automatically shortened to fit within the button width using the <code>String</code> instance method <code>squeezeTo:</code>. It begins by removing spaces from right to left. It then removes vowels from right to left. Finally, it removes consonants from right to left and adds an ellipsis at the end.</p><h2 id="button-issue" tabindex="-1">Button Issue</h2><p>The class <code>PluggableButtonMorph</code> uses the value of <code>Theme current buttonLabel</code> as the color for the label on all instances. But sending <code>#color:</code> to an instance changes its background color. Depending the background color selected, this can result in poor contrast. It also uses an embossed font for the label.</p><p>A way to fix this, suggested by Mariano Montone, is to create a subclass of <code>PluggableButtonMorph</code> as follows:</p><ol><li><p>Define the following new class:</p><pre class="language-smalltalk"><code class="language-smalltalk">PluggableButtonMorph subclass<span class="token punctuation">:</span> <span class="token symbol">#VButtonMorph</span><br>    instanceVariableNames<span class="token punctuation">:</span> <span class="token string">'labelColor'</span><br>    classVariableNames<span class="token punctuation">:</span> <span class="token string">''</span><br>    poolDictionaries<span class="token punctuation">:</span> <span class="token string">''</span><br>    category<span class="token punctuation">:</span> <span class="token string">'Volkmann'</span></code></pre></li><li><p>Define the following instance methods in the <code>VButtonMorph</code> class:</p><pre class="language-smalltalk"><code class="language-smalltalk">labelColor<br>    <span class="token operator">^</span>labelColor ifNil<span class="token punctuation">:</span> <span class="token punctuation">[</span>Theme current buttonLabel<span class="token punctuation">]</span><br><br>labelColor<span class="token punctuation">:</span> anObject<br>    labelColor <span class="token operator">:=</span> anObject</code></pre></li><li><p>Override <code>VButtonMorph</code> instance method <code>drawEmbossedLabelOn:</code> by copying the same method from <code>PluggableButtonMorph</code> and modifying two lines, the one that sets <code>colorForLabel</code> and the one that sets <code>embossed</code>.</p><pre class="language-smalltalk"><code class="language-smalltalk">drawEmbossedLabelOn<span class="token punctuation">:</span> aCanvas<br>    <span class="token temporary-variables"><span class="token punctuation">|</span> <span class="token variable">availableW</span> <span class="token variable">center</span> <span class="token variable">colorForLabel</span> <span class="token variable">f</span> <span class="token variable">l</span> <span class="token variable">labelMargin</span> <span class="token variable">targetSize</span> <span class="token variable">w</span> <span class="token variable">x</span> <span class="token variable">y</span> <span class="token punctuation">|</span></span><br>    label ifNotNil<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token comment">"The next line was modified."</span><br>        colorForLabel <span class="token operator">:=</span> <span class="token keyword">self</span> enableLabelColorWith<span class="token punctuation">:</span> <span class="token keyword">self</span> labelColor<span class="token punctuation">.</span><br>        <span class="token keyword">self</span> isPressed<br>            ifFalse<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>                <span class="token keyword">self</span> mouseIsOver<br>                    ifFalse<span class="token punctuation">:</span> <span class="token punctuation">[</span> colorForLabel <span class="token operator">:=</span> colorForLabel adjustSaturation<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">0.10</span> brightness<span class="token punctuation">:</span> <span class="token number">0.10</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><br>            ifTrue<span class="token punctuation">:</span> <span class="token punctuation">[</span> colorForLabel <span class="token operator">:=</span> colorForLabel adjustSaturation<span class="token punctuation">:</span> <span class="token number">0.0</span> brightness<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">0.07</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><br>        f <span class="token operator">:=</span> <span class="token keyword">self</span> fontToUse<span class="token punctuation">.</span><br>        center <span class="token operator">:=</span> extent <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">.</span><br>        labelMargin <span class="token operator">:=</span> <span class="token number">3</span><span class="token punctuation">.</span><br>        w <span class="token operator">:=</span> f widthOfString<span class="token punctuation">:</span> label<span class="token punctuation">.</span><br>        availableW <span class="token operator">:=</span> extent x <span class="token operator">-</span> labelMargin <span class="token operator">-</span> labelMargin<span class="token punctuation">.</span><br>        availableW <span class="token operator">>=</span> w<br>            ifTrue<span class="token punctuation">:</span> <span class="token punctuation">[</span> l <span class="token operator">:=</span> label <span class="token punctuation">]</span><br>            ifFalse<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>                x <span class="token operator">:=</span> labelMargin<span class="token punctuation">.</span><br>                targetSize <span class="token operator">:=</span> label size <span class="token operator">*</span> availableW <span class="token operator">//</span> w<span class="token punctuation">.</span><br>                l <span class="token operator">:=</span> label squeezedTo<span class="token punctuation">:</span> targetSize<span class="token punctuation">.</span><br>                <span class="token punctuation">(</span>f widthOfString<span class="token punctuation">:</span> l<span class="token punctuation">)</span> <span class="token operator">></span> availableW ifTrue<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>                    targetSize <span class="token operator">:=</span> targetSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">.</span><br>                    l <span class="token operator">:=</span> label squeezedTo<span class="token punctuation">:</span> targetSize <span class="token punctuation">]</span><br>            <span class="token punctuation">]</span><span class="token punctuation">.</span><br><br>        w <span class="token operator">:=</span> f widthOfString<span class="token punctuation">:</span> l<span class="token punctuation">.</span><br>        x <span class="token operator">:=</span> center x <span class="token operator">-</span> <span class="token punctuation">(</span>w <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><br>        y <span class="token operator">:=</span> center y <span class="token operator">-</span> <span class="token punctuation">(</span>f lineSpacing <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><br>        aCanvas<br>            drawString<span class="token punctuation">:</span> l<br>            at<span class="token punctuation">:</span> x<span class="token operator">@</span>y<br>            font<span class="token punctuation">:</span> f<br>            color<span class="token punctuation">:</span> colorForLabel<br>            <span class="token comment">"The next line was modified."</span><br>            embossed<span class="token punctuation">:</span> <span class="token boolean">false</span><br>    <span class="token punctuation">]</span></code></pre></li></ol><h2 id="button-demo-in-cuis" tabindex="-1">Button Demo in Cuis</h2><p>Add this code in a Workspace, select it all, and &quot;Do it&quot;. It uses the class <code>VButtonMorph</code> defined above.</p><pre class="language-smalltalk"><code class="language-smalltalk">label <span class="token operator">:=</span> LabelMorph <span class="token keyword">new</span><br>  contents<span class="token punctuation">:</span> <span class="token string">'0'</span><span class="token punctuation">;</span><br>  color<span class="token punctuation">:</span> Color white<span class="token punctuation">.</span><br>decBtn <span class="token operator">:=</span> VButtonMorph <span class="token keyword">new</span><br>  color<span class="token punctuation">:</span> Color yellow<span class="token punctuation">;</span><br>  label<span class="token punctuation">:</span> <span class="token string">'Decrement'</span><span class="token punctuation">;</span><br>  labelColor<span class="token punctuation">:</span> Color red<span class="token punctuation">;</span><br>  model<span class="token punctuation">:</span> <span class="token punctuation">[</span> label contents<span class="token punctuation">:</span> <span class="token punctuation">(</span>label contents asNumber <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> asString <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  action<span class="token punctuation">:</span> <span class="token symbol">#value</span><span class="token punctuation">.</span><br>incBtn <span class="token operator">:=</span> VButtonMorph <span class="token keyword">new</span><br>  color<span class="token punctuation">:</span> Color yellow<span class="token punctuation">;</span><br>  label<span class="token punctuation">:</span> <span class="token string">'Increment'</span><span class="token punctuation">;</span><br>  labelColor<span class="token punctuation">:</span> Color green<span class="token punctuation">;</span><br>  model<span class="token punctuation">:</span> <span class="token punctuation">[</span> label contents<span class="token punctuation">:</span> <span class="token punctuation">(</span>label contents asNumber <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> asString <span class="token punctuation">]</span><span class="token punctuation">;</span><br>  action<span class="token punctuation">:</span> <span class="token symbol">#value</span><span class="token punctuation">.</span><br>layout <span class="token operator">:=</span> LayoutMorph <span class="token keyword">new</span><br>  addMorph<span class="token punctuation">:</span> decBtn<span class="token punctuation">;</span><br>  addMorph<span class="token punctuation">:</span> label<span class="token punctuation">;</span><br>  addMorph<span class="token punctuation">:</span> incBtn<span class="token punctuation">;</span><br>  <span class="token comment">"color: Color transparent ;"</span><br>  separation<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">;</span><br>  location<span class="token punctuation">:</span> <span class="token punctuation">(</span>MorphicTranslation withTranslation<span class="token punctuation">:</span> <span class="token number">70</span><span class="token operator">@</span><span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>   rotateBy<span class="token punctuation">:</span> <span class="token number">15</span> degreesToRadians<span class="token punctuation">;</span><br>  scale<span class="token punctuation">:</span> <span class="token number">1.5</span><span class="token punctuation">;</span><br>  openInWorld<span class="token punctuation">.</span><br><br><span class="token comment">"Add horizontal padding in buttons."</span><br>decBtn morphWidth<span class="token punctuation">:</span> <span class="token punctuation">(</span>incBtn morphWidth <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><br>incBtn morphWidth<span class="token punctuation">:</span> <span class="token punctuation">(</span>incBtn morphWidth <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span></code></pre><p>To delete this from the World, enter layoutDelete in the Workspaces and &quot;Do it&quot;, or open the halo for the <code>LayoutMorph</code> and click the red button in the upper-left.</p><h2 id="canvas-drawing" tabindex="-1">Canvas Drawing</h2><p>To draw on a canvas, create a subclass of <code>Morph</code> as follows:</p><pre class="language-smalltalk"><code class="language-smalltalk">PlacedMorph subclass<span class="token punctuation">:</span> <span class="token symbol">#CanvasDemo</span><br>	instanceVariableNames<span class="token punctuation">:</span> <span class="token string">'extent'</span><br>	classVariableNames<span class="token punctuation">:</span> <span class="token string">''</span><br>	poolDictionaries<span class="token punctuation">:</span> <span class="token string">''</span><br>	category<span class="token punctuation">:</span> <span class="token string">'Volkmann'</span></code></pre><p>Then define the instance method <code>drawOn:</code>. For example, the following draws a red rectangle with a line from its upper-left to lower-right.</p><pre class="language-smalltalk"><code class="language-smalltalk">drawOn<span class="token punctuation">:</span> aCanvas<br>	<span class="token temporary-variables"><span class="token punctuation">|</span> <span class="token variable">x1</span> <span class="token variable">x2</span> <span class="token variable">y1</span> <span class="token variable">y2</span> <span class="token punctuation">|</span></span><br>	x1 <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">.</span><br>	y1 <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">.</span><br>	x2 <span class="token operator">:=</span> extent x<span class="token punctuation">.</span><br>	y2 <span class="token operator">:=</span> extent y<span class="token punctuation">.</span><br>	aCanvas strokeWidth<span class="token punctuation">:</span> <span class="token number">10</span> color<span class="token punctuation">:</span> Color red fillColor<span class="token punctuation">:</span> Color green do<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>		aCanvas<br>	 		moveTo<span class="token punctuation">:</span> x1 <span class="token operator">@</span> y1<span class="token punctuation">;</span><br>		 	lineTo<span class="token punctuation">:</span> x2 <span class="token operator">@</span> y2<span class="token punctuation">;</span><br>			lineTo<span class="token punctuation">:</span> x2 <span class="token operator">@</span> y1<span class="token punctuation">;</span><br>			lineTo<span class="token punctuation">:</span> x1 <span class="token operator">@</span> y1<span class="token punctuation">;</span><br>			lineTo<span class="token punctuation">:</span> x1 <span class="token operator">@</span> y2<span class="token punctuation">;</span><br>			lineTo<span class="token punctuation">:</span> x2 <span class="token operator">@</span> y2<br>	<span class="token punctuation">]</span><br><br>extent<br>	<span class="token operator">^</span> extent<br><br>extent<span class="token punctuation">:</span> aPoint<br>	extent <span class="token operator">:=</span> aPoint<br><br>initialize<br>	<span class="token keyword">super</span> initialize<span class="token punctuation">.</span><br>	extent <span class="token operator">:=</span> <span class="token number">100</span> <span class="token operator">@</span> <span class="token number">100</span></code></pre><p>To try this:</p><ul><li>Open a Workspace.</li><li>Enter <code>(CanvasDemo new extent: 300@400) openInHand.</code></li><li>Press cmd-d to &quot;Do it&quot;.</li><li>Move the cursor to where the morph should be dropped.</li><li>Click to drop it.</li></ul><h2 id="svg" tabindex="-1">SVG</h2><p>To work with SVG images:</p><ul><li><p>Clone the following Git repositories from Cuis Smalltalk:</p><ul><li><a href="https://github.com/Cuis-Smalltalk/Numerics.git" target="_blank">Numerics</a></li><li><a href="https://github.com/Cuis-Smalltalk/SVG.git" target="_blank">SVG</a></li></ul></li><li><p>Open a Workspace and install the packages <code>LinearAlgebra</code> and <code>SVG</code>.</p><p>For each package, enter <code>Feature require: '{package-name}'</code> and &quot;Do it&quot;.</p></li><li><p>Enter <code>SVGMainMorph exampleTiger openInWorld</code> and &quot;Do it&quot;.</p></li></ul><p>There are many more example class methods in the <code>SVGMainMorph</code> class. To open all the SVG examples, enter <code>SVGMainMorph openAllExamples SVGMainMorph</code> and &quot;Do it&quot;. To delete all those morphs, enter <code>SVGMainMorph allInstancesDo: [ :obj | obj delete ]</code>.</p><p>Another way to open all the SVG examples is to use reflection as follows:</p><pre class="language-smalltalk"><code class="language-smalltalk">selectors <span class="token operator">:=</span> SVGMainMorph class allMethodsInCategory<span class="token punctuation">:</span> <span class="token symbol">#examples</span><span class="token punctuation">.</span><br>selectors do<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token block-arguments"><span class="token variable">:selector</span> <span class="token punctuation">|</span></span><br>    <span class="token punctuation">(</span>selector beginsWith<span class="token punctuation">:</span> <span class="token string">'example'</span><span class="token punctuation">)</span> ifTrue<span class="token punctuation">:</span> <span class="token punctuation">[</span><br>        <span class="token punctuation">(</span>SVGMainMorph perform<span class="token punctuation">:</span> selector<span class="token punctuation">)</span> openInWorld<br>    <span class="token punctuation">]</span><br><span class="token punctuation">]</span><span class="token punctuation">.</span></code></pre><h2 id="full-screen-buttons" tabindex="-1">Full Screen Buttons</h2><p>You can add buttons to the World that simplify toggling full screen mode. The following class defines a class method <code>buttons</code> that displays buttons that activate and deactivate full screen mode.</p><p><img alt="Cuis full screen buttons" class="logo" style="width: 20%" src="/blog/assets/cuis-full-screen-buttons.png?v=1.1.1"></p><pre class="language-smalltalk"><code class="language-smalltalk">Object subclass<span class="token punctuation">:</span> <span class="token symbol">#VFullScreenButtons</span><br>    instanceVariableNames<span class="token punctuation">:</span> <span class="token string">''</span><br>    classVariableNames<span class="token punctuation">:</span> <span class="token string">''</span><br>    poolDictionaries<span class="token punctuation">:</span> <span class="token string">''</span><br>    category<span class="token punctuation">:</span> <span class="token string">'Volkmann'</span><br><br>fullScreen<span class="token punctuation">:</span> aBoolean<br>    Display fullScreenMode<span class="token punctuation">:</span> aBoolean<span class="token punctuation">.</span><br>    Display newDepth<span class="token punctuation">:</span> Display depth<br><br>fullScreenOff<br>    <span class="token keyword">self</span> fullScreen<span class="token punctuation">:</span> <span class="token boolean">false</span><br><br>fullScreenOn<br>    <span class="token keyword">self</span> fullScreen<span class="token punctuation">:</span> <span class="token boolean">true</span><br><br>initialize<br>    <span class="token comment">"renders buttons for setting full screen on or off"</span><br><br>    <span class="token keyword">super</span> initialize<span class="token punctuation">.</span><br>    LayoutMorph newColumn<br>        addMorph<span class="token punctuation">:</span> <span class="token punctuation">(</span>LabelMorph contents<span class="token punctuation">:</span> <span class="token string">'Full Screen'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        addMorph<span class="token punctuation">:</span> <span class="token punctuation">(</span>LayoutMorph newRow<br>            addMorph<span class="token punctuation">:</span> <span class="token punctuation">(</span><br>                VButtonMorph label<span class="token punctuation">:</span> <span class="token string">'On'</span> block<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token keyword">self</span> fullScreenOn <span class="token punctuation">]</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br>            addMorph<span class="token punctuation">:</span> <span class="token punctuation">(</span><br>                VButtonMorph label<span class="token punctuation">:</span> <span class="token string">'Off'</span> block<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token keyword">self</span> fullScreenOff <span class="token punctuation">]</span><br>            <span class="token punctuation">)</span><span class="token punctuation">;</span><br>            color<span class="token punctuation">:</span> Color transparent<br>        <span class="token punctuation">)</span><span class="token punctuation">;</span><br>        location<span class="token punctuation">:</span> <span class="token punctuation">(</span>MorphicTranslation withTranslation<span class="token punctuation">:</span> <span class="token number">10</span><span class="token operator">@</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        openInWorld</code></pre></article>