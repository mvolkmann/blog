<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Preferences</h2><aside><nav class="toc"><ol><li><a href="#preferenceset">PreferenceSet</a></li></ol></nav></aside><article><p>Many supported preferences are not directly on the Preferences submenu of the World menu. To access those, click &quot;All preferences...&quot; which opens a Preferences window. Click a preference symbol in the left pane to display its current value in the right pane.</p><p>To change the value of a preference:</p><ul><li>Select it in the left pane.</li><li>Press cmd-i (inspect) to open an Inspect window.</li><li>In the bottom pane, enter <code>value := {new-value}</code> and &quot;Do it&quot;.</li><li>Close the Inspect window.</li><li>Close the Preferences window.</li></ul><h2 id="preferenceset" tabindex="-1">PreferenceSet</h2><p>Your packages can store user preferences in a <code>PreferenceSet</code>.</p><p>The first step is to ensure that a default value for the preference is set. To do this, add the class method <code>initialize</code> to one of your classes. For example:</p><pre class="language-smalltalk"><code class="language-smalltalk">initialize<br>    <span class="token temporary-variables"><span class="token punctuation">|</span> <span class="token variable">prefs</span> <span class="token punctuation">|</span></span><br>    prefs <span class="token operator">:=</span> PreferenceSet sysPreferences<span class="token punctuation">.</span><br>    prefs<br>        name<span class="token punctuation">:</span> <span class="token symbol">#backgroundEffect</span><br>        description<span class="token punctuation">:</span> <span class="token string">'determines how backgroundImage is applied'</span><br>        category<span class="token punctuation">:</span> <span class="token symbol">#gui</span><br>        type<span class="token punctuation">:</span> Symbol<br>        value<span class="token punctuation">:</span> <span class="token symbol">#stretch</span><span class="token punctuation">.</span></code></pre><p>The provided category symbols can be retrieved with <code>PreferenceSet sysPreferences categories</code>. By default that returns <code>#(#font #gui #programming #system)</code>.</p><p>To change the preference value:</p><pre class="language-smalltalk"><code class="language-smalltalk">PreferenceSet sysPreferences at<span class="token punctuation">:</span> <span class="token symbol">#backgroundEffect</span> put<span class="token punctuation">:</span> <span class="token symbol">#tile</span><span class="token punctuation">.</span></code></pre><p>To retrieve the preference value:</p><pre class="language-smalltalk"><code class="language-smalltalk">effect <span class="token operator">:=</span> PreferenceSet sysPreferences at<span class="token punctuation">:</span> <span class="token symbol">#backgroundEffect</span><span class="token punctuation">.</span></code></pre></article>