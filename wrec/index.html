<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>wrec</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#getting-started">Getting Started</a></li><li><a href="#properties">Properties</a></li></ol></nav></aside><article><style>img {
    border: 1px solid gray;
  }</style><figure style="width: 30%"><img alt="wrec logo" style="border: 0" src="/blog/assets/wrec-logo.png?v=1.1.1"></figure><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://www.npmjs.com/package/wrec?v=1.1.1" rel="noopener" target="_blank">wrec</a> is a small, zero dependency library that greatly simplifies building web components. Its main features are that it automates wiring event listeners and implementing reactivity.</p><h2 id="getting-started" tabindex="-1">Getting Started</h2><p>To define a web component using wrec:</p><ol><li>Define a class that extends the <code>Wrec</code> class.</li><li>Optionally define a static property named <code>css</code> whose value is a string containing CSS rules.</li><li>Define a static property named <code>html</code> whose value is a string containing the HTML to render.</li><li>Register the class as a custom element definition by calling the <code>register</code> method.</li></ol><p>For example:</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> Wrec<span class="token punctuation">,</span> <span class="token punctuation">{</span>css<span class="token punctuation">,</span> html<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./wrec.js'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">BasicWrec</span> <span class="token keyword">extends</span> <span class="token class-name">Wrec</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> css <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"><br>    span {<br>      font-family: fantasy;<br>      font-size: 2rem;<br>    }<br>  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br>  <span class="token keyword">static</span> html <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span>Hello, World!&lt;/span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>BasicWrec<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The <code>css</code> and <code>html</code> properties above use tagged template literals. This allows the text to span multiple lines. The tags <code>css</code> and <code>html</code> are optional. They trigger the VS Code extension Prettier to format the code and the es6-string-html extension to add syntax highlighting.</p><p>The <code>register</code> method registers a custom HTML element whose name is the kebab-case version of the class name. For <code>BasicWrec</code>, the element name is <code>basic-wrec</code>.</p><p>To use this in a web page or Markdown file, include the following:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>some-path/basic-wrec.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>basic-wrec</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>basic-wrec</span><span class="token punctuation">></span></span></code></pre><p>Here it is in action.</p><script src="/blog/js/basic-wrec.js" type="module"></script><p><basic-wrec></basic-wrec></p><h2 id="properties" tabindex="-1">Properties</h2><p>Web components defined with wrec can define and use properties. Properties are automatically mapped to attributes in the custom element. Here's a simple example that enables specifying a name.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> Wrec<span class="token punctuation">,</span> <span class="token punctuation">{</span>html<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./wrec.js'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">Wrec</span> <span class="token punctuation">{</span><br>  <span class="token keyword">static</span> properties <span class="token operator">=</span> <span class="token punctuation">{</span><br>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">static</span> html <span class="token operator">=</span> html<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div>Hello, &lt;span>this.name&lt;/span>!&lt;/div></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>HelloWorld<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>To use this in a web page or Markdown file, include the following:</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>some-path/hello-world.js<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>wrec<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">></span></span></code></pre><p>Here it is in action.</p><script src="/blog/js/hello-world.js" type="module"></script><p><hello-world></hello-world><hello-world name="wrec"></hello-world></p><p>Using your browser DevTools, inspect the last instance of the <code>hello-world</code> custom element. Double-click the value of the <code>name</code> attribute and change it to your name. Press the return key or tab key, or click away from the value to commit the change. Note how the page updates to greet you.</p></article>