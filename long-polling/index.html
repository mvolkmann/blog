<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Long Polling</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#demo-client">Demo Client</a></li><li><a href="#demo-server">Demo Server</a></li><li><a href="#running-demo">Running Demo</a></li><li><a href="#bun-and-hono">Bun and Hono</a></li><li><a href="#alternatives">Alternatives</a></li></ol></nav></aside><article><style>img {
    border: 1px solid gray;
  }</style><h2 id="overview" tabindex="-1">Overview</h2><p>Polling is a technique that web clients can use to get changing data from a server. The easiest way to implementing polling is to sends requests to a server at fixed time intervals, such as once every 30 seconds.</p><p>Polling is useful in many scenarios such as getting updates to sports scores, stock prices, and weather forecasts.</p><p>Fixed interval polling has drawbacks. The data presented can be out-of-date until the next request/response completes. Also, there is more network traffic and server load than necessary because many consecutive requests can result in the same response.</p><p>Long polling addresses the issues with fixed interval polling. The client sends an initial request for data. The server does not respond until there is a change in the data to be reported. When the client receives the data, it immediately requests another update.</p><p>All the example code below can be found in the GitHub repository <a href="https://github.com/mvolkmann/long-polling-examples?v=1.1.1" rel="noopener" target="_blank">long-polling-examples</a>.</p><h2 id="demo-client" tabindex="-1">Demo Client</h2><p>The following code is an example client HTML file that connects to the server and receives long polling responses. This uses a bit of <a href="/blog/topics/#/blog/alpine/">Alpine</a> to simplify the DOM manipulation.</p><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">></span><br><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><br>  <span class="token operator">&lt;</span>head<span class="token operator">></span><br>    <span class="token operator">&lt;</span>title<span class="token operator">></span>Long Polling Demo<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><br>    <span class="token operator">&lt;</span>script defer src<span class="token operator">=</span><span class="token string">"//unpkg.com/alpinejs"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><br>    <span class="token operator">&lt;</span>script defer<span class="token operator">></span><br>      <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">longPoll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/score'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">const</span> scoreP <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'score'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        scoreP<span class="token punctuation">.</span>innerText <span class="token operator">=</span> score<span class="token punctuation">;</span><br><br>        <span class="token comment">// When a score is received, immediately ask for the next update.</span><br>        <span class="token function">longPoll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br><br>      <span class="token function">longPoll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><br>  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><br>  <span class="token operator">&lt;</span>body x<span class="token operator">-</span>data<span class="token operator">=</span><span class="token string">"{name: '', score: ''}"</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span>h1<span class="token operator">></span>Long Polling Demo<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><br><br>    <span class="token operator">&lt;</span>p id<span class="token operator">=</span><span class="token string">"score"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br><br>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> This demonstrates that user interaction is not blocked<br>         <span class="token keyword">while</span> waiting <span class="token keyword">for</span> the next score update<span class="token punctuation">.</span> <span class="token operator">--</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span>label<span class="token operator">></span><br>      <span class="token literal-property property">Name</span><span class="token operator">:</span><br>      <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> x<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"name"</span> <span class="token operator">/</span><span class="token operator">></span><br>    <span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">></span><br>    <span class="token operator">&lt;</span>p x<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">"name"</span><span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token operator">&lt;</span>span x<span class="token operator">-</span>text<span class="token operator">=</span><span class="token string">"name"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><br>  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>If the server is restarted, the client will not automatically reconnect.</p><h2 id="demo-server" tabindex="-1">Demo Server</h2><p>Responses sent from a long polling endpoint must set the &quot;Transfer-Encoding&quot; header to &quot;chunked&quot;.</p><p>The following server code uses Node.js and the <a href="https://expressjs.com?v=1.1.1" rel="noopener" target="_blank">Express</a> library.</p><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">'express'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">let</span> chiefsHaveBall <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> bills <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> chiefs <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> lastScore<span class="token punctuation">;</span><br><br><span class="token comment">// Randomly get points for a touchdown, field goal, or nothing.</span><br><span class="token keyword">function</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> touchdown <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> fieldGoal <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> number <span class="token operator">>=</span> <span class="token number">8</span> <span class="token operator">?</span> touchdown <span class="token operator">:</span> number <span class="token operator">>=</span> <span class="token number">6</span> <span class="token operator">?</span> fieldGoal <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>chiefsHaveBall<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    chiefs <span class="token operator">+=</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    bills <span class="token operator">+=</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  chiefsHaveBall <span class="token operator">=</span> <span class="token operator">!</span>chiefsHaveBall<span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Chiefs: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chiefs<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Bills: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>bills<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">sleep</span> <span class="token operator">=</span> <span class="token parameter">ms</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/score'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> score<span class="token punctuation">;</span><br>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    score <span class="token operator">=</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">!==</span> lastScore<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  lastScore <span class="token operator">=</span> score<span class="token punctuation">;</span><br>  res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Transfer-Encoding'</span><span class="token punctuation">,</span> <span class="token string">'chunked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'listening on port'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>The following <code>package.json</code> file can be used to start the Node server.</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"long-polling"</span><span class="token punctuation">,</span><br>  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span><br>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon src/server.js"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"express"</span><span class="token operator">:</span> <span class="token string">"^4.18.2"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"nodemon"</span><span class="token operator">:</span> <span class="token string">"^3.0.3"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><h2 id="running-demo" tabindex="-1">Running Demo</h2><p>To run this demo, enter <code>npm install</code>, enter <code>npm run dev</code>, and browse localhost:3000. The scores will continually update, but not at a fixed rate. Requests for score updates do not block user interactions. A name can be entered in the text input and a greeting will appear below it.</p><p>The following screenshot shows the request and response HTTP headers for the SSE connection.</p><p><img alt="SSE DevTools Network tab Headers" style="width: 100%" src="/blog/assets/sse-devtools-network-headers.png?v=1.1.1"></p><p>The following screenshot shows the event stream for the SSE connection.</p><p><img alt="SSE DevTools Network tab EventStream" style="width: 70%" src="/blog/assets/sse-devtools-network-eventstream.png?v=1.1.1"></p><h2 id="bun-and-hono" tabindex="-1">Bun and Hono</h2><p>The server code is a bit simpler when using Bun and Hono instead of Node and Express. The client code remains the same.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token punctuation">{</span>Hono<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'hono'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span>Context<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'hono'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>serveStatic<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'hono/bun'</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hono</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/*'</span><span class="token punctuation">,</span> <span class="token function">serveStatic</span><span class="token punctuation">(</span><span class="token punctuation">{</span>root<span class="token operator">:</span> <span class="token string">'./public'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">let</span> chiefsHaveBall <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> bills <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> chiefs <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token keyword">let</span> lastScore<span class="token punctuation">;</span><br><br><span class="token comment">// Randomly get points for a touchdown, field goal, or nothing.</span><br><span class="token keyword">function</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token builtin">number</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> touchdown <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> fieldGoal <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token builtin">number</span> <span class="token operator">>=</span> <span class="token number">8</span> <span class="token operator">?</span> touchdown <span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">>=</span> <span class="token number">6</span> <span class="token operator">?</span> fieldGoal <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>chiefsHaveBall<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    chiefs <span class="token operator">+=</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    bills <span class="token operator">+=</span> <span class="token function">getPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  chiefsHaveBall <span class="token operator">=</span> <span class="token operator">!</span>chiefsHaveBall<span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Chiefs: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chiefs<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Bills: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>bills<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/score'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>c<span class="token operator">:</span> Context<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> score<span class="token punctuation">;</span><br>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    score <span class="token operator">=</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">!==</span> lastScore<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token keyword">await</span> Bun<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  lastScore <span class="token operator">=</span> score<span class="token punctuation">;</span><br>  c<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'Transfer-Encoding'</span><span class="token punctuation">,</span> <span class="token string">'chunked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> app<span class="token punctuation">;</span></code></pre><p>The following <code>package.json</code> file can be used to start the Bun server.</p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"bun-long-polling"</span><span class="token punctuation">,</span><br>  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span><br>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"bun run --watch src/server.ts"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"hono"</span><span class="token operator">:</span> <span class="token string">"^3.12.6"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"@types/bun"</span><span class="token operator">:</span> <span class="token string">"latest"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"peerDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"typescript"</span><span class="token operator">:</span> <span class="token string">"^5.0.0"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre><p>To run this demo, enter <code>bun install</code>, enter <code>bun run dev</code>, and browse localhost:3000.</p><h2 id="alternatives" tabindex="-1">Alternatives</h2><p>Another alternative is <a href="/blog/topics/#/blog/server-sent-events/" target="_blank">Server-Sent Events</a>.</p><p>If data must be sent in both directions, consider using <a href="/blog/topics/#/blog/websockets" target="_blank">WebSockets</a>.</p></article>