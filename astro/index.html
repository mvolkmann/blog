<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Astro</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#creating-a-project">Creating a Project</a></li><li><a href="#using-vscode">Using VSCode</a></li><li><a href="#astro-components">Astro Components</a></li><li><a href="#styling">Styling</a></li><li><a href="#event-handling">Event Handling</a></li><li><a href="#api-endpoints">API Endpoints</a></li><li><a href="#resources">Resources</a></li><li><a href="#unorganized-content">Unorganized Content</a></li></ol></nav></aside><article><figure style="width: 60%"><img alt="Astro logo" style="border: 0" src="/blog/assets/astro-logo.png?v=1.0.22"></figure><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://astro.build?v=1.0.22" rel="noopener" target="_blank">Astro</a> is &quot;the web framework for content-driven websites&quot;. It can be used to generate static sites, build server-side rendered (SSR) sites, and define API endpoints.</p><p>A major focus of Astro is shipping less JavaScript code to browsers and doing more work on the server side.</p><p>Astro supports using many kinds of UI components including Astro, Alpine, Lit, Preact, React, SolidJS, Svelte, Vue, WebComponents, and more.</p><p>Astro uses the Island architecture which enables combining the use of multiple web UI frameworks in a single application. HTML is rendered on the server and with placeholders for dynamic regions. These placeholders are hydrated on the client-side.</p><p>Astro supports SSR adapters for Cloudflare, Netlify, Node, and Vercel.</p><p>Astro provides integrations with Tailwind for CSS styling and a few other packages.</p><p>Astro provides file-based routing that is specified by the files and directories under the <code>src/pages</code> directory.</p><p>Astro was created by <a href="http://fredkschott.com/about/?v=1.0.22" rel="noopener" target="_blank">Fred K. Schott</a>. Fred previously worked on WebComponents at Google and was on the Polymer team. He also created <a href="https://www.snowpack.dev?v=1.0.22" rel="noopener" target="_blank">Snowpack</a>, &quot;a lightning-fast frontend build tool&quot;, that is no longer maintained. The functionality of Snowpack was superseded by <a href="https://vitejs.dev?v=1.0.22" rel="noopener" target="_blank">Vite</a>.</p><h2 id="creating-a-project" tabindex="-1">Creating a Project</h2><p>Enter <code>npm create astro@latest</code>. This will prompt for the following:</p><ul><li>permission to install create-astro</li><li>&quot;Where should we created your new project?&quot; Enter a directory path that can begin with &quot;./&quot;. Enter just &quot;.&quot; to create the project in the current directory.</li><li>&quot;How would you like to start your new project?&quot; with the options &quot;Include sample files&quot;, &quot;Use blog template&quot;, and &quot;Empty&quot;.</li><li>&quot;Install dependencies?&quot; Yes or No</li><li>&quot;Do you plan to write TypeScript?&quot; Yes or No</li><li>&quot;How strict should TypeScript be? Strict, Strictest, or Relaxed</li><li>&quot;Initialize a new git repository? Yes or No</li></ul><p>Once the project is created, follow the instructions that are output.</p><ul><li><code>cd</code> to the newly created directory.</li><li>Optionally enter <code>npx astro add tailwind</code> to add support for Tailwind CSS styling.</li><li>Enter <code>npm run dev</code> or <code>npm run start</code> to start a local server. Both do the same thing.</li><li>Browse localhost:4321 (the default port).</li></ul><p>Hot reloading is automatically configured so saved changes are automatically reflected in the browser.</p><p>The file <code>astro.config.mjs</code> defines all the Astro configuration options including adapters and extensions (like Tailwind).</p><p>The <code>src/pages</code> directory contains component source files that represent complete pages of the app. Initially this will only contain the file <code>index.astro.</code></p><p>The <code>src/components</code> directory contains component source files that can be used in page components. Initially this will only contain the file <code>index.astro.</code></p><p>The <code>src/layouts</code> directory contains source files that define the boilerplate HTML used by pages.</p><p>The <code>public</code> directory holds assets such as audio, images, and video.</p><p>To build the site for production, enter <code>npm run build</code>.</p><p>To preview the built site, enter <code>npm run preview</code> and browse localhost:4321.</p><p>To see a list of the available &quot;astro&quot; commands, enter <code>npm run astro</code>.</p><p>To open the Astro documentation in the default web browser, enter <code>npm run astro docs</code>.</p><h2 id="using-vscode" tabindex="-1">Using VSCode</h2><p>The <a href="https://marketplace.visualstudio.com/items?itemName=astro-build.astro-vscode?v=1.0.22" rel="noopener" target="_blank">Astro</a> extension from astro.build provides syntax highlighting, intellisense, and more.</p><p>To configure code formatting, open any <code>.astro</code> file, open the Command Palette, and enter &quot;Format Document&quot;. It will prompt for configuring this and automatically do so.</p><h2 id="astro-components" tabindex="-1">Astro Components</h2><p>Astro components are defined in source files with a <code>.astro</code> extension. These describe HTML that will be rendered on the server. This can contain three sections:</p><ul><li><p>optional front matter</p><p>This section begins and ends with a line containing only three dashes, referred to as &quot;code fences&quot;. Between these, write JavaScript code. If TypeScript was enabled for the project, it can be used here. This code can:</p><ul><li><p>import other files with ESM syntax</p></li><li><p>declare types, such as the type of the props it accepts</p><p>For example:</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span> <span class="token comment">// TODO: Does this need to use "interface" instead?</span><br>  prop1<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// optional prop</span><br>  prop2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// required prop</span><br><span class="token punctuation">}</span></code></pre></li><li><p>use destructuring to get the values of props</p><p>For example:</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token punctuation">{</span>prop1 <span class="token operator">=</span> <span class="token string">'default value'</span><span class="token punctuation">,</span> prop2<span class="token punctuation">}</span> <span class="token operator">=</span> Astro<span class="token punctuation">.</span>props <span class="token keyword">as</span> Props<span class="token punctuation">;</span></code></pre></li><li><p>declare variables that can be used in the HTML that follows</p></li><li><p>declare functions that can be called in the HTML that follows</p></li><li><p>use the Fetch API with top-level <code>await</code> to get data from API endpoints</p></li></ul></li><li><p>HTML to be rendered</p><p>This section uses a JSX-like syntax.</p><p>To insert the value of a JavaScript expression, use <code>{expression}</code>.</p><p>Conditional logic uses the same syntax as in React. For example, <code>{condition &amp;&amp; HTML}</code> or <code>{condition ? HTML1 : HTML2}</code>.</p><p>Iteration also uses the same approach as in React. For example, <code>{collection.map(element =&gt; HTML)}</code>.</p><p>Expressions in curly braces are not reactive. The <code>.astro</code> files are rendered on the server only one time.</p></li><li><p>optional <code>style</code> tag</p><p>This defines CSS rules that are scoped to this component.</p></li></ul><h2 id="styling" tabindex="-1">Styling</h2><p>As described above, components defined in <code>.astro</code> files can include a <code>style</code> tag that defines CSS rules that are scoped to the component.</p><p>Global styles can be defined in two ways. One way is to include a style tag in a layout source file that is used by many pages. TODO: Does this need to use <code>&lt;style is:global&gt;</code>? Another way is to define a file like <code>global.css</code> in the <code>src</code> or <code>src/styles</code> directory and include it in all the page components that wish to use it as follows.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token string">'../styles/global.css'</span><span class="token punctuation">;</span></code></pre><h2 id="event-handling" tabindex="-1">Event Handling</h2><p>Components defined in <code>.astro</code> files must configure event handling in JavaScript code. This is gross! For example:</p><pre class="language-js"><code class="language-js"><span class="token operator">--</span><span class="token operator">-</span><br><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'got click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token keyword">const</span> myBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'my-btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>myBtn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token operator">--</span><span class="token operator">-</span><br><span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">"my-btn"</span><span class="token operator">></span>Press Me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></code></pre><h2 id="api-endpoints" tabindex="-1">API Endpoints</h2><p>Endpoints are defined by <code>.js</code> and <code>.ts</code> files.</p><p>For details, see <a href="https://docs.astro.build/en/core-concepts/endpoints/#static-file-endpoints?v=1.0.22" rel="noopener" target="_blank">Static File Endpoints</a>.</p><h2 id="resources" tabindex="-1">Resources</h2><ul><li><a href="https://astro.build?v=1.0.22" rel="noopener" target="_blank">Astro Home Page</a></li><li><a href="https://www.youtube.com/watch?v=XoIHKO6AkoM?v=1.0.22" rel="noopener" target="_blank">Astro Quick Start Course</a> by Traversy Media</li></ul><h2 id="unorganized-content" tabindex="-1">Unorganized Content</h2></article>