<link rel="preload" as="style" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/prism-a11y.css"><link rel="stylesheet" href="/blog/assets/topic.css"><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><h2>Zod</h2><aside><nav class="toc"><ol><li><a href="#overview">Overview</a></li><li><a href="#primitive-types">Primitive Types</a></li><li><a href="#strings">Strings</a></li><li><a href="#numbers">Numbers</a></li><li><a href="#enumerations">Enumerations</a></li><li><a href="#optional-values">Optional Values</a></li><li><a href="#objects">Objects</a></li><li><a href="#arrays">Arrays</a></li></ol></nav></aside><article><style>img {
    border: 1px solid gray;
  }</style><p><img alt="Zod logo" style="border: none; width: 20%" src="/blog/assets/zod-logo.svg?v=1.1.1" title="Hono logo"></p><h2 id="overview" tabindex="-1">Overview</h2><p><a href="https://zod.dev?v=1.1.1" rel="noopener" target="_blank">Zod</a> is a TypeScript library for validating JavaScript values.</p><p>The rationale for the name &quot;Zod&quot; is not given in its documentation, but some definitions include:</p><ul><li>one of Superman's greatest archenemies (General Zod)</li><li>someone who is very foolish, awkward, or socially inept</li><li>any repellent thing or person</li><li>a studious person</li></ul><p>The following sections provide an overview of specifying validation constraints using Zod. For more detail, see the Zod <a href="https://zod.dev?v=1.1.1" rel="noopener" target="_blank">home page</a>.</p><h2 id="primitive-types" tabindex="-1">Primitive Types</h2><p>Primitive types are specified with the syntax <code>z.{type}()</code>. They include:</p><ul><li><code>bigint</code>, <code>boolean</code>, <code>date</code>, <code>number</code>, <code>string</code>, <code>symbol</code></li><li><code>null</code>, <code>undefined</code>, <code>void</code>, <code>never</code></li><li><code>any</code>, <code>unknown</code></li></ul><p>These types are all functions that are typically called with no arguments. Some of them take an optional configuration argument. Rather that calling these functions repeatedly, they can be called once to store the return value in a variable and the variable can be used multiple times.</p><h2 id="strings" tabindex="-1">Strings</h2><p>Many validation methods can be applied to the <code>string</code> type. Highlights include the following:</p><ul><li><code>.datetime()</code></li><li><code>.email()</code></li><li><code>.emoji()</code></li><li><code>.endsWith(string)</code></li><li><code>.includes(string)</code></li><li><code>.length(number)</code></li><li><code>.max(number)</code></li><li><code>.min(number)</code></li><li><code>.regex(regex)</code></li><li><code>.startsWith(string)</code></li><li><code>.url()</code></li></ul><p>For example, the type <code>z.string().min(3).max(10).endsWith(&quot;X&quot;)</code> matches string values with a length of at least 3, not more than 10, and ending with &quot;X&quot;.</p><h2 id="numbers" tabindex="-1">Numbers</h2><p>Many validation methods can be applied to the <code>number</code> type. Highlights include the following:</p><ul><li><code>.int()</code> - not floating point</li><li><code>.gt(number)</code></li><li><code>.gte(number)</code> - alias .min(number)</li><li><code>.lt(number)</code></li><li><code>.lte(number);</code> - alias .max(number)</li><li><code>.positive()</code> - greater than 0</li><li><code>.nonnegative()</code> - greater than or equal to 0</li><li><code>.negative()</code> - less than 0</li><li><code>.nonpositive()</code> - less than or equal to 0</li></ul><p>All validation methods take an optional final argument that specifies the error message to display when the validation fails. For example, <code>z.number().max(10, { message: &quot;cannot exceed 10&quot; })</code></p><h2 id="enumerations" tabindex="-1">Enumerations</h2><p>The <code>enum</code> type specifies a set of allowed string values. For example, <code>z.enum([&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;])</code></p><p>To validate against the values in a TypeScript <code>enum</code>, use the <code>nativeEnum</code> type. For example:</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span> red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue <span class="token punctuation">}</span><br><span class="token operator">...</span><br>z<span class="token punctuation">.</span><span class="token function">nativeEnum</span><span class="token punctuation">(</span>Color<span class="token punctuation">)</span></code></pre><h2 id="optional-values" tabindex="-1">Optional Values</h2><p>All types specify a required value unless the <code>optional</code> method is used. For example: <code>z.optional(z.string())</code> or <code>z.string().optional()</code>.</p><h2 id="objects" tabindex="-1">Objects</h2><p>Object types are specified with the <code>object</code> method. For example:</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> Dog <span class="token operator">=</span> z<span class="token punctuation">.</span><span class="token function">object</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  name<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  breed<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  age<span class="token operator">:</span> z<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">optional</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="arrays" tabindex="-1">Arrays</h2><p>Array types are specified with the <code>array</code> function. For example, the following both specify an array of integers:</p><pre class="language-ts"><code class="language-ts">z<span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span>z<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>z<span class="token punctuation">.</span><span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">int</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></article>